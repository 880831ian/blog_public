<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Node.js ä»‹ç´¹ - PinYi</title><meta name="description" content="é€™è£¡æ˜¯é—œæ–¼ä¸€å€‹èœé³¥å·¥ç¨‹å¸«æ–œæ§“Youtuberçš„å°å¤©åœ°"><meta property="og:title" content="Node.js ä»‹ç´¹" />
<meta property="og:description" content="ä»€éº¼æ˜¯ Node.js ? Node.js æ˜¯èƒ½å¤ åœ¨ä¼ºæœå™¨ç«¯é‹è¡Œ JavaScript çš„é–‹æ”¾åŸå§‹ç¢¼ã€è·¨å¹³å°åŸ·è¡Œç’°å¢ƒã€‚ Node.js æ¡ç”¨ Google é–‹ç™¼çš„ Chrome V8 JavaScript å¼•æ“å’Œ libuvï¼Œå¯ä»¥ç”¨æŒ‡ä»¤å»åŸ·è¡Œ JavaScriptï¼Œ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pin-yi.me/node/" /><meta property="og:image" content="https://pin-yi.me/node/featured-image.webp"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-30T10:45:29+08:00" />
<meta property="article:modified_time" content="2022-03-30T10:45:29+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://pin-yi.me/node/featured-image.webp"/>
<meta name="twitter:title" content="Node.js ä»‹ç´¹"/>
<meta name="twitter:description" content="ä»€éº¼æ˜¯ Node.js ? Node.js æ˜¯èƒ½å¤ åœ¨ä¼ºæœå™¨ç«¯é‹è¡Œ JavaScript çš„é–‹æ”¾åŸå§‹ç¢¼ã€è·¨å¹³å°åŸ·è¡Œç’°å¢ƒã€‚ Node.js æ¡ç”¨ Google é–‹ç™¼çš„ Chrome V8 JavaScript å¼•æ“å’Œ libuvï¼Œå¯ä»¥ç”¨æŒ‡ä»¤å»åŸ·è¡Œ JavaScriptï¼Œ"/>
<meta name="application-name" content="PinYi">
<meta name="apple-mobile-web-app-title" content="PinYi"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/images/avatar.webp"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://pin-yi.me/node/" /><link rel="prev" href="https://pin-yi.me/go-restful-api-repository-messageboard/" /><link rel="next" href="https://pin-yi.me/theme-documentation-built-in-shortcodes/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css">
        <link href="https://www.googletagmanager.com" rel="preconnect" crossorigin>
        <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Node.js ä»‹ç´¹",
        "inLanguage": "zh-tw",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/pin-yi.me\/node\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/pin-yi.me\/node\/featured-image.webp",
                            "width":  1200 ,
                            "height":  323 
                        }],"genre": "posts","keywords": "Node.js, å¯¦ä½œ, ä»‹ç´¹","wordcount":  3805 ,
        "url": "https:\/\/pin-yi.me\/node\/","datePublished": "2022-03-30T10:45:29+08:00","dateModified": "2022-03-30T10:45:29+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Zhuang,Pin-Yi","logo": "https:\/\/pin-yi.me\/images\/avatar.webp"},"author": {
                "@type": "Person",
                "name": "PinYi"
            },"description": ""
    }
    </script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EK8X0P9SDS"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-EK8X0P9SDS', { 'anonymize_ip': false });
}
</script>
</head><body data-header-desktop="fixed" data-header-mobile="fixed"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="PinYi">PinYi å°å¤©åœ°</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> æ‰€æœ‰æ–‡ç«  </a><a class="menu-item" href="/categories/"> åˆ†é¡ </a><a class="menu-item" href="/tags/"> æ¨™ç±¤ </a><a class="menu-item" href="/sideproject/"> ä½œå“é›† </a><a class="menu-item" href="/categories/youtube/"> YouTube å½±ç‰‡ </a><a class="menu-item" href="/about/"> é—œæ–¼æˆ‘ </a><span class="menu-item delimiter"></span><span class="menu-item language" title="é¸æ“‡èªè¨€">ç¹é«”ä¸­æ–‡<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/node/" selected>ç¹é«”ä¸­æ–‡</option></select>
                    </span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="è«‹è¼¸å…¥è¦æœå°‹çš„æ¨™é¡Œæˆ–æ˜¯å…§å®¹" id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="æœå°‹">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a class="menu-item" href="/index.xml" title="RSS"><i class="fas fa-rss fa-fw" title="RSS"></i> </a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ›ä¸»é¡Œ">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="PinYi">PinYi å°å¤©åœ°</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="è«‹è¼¸å…¥è¦æœå°‹çš„æ¨™é¡Œæˆ–æ˜¯å…§å®¹" id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="æœå°‹">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/posts/" title="">æ‰€æœ‰æ–‡ç« </a><a class="menu-item" href="/categories/" title="">åˆ†é¡</a><a class="menu-item" href="/tags/" title="">æ¨™ç±¤</a><a class="menu-item" href="/sideproject/" title="">ä½œå“é›†</a><a class="menu-item" href="/categories/youtube/" title="">YouTube å½±ç‰‡</a><a class="menu-item" href="/about/" title="">é—œæ–¼æˆ‘</a><div class="menu-item"><a href="/index.xml" title="RSS"><i class="fas fa-rss fa-fw" title="RSS"></i> </a>
                <span>&nbsp;|&nbsp;</span><a href="javascript:void(0);" class="theme-switch" title="åˆ‡æ›ä¸»é¡Œ">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div><span class="menu-item language" title="é¸æ“‡èªè¨€">ç¹é«”ä¸­æ–‡<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/node/" selected>ç¹é«”ä¸­æ–‡</option></select>
                </span></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®éŒ„</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single" data-toc="enable"><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/node/featured-image.webp"
        data-srcset="/node/featured-image.webp, /node/featured-image.webp 1.5x, /node/featured-image.webp 2x"
        data-sizes="auto"
        alt="/node/featured-image.webp"
        title="/node/featured-image.webp" /></div><div class="single-card" data-image="true"><h2 class="single-title animated flipInX">Node.js ä»‹ç´¹</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="https://pin-yi.me" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>PinYi</a></span>&nbsp;<span class="post-category">å‡ºç‰ˆæ–¼  <a href="/categories/codenotes/"><i class="far fa-folder fa-fw"></i>ç¨‹å¼ç­†è¨˜</a></span></div>
                <div class="post-meta-line"><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-03-30">2022-03-30</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;ç´„ 3805 å­—</span>&nbsp;
                    <span><i class="far fa-clock fa-fw"></i>&nbsp;é è¨ˆé–±è®€ 8 åˆ†é˜</span>&nbsp;</div>
            </div>
            
            <hr><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>ç›®éŒ„</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#ä»€éº¼æ˜¯-nodejs-">ä»€éº¼æ˜¯ Node.js ?</a>
      <ul>
        <li><a href="#éé˜»å¡">éé˜»å¡</a></li>
        <li><a href="#éåŒæ­¥">éåŒæ­¥</a></li>
        <li><a href="#äº‹ä»¶é©…å‹•">äº‹ä»¶é©…å‹•</a>
          <ul>
            <li><a href="#äº‹ä»¶-event">äº‹ä»¶ (event)</a></li>
            <li><a href="#äº‹ä»¶é©…å‹•-event-driven">äº‹ä»¶é©…å‹• (event-driven)</a></li>
            <li><a href="#äº‹ä»¶è¿´åœˆ">äº‹ä»¶è¿´åœˆ</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#npm">NPM</a></li>
    <li><a href="#repl">REPL</a></li>
    <li><a href="#åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</a></li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><h2 id="ä»€éº¼æ˜¯-nodejs-">ä»€éº¼æ˜¯ Node.js ?</h2>
<p>Node.js æ˜¯èƒ½å¤ åœ¨ä¼ºæœå™¨ç«¯é‹è¡Œ JavaScript çš„é–‹æ”¾åŸå§‹ç¢¼ã€è·¨å¹³å°åŸ·è¡Œç’°å¢ƒã€‚</p>
<p>Node.js æ¡ç”¨ Google é–‹ç™¼çš„ Chrome V8 JavaScript å¼•æ“å’Œ libuvï¼Œå¯ä»¥ç”¨æŒ‡ä»¤å»åŸ·è¡Œ JavaScriptï¼Œä½¿ç”¨éé˜»å¡è¼¸å…¥è¼¸å‡ºã€éåŒæ­¥ã€äº‹ä»¶é©…å‹•ç­‰æŠ€è¡“ä¾†æé«˜æ•ˆèƒ½ï¼Œå¯æœ€ä½³åŒ–æ‡‰ç”¨ç¨‹å¼çš„å‚³è¼¸é‡å’Œè¦æ¨¡ã€‚é€™äº›æŠ€è¡“é€šå¸¸ç”¨æ–¼è³‡æ–™å¯†é›†çš„å³æ™‚æ‡‰ç”¨ç¨‹å¼ã€‚</p>
<br>
<figure><a class="lightgallery" href="/images/node/main-nodejs.png" title="/images/node/main-nodejs.png" data-thumbnail="/images/node/main-nodejs.png" data-sub-html="<h2>ä¸»è¦çš„ Node.js çµ„ä»¶ (An Intro to Node.js That You May Have Missed)</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/node/main-nodejs.png"
            data-srcset="/images/node/main-nodejs.png, /images/node/main-nodejs.png 1.5x, /images/node/main-nodejs.png 2x"
            data-sizes="auto"
            alt="/images/node/main-nodejs.png" width="700" />
    </a><figcaption class="image-caption">ä¸»è¦çš„ Node.js çµ„ä»¶ (<a href="https://itnext.io/an-intro-to-node-js-that-you-may-have-missed-b175ef4277f7" target="_blank" rel="noopener noreffer">An Intro to Node.js That You May Have Missed</a>)</figcaption>
    </figure>
<br>
<p>ä»¥ä¸‹æœƒå…ˆå¾éé˜»å¡è¼¸å…¥è¼¸å‡ºã€éåŒæ­¥ï¼Œå†è«‡åˆ°äº‹ä»¶é©…å‹•ã€‚</p>
<br>
<h3 id="éé˜»å¡">éé˜»å¡</h3>
<p>è¼¸å…¥è¼¸å‡º(I/O) æ˜¯ç¨‹å¼è·Ÿç³»çµ±è¨˜æ†¶é«”æˆ–ç¶²è·¯çš„äº’å‹•ï¼Œä¾‹å¦‚ç™¼é€ HTTP è«‹æ±‚ã€å°è³‡æ–™åº«CRUD æ“ä½œç­‰ç­‰ã€‚</p>
<p>ä»¥ç¶²ç«™é–‹ç™¼è€…è§’åº¦ä¾†çœ‹ï¼Œå¤§éƒ¨åˆ†çš„ç¶²ç«™ç¨‹å¼éƒ½ä¸éœ€è¦å¤ªå¤šçš„ CPU è¨ˆç®—ï¼Œåè€Œæ˜¯åœ¨ç­‰å¾…å¤§é‡çš„ I/O è™•ç†å®Œç•¢ (HTTP è«‹æ±‚ã€è³‡æ–™åº«çš„å–å¾—è³‡æ–™æˆ–æ˜¯æ›´æ–°è³‡æ–™ç­‰)ï¼Œæ‰€ä»¥è™•ç† I/O çš„é€Ÿåº¦æœƒæ˜¯ç¶²é ç¨‹å¼æ•ˆèƒ½çš„é—œéµã€‚</p>
<br>
<p>é‚£è¦æ€éº¼æ‰èƒ½è®“ç­‰å¾… I/O çš„æ™‚é–“ï¼Œä¸è¦å¡ä½å¾ŒçºŒçš„ç¨‹å¼ç¢¼å‘¢ï¼Ÿå¯ä»¥è®“ç¨‹å¼ä¸€é‚Šç­‰ I/O è™•ç†ï¼Œä¸€é‚Šç¹¼çºŒåŸ·è¡Œå…¶ä»–éƒ¨åˆ†çš„ç¨‹å¼ç¢¼ï¼Œä¸»è¦æœ‰å…©ç¨®æ–¹æ³•ï¼š</p>
<ol>
<li>å¤šåŸ·è¡Œç·’ (multi-threaded)ï¼šä½¿ç”¨é˜»å¡ (blocking) I/O çš„è¨­è¨ˆã€‚</li>
<li>å–®åŸ·è¡Œç·’ (single-threaded)ï¼šä½¿ç”¨éé˜»å¡ (non-blocking) I/O çš„è¨­è¨ˆ + éåŒæ­¥ (asynchronous) è™•ç†ã€‚</li>
</ol>
<br>
<p><strong>é˜»å¡å°±æ˜¯ I/O çš„è™•ç†é˜»æ“‹äº†å…¶ä»–å¾ŒçºŒç¨‹å¼ç¢¼çš„åŸ·è¡Œ</strong>ã€‚èˆ‰å€‹ä¾‹å­ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">é˜»å¡ (blocking)</th>
<th style="text-align:center">éé˜»å¡ (non-blocking)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">é˜»å¡å¾ŒçºŒç¨‹å¼ç¢¼çš„åŸ·è¡Œï¼Œå°±å¥½åƒæ˜¯æˆ‘å€‘å»é™„è¿‘è²·çƒ¤è‚‰ï¼Œäº¤çµ¦è€é—†å¾Œï¼Œç‚ºäº†æƒ³åƒåˆ°ç†±é¨°é¨°çš„é£Ÿç‰©ï¼Œæ‰€ä»¥åªèƒ½ç•™åœ¨åŸåœ°ï¼Œä¸èƒ½å…ˆå»å…¶ä»–åœ°æ–¹</td>
<td style="text-align:center">éé˜»å¡ä¸æœƒé˜»æ“‹å¾ŒçºŒç¨‹å¼ç¢¼çš„åŸ·è¡Œï¼Œå°±å¥½åƒæ˜¯æˆ‘å€‘å»ç™¾è²¨å…¬å¸ç¾é£Ÿè¡—é»é¤ï¼Œé»å®Œé¤å¾Œæœƒæ‹¿åˆ°ä¸€å€‹å‘¼å«å™¨ï¼Œå°±å¯ä»¥å…ˆé›¢é–‹ï¼Œç­‰åˆ°å‘¼å«å™¨æƒ³äº†å†å›å»æ‹¿å³å¯</td>
</tr>
</tbody>
</table>
<br>
<p>åƒæ˜¯ <strong>Pythonã€Ruby ç­‰èªè¨€æ˜¯ä½¿ç”¨å¤šåŸ·è¡Œç·’ (multi-threaded)ï¼Œä½¿ç”¨é˜»å¡ I/O</strong> ï¼š</p>
<p>ç¨‹å¼æœƒç­‰ç¶²è·¯æˆ–æ˜¯è¨˜æ†¶é«”å¾—ä½œæ¥­çµæŸå¾Œæ‰æœƒç¹¼çºŒå¾€ä¸‹ï¼Œç­‰å¾…æ™‚é–“é€™å€‹ä½œæ¥­ä¸­çš„åŸ·è¡Œç·’ä¸æœƒå»åšå…¶ä»–äº‹æƒ…ã€‚</p>
<p>å¦‚æœæƒ³è¦é”åˆ°ã€ç­‰å¾… I/O æœŸé–“ä¸è¦å¡ä½å…¶ä»–ç¨‹å¼ç¢¼ã€ï¼Œçš„åšæ³•å°±æ˜¯æ–°é–‹ä¸€å€‹åŸ·è¡Œç·’ï¼Œç›´åˆ°ä»»å‹™å®Œæˆï¼Œå†å‘Šè¨´ä¸»åŸ·è¡Œç·’èªª( æˆ‘å®Œæˆå›‰ï¼) å³å¯ã€‚</p>
<br>
<p><strong>Node.js ä½¿ç”¨å–®åŸ·è¡Œç·’ (single-threaded) ï¼Œéé˜»å¡ I/O + éåŒæ­¥å‡½å¼</strong>ï¼š</p>
<p>Node.js ä½¿ç”¨éé˜»å¡è¨­è¨ˆï¼Œé‚£è¦æ€éº¼å»æ“ä½œè³‡æ–™åº«æˆ–æ˜¯ HTTP è«‹æ±‚çš„è¼¸å…¥è¼¸å‡ºå‘¢ï¼Ÿå°±è¦é€ééåŒæ­¥ (asynchronous) ä¾†è™•ç†å›‰ï¼</p>
<br>
<h3 id="éåŒæ­¥">éåŒæ­¥</h3>
<p>éåŒæ­¥ä¹Ÿå¯ä»¥ç¨±ç‚ºç•°æ­¥ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è®“ç¨‹å¼ä¸è¦è¢«é˜»æ“‹ç­‰ I/O è™•ç†å®Œï¼Œæ‰å¯ä»¥è·‘ä¸‹ä¸€è¡Œç¨‹å¼ç¢¼ï¼Œå‡½å¼ä¸­çš„ callback è¢«å‘¼å«çš„æ™‚å€™å†åŸ·è¡Œå¾ŒçºŒè¦åšçš„äº‹æƒ…ã€‚</p>
<p>JaveScript å¯¦ç¾éåŒæ­¥çš„æ–¹æ³•ä¸æ–·æ¼”é€²è‘—ï¼šå¾ callbackã€promises åˆ°æœ€æ–°çš„ asymc-await å‡½å¼ã€‚</p>
<br>
<p>åŒæ­¥ vs. éåŒæ­¥</p>
<p>æˆ‘å€‘ä½¿ç”¨ Node.js çš„ File System (æ–‡ä»¶ç³»çµ±)æ¨¡çµ„ä½œç‚ºç°¡å–®çš„ä¾‹å­ï¼Œä»¥ä¸‹æ˜¯ <strong>åŒæ­¥çš„å¯«æ³•</strong> (ç¨‹å¼æœƒåœæ­¢å‰é€²ï¼Œç›´åˆ°è·‘å®Œ <code>readFileSync</code>)ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s2">&#34;file.md&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">encoding</span><span class="o">:</span> <span class="s2">&#34;utf8&#34;</span> <span class="p">});</span> <span class="c1">// blocks here until file is read
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ node index.js
readFileSync æ¸¬è©¦
</code></pre></td></tr></table>
</div>
</div><br>
<p>ä»¥ä¸‹æ˜¯éåŒæ­¥çš„å¯«æ³• (ç¨‹å¼æœƒç¹¼çºŒå¾ä¸‹è™•è£¡å¾ŒçºŒç¨‹å¼ç¢¼ï¼Œç­‰ <code>readFile</code> è·‘å®Œå†å›ä¾†å°è³‡æ–™ <code>doSomething</code>)ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;fs&#34;</span><span class="p">);</span>
<span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="s2">&#34;file.md&#34;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">encoding</span><span class="o">:</span> <span class="s2">&#34;utf8&#34;</span><span class="p">,</span> <span class="nx">flag</span><span class="o">:</span> <span class="s2">&#34;r&#34;</span> <span class="p">},</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
  <span class="nx">doSomething</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">});</span>
<span class="kd">function</span> <span class="nx">doSomething</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ node index.js
readFileSync æ¸¬è©¦
</code></pre></td></tr></table>
</div>
</div><br>
<p><strong>ç‚ºä»€éº¼ Node.js æœ‰äº†éé˜»å¡ I/O è·Ÿ éåŒæ­¥å‡½å¼ï¼Œå°±å¯ä»¥å¯¦ç¾å–®åŸ·è¡Œç·’è¨­å®šå‘¢?</strong></p>
<p>é›–ç„¶ Google V8 JavaScript å¼•æ“æ˜¯å–®åŸ·è¡Œç·’è¨­å®šï¼Œä½†å®ƒçš„åº•å±¤ C ++ API ä¸¦ä¸æ˜¯ã€‚é€™ä»£è¡¨æˆ‘å€‘å¯ä»¥å‘¼å«ä¸€äº›éåŒæ­¥çš„ç¨‹å¼ç¢¼åƒæ˜¯ File System æ™‚ï¼ŒNode æœƒè«‹å®ƒåº•å±¤çš„ <code>Libuv</code> å»è·‘é€™äº›ç¨‹å¼ç¢¼ï¼Œè·‘å®Œå¾Œå†åŸ·è¡Œ callback æˆ–æ‹‹å‡ºéŒ¯èª¤ã€‚</p>
<br>
<figure><a class="lightgallery" href="/images/node/run-nodejs.png" title="/images/node/run-nodejs.png" data-thumbnail="/images/node/run-nodejs.png" data-sub-html="<h2>Node.js é‹è¡Œæ™‚çš„åœ–ç¤º (An Intro to Node.js That You May Have Missed)</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/node/run-nodejs.png"
            data-srcset="/images/node/run-nodejs.png, /images/node/run-nodejs.png 1.5x, /images/node/run-nodejs.png 2x"
            data-sizes="auto"
            alt="/images/node/run-nodejs.png" width="700" />
    </a><figcaption class="image-caption">Node.js é‹è¡Œæ™‚çš„åœ–ç¤º (<a href="https://itnext.io/an-intro-to-node-js-that-you-may-have-missed-b175ef4277f7" target="_blank" rel="noopener noreffer">An Intro to Node.js That You May Have Missed</a>)</figcaption>
    </figure>
<br>
<p>Libuv æ˜¯éåŒæ­¥è™•ç†çš„å‡½å¼åº«ï¼ˆä»¥ C èªè¨€ç‚ºä¸»)ï¼Œåœ¨é¢å°éåŒæ­¥ä½œæ¥­æ™‚ï¼Œæœƒé–‹å•ŸåŸ·è¡Œç·’æ±  (thread pool / worker pool) ï¼Œé è¨­å…±æœ‰å››å€‹åŸ·è¡Œç·’ (ä¹Ÿå°±æ˜¯ worker threads)ï¼Œé‹ç®—é€™äº› I/O ç”¨çš„æ–¹å¼æ˜¯äº‹ä»¶è¿´åœˆ (event loop)ã€‚</p>
<p>æ‰€ä»¥å°±ç®— V8 è™•ç†ç¨‹å¼ç¢¼æ˜¯å–®åŸ·è¡Œç·’ï¼Œä¸€ä½†é€²å…¥åˆ° Libuv æ‰‹ä¸Šï¼Œå®ƒé‚„æ˜¯æœƒå¹«ä½ æŠŠæœƒé˜»å¡çš„ I/O åˆ†å·¥åˆ°åŸ·è¡Œç·’æ± ä¸­äº¤çµ¦ä¸åŒçš„åŸ·è¡Œç·’å»è™•ç†ï¼Œç›´åˆ° callback ç™¼ç”Ÿæ‰æœƒä¸Ÿå›æ‡‰è®“ç¨‹å¼çŸ¥é“ã€‚</p>
<p>é‚£æˆ‘å€‘ä¾†çœ‹çœ‹ Libuv å¦‚ä½•é€éäº‹ä»¶è¿´åœˆæœ‰æ•ˆçš„è™•ç†éåŒæ­¥ I/Oã€‚</p>
<br>
<h3 id="äº‹ä»¶é©…å‹•">äº‹ä»¶é©…å‹•</h3>
<h4 id="äº‹ä»¶-event">äº‹ä»¶ (event)</h4>
<p>äº‹ä»¶æ˜¯æŒ‡ç”¨æˆ¶æˆ–æ˜¯ç³»çµ±ä½œå‡ºçš„å‹•ä½œï¼Œä¾‹å¦‚ä½¿ç”¨è€…é»é¸æŒ‰éˆ•ï¼Œæˆ–æ˜¯æª”æ¡ˆè®€å–å®Œæˆã€æŸç¨®éŒ¯èª¤ç”¢ç”Ÿç­‰ç­‰ï¼Œéƒ½å«åšäº‹ä»¶ã€‚</p>
<br>
<h4 id="äº‹ä»¶é©…å‹•-event-driven">äº‹ä»¶é©…å‹• (event-driven)</h4>
<p>äº‹ä»¶é©…å‹•æ˜¯ä¸€ç¨®ç¨‹å¼åŸ·è¡Œæ¨¡å‹ï¼Œè¡¨ç¤ºç¨‹å¼çš„é€²è¡Œæ˜¯ä¾æ“šäº‹ä»¶çš„ç™¼ç”Ÿè€Œå®šï¼Œç›£è½åˆ°äº‹ä»¶å°±è™•ç†ã€è™•ç†å®Œå°±åŸ·è¡Œ callback ï¼Œé€éä¸æ–·çš„ç›£è½è·Ÿå›æ‡‰äº‹ä»¶åŸ·è¡Œç¨‹å¼ã€‚</p>
<p>è€Œäº‹ä»¶é©…å‹•åœ¨ä¸åŒçš„åœ°æ–¹æœ‰ä¸åŒçš„å¯¦ç¾ã€‚ç€è¦½å™¨ (å‰ç«¯) å’Œ Node.js (å¾Œç«¯) åŸºæ–¼ä¸åŒçš„æŠ€è¡“å¯¦ç¾äº†å„è‡ªçš„äº‹ä»¶è¿´åœˆã€‚å°± Ndoe.js ä¾†èªªï¼Œäº‹ä»¶å°±æ˜¯äº¤çµ¦ Libuv å»è™•ç† ; è‡³æ–¼ç€è¦½å™¨çš„äº‹ä»¶è¿´åœˆåœ¨ HTML 5 çš„è¦ç¯„ä¸­æœ‰å®šç¾©ã€‚</p>
<br>
<h4 id="äº‹ä»¶è¿´åœˆ">äº‹ä»¶è¿´åœˆ</h4>
<p>å› ç‚º Node.js åªæœ‰ä¸€å€‹åŸ·è¡Œç·’ï¼Œæ‰€ä»¥ç•¶ Libuv æŠŠéåŒæ­¥äº‹ä»¶è™•ç†å®Œå¾Œï¼Œcallback è¦è¢«ä¸Ÿå›æ‡‰ç”¨ç¨‹å¼ä¸­æ’éšŠï¼Œç­‰å¾…ä¸»åŸ·è¡Œç·’çš„ stack ç‚ºç©ºçš„æ™‚å€™ï¼Œæ‰æœƒé–‹å§‹åŸ·è¡Œã€‚é€™å€‹æ’éšŠçš„åœ°æ–¹å°±æ˜¯äº‹ä»¶ä½‡åˆ— (event queue)ã€‚</p>
<p>Libuv æœƒä¸æ–·æª¢æŸ¥æœ‰æ²’æœ‰ callback éœ€è¦è¢«åŸ·è¡Œï¼Œæœ‰çš„è©±åˆ†é…åˆ°ä¸»åŸ·è¡Œç·’çµæŸæ‰‹é‚Šçš„ç¨‹å¼å¾Œè™•ç†ï¼Œå› æ­¤é€™å€‹éç¨‹ç¨±ç‚º ã€äº‹ä»¶è¿´åœˆã€ã€‚</p>
<br>
<figure><a class="lightgallery" href="/images/node/revent-loop.png" title="/images/node/event-loop.png" data-thumbnail="/images/node/event-loop.png" data-sub-html="<h2>äº‹ä»¶è¿´åœˆ(event loop) (Node.js 101 â€” å–®åŸ·è¡Œç·’ã€éåŒæ­¥ã€éé˜»å¡ I/O èˆ‡äº‹ä»¶è¿´åœˆ)</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/node/event-loop.png"
            data-srcset="/images/node/event-loop.png, /images/node/event-loop.png 1.5x, /images/node/revent-loop.png 2x"
            data-sizes="auto"
            alt="/images/node/event-loop.png" width="700" />
    </a><figcaption class="image-caption">äº‹ä»¶è¿´åœˆ(event loop) (<a href="https://medium.com/wenchin-rolls-around/node-js-101-%E5%96%AE%E5%9F%B7%E8%A1%8C%E7%B7%92-%E9%9D%9E%E5%90%8C%E6%AD%A5-%E9%9D%9E%E9%98%BB%E5%A1%9E-i-o-%E8%88%87%E4%BA%8B%E4%BB%B6%E8%BF%B4%E5%9C%88-ef94f8359eee" target="_blank" rel="noopener noreffer">Node.js 101 â€” å–®åŸ·è¡Œç·’ã€éåŒæ­¥ã€éé˜»å¡ I/O èˆ‡äº‹ä»¶è¿´åœˆ</a>)</figcaption>
    </figure>
<br>
<p>Libuv äº‹ä»¶è¿´åœˆæœ‰å“ªäº›éšæ®µå‘¢ï¼Ÿ</p>
<figure><a class="lightgallery" href="/images/node/libuv.png" title="/images/node/libuv.png" data-thumbnail="/images/node/libuv.png" data-sub-html="<h2>libuv äº‹ä»¶è¿´åœˆ (nexocode)</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/node/libuv.png"
            data-srcset="/images/node/libuv.png, /images/node/libuv.png 1.5x, /images/node/libuv.png 2x"
            data-sizes="auto"
            alt="/images/node/libuv.png" width="700" />
    </a><figcaption class="image-caption">libuv äº‹ä»¶è¿´åœˆ (<a href="https://nexocode.com/blog/posts/behind-nodejs-event-loop/" target="_blank" rel="noopener noreffer">nexocode</a>)</figcaption>
    </figure>
<br>
<p>Libuv çš„äº‹ä»¶è¿´åœˆå…±æœ‰å…­å€‹éšæ®µï¼Œæ¯å€‹éšæ®µçš„ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ol>
<li>Timersï¼šåŸ·è¡Œ setTimeout() å’Œ setInterval() ä¸­åˆ°æœŸçš„ callbackï¼Œå‡½å¼è£¡çš„æ™‚é–“å€¼æ˜¯å€‹é–€æª» (ä¹Ÿå°±æ˜¯å¦‚æœè¨­å®š 1000ï¼Œæœ€å¿«å¯ä»¥ä¸€ç§’å¾Œé¦¬ä¸ŠåŸ·è¡Œï¼Œä½†å¯èƒ½è¶…éä¸€ç§’æ‰æœƒåŸ·è¡Œ)ï¼Œé€™é‚„è¦çœ‹ OS å¦‚ä½•æ’åºæ‰€æœ‰çš„ callbackã€‚</li>
<li>Pending callbacksï¼šä¸Šä¸€è¼ªè¿´åœˆä¸­æœ‰å°‘æ•¸çš„ I/O callback æœƒè¢«å»¶é²åˆ°é€™ä¸€è¼ªçš„é€™ä¸€éšæ®µåŸ·è¡Œã€‚</li>
<li>Idle, prepareï¼šIdle handle callback æœƒè¢«åŸ·è¡Œã€prepare handles æœƒåœ¨è¿´åœˆè¢« I/O é˜»å¡å‰åŸ·è¡Œ callbackã€‚</li>
<li>Pollï¼šæœ€é‡è¦çš„ä¸€å€‹éšæ®µï¼Œå®ƒæœƒå°‹æ‰¾æ–°çš„ I/O äº‹ä»¶ï¼Œå¯èƒ½çš„è©±æœƒé¦¬ä¸ŠåŸ·è¡Œ I/O callbackï¼Œå¦‚æœæ²’è¾¦æ³•é¦¬ä¸ŠåŸ·è¡Œï¼Œå®ƒæœƒå»¶é²åŸ·è¡Œä¸¦æŠŠå®ƒè¨»å†Šç‚ºä¸€å€‹ pending callback åœ¨ä¸‹ä¸€è¼ªåŸ·è¡Œã€‚é€™å€‹éšæ®µæœ‰å…©å€‹ä¸»è¦ä»»å‹™ï¼šè¨ˆç®—è¦é˜»å¡å¤šä¹…ã€é‚„æœ‰æ‰¾éæ‰€æœ‰åœ¨ polling ä½‡åˆ—ä¸­äº‹ä»¶ä¸¦åŸ·è¡Œ callbackï¼Œç›´åˆ°ä½‡åˆ—æ¸…ç©ºæˆ–æ˜¯åŸ·è¡Œçš„ callback æ•¸é‡é”åˆ°ç³»çµ±ä¸Šé™ã€‚é€™å€‹éšæ®µæœƒé˜»å¡åŸ·è¡Œç·’ã€‚</li>
<li>Checkï¼šè·Ÿ prepare ç›¸åï¼Œæœƒåœ¨è¿´åœˆè¢« I/O é˜»å¡å¾ŒåŸ·è¡Œ callbackï¼Œé‚„æœ‰åŸ·è¡Œ setImmediate() çš„ callbackã€‚</li>
<li>Close callbacksï¼šåŸ·è¡Œ close äº‹ä»¶çš„ callbackï¼Œåˆ©å¦‚ socket.destroy()ã€‚</li>
</ol>
<br>
<p>äº‹ä»¶è¿´åœˆå°±æ˜¯ä¸æ–·é‡è¤‡ä»¥ä¸Šéšæ®µã€‚æ¯å€‹éšæ®µéƒ½æœ‰è‡ªå·±çš„ callback ä½‡åˆ—ï¼Œåœ¨é€²å…¥æŸå€‹éšæ®µæ™‚ï¼Œéƒ½æœƒå¾æ‰€å±¬çš„ä½‡åˆ—ä¸­å–å‡º callback ä¾†åŸ·è¡Œï¼Œç•¶ä½‡åˆ—ç‚ºç©ºæˆ–è€…è¢«åŸ·è¡Œ callback çš„æ•¸é‡é”åˆ°ç³»çµ±çš„æœ€å¤§æ•¸é‡æ™‚ï¼Œå°±æœƒé€²å…¥ä¸‹ä¸€éšæ®µã€‚</p>
<br>
<p>æ ¹æ“šä»¥ä¸Šæåˆ°äº‹ä»¶é©…å‹•ã€å–®åŸ·è¡Œç·’å’ŒéåŒæ­¥ã€éé˜»å¡çš„ I/O è™•ç†ç‰¹æ€§ï¼ŒNode.js å¾ˆé©åˆæ‹¿ä¾†é–‹ç™¼ I/O å¯†é›†å‹æ‡‰ç”¨ç¨‹å¼ï¼Œå¦‚å½±éŸ³ä¸²æµã€å³æ™‚äº’å‹•ã€åœ¨ç·šèŠå¤©ã€éŠæˆ²ã€å”ä½œå·¥å…·ã€è‚¡ç¥¨è¡Œæƒ…ç­‰è»Ÿé«”ã€‚</p>
<br>
<h2 id="npm">NPM</h2>
<p>NPM æ˜¯è·Ÿ Node.js ä¸€èµ·å®‰è£çš„ç·šä¸Šå¥—ä»¶åº«ï¼Œå¯ä»¥ä¸‹è¼‰å„å¼å„æ¨£çš„ JavaScript å¥—ä»¶ä¾†ä½¿ç”¨ï¼Œèƒ½è§£æ±º Node.js ä»£ç¢¼éƒ¨ç½²ä¸Šçš„å¾ˆå¤šå•é¡Œã€‚</p>
<br>
<p>å®‰è£å¥½å¾Œï¼Œå¯ä»¥ä½¿ç”¨ <code>npm -v</code> ä¾†æª¢æŸ¥ç‰ˆæœ¬ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npm -v
8.5.0
</code></pre></td></tr></table>
</div>
</div><br>
<p>è·Ÿ NPM æ¯æ¯ç›¸é—œçš„æ˜¯ <code>package.json</code> é€™å€‹æª”æ¡ˆï¼Œä»–æ˜¯æŒç®¡å°ˆæ¡ˆè³‡è¨Šçš„é‡è¦æª”æ¡ˆï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ <code>init</code> æŒ‡ä»¤ä¾†è¨­å®š package.jsonï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npm init
This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.
.... çœç•¥ ....

Press ^C at any <span class="nb">time</span> to quit.
package name: <span class="o">(</span>message<span class="o">)</span> demo
version: <span class="o">(</span>1.0.0<span class="o">)</span> 
description: 
entry point: <span class="o">(</span>index.js<span class="o">)</span> 
<span class="nb">test</span> command: 
git repository: 
keywords: 
author: ian &lt;880831ian@gmail.com&gt;
license: <span class="o">(</span>ISC<span class="o">)</span> 
</code></pre></td></tr></table>
</div>
</div><ul>
<li>name: å°±æ˜¯è©²å°ˆæ¡ˆçš„åå­—ï¼Œå®ƒé è¨­å°±æ˜¯è©²ç›®éŒ„åã€‚</li>
<li>description: å°ˆæ¡ˆæè¿°ã€‚</li>
<li>entry point: å°ˆæ¡ˆåˆ‡å…¥é»ï¼Œé€™æœ‰é»è¤‡é›œï¼Œä¹‹å¾Œå†èªªã€‚</li>
<li>test command: å°ˆæ¡ˆæ¸¬è©¦æŒ‡ä»¤ï¼Œä¹‹å¾Œèªªã€‚</li>
<li>git repository: å°ˆæ¡ˆåŸå§‹ç¢¼çš„ç‰ˆæœ¬æ§ç®¡ä½ç½®ã€‚</li>
<li>keywoard: å°ˆæ¡ˆé—œéµå­—</li>
<li>author: å°ˆæ¡ˆä½œè€…ï¼Œä»¥ author-name <a href="mailto:author@email.com" rel="">author@email.com</a> å¯«ä¹‹ã€‚</li>
<li>license: å°ˆæ¡ˆç‰ˆæ¬Šã€‚</li>
</ul>
<br>
<p>è¨­å®šå¥½å¾Œï¼Œå°ˆæ¡ˆè³‡æ–™å¤¾å°±æœƒå¤šä¸€å€‹ <code>package.json</code> çš„æª”æ¡ˆï¼Œæ‰“é–‹å¾Œå¯ä»¥çœ‹åˆ°ï¼Œæ˜¯æˆ‘å€‘å‰›å‰›æ‰€è¨­å®šå¥½çš„è³‡è¨Šï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;demo&#34;</span><span class="p">,</span>
  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>
  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;index.js&#34;</span><span class="p">,</span>
  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;ian &lt;880831ian@gmail.com&gt;&#34;</span><span class="p">,</span>
  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><br>
<p>æ¥ä¸‹ä¾†ï¼Œè¦å¦‚ä½•ä¸‹è¼‰ç¶²è·¯ä¸Šçš„æ¨¡çµ„ï¼Œè¦ä½¿ç”¨ <code>install</code> æŒ‡ä»¤ä¾†ä¸‹è¼‰ï¼Œæˆ‘å€‘ä¸‹è¼‰ Node.js æœ€å°åˆéˆæ´»çš„ Web æ‡‰ç”¨ç¨‹å¼æ¡†æ¶ express ä¾†åšç¤ºç¯„ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npm install express

added <span class="m">50</span> packages, and audited <span class="m">51</span> packages in 1s

<span class="m">2</span> packages are looking <span class="k">for</span> funding
  run <span class="sb">`</span>npm fund<span class="sb">`</span> <span class="k">for</span> details

found <span class="m">0</span> vulnerabilities
</code></pre></td></tr></table>
</div>
</div><br>
<p>ä¸‹è¼‰å¥½å¾Œï¼Œå¯ä»¥çœ‹åˆ°å‰›å‰› <code>package.json</code> æª”æ¡ˆå¤šäº† <code>dependencies</code> æ¬„ä½ï¼Œå®ƒè£¡é¢æœƒç´€éŒ„æˆ‘å€‘å®‰è£äº†å“ªäº›å¥—ä»¶ï¼Œæ‰€ä»¥æœªä¾†æˆ‘å€‘æƒ³çŸ¥é“å°ˆæ¡ˆä½¿ç”¨äº†å“ªäº›å¥—ä»¶ï¼Œæˆ‘å€‘å¯ä»¥å¾ <code>dependencies</code> é€™å€‹æ¬„ä½çŸ¥é“ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;demo&#34;</span><span class="p">,</span>
  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>
  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;index.js&#34;</span><span class="p">,</span>
  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>
  <span class="p">},</span>
  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;ian &lt;880831ian@gmail.com&gt;&#34;</span><span class="p">,</span>
  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span><span class="p">,</span>
  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;express&#34;</span><span class="p">:</span> <span class="s2">&#34;^4.17.3&#34;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><br>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œé‚„æœƒå¤šä¸€å€‹ <code>node_modules</code> è³‡æ–™å¤¾ï¼Œé€™å€‹è³‡æ–™å¤¾å°±æœƒå­˜æ”¾æˆ‘å€‘æ‰€ä¸‹è¼‰çš„å¥—ä»¶</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ls node_modules/
accepts             cookie-signature    etag                inherits            mime-types          qs                  setprototypeof
array-flatten       debug               express             ipaddr.js           ms                  range-parser        statuses
body-parser         depd                finalhandler        media-typer         negotiator          raw-body            toidentifier
bytes               destroy             forwarded           merge-descriptors   on-finished         safe-buffer         type-is
content-disposition ee-first            fresh               methods             parseurl            safer-buffer        unpipe
content-type        encodeurl           http-errors         mime                path-to-regexp      send                utils-merge
cookie              escape-html         iconv-lite          mime-db             proxy-addr          serve-static        vary
</code></pre></td></tr></table>
</div>
</div><br>
<p>ç•¶æˆ‘å€‘éƒ½å®‰è£å¥½å¾Œï¼Œexpress å·²ç¶“åŒ…åœ¨ <code>node_modules</code> ç›®éŒ„å…§ï¼Œåœ¨å°ˆæ¡ˆè£¡é¢ï¼Œå°±å¯ä»¥ä½¿ç”¨ require(&lsquo;å¥—ä»¶åç¨±â€˜) ä¾†ä½¿ç”¨å¥—ä»¶å›‰ï¼</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;express&#39;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><br>
<p>å› ç‚ºé€™äº›å¥—ä»¶éƒ½å¯ä»¥ç›´æ¥åœ¨ç¶²è·¯ä¸Šä¸‹è¼‰åˆ°ï¼Œæ‰€ä»¥åœ¨æ¨é€ git å°ˆæ¡ˆæ™‚ï¼Œå¯ä»¥ä½¿ç”¨ <code>.gitignore</code> ä¾†éš±è—ä¸æƒ³è¢« push çš„æª”æ¡ˆï¼Œç•¶æˆ‘å€‘æƒ³è¦ä¸‹è¼‰å¥—ä»¶å›ä¾†æ™‚ï¼Œåªè¦ä½¿ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npm install
</code></pre></td></tr></table>
</div>
</div><p>å°±å¯ä»¥ä¾ç…§ <code>package.json</code> è£¡é¢çš„ <code>dependencies</code> ä¾†ä¸‹è¼‰å¥—ä»¶ï¼</p>
<h2 id="repl">REPL</h2>
<p>Node.js REPL  (äº¤äº’å¼è§£é‡‹å™¨)ï¼šè¡¨ç¤ºä¸€å€‹é›»è…¦ç’°å¢ƒï¼Œé¡ä¼¼ Windoes ç³»çµ±çš„çµ‚ç«¯æˆ–æ˜¯ Unix/Linux çš„ Shellï¼Œæˆ‘å€‘å¯ä»¥åœ¨çµ‚ç«¯æ©Ÿä¸Šè¼¸å…¥å‘½ä»¤ï¼Œä¸¦æ¥æ”¶ç³»çµ±çš„éŸ¿æ‡‰ã€‚</p>
<p>Node è‡ªå¸¶äº†äº¤äº’å¼è§£é‡‹å™¨ï¼Œå¯ä»¥åŸ·è¡Œä»¥ä¸‹ä»»å‹™ï¼š</p>
<ul>
<li>è®€å–ï¼šè®€å–ç”¨æˆ¶è¼¸å…¥ï¼Œè§£æè¼¸å…¥çš„ JavaScript æ•¸æ“šçµæ§‹ä¸¦å„²å­˜åœ¨å…§å­˜ä¸­ã€‚</li>
<li>åŸ·è¡Œï¼šåŸ·è¡Œè¼¸å…¥çš„æ•¸æ“šçµæ§‹ã€‚</li>
<li>é¡¯ç¤ºï¼šè¼¸å‡ºçµæœã€‚</li>
<li>å¾ªç’°ï¼šå¾ªç’°ä»¥ä¸Šä»»å‹™ç›´åˆ°ç”¨æˆ¶æŒ‰ä¸‹å…©æ¬¡çš„ ctrl+c æŒ‰éˆ•é€€å‡ºã€‚</li>
</ul>
<br>
<p>æˆ‘å€‘å¯ä»¥è¼¸å…¥ä»¥ä¸‹å‘½ä»¤ä¾†å•Ÿå‹• Node çš„çµ‚ç«¯ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ node
Welcome to Node.js v16.14.2.
Type <span class="s2">&#34;.help&#34;</span> <span class="k">for</span> more information.
&gt;
</code></pre></td></tr></table>
</div>
</div><br>
<p>å¯ä»¥åŸ·è¡Œç°¡å–®çš„æ•¸å­¸é‹ç®—ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ node

Welcome to Node.js v16.14.2.
Type <span class="s2">&#34;.help&#34;</span> <span class="k">for</span> more information.
&gt; 1+4
<span class="m">5</span>
&gt; 5/2
2.5
&gt; 3*7
<span class="m">21</span>
&gt; 4-3
<span class="m">1</span>
&gt; <span class="m">1</span> + <span class="o">(</span>2*4<span class="o">)</span> -5
<span class="m">4</span>
&gt;
</code></pre></td></tr></table>
</div>
</div><br>
<p>ä¹Ÿå¯ä»¥å°‡æ•¸æ“šå­˜åœ¨è®Šæ•¸ä¸­ï¼Œåœ¨éœ€è¦æ™‚ä½¿ç”¨å®ƒã€‚è®Šæ•¸å®£å‘Šéœ€è¦ä½¿ç”¨ <code>var</code> é—œéµå­—ï¼Œå¦‚æœæ²’æœ‰ä½¿ç”¨é—œéµå­—ï¼Œæœƒç›´æ¥é¡¯ç¤ºå‡ºä¾†ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>console.log()</code> ä¾†è¼¸å‡ºè®Šæ•¸</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ node

Welcome to Node.js v16.14.2.
Type <span class="s2">&#34;.help&#34;</span> <span class="k">for</span> more information.
&gt; <span class="nv">x</span> <span class="o">=</span> <span class="m">19</span>
<span class="m">19</span>
&gt; var <span class="nv">y</span> <span class="o">=</span> <span class="m">10</span>
undefined
&gt; x + y
<span class="m">29</span>
&gt; console.log<span class="o">(</span><span class="s2">&#34;Hello&#34;</span><span class="o">)</span>
Hello
undefined
&gt;
</code></pre></td></tr></table>
</div>
</div><br>
<p>Node REPL ä¹Ÿæ”¯æŒè¼¸å…¥å¤šè¡Œè¡¨é”å¼ï¼Œæˆ‘å€‘è©¦è‘—å¯«ä¸€å€‹ do-while è¿´åœˆï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">Welcome to Node.js v16.14.2.
Type <span class="s2">&#34;.help&#34;</span> <span class="k">for</span> more information.
&gt; var <span class="nv">x</span> <span class="o">=</span> <span class="m">0</span>
undefined
&gt; <span class="k">do</span> <span class="o">{</span>
... x++<span class="p">;</span>
... console.log<span class="o">(</span><span class="s2">&#34;x:&#34;</span> + x<span class="o">)</span><span class="p">;</span>
... <span class="o">}</span> <span class="k">while</span> <span class="o">(</span>x&lt;5<span class="o">)</span><span class="p">;</span>
x:1
x:2
x:3
x:4
x:5
undefined
&gt;
</code></pre></td></tr></table>
</div>
</div><br>
<h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</h2>
<p><a href="https://nodejs.dev/learn/introduction-to-nodejs" target="_blank" rel="noopener noreffer">Node.js å®˜ç¶²</a></p>
<p><a href="https://medium.com/wenchin-rolls-around/node-js-101-%E5%96%AE%E5%9F%B7%E8%A1%8C%E7%B7%92-%E9%9D%9E%E5%90%8C%E6%AD%A5-%E9%9D%9E%E9%98%BB%E5%A1%9E-i-o-%E8%88%87%E4%BA%8B%E4%BB%B6%E8%BF%B4%E5%9C%88-ef94f8359eee" target="_blank" rel="noopener noreffer">Node.js 101 â€” å–®åŸ·è¡Œç·’ã€éåŒæ­¥ã€éé˜»å¡ I/O èˆ‡äº‹ä»¶è¿´åœˆ</a></p>
<p><a href="https://itnext.io/an-intro-to-node-js-that-you-may-have-missed-b175ef4277f7" target="_blank" rel="noopener noreffer">An Intro to Node.js That You May Have Missed
</a></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/node.js/">Node.js</a>
                </span><span><a href="/tags/%E5%AF%A6%E4%BD%9C/">å¯¦ä½œ</a>
                </span><span><a href="/tags/%E4%BB%8B%E7%B4%B9/">ä»‹ç´¹</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>æ›´æ–°æ–¼ 2022-03-30</span>
            </div><div class="post-info-mod"><span>
                            <a class="link-to-markdown" href="/node/index.md" target="_blank">é–±è®€åŸå§‹æ–‡æª”</a>
                        </span><span>
                        &nbsp;|&nbsp;
                        <a class="link-to-markdown" href="https://github.com/880831ian/blog/tree/main/content/posts/Node/index.zh-tw.md" target="_blank">Improve Article</a>
                    </span></div>
        </div><div class="post-info-share">
            <span><a href="javascript:void(0);" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://pin-yi.me/node/" data-title="Node.js ä»‹ç´¹" data-hashtags="Node.js,å¯¦ä½œ,ä»‹ç´¹"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://pin-yi.me/node/" data-hashtag="Node.js"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Linkedin" data-sharer="linkedin" data-url="https://pin-yi.me/node/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Reddit" data-sharer="reddit" data-url="https://pin-yi.me/node/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://pin-yi.me/node/" data-title="Node.js ä»‹ç´¹"><i class="fab fa-line fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://pin-yi.me/node/" data-title="Node.js ä»‹ç´¹"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Skype" data-sharer="skype" data-url="https://pin-yi.me/node/" data-title="Node.js ä»‹ç´¹"><i class="fab fa-skype fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/go-restful-api-repository-messageboard/" class="prev" rel="prev" title="ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/theme-documentation-built-in-shortcodes/" class="next" rel="next" title="ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div><div id="comments" class="single-card"><div id="disqus_thread"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://pin-yi.me">PinYi</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
</div>
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker
        .register('/sw.min.js?version=1.0.1', { scope: '/' })
        .then(() => {
            console.info('PinYi\u00A0Service Worker Registered');
        }, err => console.error('PinYi\u00A0Service Worker registration failed: ', err));

    navigator.serviceWorker
        .ready
        .then(() => {
            console.info('PinYi\u00A0Service Worker Ready');
        });
}
</script>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é ‚éƒ¨">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è©•è«–">
                <i class="fas fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/css/lightgallery.min.css"><script src="https://pin-yi.disqus.com/embed.js" defer></script><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.0/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.zh.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.1/sharer.min.js"></script><script>window.config={"code":{"copyTitle":"è¤‡è£½åˆ°å‰ªè²¼æ¿","maxShownLines":40},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"æ‰¾ä¸åˆ°ä½ è¼¸å…¥çš„è³‡æ–™ğŸ¥²","snippetLength":50,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body></html>
