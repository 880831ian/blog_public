[{"categories":["documentation"],"content":"æ¢ç´¢ Hugo - FeelIt ä¸»é¡Œçš„å…¨éƒ¨å…§å®¹å’ŒèƒŒå¾Œçš„æ ¸å¿ƒæ¦‚å¿µ.","date":"2020-03-06","objectID":"/theme-documentation-basics/","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"æ¢ç´¢ Hugo - FeelIt ä¸»é¡Œçš„å…¨éƒ¨å…§å®¹å’ŒèƒŒå¾Œçš„æ ¸å¿ƒæ¦‚å¿µ. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:0:0","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"1 æº–å‚™ ç”±æ–¼ Hugo æä¾›çš„ä¾¿åˆ©æ€§, Hugo æœ¬èº«æ˜¯é€™å€‹ä¸»é¡Œå”¯ä¸€çš„ä¾è³´. ç›´æ¥å®‰è£æ»¿è¶³ä½ æ“ä½œç³»çµ± (Windows, Linux, macOS) çš„æœ€æ–°ç‰ˆæœ¬ Â Hugo (\u003e 0.84.0). ç‚ºä»€éº½ä¸æ”¯æŒæ—©æœŸç‰ˆæœ¬çš„ Hugo? ç”±æ–¼ Markdown æ¸²æŸ“é‰¤å­å‡½æ•¸ åœ¨ Hugo è–èª•ç¯€ç‰ˆæœ¬ ä¸­è¢«å¼•å…¥ ä¸€äº›åœ–åƒè³‡æºä½¿ç”¨çš„æ˜¯0.84.0ä¸­å¼•å…¥çš„webp, æœ¬ä¸»é¡Œåªæ”¯æŒé«˜æ–¼ 0.84.0 çš„ Hugo ç‰ˆæœ¬. æ¨è–¦ä½¿ç”¨ Hugo extended ç‰ˆæœ¬ ç”±æ–¼é€™å€‹ä¸»é¡Œçš„ä¸€äº›ç‰¹æ€§éœ€è¦å°‡ Â SCSS è½‰æ›ç‚º Â CSS, æ¨è–¦ä½¿ç”¨ Hugo extended ç‰ˆæœ¬ä¾†ç²å¾—æ›´å¥½çš„ä½¿ç”¨é«”é©—. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:1:0","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"2 å®‰è£ ä»¥ä¸‹æ­¥é©Ÿå¯å¹«åŠ©ä½ åˆå§‹åŒ–æ–°ç¶²ç«™. å¦‚æœä½ æ ¹æœ¬ä¸äº†è§£ Hugo, æˆ‘å€‘å¼·çƒˆå»ºè­°ä½ æŒ‰ç…§æ­¤ å¿«é€Ÿå…¥é–€æ–‡æª” é€²ä¸€æ­¥äº†è§£å®ƒ. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:2:0","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"2.1 å‰µå»ºä½ çš„é …ç›® Hugo æä¾›äº†ä¸€å€‹ new å‘½ä»¤ä¾†å‰µå»ºä¸€å€‹æ–°çš„ç¶²ç«™: hugo new site my_website cd my_website ","date":"2020-03-06","objectID":"/theme-documentation-basics/:2:1","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"2.2 å®‰è£ä¸»é¡Œ FeelIt ä¸»é¡Œçš„å€‰åº«æ˜¯: https://github.com/khusika/FeelIt. ä½ å¯ä»¥ä¸‹è¼‰ä¸»é¡Œçš„ æœ€æ–°ç‰ˆæœ¬ Â .zip æ–‡ä»¶ ä¸¦ä¸”è§£å£“æ”¾åˆ° themes ç›®éŒ„. å¦å¤–, ä¹Ÿå¯ä»¥ç›´æ¥æŠŠé€™å€‹ä¸»é¡Œå…‹éš†åˆ° themes ç›®éŒ„: git clone https://github.com/khusika/FeelIt.git themes/FeelIt æˆ–è€…, åˆå§‹åŒ–ä½ çš„é …ç›®ç›®éŒ„ç‚º git å€‰åº«, ä¸¦ä¸”æŠŠä¸»é¡Œå€‰åº«ä½œç‚ºä½ çš„ç¶²ç«™ç›®éŒ„çš„å­æ¨¡å¡Š: git init git submodule add https://github.com/khusika/FeelIt.git themes/FeelIt ","date":"2020-03-06","objectID":"/theme-documentation-basics/:2:2","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"2.3 åŸºç¤é…ç½® ä»¥ä¸‹æ˜¯ FeelIt ä¸»é¡Œçš„åŸºæœ¬é…ç½®: baseURL = \"http://example.org/\" # [en, zh-cn, fr, ...] è¨­ç½®é»˜èªçš„èªè¨€ defaultContentLanguage = \"zh-cn\" # ç¶²ç«™èªè¨€, åƒ…åœ¨é€™é‡Œ CN å¤§å¯« languageCode = \"zh-CN\" # æ˜¯å¦åŒ…æ‹¬ä¸­æ—¥éŸ“æ–‡å­— hasCJKLanguage = true # ç¶²ç«™æ¨™é¡Œ title = \"æˆ‘çš„å…¨æ–° Hugo ç¶²ç«™\" # æ›´æ”¹ä½¿ç”¨ Hugo æ§‹å»ºç¶²ç«™æ™‚ä½¿ç”¨çš„é»˜èªä¸»é¡Œ theme = \"FeelIt\" [params] # FeelIt ä¸»é¡Œç‰ˆæœ¬ version = \"1.0.X\" [menu] [[menu.main]] identifier = \"posts\" # ä½ å¯ä»¥åœ¨åç¨± (å…è¨± HTML æ ¼å¼) ä¹‹å‰æ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚åœ–æ¨™ pre = \"\" # ä½ å¯ä»¥åœ¨åç¨± (å…è¨± HTML æ ¼å¼) ä¹‹å¾Œæ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚åœ–æ¨™ post = \"\" name = \"æ–‡ç« \" url = \"/posts/\" # ç•¶ä½ å°‡é¼ æ¨™æ‡¸åœåœ¨æ­¤èœå–®éˆæ¥ä¸Šæ™‚, å°‡é¡¯ç¤ºçš„æ¨™é¡Œ title = \"\" weight = 1 [[menu.main]] identifier = \"tags\" pre = \"\" post = \"\" name = \"æ¨™ç°½\" url = \"/tags/\" title = \"\" weight = 2 [[menu.main]] identifier = \"categories\" pre = \"\" post = \"\" name = \"åˆ†é¡\" url = \"/categories/\" title = \"\" weight = 3 # Hugo è§£ææ–‡æª”çš„é…ç½® [markup] # èªæ³•é«˜äº®è¨­ç½® (https://gohugo.io/content-management/syntax-highlighting) [markup.highlight] # false æ˜¯å¿…è¦çš„è¨­ç½® (https://github.com/khusika/FeelIt/issues/158) noClasses = false æ³¨æ„ åœ¨æ§‹å»ºç¶²ç«™æ™‚, ä½ å¯ä»¥ä½¿ç”¨ --theme é¸é …è¨­ç½®ä¸»é¡Œ. ä½†æ˜¯, æˆ‘å»ºè­°ä½ ä¿®æ”¹é…ç½®æ–‡ä»¶ (config.toml) å°‡æœ¬ä¸»é¡Œè¨­ç½®ç‚ºé»˜èªä¸»é¡Œ. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:2:3","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"2.4 å‰µå»ºä½ çš„ç¬¬ä¸€ç¯‡æ–‡ç«  ä»¥ä¸‹æ˜¯å‰µå»ºç¬¬ä¸€ç¯‡æ–‡ç« çš„æ–¹æ³•: hugo new posts/first_post.md é€šéæ·»åŠ ä¸€äº›ç¤ºä¾‹å…§å®¹ä¸¦æ›¿æ›æ–‡ä»¶é–‹é ­çš„æ¨™é¡Œ, ä½ å¯ä»¥éš¨æ„ç·¨è¼¯æ–‡ç« . æ³¨æ„ é»˜èªæƒ…æ³ä¸‹, æ‰€æœ‰æ–‡ç« å’Œé é¢å‡ä½œç‚ºè‰ç¨¿å‰µå»º. å¦‚æœæƒ³è¦æ¸²æŸ“é€™äº›é é¢, è«‹å¾å…ƒæ•¸æ“šä¸­åˆªé™¤å±¬æ€§ draft: true, è¨­ç½®å±¬æ€§ draft: false æˆ–è€…ç‚º hugo å‘½ä»¤æ·»åŠ  -D/--buildDrafts åƒæ•¸. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:2:4","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"2.5 åœ¨æœ¬åœ°å•Ÿå‹•ç¶²ç«™ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å•Ÿå‹•ç¶²ç«™: hugo serve å»æŸ¥çœ‹ http://localhost:1313. åŸºæœ¬é…ç½®ä¸‹çš„é è¦½åŸºæœ¬é…ç½®ä¸‹çš„é è¦½ \" åŸºæœ¬é…ç½®ä¸‹çš„é è¦½ æŠ€å·§ ç•¶ä½ é‹è¡Œ hugo serve æ™‚, ç•¶æ–‡ä»¶å…§å®¹æ›´æ”¹æ™‚, é é¢æœƒéš¨è‘—æ›´æ”¹è‡ªå‹•åˆ·æ–°. æ³¨æ„ ç”±æ–¼æœ¬ä¸»é¡Œä½¿ç”¨äº† Hugo ä¸­çš„ .Scratch ä¾†å¯¦ç¾ä¸€äº›ç‰¹æ€§, éå¸¸å»ºè­°ä½ ç‚º hugo server å‘½ä»¤æ·»åŠ  --disableFastRender åƒæ•¸ä¾†å¯¦æ™‚é è¦½ä½ æ­£åœ¨ç·¨è¼¯çš„æ–‡ç« é é¢. hugo serve --disableFastRender ","date":"2020-03-06","objectID":"/theme-documentation-basics/:2:5","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"2.6 æ§‹å»ºç¶²ç«™ ç•¶ä½ æº–å‚™å¥½éƒ¨ç½²ä½ çš„ç¶²ç«™æ™‚, é‹è¡Œä»¥ä¸‹å‘½ä»¤: hugo æœƒç”Ÿæˆä¸€å€‹ public ç›®éŒ„, å…¶ä¸­åŒ…å«ä½ ç¶²ç«™çš„æ‰€æœ‰éœæ…‹å…§å®¹å’Œè³‡æº. ç¾åœ¨å¯ä»¥å°‡å…¶éƒ¨ç½²åœ¨ä»»ä½• Web æœå‹™å™¨ä¸Š. æŠ€å·§ ç¶²ç«™å…§å®¹å¯ä»¥é€šé Netlify è‡ªå‹•ç™¼å¸ƒå’Œæ‰˜ç®¡ (äº†è§£æœ‰é—œé€šé Netlify é€²è¡Œ HUGO è‡ªå‹•åŒ–éƒ¨ç½² çš„æ›´å¤šä¿¡æ¯). æˆ–è€…, æ‚¨å¯ä»¥ä½¿ç”¨ AWS Amplify, Github pages, Render ä»¥åŠæ›´å¤šâ€¦ ","date":"2020-03-06","objectID":"/theme-documentation-basics/:2:6","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"3 é…ç½® ","date":"2020-03-06","objectID":"/theme-documentation-basics/:3:0","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"3.1 ç¶²ç«™é…ç½® é™¤äº† Hugo å…¨å±€é…ç½® å’Œ èœå–®é…ç½® ä¹‹å¤–, FeelIt ä¸»é¡Œé‚„å…è¨±æ‚¨åœ¨ç¶²ç«™é…ç½®ä¸­å®šç¾©ä»¥ä¸‹åƒæ•¸ (é€™æ˜¯ä¸€å€‹ç¤ºä¾‹ config.toml, å…¶å…§å®¹ç‚ºé»˜èªå€¼). è«‹æ‰“é–‹ä¸‹é¢çš„ä»£ç¢¼å¡ŠæŸ¥çœ‹å®Œæ•´çš„ç¤ºä¾‹é…ç½® : [params] # FeelIt ä¸»é¡Œç‰ˆæœ¬ version = \"1.0.X\" # ç¶²ç«™æè¿° description = \"é€™æ˜¯æˆ‘çš„å…¨æ–° Hugo ç¶²ç«™\" # ç¶²ç«™é—œéµè© keywords = [\"Theme\", \"Hugo\"] # ç¶²ç«™é»˜èªä¸»é¡Œæ¨£å¼ (\"light\", \"dark\", \"auto\") defaultTheme = \"auto\" # å…¬å…± git å€‰åº«è·¯å¾‘ï¼Œåƒ…åœ¨ enableGitInfo è¨­ç‚º true æ™‚æœ‰æ•ˆ gitRepo = \"\" # å“ªç¨®å“ˆå¸Œå‡½æ•¸ç”¨ä¾† SRI, ç‚ºç©ºæ™‚è¡¨ç¤ºä¸ä½¿ç”¨ SRI # (\"sha256\", \"sha384\", \"sha512\", \"md5\") fingerprint = \"\" # æ—¥æœŸæ ¼å¼ dateFormat = \"2006-01-02\" # ç¶²ç«™åœ–ç‰‡, ç”¨æ–¼ Open Graph å’Œ Twitter Cards images = [\"/logo.png\"] # æ˜¯å¦å•Ÿç”¨ CSS å’Œ JS æºæ˜ å°„ SourceMap = true # PWA config [params.pwa] # whether to enable PWA support enable = true # service-worker version version = \"1.0.1\" # æ‡‰ç”¨åœ–æ¨™é…ç½® [params.app] # ç•¶æ·»åŠ åˆ° iOS ä¸»å±å¹•æˆ–è€… Android å•Ÿå‹•å™¨æ™‚çš„æ¨™é¡Œ, è¦†è“‹é»˜èªæ¨™é¡Œ title = \"FeelIt\" # æ˜¯å¦éš±è—ç¶²ç«™åœ–æ¨™è³‡æºéˆæ¥ noFavicon = false # æ›´ç¾ä»£çš„ SVG ç¶²ç«™åœ–æ¨™, å¯æ›¿ä»£èˆŠçš„ .png å’Œ .ico æ–‡ä»¶ svgFavicon = \"\" # Android ç€è¦½å™¨ä¸»é¡Œè‰² themeColor = \"#ffffff\" # Safari åœ–æ¨™é¡è‰² iconColor = \"#5bbad5\" # Windows v8-10ç£è²¼é¡è‰² tileColor = \"#da532c\" # æœç´¢é…ç½® [params.search] enable = true # æœç´¢å¼•æ“çš„é¡å‹ (\"lunr\", \"algolia\") type = \"lunr\" # æ–‡ç« å…§å®¹æœ€é•·ç´¢å¼•é•·åº¦ contentLength = 4000 # æœç´¢æ¡†çš„å ä½æç¤ºèª placeholder = \"\" # æœ€å¤§çµæœæ•¸ç›® maxResultLength = 10 # çµæœå…§å®¹ç‰‡æ®µé•·åº¦ snippetLength = 50 # æœç´¢çµæœä¸­é«˜äº®éƒ¨åˆ†çš„ HTML æ¨™ç°½ highlightTag = \"em\" # æ˜¯å¦åœ¨æœç´¢ç´¢å¼•ä¸­ä½¿ç”¨åŸºæ–¼ baseURL çš„çµ•å°è·¯å¾‘ absoluteURL = false [params.search.algolia] index = \"\" appID = \"\" searchKey = \"\" # é é¢é ­éƒ¨å°èˆªæ¬„é…ç½® [params.header] # æ¡Œé¢ç«¯å°èˆªæ¬„æ¨¡å¼ (\"fixed\", \"normal\", \"auto\") desktopMode = \"fixed\" # ç§»å‹•ç«¯å°èˆªæ¬„æ¨¡å¼ (\"fixed\", \"normal\", \"auto\") mobileMode = \"auto\" # é é¢é ­éƒ¨å°èˆªæ¬„æ¨™é¡Œé…ç½® [params.header.title] # LOGO çš„ URL logo = \"\" # æ¨™é¡Œåç¨± name = \"\" # ä½ å¯ä»¥åœ¨åç¨± (å…è¨± HTML æ ¼å¼) ä¹‹å‰æ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚åœ–æ¨™ pre = \"\" # ä½ å¯ä»¥åœ¨åç¨± (å…è¨± HTML æ ¼å¼) ä¹‹å¾Œæ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚åœ–æ¨™ post = \"\" # æ˜¯å¦ç‚ºæ¨™é¡Œé¡¯ç¤ºæ‰“å­—æ©Ÿå‹•ç•« typeit = false # æ˜¯å¦é¡¯ç¤ºRSSåœ–æ¨™ rss = true # é é¢åº•éƒ¨ä¿¡æ¯é…ç½® [params.footer] enable = true # è‡ªå®šç¾©å…§å®¹ (æ”¯æŒ HTML æ ¼å¼) custom = '' # æ˜¯å¦é¡¯ç¤º Hugo å’Œä¸»é¡Œä¿¡æ¯ hugo = true # æ˜¯å¦é¡¯ç¤ºç‰ˆæ¬Šä¿¡æ¯ copyright = true # æ˜¯å¦é¡¯ç¤ºä½œè€… author = true # ç¶²ç«™å‰µç«‹å¹´ä»½ since = 2019 # ICP å‚™æ¡ˆä¿¡æ¯ï¼Œåƒ…åœ¨ä¸­åœ‹ä½¿ç”¨ (æ”¯æŒ HTML æ ¼å¼) icp = \"\" # è¨±å¯å”è­°ä¿¡æ¯ (æ”¯æŒ HTML æ ¼å¼) license = '\u003ca rel=\"license external nofollow noopener noreffer\" href=\"https://creativecommons.org/licenses/by-nc/4.0/\" target=\"_blank\"\u003eCC BY-NC 4.0\u003c/a\u003e' # Section (æ‰€æœ‰æ–‡ç« ) é é¢é…ç½® [params.section] # section é é¢æ¯é é¡¯ç¤ºæ–‡ç« æ•¸é‡ paginate = 20 # æ—¥æœŸæ ¼å¼ (æœˆå’Œæ—¥) dateFormat = \"01-02\" # RSS æ–‡ç« æ•¸ç›® rss = 10 # List (ç›®éŒ„æˆ–æ¨™ç°½) é é¢é…ç½® [params.list] # list é é¢æ¯é é¡¯ç¤ºæ–‡ç« æ•¸é‡ paginate = 20 # æ—¥æœŸæ ¼å¼ (æœˆå’Œæ—¥) dateFormat = \"01-02\" # RSS æ–‡ç« æ•¸ç›® rss = 10 # # é—œæ–¼é é¢é…ç½® [params.about] # æ˜¯å¦å•Ÿç”¨é—œæ–¼é é¢çš„é…ç½®æ–‡ä»¶ # ä¾è³´æ–¼å–æ±ºæ–¼ .Site.Params.home.profile.enable enable = true # æ˜¯å¦å•Ÿç”¨åƒæ•¸å¸ƒå±€ param = true # åƒæ•¸å¸ƒå±€çš„æ¨™é¡Œ paramTitle = \"å€‹äººä¿¡æ¯\" # æ‚¨ç¶²ç«™çš„ä¸€èˆ¬æè¿° # å¯ä»¥ç”¨markdownæ¨£å¼å¯« description = \"[FeelIt](https://github.com/khusika/FeelIt) æ˜¯ä¸€å€‹ç”± [Khusika](https://khusika.com) é–‹ç™¼çš„**ç°¡æ½”**ã€**å„ªé›…**ä¸”**é«˜æ•ˆ**çš„ [Hugo](https://gohugo.io/) åšå®¢ä¸»é¡Œã€‚ å®ƒçš„åŸå‹åŸºæ–¼ [LoveIt ä¸»é¡Œ](https://github.com/dillonzq/LoveIt), [LeaveIt ä¸»é¡Œ](https://github.com/liuzc/LeaveIt), å’Œ [KeepIt ä¸»é¡Œ](https://github.com/Fastbyte01/KeepIt)ã€‚\" # ä½ çš„ç‹€æ…‹æè¿° [[params.about.status]] faIcon = \"fas fa-building\" title = \"å…¬å¸\" desc = \"FeelIt\" [[params.about.status]] faIcon = \"fas fa-briefcase fa-fw\" title = \"è·æ¥­\" desc = \"è‡ªç”±è·æ¥­è€…\" [[params.about.status]] title = \"åœ°é»\" faIcon = \"fas fa-map-marker-alt\" desc = \"åœ°çƒ\" # åƒæ•¸èªªæ˜ [[params.about.parameter]] language = \"UI/UX\" level = \"80\" [[params.about.parameter]] language = \"HTML\" level = \"70\" [[params.about.parameter]] language = \"Go\" level = \"60\" # ä¸»é é…ç½® [params.home] # RSS æ–‡ç« æ•¸ç›® rss = 10 # ä¸»é å€‹äººä¿¡æ¯ [params.home.profile] enable = true # Gravatar éƒµç®±ï¼Œç”¨æ–¼å„ªå…ˆåœ¨ä¸»é é¡¯ç¤ºçš„é ­åƒ gravatarEmail = \"\" # ä¸»é é¡¯ç¤ºé ­åƒçš„ URL avatarURL = \"/images/avatar.png\" # ä¸»é é¡¯ç¤ºçš„ç¶²ç«™æ¨™é¡Œ (æ”¯æŒ HTML æ ¼å¼) title = \"\" # ä¸»é é¡¯ç¤ºçš„ç¶²ç«™å‰¯æ¨™é¡Œ subtitle = \"é€™æ˜¯æˆ‘çš„å…¨æ–° Hugo ç¶²ç«™\" # æ˜¯å¦ç‚ºå‰¯æ¨™é¡Œé¡¯ç¤ºæ‰“å­—æ©Ÿå‹•ç•« typeit = true # æ˜¯å¦é¡¯ç¤ºç¤¾äº¤è³¬è™Ÿ social = true # å…è²¬è²æ˜ (æ”¯æŒ HTML æ ¼å¼) disclaimer = \"\" # ä¸»é æ–‡ç« åˆ—è¡¨ [params.home.posts] enable = true # ä¸»é æ¯é é¡¯ç¤ºæ–‡ç« æ•¸é‡ paginate = 6 # display image-preview imagePreview = true # è¢« params.page ä¸­çš„ hiddenFromHomePage æ›¿ä»£ # ç•¶ä½ æ²’æœ‰åœ¨æ–‡ç« å‰ç½®åƒæ•¸ä¸­è¨­ç½® \"hiddenFromHomePage\" æ™‚çš„é»˜èªè¡Œç‚º defaultHiddenFromHomePage = false # oEmbed config [params.oembed] # Privacy config (https://gohugo.io/about/hugo-and-gdpr/) privacy = false [params.oembed.facebook] # Facebook Aplication Identity and Cl","date":"2020-03-06","objectID":"/theme-documentation-basics/:3:1","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"3.2 ç¶²ç«™åœ–æ¨™, ç€è¦½å™¨é…ç½®, ç¶²ç«™æ¸…å–® å¼·çƒˆå»ºè­°ä½ æŠŠ: apple-touch-icon.png (180x180) favicon-32x32.png (32x32) favicon-16x16.png (16x16) mstile-150x150.png (150x150) android-chrome-192x192.png (192x192) android-chrome-512x512.png (512x512) æ”¾åœ¨ /static ç›®éŒ„. åˆ©ç”¨ https://realfavicongenerator.net/ å¯ä»¥å¾ˆå®¹æ˜“åœ°ç”Ÿæˆé€™äº›æ–‡ä»¶. å¯ä»¥è‡ªå®šç¾© browserconfig.xml å’Œ site.webmanifest æ–‡ä»¶ä¾†è¨­ç½® theme-color å’Œ background-color. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:3:2","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"3.3 è‡ªå®šç¾©æ¨£å¼ æ³¨æ„ Hugo extended ç‰ˆæœ¬å°æ–¼è‡ªå®šç¾©æ¨£å¼æ˜¯å¿…éœ€çš„. é€šéå®šç¾©è‡ªå®šç¾© .scss æ¨£å¼æ–‡ä»¶, FeelIt ä¸»é¡Œæ”¯æŒå¯é…ç½®çš„æ¨£å¼. åŒ…å«è‡ªå®šç¾© .scss æ¨£å¼æ–‡ä»¶çš„ç›®éŒ„ç›¸å°æ–¼ ä½ çš„é …ç›®æ ¹ç›®éŒ„ çš„è·¯å¾‘ç‚º assets/css. åœ¨ assets/css/_override.scss ä¸­, ä½ å¯ä»¥è¦†è“‹ themes/FeelIt/assets/css/_variables.scss ä¸­çš„è®Šé‡ä»¥è‡ªå®šç¾©æ¨£å¼. é€™æ˜¯ä¸€å€‹ä¾‹å­: @import url('https://fonts.googleapis.com/css?family=Fira+Mono:400,700\u0026display=swap\u0026subset=latin-ext'); $code-font-family: Fira Mono, Source Code Pro, Menlo, Consolas, Monaco, monospace; åœ¨ assets/css/_custom.scss ä¸­, ä½ å¯ä»¥æ·»åŠ ä¸€äº› CSS æ¨£å¼ä»£ç¢¼ä»¥è‡ªå®šç¾©æ¨£å¼. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:3:3","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"4 å¤šèªè¨€å’Œ i18n FeelIt ä¸»é¡Œå®Œå…¨å…¼å®¹ Hugo çš„å¤šèªè¨€æ¨¡å¼, ä¸¦ä¸”æ”¯æŒåœ¨ç¶²é ä¸Šåˆ‡æ›èªè¨€. èªè¨€åˆ‡æ›èªè¨€åˆ‡æ› \" èªè¨€åˆ‡æ› ","date":"2020-03-06","objectID":"/theme-documentation-basics/:4:0","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"4.1 å…¼å®¹æ€§ èªè¨€ Hugo ä»£ç¢¼ HTML lang å±¬æ€§ ä¸»é¡Œæ–‡æª” Lunr.js æ”¯æŒ å¾·èª de de è‹±èª en en è¥¿ç­ç‰™èª es es æ³•èª fr fr å°åº¦å°¼è¥¿äº id id æ„å¤§åˆ©èª it it æ³¢è˜­èª pl pl å·´è¥¿è‘¡è„ç‰™èª pt-br pt-BR ç¾…é¦¬å°¼äºèª ro ro ä¿„èª ru ru å¡çˆ¾ç¶­äºèª sr sr è¶Šå—èª vi vi ç°¡é«”ä¸­æ–‡ zh-cn zh-CN æ³¢æ–¯èª fa fa ","date":"2020-03-06","objectID":"/theme-documentation-basics/:4:1","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"4.2 åŸºæœ¬é…ç½® å­¸ç¿’äº† Hugoå¦‚ä½•è™•ç†å¤šèªè¨€ç¶²ç«™ ä¹‹å¾Œ, è«‹åœ¨ ç«™é»é…ç½® ä¸­å®šç¾©ä½ çš„ç¶²ç«™èªè¨€. ä¾‹å¦‚, ä¸€å€‹æ”¯æŒè‹±èª, ä¸­æ–‡å’Œæ³•èªçš„ç¶²ç«™é…ç½®: # [en, zh-cn, fr, pl, ...] è¨­ç½®é»˜èªçš„èªè¨€ defaultContentLanguage = \"zh-cn\" [languages] [languages.en] weight = 1 title = \"My New Hugo Site\" languageCode = \"en\" languageName = \"English\" [[languages.en.menu.main]] identifier = \"posts\" pre = \"\" post = \"\" name = \"Posts\" url = \"/posts/\" title = \"\" weight = 1 [[languages.en.menu.main]] identifier = \"tags\" pre = \"\" post = \"\" name = \"Tags\" url = \"/tags/\" title = \"\" weight = 2 [[languages.en.menu.main]] identifier = \"categories\" pre = \"\" post = \"\" name = \"Categories\" url = \"/categories/\" title = \"\" weight = 3 [languages.zh-cn] weight = 2 title = \"æˆ‘çš„å…¨æ–° Hugo ç¶²ç«™\" # ç¶²ç«™èªè¨€, åƒ…åœ¨é€™é‡Œ CN å¤§å¯« languageCode = \"zh-CN\" languageName = \"ç°¡é«”ä¸­æ–‡\" # æ˜¯å¦åŒ…æ‹¬ä¸­æ—¥éŸ“æ–‡å­— hasCJKLanguage = true [[languages.zh-cn.menu.main]] identifier = \"posts\" pre = \"\" post = \"\" name = \"æ–‡ç« \" url = \"/posts/\" title = \"\" weight = 1 [[languages.zh-cn.menu.main]] identifier = \"tags\" pre = \"\" post = \"\" name = \"æ¨™ç°½\" url = \"/tags/\" title = \"\" weight = 2 [[languages.zh-cn.menu.main]] identifier = \"categories\" pre = \"\" post = \"\" name = \"åˆ†é¡\" url = \"/categories/\" title = \"\" weight = 3 [languages.fr] weight = 3 title = \"Mon nouveau site Hugo\" languageCode = \"fr\" languageName = \"FranÃ§ais\" [[languages.fr.menu.main]] identifier = \"posts\" pre = \"\" post = \"\" name = \"Postes\" url = \"/posts/\" title = \"\" weight = 1 [[languages.fr.menu.main]] identifier = \"tags\" pre = \"\" post = \"\" name = \"Balises\" url = \"/tags/\" title = \"\" weight = 2 [[languages.fr.menu.main]] identifier = \"categories\" pre = \"\" post = \"\" name = \"CatÃ©gories\" url = \"/categories/\" title = \"\" weight = 3 ç„¶å¾Œ, å°æ–¼æ¯å€‹æ–°é é¢, å°‡èªè¨€ä»£ç¢¼é™„åŠ åˆ°æ–‡ä»¶åä¸­. å–®å€‹æ–‡ä»¶ my-page.md éœ€è¦åˆ†ç‚ºä¸‰å€‹æ–‡ä»¶: è‹±èª: my-page.en.md ä¸­æ–‡: my-page.zh-cn.md æ³•èª: my-page.fr.md æ³¨æ„ è«‹æ³¨æ„, èœå–®ä¸­åƒ…é¡¯ç¤ºç¿»è­¯çš„é é¢. å®ƒä¸æœƒæ›¿æ›ç‚ºé»˜èªèªè¨€å…§å®¹. æŠ€å·§ ä¹Ÿå¯ä»¥ä½¿ç”¨ æ–‡ç« å‰ç½®åƒæ•¸ ä¾†ç¿»è­¯ç¶²å€. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:4:2","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"4.3 ä¿®æ”¹é»˜èªçš„ç¿»è­¯å­—ç¬¦ä¸² ç¿»è­¯å­—ç¬¦ä¸²ç”¨æ–¼åœ¨ä¸»é¡Œä¸­ä½¿ç”¨çš„å¸¸è¦‹é»˜èªå€¼. ç›®å‰æä¾›ä¸€äº›èªè¨€çš„ç¿»è­¯, ä½†ä½ å¯èƒ½è‡ªå®šç¾©å…¶ä»–èªè¨€æˆ–è¦†è“‹é»˜èªå€¼. è¦è¦†è“‹é»˜èªå€¼, è«‹åœ¨ä½ é …ç›®çš„ i18n ç›®éŒ„ i18n/\u003clanguageCode\u003e.toml ä¸­å‰µå»ºä¸€å€‹æ–°æ–‡ä»¶ï¼Œä¸¦å¾ themes/FeelIt/i18n/en.toml ä¸­ç²å¾—æç¤º. å¦å¤–, ç”±æ–¼ä½ çš„ç¿»è­¯å¯èƒ½æœƒå¹«åŠ©åˆ°å…¶ä»–äºº, è«‹èŠ±é»æ™‚é–“é€šé Â å‰µå»ºä¸€å€‹ PR ä¾†è²¢ç»ä¸»é¡Œç¿»è­¯, è¬è¬! ","date":"2020-03-06","objectID":"/theme-documentation-basics/:4:3","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"5 æœç´¢ åŸºæ–¼ Lunr.js æˆ– algolia, FeelIt ä¸»é¡Œæ”¯æŒæœç´¢åŠŸèƒ½. ","date":"2020-03-06","objectID":"/theme-documentation-basics/:5:0","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"5.1 è¼¸å‡ºé…ç½® ç‚ºäº†ç”Ÿæˆæœç´¢åŠŸèƒ½æ‰€éœ€è¦çš„ index.json, è«‹åœ¨ä½ çš„ ç¶²ç«™é…ç½® ä¸­æ·»åŠ  JSON è¼¸å‡ºæ–‡ä»¶é¡å‹åˆ° outputs éƒ¨åˆ†çš„ home å­—æ®µä¸­. [outputs] home = [\"HTML\", \"RSS\", \"JSON\"] ","date":"2020-03-06","objectID":"/theme-documentation-basics/:5:1","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"5.2 æœç´¢é…ç½® åŸºæ–¼ Hugo ç”Ÿæˆçš„ index.json æ–‡ä»¶, ä½ å¯ä»¥æ¿€æ´»æœç´¢åŠŸèƒ½. é€™æ˜¯ä½ çš„ ç¶²ç«™é…ç½® ä¸­çš„æœç´¢éƒ¨åˆ†: [params.search] enable = true # æœç´¢å¼•æ“çš„é¡å‹ (\"lunr\", \"algolia\") type = \"lunr\" # æ–‡ç« å…§å®¹æœ€é•·ç´¢å¼•é•·åº¦ contentLength = 4000 # æœç´¢æ¡†çš„å ä½æç¤ºèª placeholder = \"\" # æœ€å¤§çµæœæ•¸ç›® maxResultLength = 10 # çµæœå…§å®¹ç‰‡æ®µé•·åº¦ snippetLength = 50 # æœç´¢çµæœä¸­é«˜äº®éƒ¨åˆ†çš„ HTML æ¨™ç°½ highlightTag = \"em\" # æ˜¯å¦åœ¨æœç´¢ç´¢å¼•ä¸­ä½¿ç”¨åŸºæ–¼ baseURL çš„çµ•å°è·¯å¾‘ absoluteURL = false [params.search.algolia] index = \"\" appID = \"\" searchKey = \"\" æ€æ¨£é¸æ“‡æœç´¢å¼•æ“? ä»¥ä¸‹æ˜¯å…©ç¨®æœç´¢å¼•æ“çš„å°æ¯”: lunr: ç°¡å–®, ç„¡éœ€åŒæ­¥ index.json, æ²’æœ‰ contentLength çš„é™åˆ¶, ä½†å ç”¨å¸¶å¯¬å¤§ä¸”æ€§èƒ½ä½ (ç‰¹åˆ¥æ˜¯ä¸­æ–‡éœ€è¦ä¸€å€‹è¼ƒå¤§çš„åˆ†è©ä¾è³´åº«) algolia: é«˜æ€§èƒ½ä¸¦ä¸”å ç”¨å¸¶å¯¬ä½, ä½†éœ€è¦åŒæ­¥ index.json ä¸”æœ‰ contentLength çš„é™åˆ¶ æ–‡ç« å…§å®¹è¢« h2 å’Œ h3 HTML æ¨™ç°½åˆ‡åˆ†ä¾†æé«˜æŸ¥è©¢æ•ˆæœä¸¦ä¸”åŸºæœ¬å¯¦ç¾å…¨æ–‡æœç´¢. contentLength ç”¨ä¾†é™åˆ¶ h2 å’Œ h3 HTML æ¨™ç°½é–‹é ­çš„å…§å®¹éƒ¨åˆ†çš„æœ€å¤§é•·åº¦. é—œæ–¼ algolia çš„ä½¿ç”¨æŠ€å·§ ä½ éœ€è¦ä¸Šå‚³ index.json åˆ° algolia ä¾†æ¿€æ´»æœç´¢åŠŸèƒ½. ä½ å¯ä»¥ä½¿ç”¨ç€è¦½å™¨ä¾†ä¸Šå‚³ index.json æ–‡ä»¶ä½†æ˜¯ä¸€å€‹è‡ªå‹•åŒ–çš„è…³æœ¬å¯èƒ½æ•ˆæœæ›´å¥½. Algolia Atomic æ˜¯ä¸€å€‹ä¸éŒ¯çš„é¸æ“‡. ç‚ºäº†å…¼å®¹ Hugo çš„å¤šèªè¨€æ¨¡å¼, ä½ éœ€è¦ä¸Šå‚³ä¸åŒèªè¨€çš„ index.json æ–‡ä»¶åˆ°å°æ‡‰çš„ algolia index, ä¾‹å¦‚ zh-cn/index.json æˆ– fr/index.jsonâ€¦ ","date":"2020-03-06","objectID":"/theme-documentation-basics/:5:2","tags":["installation","configuration"],"title":"ä¸»é¡Œæ–‡æª” - åŸºæœ¬æ¦‚å¿µ","uri":"/theme-documentation-basics/"},{"categories":["documentation"],"content":"äº†è§£å¦‚ä½•åœ¨ FeelIt ä¸»é¡Œä¸­å¿«é€Ÿ, ç›´è§€åœ°å‰µå»ºå’Œçµ„ç¹”å…§å®¹.","date":"2020-03-05","objectID":"/theme-documentation-content/","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"äº†è§£å¦‚ä½•åœ¨ FeelIt ä¸»é¡Œä¸­å¿«é€Ÿ, ç›´è§€åœ°å‰µå»ºå’Œçµ„ç¹”å…§å®¹. ","date":"2020-03-05","objectID":"/theme-documentation-content/:0:0","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"1 å…§å®¹çµ„ç¹” ä»¥ä¸‹æ˜¯ä¸€äº›æ–¹ä¾¿ä½ æ¸…æ™°ç®¡ç†å’Œç”Ÿæˆæ–‡ç« çš„ç›®éŒ„çµæ§‹å»ºè­°: ä¿æŒåšå®¢æ–‡ç« å­˜æ”¾åœ¨ content/posts ç›®éŒ„, ä¾‹å¦‚: content/posts/æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« .md ä¿æŒç°¡å–®çš„éœæ…‹é é¢å­˜æ”¾åœ¨ content ç›®éŒ„, ä¾‹å¦‚: content/about.md æœ¬åœ°è³‡æºçµ„ç¹” æœ¬åœ°è³‡æºå¼•ç”¨ æœ‰ä¸‰ç¨®æ–¹æ³•ä¾†å¼•ç”¨åœ–ç‰‡å’ŒéŸ³æ¨‚ç­‰æœ¬åœ°è³‡æº: ä½¿ç”¨é é¢åŒ…ä¸­çš„é é¢è³‡æº. ä½ å¯ä»¥ä½¿ç”¨é©ç”¨æ–¼ Resources.GetMatch çš„å€¼æˆ–è€…ç›´æ¥ä½¿ç”¨ç›¸å°æ–¼ç•¶å‰é é¢ç›®éŒ„çš„æ–‡ä»¶è·¯å¾‘ä¾†å¼•ç”¨é é¢è³‡æº. å°‡æœ¬åœ°è³‡æºæ”¾åœ¨ assets ç›®éŒ„ä¸­, é»˜èªè·¯å¾‘æ˜¯ /assets. å¼•ç”¨è³‡æºçš„æ–‡ä»¶è·¯å¾‘æ˜¯ç›¸å°æ–¼ assets ç›®éŒ„çš„. å°‡æœ¬åœ°è³‡æºæ”¾åœ¨ static ç›®éŒ„ä¸­, é»˜èªè·¯å¾‘æ˜¯ /static. å¼•ç”¨è³‡æºçš„æ–‡ä»¶è·¯å¾‘æ˜¯ç›¸å°æ–¼ static ç›®éŒ„çš„. å¼•ç”¨çš„å„ªå…ˆç´šç¬¦åˆä»¥ä¸Šçš„é †åº. åœ¨é€™å€‹ä¸»é¡Œä¸­çš„å¾ˆå¤šåœ°æ–¹å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æœ¬åœ°è³‡æºå¼•ç”¨, ä¾‹å¦‚ éˆæ¥, åœ–ç‰‡, image shortcode, music shortcode å’Œå‰ç½®åƒæ•¸ä¸­çš„éƒ¨åˆ†åƒæ•¸. é é¢è³‡æºæˆ–è€… assets ç›®éŒ„ä¸­çš„åœ–ç‰‡è™•ç†æœƒåœ¨æœªä¾†çš„ç‰ˆæœ¬ä¸­å¾—åˆ°æ”¯æŒ. éå¸¸é…·çš„åŠŸèƒ½! ","date":"2020-03-05","objectID":"/theme-documentation-content/:1:0","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"2 å‰ç½®åƒæ•¸ Hugo å…è¨±ä½ åœ¨æ–‡ç« å…§å®¹å‰é¢æ·»åŠ  yaml, toml æˆ–è€… json æ ¼å¼çš„å‰ç½®åƒæ•¸. æ³¨æ„ ä¸æ˜¯æ‰€æœ‰çš„ä»¥ä¸‹å‰ç½®åƒæ•¸éƒ½å¿…é ˆåœ¨ä½ çš„æ¯ç¯‡æ–‡ç« ä¸­è¨­ç½®. åªæœ‰åœ¨æ–‡ç« çš„åƒæ•¸å’Œä½ çš„ ç¶²ç«™è¨­ç½® ä¸­çš„ page éƒ¨åˆ†ä¸ä¸€è‡´æ™‚æ‰æœ‰å¿…è¦é€™éº½åš. é€™æ˜¯ä¸€å€‹å‰ç½®åƒæ•¸ä¾‹å­: ---title:\"æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« \"subtitle:\"\"date:2020-03-04T15:58:26+08:00lastmod:2020-03-04T15:58:26+08:00draft:trueauthor:\"\"authorLink:\"\"description:\"\"license:\"\"images:[]tags:[]categories:[]featuredImage:\"\"featuredImagePreview:\"\"hiddenFromHomePage:falsehiddenFromSearch:falsetwemoji:falselightgallery:trueruby:truefraction:truefontawesome:truelinkToMarkdown:truerssFullText:falsetoc:enable:trueauto:truecode:copy:true# ...math:enable:true# ...mapbox:accessToken:\"\"# ...share:enable:true# ...comment:enable:true# ...library:css:# someCSS = \"some.css\"# ä½æ–¼ \"assets/\"# æˆ–è€…# someCSS = \"https://cdn.example.com/some.css\"js:# someJS = \"some.js\"# ä½æ–¼ \"assets/\"# æˆ–è€…# someJS = \"https://cdn.example.com/some.js\"seo:images:[]# ...--- title: æ–‡ç« æ¨™é¡Œ. subtitle: æ–‡ç« å‰¯æ¨™é¡Œ. date: é€™ç¯‡æ–‡ç« å‰µå»ºçš„æ—¥æœŸæ™‚é–“. å®ƒé€šå¸¸æ˜¯å¾æ–‡ç« çš„å‰ç½®åƒæ•¸ä¸­çš„ date å­—æ®µç²å–çš„, ä½†æ˜¯ä¹Ÿå¯ä»¥åœ¨ ç¶²ç«™é…ç½® ä¸­è¨­ç½®. lastmod: ä¸Šæ¬¡ä¿®æ”¹å…§å®¹çš„æ—¥æœŸæ™‚é–“. draft: å¦‚æœè¨­ç‚º true, é™¤é hugo å‘½ä»¤ä½¿ç”¨äº† --buildDrafts/-D åƒæ•¸, é€™ç¯‡æ–‡ç« ä¸æœƒè¢«æ¸²æŸ“. author: æ–‡ç« ä½œè€…. authorLink: æ–‡ç« ä½œè€…çš„éˆæ¥. description: æ–‡ç« å…§å®¹çš„æè¿°. license: é€™ç¯‡æ–‡ç« ç‰¹æ®Šçš„è¨±å¯. images: é é¢åœ–ç‰‡, ç”¨æ–¼ Open Graph å’Œ Twitter Cards. tags: æ–‡ç« çš„æ¨™ç°½. categories: æ–‡ç« æ‰€å±¬çš„é¡åˆ¥. featuredImage: æ–‡ç« çš„ç‰¹è‰²åœ–ç‰‡. featuredImagePreview: ç”¨åœ¨ä¸»é é è¦½çš„æ–‡ç« ç‰¹è‰²åœ–ç‰‡. hiddenFromHomePage: å¦‚æœè¨­ç‚º true, é€™ç¯‡æ–‡ç« å°‡ä¸æœƒé¡¯ç¤ºåœ¨ä¸»é ä¸Š. hiddenFromSearch: å¦‚æœè¨­ç‚º true, é€™ç¯‡æ–‡ç« å°‡ä¸æœƒé¡¯ç¤ºåœ¨æœç´¢çµæœä¸­. twemoji: å¦‚æœè¨­ç‚º true, é€™ç¯‡æ–‡ç« æœƒä½¿ç”¨ twemoji. lightgallery: å¦‚æœè¨­ç‚º true, æ–‡ç« ä¸­çš„åœ–ç‰‡å°‡å¯ä»¥æŒ‰ç…§ç•«å»Šå½¢å¼å‘ˆç¾. ruby: å¦‚æœè¨­ç‚º true, é€™ç¯‡æ–‡ç« æœƒä½¿ç”¨ ä¸Šæ¨™æ³¨é‡‹æ“´å±•èªæ³•. fraction: å¦‚æœè¨­ç‚º true, é€™ç¯‡æ–‡ç« æœƒä½¿ç”¨ åˆ†æ•¸æ“´å±•èªæ³•. fontawesome: å¦‚æœè¨­ç‚º true, é€™ç¯‡æ–‡ç« æœƒä½¿ç”¨ Font Awesome æ“´å±•èªæ³•. linkToMarkdown: å¦‚æœè¨­ç‚º true, å…§å®¹çš„é è…³å°‡é¡¯ç¤ºæŒ‡å‘åŸå§‹ Markdown æ–‡ä»¶çš„éˆæ¥. rssFullText: å¦‚æœè¨­ç‚º true, åœ¨ RSS ä¸­å°‡æœƒé¡¯ç¤ºå…¨æ–‡å…§å®¹. toc: å’Œ ç¶²ç«™é…ç½® ä¸­çš„ params.page.toc éƒ¨åˆ†ç›¸åŒ. code: å’Œ ç¶²ç«™é…ç½® ä¸­çš„ params.page.code éƒ¨åˆ†ç›¸åŒ. math: å’Œ ç¶²ç«™é…ç½® ä¸­çš„ params.page.math éƒ¨åˆ†ç›¸åŒ. mapbox: å’Œ ç¶²ç«™é…ç½® ä¸­çš„ params.page.mapbox éƒ¨åˆ†ç›¸åŒ. share: å’Œ ç¶²ç«™é…ç½® ä¸­çš„ params.page.share éƒ¨åˆ†ç›¸åŒ. comment: å’Œ ç¶²ç«™é…ç½® ä¸­çš„ params.page.comment éƒ¨åˆ†ç›¸åŒ. library: å’Œ ç¶²ç«™é…ç½® ä¸­çš„ params.page.library éƒ¨åˆ†ç›¸åŒ. seo: å’Œ ç¶²ç«™é…ç½® ä¸­çš„ params.page.seo éƒ¨åˆ†ç›¸åŒ. æŠ€å·§ featuredImage å’Œ featuredImagePreview æ”¯æŒæœ¬åœ°è³‡æºå¼•ç”¨çš„å®Œæ•´ç”¨æ³•. å¦‚æœå¸¶æœ‰åœ¨å‰ç½®åƒæ•¸ä¸­è¨­ç½®äº† name: featured-image æˆ– name: featured-image-preview å±¬æ€§çš„é é¢è³‡æº, æ²’æœ‰å¿…è¦åœ¨è¨­ç½® featuredImage æˆ– featuredImagePreview: resources:- name:featured-imagesrc:featured-image.webp- name:featured-image-previewsrc:featured-image-preview.jpg ","date":"2020-03-05","objectID":"/theme-documentation-content/:2:0","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"3 å…§å®¹æ‘˜è¦ FeelIt ä¸»é¡Œä½¿ç”¨å…§å®¹æ‘˜è¦åœ¨ä¸»é ä¸­é¡¯ç¤ºå¤§è‡´æ–‡ç« ä¿¡æ¯ã€‚Hugo æ”¯æŒç”Ÿæˆæ–‡ç« çš„æ‘˜è¦. æ–‡ç« æ‘˜è¦é è¦½æ–‡ç« æ‘˜è¦é è¦½ \" æ–‡ç« æ‘˜è¦é è¦½ ","date":"2020-03-05","objectID":"/theme-documentation-content/:3:0","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"è‡ªå‹•æ‘˜è¦æ‹†åˆ† é»˜èªæƒ…æ³ä¸‹, Hugo è‡ªå‹•å°‡å…§å®¹çš„å‰ 70 å€‹å–®è©ä½œç‚ºæ‘˜è¦. ä½ å¯ä»¥é€šéåœ¨ ç¶²ç«™é…ç½® ä¸­è¨­ç½® summaryLength ä¾†è‡ªå®šç¾©æ‘˜è¦é•·åº¦. å¦‚æœæ‚¨è¦ä½¿ç”¨ CJKä¸­æ–‡/æ—¥èª/éŸ“èª èªè¨€å‰µå»ºå…§å®¹, ä¸¦ä¸”æƒ³ä½¿ç”¨ Hugo çš„è‡ªå‹•æ‘˜è¦æ‹†åˆ†åŠŸèƒ½ï¼Œè«‹åœ¨ ç¶²ç«™é…ç½® ä¸­å°‡ hasCJKLanguage è¨­ç½®ç‚º true. ","date":"2020-03-05","objectID":"/theme-documentation-content/:3:1","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"æ‰‹å‹•æ‘˜è¦æ‹†åˆ† å¦å¤–, ä½ ä¹Ÿå¯ä»¥æ·»åŠ  \u003c!--more--\u003e æ‘˜è¦åˆ†å‰²ç¬¦ä¾†æ‹†åˆ†æ–‡ç« ç”Ÿæˆæ‘˜è¦. æ‘˜è¦åˆ†éš”ç¬¦ä¹‹å‰çš„å…§å®¹å°‡ç”¨ä½œè©²æ–‡ç« çš„æ‘˜è¦. æ³¨æ„ è«‹å°å¿ƒè¼¸å…¥\u003c!--more--\u003e ; å³å…¨éƒ¨ç‚ºå°å¯«ä¸”æ²’æœ‰ç©ºæ ¼. ","date":"2020-03-05","objectID":"/theme-documentation-content/:3:2","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"å‰ç½®åƒæ•¸æ‘˜è¦ ä½ å¯èƒ½å¸Œæœ›æ‘˜è¦ä¸æ˜¯æ–‡ç« é–‹é ­çš„æ–‡å­—. åœ¨é€™ç¨®æƒ…æ³ä¸‹, ä½ å¯ä»¥åœ¨æ–‡ç« å‰ç½®åƒæ•¸çš„ summary è®Šé‡ä¸­è¨­ç½®å–®ç¨çš„æ‘˜è¦. ","date":"2020-03-05","objectID":"/theme-documentation-content/:3:3","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"ä½¿ç”¨æ–‡ç« æè¿°ä½œç‚ºæ‘˜è¦ ä½ å¯èƒ½å¸Œæœ›å°‡æ–‡ç« å‰ç½®åƒæ•¸ä¸­çš„ description è®Šé‡çš„å…§å®¹ä½œç‚ºæ‘˜è¦. ä½ ä»ç„¶éœ€è¦åœ¨æ–‡ç« é–‹é ­æ·»åŠ  \u003c!--more--\u003e æ‘˜è¦åˆ†å‰²ç¬¦. å°‡æ‘˜è¦åˆ†éš”ç¬¦ä¹‹å‰çš„å…§å®¹ä¿ç•™ç‚ºç©º. ç„¶å¾Œ FeelIt ä¸»é¡Œæœƒå°‡ä½ çš„æ–‡ç« æè¿°ä½œç‚ºæ‘˜è¦. ","date":"2020-03-05","objectID":"/theme-documentation-content/:3:4","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"æ‘˜è¦é¸æ“‡çš„å„ªå…ˆç´šé †åº ç”±æ–¼å¯ä»¥é€šéå¤šç¨®æ–¹å¼æŒ‡å®šæ‘˜è¦, å› æ­¤äº†è§£é †åºå¾ˆæœ‰ç”¨. å¦‚ä¸‹: å¦‚æœæ–‡ç« ä¸­æœ‰ \u003c!--more--\u003e æ‘˜è¦åˆ†éš”ç¬¦, ä½†åˆ†éš”ç¬¦ä¹‹å‰æ²’æœ‰å…§å®¹, å‰‡ä½¿ç”¨æè¿°ä½œç‚ºæ‘˜è¦. å¦‚æœæ–‡ç« ä¸­æœ‰ \u003c!--more--\u003e æ‘˜è¦åˆ†éš”ç¬¦, å‰‡å°‡æŒ‰ç…§æ‰‹å‹•æ‘˜è¦æ‹†åˆ†çš„æ–¹æ³•ç²å¾—æ‘˜è¦. å¦‚æœæ–‡ç« å‰ç½®åƒæ•¸ä¸­æœ‰æ‘˜è¦è®Šé‡, é‚£éº½å°‡ä»¥è©²å€¼ä½œç‚ºæ‘˜è¦. æŒ‰ç…§è‡ªå‹•æ‘˜è¦æ‹†åˆ†æ–¹æ³•. æ³¨æ„ ä¸å»ºè­°åœ¨æ‘˜è¦å…§å®¹ä¸­åŒ…å«å¯Œæ–‡æœ¬å¡Šå…ƒç´ , é€™æœƒå°è‡´æ¸²æŸ“éŒ¯èª¤. ä¾‹å¦‚ä»£ç¢¼å¡Š, åœ–ç‰‡, è¡¨æ ¼ç­‰. ","date":"2020-03-05","objectID":"/theme-documentation-content/:3:5","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"4 Markdown åŸºæœ¬èªæ³• é€™éƒ¨åˆ†å…§å®¹åœ¨ Markdown åŸºæœ¬èªæ³•é é¢ ä¸­ä»‹ç´¹. ","date":"2020-03-05","objectID":"/theme-documentation-content/:4:0","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"5 Markdown æ“´å±•èªæ³• FeelIt ä¸»é¡Œæä¾›äº†ä¸€äº›æ“´å±•çš„èªæ³•ä¾¿æ–¼ä½ æ’°å¯«æ–‡ç« . ","date":"2020-03-05","objectID":"/theme-documentation-content/:5:0","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"Emoji æ”¯æŒ é€™éƒ¨åˆ†å…§å®¹åœ¨ Emoji æ”¯æŒé é¢ ä¸­ä»‹ç´¹. ","date":"2020-03-05","objectID":"/theme-documentation-content/:5:1","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"æ•¸å­¸å…¬å¼ FeelIt åŸºæ–¼ $ \\KaTeX $ æä¾›æ•¸å­¸å…¬å¼çš„æ”¯æŒ. åœ¨ä½ çš„ ç¶²ç«™é…ç½® ä¸­çš„ [params.math] ä¸‹é¢è¨­ç½®å±¬æ€§ enable = true, ä¸¦åœ¨æ–‡ç« çš„å‰ç½®åƒæ•¸ä¸­è¨­ç½®å±¬æ€§ math: trueä¾†å•Ÿç”¨æ•¸å­¸å…¬å¼çš„è‡ªå‹•æ¸²æŸ“. æŠ€å·§ æœ‰ä¸€ä»½ $ \\KaTeX $ ä¸­æ”¯æŒçš„ $ \\TeX $ å‡½æ•¸ æ¸…å–®. å…¬å¼å¡Š é»˜èªçš„å…¬å¼å¡Šåˆ†å‰²ç¬¦æ˜¯ $$/$$ å’Œ \\\\[/\\\\]: $$ c = \\pm\\sqrt{a^2 + b^2} $$ \\\\[ f(x)=\\int_{-\\infty}^{\\infty} \\hat{f}(\\xi) e^{2 \\pi i \\xi x} d \\xi \\\\] å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: $$ c = \\pm\\sqrt{a^2 + b^2} $$ \\[ f(x)=\\int_{-\\infty}^{\\infty} \\hat{f}(\\xi) e^{2 \\pi i \\xi x} d \\xi \\] è¡Œå…§å…¬å¼ é»˜èªçš„è¡Œå…§å…¬å¼åˆ†å‰²ç¬¦æ˜¯ $/$ å’Œ \\\\(/\\\\): $ c = \\pm\\sqrt{a^2 + b^2} $ å’Œ \\\\( f(x)=\\int_{-\\infty}^{\\infty} \\hat{f}(\\xi) e^{2 \\pi i \\xi x} d \\xi \\\\) å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: $ c = \\pm\\sqrt{a^2 + b^2} $ å’Œ \\( f(x)=\\int_{-\\infty}^{\\infty} \\hat{f}(\\xi) e^{2 \\pi i \\xi x} d \\xi \\) æŠ€å·§ ä½ å¯ä»¥åœ¨ ç¶²ç«™é…ç½® ä¸­è‡ªå®šç¾©å…¬å¼å¡Šå’Œè¡Œå…§å…¬å¼çš„åˆ†å‰²ç¬¦. Copy-tex Copy-tex æ˜¯ä¸€å€‹ $ \\KaTeX $ çš„æ’ä»¶. é€šéé€™å€‹æ“´å±•, åœ¨é¸æ“‡ä¸¦è¦†åˆ¶ $ \\KaTeX $ æ¸²æŸ“çš„å…¬å¼æ™‚, æœƒå°‡å…¶ $ \\LaTeX $ æºä»£ç¢¼è¦†åˆ¶åˆ°å‰ªè²¼æ¿. åœ¨ä½ çš„ ç¶²ç«™é…ç½® ä¸­çš„ [params.math] ä¸‹é¢è¨­ç½®å±¬æ€§ copyTex = true ä¾†å•Ÿç”¨ Copy-tex. é¸æ“‡ä¸¦è¦†åˆ¶ä¸Šä¸€ç¯€ä¸­æ¸²æŸ“çš„å…¬å¼, å¯ä»¥ç™¼ç¾è¦†åˆ¶çš„å…§å®¹ç‚º LaTeX æºä»£ç¢¼. mhchem mhchem æ˜¯ä¸€å€‹ $ \\KaTeX $ çš„æ’ä»¶. é€šéé€™å€‹æ“´å±•, ä½ å¯ä»¥åœ¨æ–‡ç« ä¸­è¼•æ¾ç·¨å¯«æ¼‚äº®çš„åŒ–å­¸æ–¹ç¨‹å¼. åœ¨ä½ çš„ ç¶²ç«™é…ç½® ä¸­çš„ [params.math] ä¸‹é¢è¨­ç½®å±¬æ€§ mhchem = true ä¾†å•Ÿç”¨ mhchem. $$ \\ce{CO2 + C -\u003e 2 CO} $$ $$ \\ce{Hg^2+ -\u003e[I-] HgI2 -\u003e[I-] [Hg^{II}I4]^2-} $$ å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: $$ \\ce{CO2 + C -\u003e 2 CO} $$ $$ \\ce{Hg^2+ -\u003e[I-] HgI2 -\u003e[I-] [Hg^{II}I4]^2-} $$ ","date":"2020-03-05","objectID":"/theme-documentation-content/:5:2","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"å­—ç¬¦æ³¨éŸ³æˆ–è€…æ³¨é‡‹ FeelIt ä¸»é¡Œæ”¯æŒä¸€ç¨® å­—ç¬¦æ³¨éŸ³æˆ–è€…æ³¨é‡‹ Markdown æ“´å±•èªæ³•: [Hugo]^(ä¸€å€‹é–‹æºçš„éœæ…‹ç¶²ç«™ç”Ÿæˆå·¥å…·) å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Hugoä¸€å€‹é–‹æºçš„éœæ…‹ç¶²ç«™ç”Ÿæˆå·¥å…· ","date":"2020-03-05","objectID":"/theme-documentation-content/:5:3","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"åˆ†æ•¸ FeelIt ä¸»é¡Œæ”¯æŒä¸€ç¨® åˆ†æ•¸ Markdown æ“´å±•èªæ³•: [æ·ºè‰²]/[æ·±è‰²] [99]/[100] å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: æ·ºè‰²/æ·±è‰² 90/100 ","date":"2020-03-05","objectID":"/theme-documentation-content/:5:4","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"Font Awesome FeelIt ä¸»é¡Œä½¿ç”¨ Font Awesome ä½œç‚ºåœ–æ¨™åº«. ä½ åŒæ¨£å¯ä»¥åœ¨æ–‡ç« ä¸­è¼•æ¾ä½¿ç”¨é€™äº›åœ–æ¨™. å¾ Font Awesome ç¶²ç«™ ä¸Šç²å–æ‰€éœ€çš„åœ–æ¨™ class. å»éœ²ç‡Ÿå•¦! :(fas fa-campground fa-fw): å¾ˆå¿«å°±å›ä¾†. çœŸé–‹å¿ƒ! :(far fa-grin-tears): å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: å»éœ²ç‡Ÿå•¦! Â å¾ˆå¿«å°±å›ä¾†. çœŸé–‹å¿ƒ! ","date":"2020-03-05","objectID":"/theme-documentation-content/:5:5","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"è½‰ç¾©å­—ç¬¦ åœ¨æŸäº›ç‰¹æ®Šæƒ…æ³ä¸‹ (ç·¨å¯«é€™å€‹ä¸»é¡Œæ–‡æª”æ™‚ ), ä½ çš„æ–‡ç« å…§å®¹æœƒèˆ‡ Markdown çš„åŸºæœ¬æˆ–è€…æ“´å±•èªæ³•æ²–çª, ä¸¦ä¸”ç„¡æ³•é¿å…. è½‰ç¾©å­—ç¬¦èªæ³•å¯ä»¥å¹«åŠ©ä½ æ¸²æŸ“å‡ºæƒ³è¦çš„å…§å®¹: {?X} -\u003e X ä¾‹å¦‚, å…©å€‹ : æœƒå•Ÿç”¨ emoji èªæ³•. ä½†æœ‰æ™‚å€™é€™ä¸æ˜¯ä½ æƒ³è¦çš„çµæœ. å¯ä»¥åƒé€™æ¨£ä½¿ç”¨è½‰ç¾©å­—ç¬¦èªæ³•: {?:}joy: å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: :joy: è€Œä¸æ˜¯ ğŸ˜‚ æŠ€å·§ é€™å€‹æ–¹æ³•å¯ä»¥é–“æ¥è§£æ±ºä¸€å€‹é‚„æœªè§£æ±ºçš„ Hugo çš„ issue. å¦ä¸€å€‹ä¾‹å­æ˜¯: [link{?]}(#escape-character) å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: [link](#escape-character) è€Œä¸æ˜¯ link. ","date":"2020-03-05","objectID":"/theme-documentation-content/:5:6","tags":["content","Markdown"],"title":"ä¸»é¡Œæ–‡æª” - å…§å®¹","uri":"/theme-documentation-content/"},{"categories":["documentation"],"content":"Hugo æä¾›äº†å¤šå€‹å…§ç½®çš„ Shortcodes, ä»¥æ–¹ä¾¿ä½œè€…ä¿æŒ Markdown å…§å®¹çš„æ•´æ½”.","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"Hugo æä¾›äº†å¤šå€‹å…§ç½®çš„ Shortcodes, ä»¥æ–¹ä¾¿ä½œè€…ä¿æŒ Markdown å…§å®¹çš„æ•´æ½”. Hugo ä½¿ç”¨ Markdown ç‚ºå…¶ç°¡å–®çš„å…§å®¹æ ¼å¼. ä½†æ˜¯, Markdown åœ¨å¾ˆå¤šæ–¹é¢éƒ½ç„¡æ³•å¾ˆå¥½åœ°æ”¯æŒ. ä½ å¯ä»¥ä½¿ç”¨ç´” HTML ä¾†æ“´å±•å¯èƒ½æ€§. ä½†é€™æ°å¥½æ˜¯ä¸€å€‹å£ä¸»æ„. å¤§å®¶ä½¿ç”¨ Markdown, æ­£æ˜¯å› ç‚ºå®ƒå³ä½¿ä¸ç¶“éæ¸²æŸ“ä¹Ÿå¯ä»¥è¼•æ¾é–±è®€. æ‡‰è©²ç›¡å¯èƒ½é¿å…ä½¿ç”¨ HTML ä»¥ä¿æŒå…§å®¹ç°¡æ½”. ç‚ºäº†é¿å…é€™ç¨®é™åˆ¶, Hugo å‰µå»ºäº† shortcodes. shortcode æ˜¯ä¸€å€‹ç°¡å–®ä»£ç¢¼æ®µ, å¯ä»¥ç”Ÿæˆåˆç†çš„ HTML ä»£ç¢¼, ä¸¦ä¸”ç¬¦åˆ Markdown çš„è¨­è¨ˆå“²å­¸. Hugo é™„å¸¶äº†ä¸€çµ„é å®šç¾©çš„ shortcodes, å®ƒå€‘å¯¦ç¾äº†ä¸€äº›éå¸¸å¸¸è¦‹çš„ç”¨æ³•. æä¾›é€™äº› shortcodes æ˜¯ç‚ºäº†æ–¹ä¾¿ä¿æŒä½ çš„ Markdown å…§å®¹ç°¡æ½”. ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:0:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"1 figure figure çš„æ–‡æª” ä¸€å€‹ figure ç¤ºä¾‹: {{\u003c figure src=\"/images/lighthouse.jpg\" alt=\"/images/lighthouse.jpg\" title=\"Lighthouse (figure)\" \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Lighthouse (figure) è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cfigure\u003e \u003cimg src=\"/images/lighthouse.jpg\" alt=\"/images/lighthouse.jpg\" /\u003e \u003cfigcaption\u003e \u003ch4\u003eLighthouse (figure)\u003c/h4\u003e \u003c/figcaption\u003e \u003c/figure\u003e ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:1:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"2 gist gist çš„æ–‡æª” ä¸€å€‹ gist ç¤ºä¾‹: {{\u003c gist spf13 7896402 \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cscript type=\"application/javascript\" src=\"https://gist.github.com/spf13/7896402.js\"\u003e\u003c/script\u003e ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:2:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"3 highlight highlight çš„æ–‡æª” ä¸€å€‹ highlight ç¤ºä¾‹: {{\u003c highlight html \u003e}} \u003csection id=\"main\"\u003e \u003cdiv\u003e \u003ch1 id=\"title\"\u003e{{ .Title }}\u003c/h1\u003e {{ range .Pages }} {{ .Render \"summary\"}} {{ end }} \u003c/div\u003e \u003c/section\u003e {{\u003c /highlight \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: \u003csection id=\"main\"\u003e \u003cdiv\u003e \u003ch1 id=\"title\"\u003e{{ .Title }}\u003c/h1\u003e {{ range .Pages }} {{ .Render \"summary\"}} {{ end }} \u003c/div\u003e \u003c/section\u003e ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:3:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"4 instagram At the moment, Hugo using deprecated oEmbed-legacy linked API endpoint. Those deprecated API causes an error when Hugo retrieving the data. The newest API has been included in the extended shortcode. ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:4:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"5 param param çš„æ–‡æª” ä¸€å€‹ param ç¤ºä¾‹: {{\u003c param description \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Hugo æä¾›äº†å¤šå€‹å…§ç½®çš„ Shortcodes, ä»¥æ–¹ä¾¿ä½œè€…ä¿æŒ Markdown å…§å®¹çš„æ•´æ½”. ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:5:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"6 ref å’Œ relref ref å’Œ relref çš„æ–‡æª” ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:6:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"7 tweet This method was moved with the newest API in the extended shortcode documentation. ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:7:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"8 vimeo vimeo çš„æ–‡æª” ä¸€å€‹ vimeo ç¤ºä¾‹: {{\u003c vimeo 146022717 \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:8:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["documentation"],"content":"9 youtube youtube çš„æ–‡æª” ä¸€å€‹ youtube ç¤ºä¾‹: {{\u003c youtube w7Ft2ymGmfc \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Ctrl+A or Ctrl+V ç¸½å…±æœ‰ï¼š3627 å­— åœ¨ç·šä¸Šä¿®æ”¹åœ–ç‰‡ï¼Œç›¸ç‰‡ï¼Œç…§ç‰‡So Easy. é»æ­¤çœ‹ Â» ç·šä¸Šå·¥å…· | Sitemap | è¯çµ¡æˆ‘å€‘ | ç¹ªæ–‡å­— | è¨±é¡˜æ¨¹ Copyright Â©2022 Online Tools,All Rights Reserved. TOP GmailFacebookTwitterWhatsAppTelegramWeChatLineåˆ†äº« è®€å–ä¸­â€¦ ","date":"2020-03-04","objectID":"/theme-documentation-built-in-shortcodes/:9:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - å…§ç½® Shortcodes","uri":"/theme-documentation-built-in-shortcodes/"},{"categories":["codenotes"],"content":"æœ¬ç¯‡æ˜¯æˆ‘å€‘é€²å…¥ GCP çš„ç¬¬ä¸‰ç¯‡æ–‡ç« ï¼Œè©³ç´°çš„æ–‡ç« åˆ—è¡¨å¤§å®¶å¯ä»¥åˆ°é€™ä¸€ç¯‡æŸ¥çœ‹ ï½ è·Ÿå¤§å®¶ä»‹ç´¹ä¸€ä¸‹ä»Šå¤©çš„ä¸»é¡Œ Cloud Source Repositoriesï¼Œè½åˆ° Source Repositories æ˜¯ä¸æ˜¯æ„Ÿè¦ºè·Ÿä»€éº¼æ±è¥¿å¾ˆåƒå‘€ï¼Œæ²’éŒ¯ï¼Œå°±è·Ÿæˆ‘å€‘çš„ GitHub or GitLab ä¸€æ¨£ï¼Œå¯ä»¥ç”¨ä¾†å­˜æ”¾æˆ‘å€‘çš„ç¨‹å¼ç¢¼çš„å„²å­˜åº«ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å®˜æ–¹æ€éº¼ä»‹ç´¹ä»–å§ï¼š å®˜æ–¹ä»‹ç´¹ Cloud Source Repositories\" å®˜æ–¹ä»‹ç´¹ Cloud Source Repositories å¾ˆå¥½æ­ï¼Œéå¸¸ç°¡å–®æ˜ç­ ğŸ¤£ï¼Œæ²’éŒ¯ï¼ŒCloud Source Repositories å°±æ˜¯è¨—ç®¡åœ¨ Google Cloud ä¸ŠåŠŸèƒ½é½Šå…¨(ï¼Ÿ)çš„ç§æœ‰ Git å„²å­˜åº«ã€‚ç‚ºä»€éº¼æœƒæ‰“ä¸€å€‹å•è™Ÿå‘¢ï¼Ÿæ˜¯å› ç‚ºä»–å…¶å¯¦æ²’æœ‰é‚£éº¼å¥½ç”¨ï¼Œæ‰€ä»¥æˆ‘å€‘é€šå¸¸çš„åšæ³•ï¼Œé‚„æ˜¯æœƒä¾é  GitHab æˆ–æ˜¯ GitLab ä¾†å­˜æ”¾ç¨‹å¼ç¢¼ï¼Œå†é€éé¡åƒ (mirror) çš„æ–¹å¼åˆ° Google Cloud Source Repositoriesã€‚ é‚£æˆ‘å€‘å°±é–‹å§‹å›‰ï½ ","date":"2022-07-01","objectID":"/gcp-gcsr/:0:0","tags":["GCP","Source Repositories","git"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Cloud Source Repositories [ EP.3 ]","uri":"/gcp-gcsr/"},{"categories":["codenotes"],"content":"Cloud Source Repositories æ¸¬è©¦ ","date":"2022-07-01","objectID":"/gcp-gcsr/:1:0","tags":["GCP","Source Repositories","git"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Cloud Source Repositories [ EP.3 ]","uri":"/gcp-gcsr/"},{"categories":["codenotes"],"content":"å»ºç«‹ GitLab Project é¦–å…ˆï¼Œæˆ‘å€‘ç”¨ GitLab ä¾†ç•¶ç¤ºç¯„ï¼Œå¦‚ä½•é€éé¡åƒ (mirror) åˆ° Cloud Source Repositories ä¸Šé¢ï¼Œæˆ‘å€‘å…ˆåœ¨ GitLab ä¸Šå»ºç«‹ä¸€å€‹ Projectï¼š å»ºç«‹ GitLab Project\" å»ºç«‹ GitLab Project ","date":"2022-07-01","objectID":"/gcp-gcsr/:1:1","tags":["GCP","Source Repositories","git"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Cloud Source Repositories [ EP.3 ]","uri":"/gcp-gcsr/"},{"categories":["codenotes"],"content":"ä½¿ç”¨ gcloud æŒ‡ä»¤å»ºç«‹ Source Repo é¦–å…ˆï¼Œä¸€å®šè¦å…ˆè£ gcloud æŒ‡ä»¤åˆ°æœ¬æ©Ÿï¼Œé€™å€‹æ­¥é©Ÿï¼Œå‰é¢æ–‡ç« ä¹Ÿæœ‰èªªéï¼Œé€™é‚Šå°±ä¸åœ¨èªªæ˜ï¼Œæˆ‘å€‘å…ˆä½¿ç”¨ä¸€ä¸‹æŒ‡ä»¤ä¾†æŸ¥çœ‹ç›®å‰æ‰€åœ¨çš„ GCP å°ˆæ¡ˆï¼š gcloud config get-value project æ­£å¸¸ä¾†èªªï¼Œå¦‚æœæœ‰å…ˆç”¨ config è¨­å®šå¥½ï¼Œæœƒç›´æ¥è·³å‡ºä½ ç›®å‰çš„å°ˆæ¡ˆ IDï¼Œå¦‚æœæ²’æœ‰è·³å‡ºä¾†ï¼Œè«‹ä½¿ç”¨ä¸‹é¢æŒ‡ä»¤ä¾†è¨­å®šï¼š gcloud config set project \u003cproject id\u003e æ¥è‘—æˆ‘å€‘è¦å•Ÿå‹•è©²å°ˆæ¡ˆçš„ Cloud Source Repositories APIï¼š gcloud services enable sourcerepo.googleapis.com å‰µå»º Cloud Source Repositories gcloud source repos create \u003crepo name\u003e å®Œæˆå¾Œï¼Œé–‹å•Ÿ GCP æª¢æŸ¥ä¸€ä¸‹æ˜¯å¦æœ‰å»ºç«‹æˆåŠŸï½é»æ“Šå·¦å´ menu \u003e Source Repositoriesï¼Œ é–‹å•Ÿ Source Repositories\" é–‹å•Ÿ Source Repositories æˆåŠŸå»ºç«‹ Source Repositories\" æˆåŠŸå»ºç«‹ Source Repositories ","date":"2022-07-01","objectID":"/gcp-gcsr/:1:2","tags":["GCP","Source Repositories","git"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Cloud Source Repositories [ EP.3 ]","uri":"/gcp-gcsr/"},{"categories":["codenotes"],"content":"å°‡ç¨‹å¼ç¢¼æ–°å¢è‡³å­˜æ”¾å€ä¸­ æˆ‘å€‘è¦åœ¨é€™ä¸€æ­¥ä¾†è¨­å®šé¡åƒ (mirror)ï¼Œé¦–å…ˆæˆ‘å€‘çœ‹å‰›å‰›ä¸Šé¢å»ºç«‹å¥½çš„ Source Repositoriesï¼Œå…¶ä¸­æœ‰ä¸€å€‹æ‰‹å‹•ç”¢ç”Ÿçš„æ†‘è­‰ï¼Œé»é¸ ç”¢ç”ŸåŠå„²å­˜ Git æ†‘è­‰ ç”¢ç”ŸåŠå„²å­˜ Git æ†‘è­‰\" ç”¢ç”ŸåŠå„²å­˜ Git æ†‘è­‰ é»å®Œå¾Œæœƒéœ€è¦å…ˆç™»å…¥ä½ çš„ GCP å¸³è™Ÿï¼Œç™»å…¥å®Œå¾Œæœƒå‡ºç¾ä»¥ä¸‹å…§å®¹ï¼š Configure Git\" Configure Git æ¥è‘—æŠŠè—è‰²æ¡†æ¡†å…§çš„è¼¸å…¥åˆ°çµ‚ç«¯æ©Ÿå…§ Configure Git\" Configure Git æ¥è‘—è«‹è¤‡è£½ä»¥ä¸‹æŒ‡ä»¤è²¼åˆ°çµ‚ç«¯æ©Ÿå…§ï¼Œæœƒç”Ÿæˆæ†‘è­‰å¯†ç¢¼ï¼š grep 'source.developers.google.com' ~/.gitcookies | tail -1 | cut -d= -f2 ç”Ÿæˆæ†‘è­‰å¯†ç¢¼\" ç”Ÿæˆæ†‘è­‰å¯†ç¢¼ æ¥è‘—è«‹è¤‡è£½ä»¥ä¸‹æŒ‡ä»¤è²¼åˆ°çµ‚ç«¯æ©Ÿå…§ï¼Œå°‡ç”¨æˆ¶åå­˜å„²åœ¨ CSR_USER ç’°å¢ƒè®Šé‡ä¸­ï¼š CSR_USER=$(grep 'source.developers.google.com' ~/.gitcookies | \\ tail -1 | cut -d$'\\t' -f7 | cut -d= -f1) ç”¨æˆ¶åå­˜å„²åœ¨ CSR_USER ç’°å¢ƒè®Šé‡ä¸­\" ç”¨æˆ¶åå­˜å„²åœ¨ CSR_USER ç’°å¢ƒè®Šé‡ä¸­ æ¥è‘—è«‹è¤‡è£½ä»¥ä¸‹æŒ‡ä»¤è²¼åˆ°çµ‚ç«¯æ©Ÿå…§ï¼Œå°‡ GCP å­˜å„²åº«çš„ URL å­˜å„²åœ¨ CSR_REPO ç’°å¢ƒè®Šé‡ä¸­ (repo name è¦æ”¹æˆä½ åœ¨ gcp ä¸Šé¢çš„ repo)ï¼š CSR_REPO=$(gcloud source repos describe \u003crepo name\u003e --format=\"value(url)\") å°‡ GCP å­˜å„²åº«çš„ URL å­˜å„²åœ¨ CSR_REPO ç’°å¢ƒè®Šé‡ä¸­\" å°‡ GCP å­˜å„²åº«çš„ URL å­˜å„²åœ¨ CSR_REPO ç’°å¢ƒè®Šé‡ä¸­ æ¥è‘—è«‹è¤‡è£½ä»¥ä¸‹æŒ‡ä»¤è²¼åˆ°çµ‚ç«¯æ©Ÿå…§ï¼Œå°‡å­˜å„²åº«çš„ URLï¼ˆåŒ…æ‹¬ç”¨æˆ¶åï¼‰å°åˆ°çµ‚ç«¯æ©Ÿä¸Šï¼š echo $CSR_REPO | sed \"s/:\\/\\//:\\/\\/${CSR_USER}@/\" å­˜å„²åº«çš„ URLï¼ˆåŒ…æ‹¬ç”¨æˆ¶åï¼‰å°åˆ°çµ‚ç«¯æ©Ÿä¸Š\" å­˜å„²åº«çš„ URLï¼ˆåŒ…æ‹¬ç”¨æˆ¶åï¼‰å°åˆ°çµ‚ç«¯æ©Ÿä¸Š ç¶“éä¸Šé¢æ“ä½œï¼Œæˆ‘å€‘å¯ä»¥åœ¨ç¬¬ 4 æ­¥é©Ÿæ‹¿åˆ°å¯†ç¢¼ï¼Œä»¥åŠåœ¨ç¬¬ 7 æ­¥é©Ÿæ‹¿åˆ°å®Œæ•´çš„ GCP URLï¼Œæ¥è‘—æˆ‘å€‘è¦åˆ° GItLab Mirror ä¾†è¨­å®šé¡åƒã€‚ ","date":"2022-07-01","objectID":"/gcp-gcsr/:1:3","tags":["GCP","Source Repositories","git"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Cloud Source Repositories [ EP.3 ]","uri":"/gcp-gcsr/"},{"categories":["codenotes"],"content":"åˆ° GitLab Mirror è¨­å®šé¡åƒ å…ˆå¾å³å´ muen \u003e é¸æ“‡ Settings \u003e é»é¸ Repositoryï¼Œæ‰¾åˆ° Mirroring repositories GitLab Mirror è¨­å®šé¡åƒ\" GitLab Mirror è¨­å®šé¡åƒ å°‡å‰›å‰›æ‹¿åˆ°çš„ URL ä»¥åŠå¯†ç¢¼å„åˆ¥è¼¸å…¥ Git repository URL ä»¥åŠ Passwordï¼Œè¨˜å¾—è¦é¸æ“‡ Mirror directionï¼Œå› ç‚ºæˆ‘å€‘æ˜¯è¦å°‡ gitlab çš„é¡åƒåˆ° GCP çš„ Cloud Source Repositoriesï¼Œæ‰€ä»¥æˆ‘å€‘è¦é¸æ“‡ PUSHï¼Œæœ€å¾ŒæŒ‰ä¸‹ Mirror repositoryï¼š GitLab Mirror è¨­å®šé¡åƒ\" GitLab Mirror è¨­å®šé¡åƒ å¦‚æœæ²’æœ‰è·³å‡ºéŒ¯èª¤ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ²’æœ‰å•é¡Œäº†ï¼ GitLab Mirror æª¢æŸ¥\" GitLab Mirror æª¢æŸ¥ å°±å¯ä»¥è©¦è‘—åœ¨ gitlab ä¸Šé¢æ¨ç¨‹å¼ï¼Œçœ‹çœ‹æœ‰æ²’æœ‰è·‘åˆ° Cloud Source Repositories ä¸Šé¢å›‰ï¼ GitLab æ¨ç¨‹å¼æ¸¬è©¦\" GitLab æ¨ç¨‹å¼æ¸¬è©¦ ","date":"2022-07-01","objectID":"/gcp-gcsr/:1:4","tags":["GCP","Source Repositories","git"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Cloud Source Repositories [ EP.3 ]","uri":"/gcp-gcsr/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Cloud Source Repositories documentation Mirroring GitLab repositories to Cloud Source Repositories ","date":"2022-07-01","objectID":"/gcp-gcsr/:2:0","tags":["GCP","Source Repositories","git"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Cloud Source Repositories [ EP.3 ]","uri":"/gcp-gcsr/"},{"categories":["codenotes"],"content":"æœ¬ç¯‡æ˜¯æˆ‘å€‘é€²å…¥ GCP çš„ç¬¬äºŒç¯‡æ–‡ç« ï¼Œè©³ç´°çš„æ–‡ç« åˆ—è¡¨å¤§å®¶å¯ä»¥åˆ°é€™ä¸€ç¯‡æŸ¥çœ‹ ï½ è·Ÿå¤§å®¶ä»‹ç´¹ä¸€ä¸‹ä»Šå¤©çš„ä¸»é¡Œ Google Compute Engine(GCE)ï¼ŒGCE æ˜¯ Google Cloud ä¸Šçš„åŸºç¤æ¶æ§‹æœå‹™ (IaaS)ï¼Œè©²å¹³å°å¯ä»¥æä¾›å¤§è¦æ¨¡çš„è™›æ“¬æ©Ÿå™¨ä»¥åŠç›¸é—œçš„åŸºç¤å»ºè¨­ (åŒ…å«ç¡¬ç¢Ÿã€ç¶²è·¯ã€é™„è¼‰å¹³è¡¡å™¨â€¦ ç­‰ç­‰)ä¾†å»ºç½®åŠé‹ä½œæ‚¨çš„æœå‹™ï¼Œé‚£æˆ‘å€‘å¯ä»¥å°‡ GCE æœå‹™çš„ä¸»è¦åŠŸèƒ½åŠƒåˆ†æˆä»¥ä¸‹å¹¾é»ï¼š ","date":"2022-06-29","objectID":"/gcp-gce/:0:0","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"Google Compute Engine ç‰¹è‰² ","date":"2022-06-29","objectID":"/gcp-gce/:1:0","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"ç©©å¥çš„ç¶²è·¯åŠŸèƒ½ æä¾›ä½¿ç”¨è€…æ“æœ‰ç©©å¥çš„ç¶²è·¯åŠŸèƒ½ï¼Œä»¥é‹è¡Œå„é …æ‡‰ç”¨ç¨‹å¼åŠæœå‹™ã€‚ ","date":"2022-06-29","objectID":"/gcp-gce/:1:1","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"è‡ªè¨‚ç¶²è·¯èˆ‡é è¨­ç¶²è·¯ GCE åŒ…å«å…§éƒ¨èˆ‡å¤–éƒ¨çš„ç¶²è·¯é€£ç·šèƒ½åŠ›ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥é€éè‡ªè¨‚è¦åŠƒä¾†å»ºç½®å±¬æ–¼è‡ªå·±æœå‹™é©ç”¨çš„ç¶²è·¯ï¼Œè€Œåœ¨ GCE æœå‹™é–‹é€šç•¶ä¸‹ï¼Œä¹Ÿæä¾›é è¨­çš„ default networkï¼Œå…§å»ºå¸¸ç”¨çš„è·¯ç”±èˆ‡é˜²ç«ç‰†è¨­å®š (ä¾‹å¦‚ï¼šSSHã€RDPã€ICMPâ€¦ ç­‰)ï¼Œä¾›å…¥é–€ä½¿ç”¨è€…ç›´æ¥ä½¿ç”¨ã€‚ ","date":"2022-06-29","objectID":"/gcp-gce/:1:2","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"é˜²ç«ç‰†è¦å‰‡ é™¤äº†é è¨­é˜²ç«ç‰†è¦å‰‡å¤–ï¼Œä½¿ç”¨è€…ä¹Ÿå¯ä»¥é€éè‡ªå»ºé˜²ç«ç‰†ä¾†é–‹æ”¾å¯ä»¥é€£å…¥çš„ IPã€‚ ","date":"2022-06-29","objectID":"/gcp-gce/:1:3","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"å„å€åŸŸçš„ HTTP(S) çš„è² è¼‰å¹³è¡¡ ç‚º Layer 7 çš„è² è¼‰å¹³è¡¡è¨­å‚™ï¼Œé€éè¨­å®šå¯ä»¥ä¸²é€£å¤šå°ä¸»æ©Ÿæˆ–æ˜¯ä¸»æ©Ÿç¾¤çµ„ï¼Œè®“æœå‹™ä¸å†åªæ˜¯ä¾è³´æ–¼å–®é»å­˜åœ¨çš„ä¼ºæœå™¨ã€‚Layer 7 çš„è² è¼‰å¹³è¡¡æ›´å¯ä»¥è­˜åˆ¥è·¯ç”±è¦åŠƒï¼Œé€²ä¸€æ­¥å¯ä»¥æä¾›ä¸åŒè·¯ç”±çš„é‡å°è¦å‰‡è¨­å®šï¼Œä¹Ÿå¯ä»¥æä¾› CDN çš„ Cache åŠŸèƒ½ã€‚ ","date":"2022-06-29","objectID":"/gcp-gce/:1:4","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"ç¶²è·¯çš„è² è¼‰å¹³è¡¡ ç‚º Layer4 çš„è² è¼‰å¹³è¡¡è¨­å‚™ï¼Œå¯ä»¥é€é Protocol èˆ‡ Port çš„æ–¹å¼ä¾†é‡å°å¤–éƒ¨æµé‡åˆ° GCE ä¸»æ©Ÿæˆ–ä¸»æ©Ÿç¾¤ï¼Œä¸¦å¯ä»¥é€é Health Check çš„æ–¹å¼ï¼Œè®“æµé‡åƒ…é€šéå¥åº·çš„ä¸»æ©Ÿï¼Œé¿å…æœå‹™ä¸­æ–·ã€‚ ","date":"2022-06-29","objectID":"/gcp-gce/:1:5","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"å­ç¶²è·¯ é€é CIDR çš„æ–¹å¼è¨­å®š GCE Network ä¸­çš„å„å­ç¶²è·¯ç¯„åœï¼Œä¸¦å¯ä»¥é€éè·¯ç”±çš„æ–¹å¼ä¸²æ¥å„å­ç¶²è·¯ä¸­é–“çš„é€šè¨Šï¼Œè®“ GCE ç¶²è·¯çš„è¨­è¨ˆè¦åŠƒå¯ä»¥æ›´æœ‰å½ˆæ€§ï¼Œä¹Ÿå¯ä»¥è®“å­ç¶²è·¯çš„è¦åŠƒä¾†å¯¦ä½œæ›´å®‰å…¨çš„é›²ç«¯ç¶²è·¯æ¶æ§‹ã€‚ ","date":"2022-06-29","objectID":"/gcp-gce/:1:6","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"Google Compute Engine æ¸¬è©¦ é¦–å…ˆæˆ‘å€‘ä½¿ç”¨ cloudskillsboost æä¾›çš„ Creating a Virtual Machine ä¾†åšç·´ç¿’ï¼Œæ‰“é–‹å¾Œï¼Œè«‹å…ˆç™»å…¥è‡ªå·±çš„ Google å¸³è™Ÿï¼Œæ¥è‘—é»é¸å·¦ä¸Šè§’çš„ Start Labï¼Œæœƒè·³å‡ºèˆ‡ä¸‹é¢åœ–ç‰‡é¡ä¼¼çš„å…§å®¹ï¼š æ¸¬è©¦ç”¨çš„å¸³è™Ÿå¯†ç¢¼\" æ¸¬è©¦ç”¨çš„å¸³è™Ÿå¯†ç¢¼ ","date":"2022-06-29","objectID":"/gcp-gce/:2:0","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"æ–°å¢æ–°çš„ VM å¯¦ä¾‹ é»é¸ Open Google Console æŒ‰éˆ•ä¾†é–‹å•Ÿ GCP ä¸»æ§å° ç™»å…¥å¸³è™Ÿå°±ä½¿ç”¨ä¸Šé¢åœ–ç‰‡æ‰€æä¾›çš„å¸³è™Ÿå¯†ç¢¼ä¾†é€²è¡Œç™»å…¥ ç™»å…¥æˆåŠŸæœƒé€²å…¥ GCP ä¸»æ§å°ï¼Œé»é¸å·¦å´çš„ menu \u003e Compute Engine \u003e VM Instancesï¼Œå¯ä»¥åƒè€ƒä¸‹æ–¹åœ–ç‰‡ æ–°å¢ VM å¯¦ä¾‹\" æ–°å¢ VM å¯¦ä¾‹ é»é¸ CREATE INSTANCEï¼Œè«‹ä¾ç…§ä¸‹æ–¹è¡¨æ ¼ä¾†é€²è¡Œè¨­å®šï¼š æ¨™é¡Œ è¨­å®šå€¼ èªªæ˜ Name gcelab è™›æ“¬æ©Ÿå¯¦ä¾‹çš„åç¨± Region us-central1ï¼ˆæ„›è·è¯å·ï¼‰ æœ‰é—œå€åŸŸçš„æ›´å¤šä¿¡æ¯ï¼Œè«‹åƒé–± Compute Engine æŒ‡å— Regions and zones Zone us-central1-f Series N1 Machine type n1-standard-2 é€™æ˜¯ä¸€å€‹ 2 vCPUã€7.5 GB RAM å¯¦ä¾‹ Boot disk New balanced persistent disk/10 GB/Debian GNU/Linux 10 Firewall Allow HTTP taffic VM å¯¦ä¾‹ (Nameã€Regionã€Zoneã€Series)\" VM å¯¦ä¾‹ (Nameã€Regionã€Zoneã€Series) VM å¯¦ä¾‹ (Machine typeã€Boot diskã€Firewall)\" VM å¯¦ä¾‹ (Machine typeã€Boot diskã€Firewall) æ–°å¢å®Œå¾Œï¼Œå¤§ç´„éœ€è¦ç­‰å¾…ä¸€åˆ†é˜ï¼Œæ–°çš„è™›æ“¬æ©Ÿå°±æœƒåˆ—åœ¨ VM Instances é é¢ä¸Šã€‚ VM å¯¦ä¾‹\" VM å¯¦ä¾‹ ","date":"2022-06-29","objectID":"/gcp-gce/:2:1","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"å®‰è£ NGINX Web æœå‹™å™¨ é»æ“Š VM instances å¯¦ä¾‹æœ€å¾Œçš„ SSHï¼Œæœƒé–‹å•Ÿ SSH ç”¨æˆ¶ç«¯ åœ¨ SSH çµ‚ç«¯ï¼Œè¦å…ˆç²å¾— root è¨ªå•æ¬Šé™ï¼Œæ‰æ›´æ–¹ä¾¿çš„é€²è¡Œå¾ŒçºŒçš„å‹•ä½œï¼Œè«‹å…ˆä½¿ç”¨ä¸€ä¸‹æŒ‡ä»¤ï¼š sudo su - åˆ©ç”¨ root ç”¨æˆ¶ï¼Œä¾†æ›´æ–°æ“ä½œç³»çµ±ï¼š apt-get update æ›´æ–°æ“ä½œç³»çµ±\" æ›´æ–°æ“ä½œç³»çµ± å®‰è£ NGINXï¼š apt-get nginx -y å®‰è£ NGINX\" å®‰è£ NGINX æœ€å¾Œç¢ºèª NGINX æ˜¯å¦é‹è¡Œï¼š ps auwx | grep nginx ç¢ºèª NGINX æ˜¯å¦é‹è¡Œ\" ç¢ºèª NGINX æ˜¯å¦é‹è¡Œ å¯ä»¥æ‰“é–‹ç€è¦½å™¨ç€è¦½ http://å¤–éƒ¨ IP/ æˆ–æ˜¯ä½¿ç”¨ curl å¤–éƒ¨IPï¼Œå¤–éƒ¨ IP æœƒåœ¨è·Ÿå‰›å‰› VM å¯¦ä¾‹çš„ External IP æ¬„ä½å‘¦ï½ curl å¤–éƒ¨ IP\" curl å¤–éƒ¨ IP å®Œæˆå¾Œï¼Œè¨˜å¾—å¯ä»¥é»é¸ Check my progress ä¾†æª¢æŸ¥é€²åº¦å§ï¼ Check my progress\" Check my progress ","date":"2022-06-29","objectID":"/gcp-gce/:2:2","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"ä½¿ç”¨ gcloud å‰µå»ºä¸€å€‹æ–°å¯¦ä¾‹ æˆ‘å€‘å‰›å‰›æ˜¯ä½¿ç”¨ç¶²é ç‰ˆä¾†æ–°å¢ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ gcloud æŒ‡ä»¤ä¾†æ–°å¢ï¼Œé€™å€‹å·¥å…·æœ‰é å…ˆè£åœ¨ Google Cloud Shell ä¸­ã€‚Cloud Shell æ˜¯ä¸€å€‹åŸºæ–¼ Debian çš„è™›æ“¬æ©Ÿï¼ŒåŒ…å«äº†å¸¸ç”¨çš„é–‹ç™¼å·¥å…· (gcloudã€git ç­‰å·¥å…·)ï¼Œå¦å¤–ä½ ä¹Ÿå¯ä»¥å°‡ gcloud ä¸‹è¼‰è‡³æœ¬æ©Ÿä¸Šä¾†åšä½¿ç”¨ï¼Œè«‹é–±è®€gcloud å‘½ä»¤è¡Œå·¥å…·æŒ‡å— åœ¨ Cloud Shell ä¸­ï¼Œä½¿ç”¨ gcloud ä¾†æ–°å¢æ–°çš„è™›æ“¬æ©Ÿå¯¦ä¾‹ï¼š gcloud compute instances create gcelab2 --machine-type n1-standard-2 --zone us-central1-f å°±æœƒè·³å‡ºä»¥ä¸‹åœ–ç‰‡çš„å…§å®¹ï¼Œéä¸€é™£å­å»æŸ¥çœ‹ VM Instances ä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘å€‘æ‰€æ–°å¢çš„è™›æ“¬æ©Ÿå¯¦ä¾‹æ­ï½ Check my progress\" Check my progress åˆ°é€™é‚Šå°±å®Œæˆäº†æˆ‘å€‘ Google Compute Engine æ¸¬è©¦å›‰ï½æˆ‘å€‘çŸ¥é“å¯ä»¥æ–°å¢ GCE å°‡å¯¦é«”ä¸»æ©Ÿçš„å…§å®¹ï¼Œç§»æ¤åˆ°é›²ç«¯ä¸Šå›‰ï¼å¸Œæœ›å¤§å®¶æœƒå–œæ­¡ä»Šå¤©çš„æ–‡ç«  ğŸ¥° ","date":"2022-06-29","objectID":"/gcp-gce/:2:3","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Compute EngineåŸºæœ¬ä»‹ç´¹ Creating a Virtual Machine ","date":"2022-06-29","objectID":"/gcp-gce/:3:0","tags":["GCP","GCE"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - Compute Engine [ EP.2 ]","uri":"/gcp-gce/"},{"categories":["codenotes"],"content":"æœ¬ç¯‡æ˜¯æˆ‘å€‘é€²å…¥ GCP çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œè©³ç´°çš„æ–‡ç« åˆ—è¡¨å¤§å®¶å¯ä»¥åˆ°é€™ä¸€ç¯‡æŸ¥çœ‹ ï½ IAM çš„å…¨åæ˜¯ Identity and Access Managementï¼Œç•¶æˆ‘å€‘è—‰ç”± IAMï¼Œå¯ä»¥æˆèˆ‡ç‰¹å®š Google Cloud è³‡æºçš„ ç²¾ç´° è¨ªå•æ¬Šé™ï¼Œä¸¦é˜²æ­¢å°å…¶ä»–è³‡æºçš„è¨ªå•ã€‚ç–‘ï¼ï¼Ÿç‚ºä»€éº¼æ˜¯ç²¾ç´°ï¼Ÿæˆ‘å€‘æ¥è‘—çœ‹ä¸‹å»ï¼Œæˆ‘å€‘å¯ä»¥æ¡ç”¨æœ€å°æ¬Šé™å®‰å…¨åŸå‰‡ï¼Œè©²åŸå‰‡è¦æ±‚ä»»ä½•äººéƒ½ä¸æ‡‰æ“æœ‰è¶…å‡ºå¯¦éš›æ‰€éœ€çš„æ¬Šé™ã€‚ ","date":"2022-06-29","objectID":"/gcp-iam/:0:0","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"IAM çš„å·¥ä½œåŸç† é¦–å…ˆæˆ‘å€‘å…ˆä¾†äº†è§£ä¸€ä¸‹ IAM çš„å·¥ä½œåŸç†ï¼Œè—‰ç”± IAMï¼Œæˆ‘å€‘å¯ä»¥å®šç¾©èª° (å“ªä¸€å€‹èº«ä»½) å°å“ªäº›è³‡æºæœ‰å“ªç¨®çš„è¨ªå•æ¬Šé™ (è§’è‰²) ä¾†ç®¡ç†è¨ªå•æ¬Šé™æ§åˆ¶ã€‚ä»€éº¼æ˜¯è³‡æºï¼Ÿä¾‹å¦‚ï¼Œ Compute Engine è™›æ“¬æ©Ÿ (GCE)ã€Google Kubernetes Engine (GKE) é›†ç¾¤å’Œ Cloud Storage å­˜å„²åˆ†å€éƒ½æ˜¯ Google Cloud è³‡æºï¼Œæˆ‘å€‘ç”¨æ–¼æ•´ç†è³‡æºçš„çµ„ç¹”æˆ–è³‡æ–™å¤¾ã€é …ç›®ç­‰ä¹Ÿéƒ½æ˜¯è³‡æº GCP IAM Logo\" GCP IAM Logo æˆ‘å€‘å¯ä»¥æŠŠå®ƒç†è§£æˆ å¼•ç”¨ ä»€éº¼ ã€ äºº ã€ï¼Œå¯ä»¥å°ä»€éº¼ã€ è³‡æº ã€ï¼Œåšä»€éº¼ã€ äº‹æƒ… ã€ IAM ä¸æœƒç›´æ¥å‘ç”¨æˆ¶æˆèˆ‡è³‡æºçš„è¨ªå•æ¬Šé™ï¼Œè€Œæ˜¯å°‡æ¬Šé™åˆ†æˆå¤šå€‹è§’è‰²ï¼Œç„¶å¾Œå°‡é€™äº›è§’è‰²æˆèˆ‡ç¶“éèº«ä»½é©—è­‰çš„ä¸»å¸³è™Ÿã€‚(ä»¥å‰ IAM æœƒå°‡ä¸»å¸³è™Ÿç¨±ç‚ºæˆå“¡ï¼Œç›®å‰éƒ¨åˆ† API ä»ç„¶ä½¿ç”¨æ­¤è¡“èªã€‚) IAM ä¸­çš„æ¬Šé™ç®¡ç†\" IAM ä¸­çš„æ¬Šé™ç®¡ç† å¯ä»¥çœ‹åˆ°é€™å¼µåœ–ç‰‡ï¼Œè¨ªå•æ¬Šé™ç®¡ç†ä¸»è¦åŒ…å«ä¸‰å€‹éƒ¨åˆ†ï¼š ä¸»å¸³è™Ÿ (Principal)ï¼šä¸»å¸³è™Ÿå¯ä»¥æ˜¯ Google å¸³è™Ÿ (é‡å°ç”¨æˆ¶)ã€æœå‹™å¸³è™Ÿ (é‡å°æ‡‰ç”¨å’Œè¨ˆç®—å·¥ä½œè² è¼‰)ã€Google ç¾¤çµ„æˆ– Workspace å¸³è™Ÿæˆ–å¯ä»¥è¨ªå•è³‡æºçš„ Cloud Identity ç¶²åŸŸç­‰ç­‰ è§’è‰² (Role)ï¼šä¸€å€‹è§’è‰²å°æ‡‰ä¸€çµ„æ¬Šé™ï¼Œæ¬Šé™æ±ºå®šäº†å¯ä»¥å°è³‡æºåŸ·è¡Œçš„æ“ä½œã€‚å‘ä¸»å¸³è™Ÿæˆèˆ‡æŸå€‹è…³è‰²ï¼Œ ä»£è¡¨æˆèˆ‡è©²è§’è‰²åŒ…å«çš„æ‰€æœ‰æ¬Šé™çµ¦ä¸»å¸³è™Ÿ æ”¿ç­– (Policy)ï¼šå…è¨±æ”¿ç­– (Allow Policy) æ˜¯å°‡ä¸€å€‹æˆ–å¤šå€‹ä¸»é«”ç¶å®šåœ¨å„å€‹è§’è‰²ï¼Œç•¶æƒ³è¦å®šç¾©èª° (ä¸»é«”) å°è³‡æºæ“æœ‰ä½•ç¨®é¡å‹çš„è¨ªå• (è§’è‰²) æ™‚ï¼Œå¯ä»¥å‰µå»ºå…è¨±æ”¿ç­–ä¸¦å°‡å…¶é™„åŠ åˆ°è³‡æºã€‚ ","date":"2022-06-29","objectID":"/gcp-iam/:1:0","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"IAM æ¸¬è©¦ æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†æ¸¬è©¦çœ‹çœ‹ IAM å¯¦éš›è¨­å®šä»¥åŠç”¨é€”å§ï¼ æˆ‘å€‘æœƒä½¿ç”¨ GCP æ‰€ä»¥æä¾›çš„ [Qwiklabs] Cloud IAMï¼šQwik Start ä¾†é€²è¡Œæ¸¬è©¦ï¼Œä¹‹å¾Œçš„æ­¥é©Ÿæœƒè·Ÿ Cloud IAMï¼šQwik Start å…§å®¹ä¸€æ¨£ï¼Œæ‰€ä»¥å¤§å®¶å¯ä»¥é‚Šæ“ä½œé‚Šåƒè€ƒå‘¦ï¼é‚£æˆ‘å€‘é–‹å§‹å›‰ ğŸ™ƒ é€²å…¥ç¶²é å¾Œï¼Œè«‹å…ˆç™»å…¥è‡ªå·±çš„ Google å¸³è™Ÿï¼Œæ¥è‘—é»é¸å·¦ä¸Šè§’çš„ Start Labï¼Œæœƒè·³å‡ºèˆ‡ä¸‹é¢åœ–ç‰‡é¡ä¼¼çš„å…§å®¹ï¼š æ¸¬è©¦ç”¨çš„å¸³è™Ÿå¯†ç¢¼\" æ¸¬è©¦ç”¨çš„å¸³è™Ÿå¯†ç¢¼ é€™é‚Šæœƒæä¾›å…©çµ„çš„å¸³è™ŸåŠå¯†ç¢¼ï¼Œåˆ†åˆ¥æ˜¯ Username1 ä»¥åŠ Username2 (å¾Œé¢æœƒä»¥ Username 1 è·Ÿ 2 ä¾†èªªæ˜)ï¼Œå¯†ç¢¼æœƒç”¨å…±ç”¨ï¼Œä¸”æœƒåœ¨åŒä¸€å€‹å°ˆæ¡ˆä¸‹ã€‚ ","date":"2022-06-29","objectID":"/gcp-iam/:2:0","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"ç”¨ç¬¬ä¸€å€‹ Username1 ç™»å…¥ GCP é»é¸ Open Google Console æŒ‰éˆ•ä¾†é–‹å•Ÿ GCP ä¸»æ§å° ç™»å…¥çš„å¸³è™Ÿå°±è¼¸å…¥ç¬¬ä¸€å€‹ Username1 ï¼Œå¯†ç¢¼è¼¸å…¥å…±ç”¨å¯†ç¢¼ ï¼Œæœ€å¾Œç™»å…¥ ç™»å…¥æˆåŠŸæœƒé€²å…¥ GCP ä¸»æ§å°ï¼Œæœƒè·³å‡ºä¸‹æ–¹åœ–ç‰‡å…§å®¹ï¼Œåœ‹å®¶é¸æ“‡å°ç£ï¼Œé»é¸åŒæ„ Terms of Serviceï¼Œæœ€å¾ŒæŒ‰ AGREE AND CONTINUE ç™»å…¥ Username 1 GCP ä¸»æ§å°\" ç™»å…¥ Username 1 GCP ä¸»æ§å° ","date":"2022-06-29","objectID":"/gcp-iam/:2:1","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"ç”¨ç¬¬äºŒå€‹ Username2 ç™»å…¥ GCP æ­¥é©Ÿèˆ‡ç¬¬ä¸€å€‹ç›¸åŒï¼Œé€™é‚Šå°±ä¸åœ¨é‡è¤‡ï¼Œä½†å»ºè­°ä½¿ç”¨ç„¡ç—•ï¼Œé¿å… Username1 è·Ÿ Username2 æ¶ä¾†æ¶å»ï¼Œä»¥åŠç™»å…¥å¸³è™Ÿè¦é¸ Username2ï¼Œæ‡‰è©²ä¸æœƒé¸éŒ¯å§ ğŸ¤£ ","date":"2022-06-29","objectID":"/gcp-iam/:2:2","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"Username1 IAM ä¸»æ§å° åˆ° Username1 çš„ GCP ä¸»æ§å°é¦–é  é»é¸å·¦å´çš„ menu \u003e IAM èˆ‡ç®¡ç† é»æ“Šé é¢ä¸Šæ–¹çš„ +ADD æŒ‰éˆ•ï¼Œå¯ä»¥å¾ä¸‹æ‹‰é¸å–®å»æŸ¥çœ‹å„å¼å„é …çš„å°ˆæ¡ˆç›¸é—œè§’è‰²ï¼Œå¯ä»¥çœ‹åˆ°è¶…ç´šå¤šçš„è§’è‰²è¨­å®šï¼Œæ‰€ä»¥æˆ‘å€‘ä¸€é–‹å§‹æ‰æœƒèªªä»–æ˜¯å¯ä»¥è¨­å®š ** ç²¾ç´°** çš„è¨ªå•æ¬Šé™ æˆ‘å€‘é¸æ“‡ Baseï¼Œå³å´æœ‰ 4 ç¨®è§’è‰²ï¼Œåˆ†åˆ¥æ˜¯ç€è¦½è€… (Browser)ã€ç·¨è¼¯è€… (Editor)ã€æ‰€æœ‰è€… (Owner)ã€æª¢è¦–è€… (Viewer)ï¼Œè©³ç´°å€åˆ¥è«‹çœ‹ä¸‹é¢ ğŸ‘‡ğŸ‘‡ ADD IAM\" ADD IAM æ­¤è¡¨æ˜¯å– Google Cloud IAM æ–‡ç« åŸºæœ¬è§’è‰²ä¸­çš„å®šç¾©ï¼Œç°¡å–®èªªæ˜ 4 ç¨®è§’è‰²çš„å·®åˆ¥ï¼š è§’è‰²åç¨± æ¬Šé™ role/viewer (æª¢è¦–è€…) ä¸å½±éŸ¿ç‹€æ…‹çš„åªè®€æ“ä½œæ¬Šé™ï¼Œä¾‹å¦‚ï¼šæŸ¥çœ‹ (ä½†ä¸ä¿®æ”¹) ç¾æœ‰è³‡æºæˆ–æ˜¯è³‡æ–™ role/editor (ç·¨è¼¯è€…) æ‰€æœ‰æŸ¥çœ‹è€…æ¬Šé™ï¼Œä»¥åŠä¿®æ”¹ç‹€æ…‹çš„æ“ä½œæ¬Šé™ï¼Œä¾‹å¦‚ï¼šæ›´æ”¹ç¾æœ‰è³‡æº role/owner (æ“æœ‰è€…) ä»¥ä¸‹æ“ä½œçš„æ‰€æœ‰ç·¨è¼¯æ¬Šé™ï¼š 1. ç®¡ç†é …ç›®å’Œé …ç›®å…§çš„æ‰€æœ‰è³‡æºè§’è‰²åŠæ¬Šé™ 2. ç‚ºé …ç›®è¨­ç½®å¸³å–® role/browser (ç€è¦½è€…) è®€å–æ¬Šé™ä»¥åŠç€è¦½é …ç›®çš„å±¤æ¬¡çµæ§‹ï¼ŒåŒ…å«è³‡æ–™å¤¾ã€çµ„ç¹”å’Œ IAM æ”¿ç­–ã€‚ä½†æ­¤è§’è‰²ä¸åŒ…å«æŸ¥çœ‹é …ç›®ä¸­è³‡æºçš„æ¬Šé™ æˆ‘å€‘çš„ Username1 ç‚º ownerï¼ŒUsername2 ç‚º viewer æ³¨æ„ Google å»ºè­°ï¼šBase è§’è‰²åŒ…å«æ‰€æœ‰ Google Cloud æœå‹™çš„æ•¸åƒå€‹æ¬Šé™ã€‚é™¤éåˆ¥ç„¡é¸æ“‡ï¼Œå¦å‰‡ä¸è¦æˆèˆ‡ç”¨æˆ¶ Base è§’è‰²ï¼Œè«‹è¨­å®šæœ€æœ‰é™çš„è‡ªè¨‚ç¾©è§’è‰²æˆ–æ˜¯å¯ä»¥æ»¿è¶³è©²éœ€æ±‚çš„è§’è‰²å³å¯ ","date":"2022-06-29","objectID":"/gcp-iam/:2:3","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"åˆ‡æ›åˆ° Username2 IAM ä¸»æ§å° æˆ‘å€‘å¯ä»¥åœ¨è¡¨æ ¼è£¡é¢æ”¶å°‹ Username1 è·Ÿ Username2 çš„å¸³è™Ÿï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä»–å€‘æˆèˆ‡çš„è§’è‰²æ˜¯å¦èˆ‡ä¸Šé¢èªªçš„ä¸€è‡´ï¼Œå¤§æ¦‚å¯ä»¥åƒè€ƒä»¥ä¸‹åœ–ç‰‡ï¼š Username1 è·Ÿ Username2 æ¬Šé™\" Username1 è·Ÿ Username2 æ¬Šé™ åœ¨ Username2 å› ç‚ºæ˜¯ Viewer æ¬Šé™ï¼Œæ‰€ä»¥é»æ“Šä¸Šé¢çš„ + ADDï¼Œä¸æœƒåæ‡‰ï¼Œæœƒè·³å‡ºä»¥ä¸‹ç…§ç‰‡å…§å®¹ï¼š Username2 æ¬Šé™ä¸è¶³\" Username2 æ¬Šé™ä¸è¶³ ","date":"2022-06-29","objectID":"/gcp-iam/:2:4","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"å†åˆ‡å› Username1 Cloud Storage æ¥ä¸‹ä¾†æˆ‘å€‘è¦å»ºç«‹ä¸€å€‹ GCS å„²å­˜ç©ºé–“ï¼Œé»é¸ menu \u003e Cloud Storage \u003e Browser é»é¸ Create a bucket çµ¦äºˆä»–ä¸€å€‹ç¨ç‰¹çš„åç¨±ï¼Œä»¥åŠåœ¨ Choose where to store your data é¸æ“‡ Multi-Region æœ€å¾Œé»é¸ CREATE Create a bucket\" Create a bucket ","date":"2022-06-29","objectID":"/gcp-iam/:2:5","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"ä¸Šå‚³ç¯„ä¾‹æª”æ¡ˆ é€²å…¥æ–°å»ºç«‹çš„ Cloud Storageï¼Œé»é¸ Upload fiiles æŒ‰éˆ• ä¸Šå‚³ä¸€å€‹ txt æª”æ¡ˆï¼Œå¯ä»¥å…ˆå–åç‚º sample.txtï¼Œæˆ–æ˜¯ä¸Šå‚³å¾Œä½¿ç”¨æœ€å¾Œä¸‰å€‹å°é»åœ–æ¡ˆå…§çš„ Rename ä¾†ä¿®æ”¹åç¨± Upload sample.txt fiiles\" Upload sample.txt fiiles ","date":"2022-06-29","objectID":"/gcp-iam/:2:6","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"é©—è­‰å°ˆæ¡ˆæª¢è¦–è€…å­˜å–æ¬Šé™ æˆ‘å€‘å†åˆ‡æ›å› Username2 çš„ä¸»æ§å°ï¼Œé¸æ“‡ menu \u003e Cloud Storage \u003e Browser å°±å¯ä»¥çœ‹åˆ°è·Ÿä¸Šé¢ä¸€æ¨£çš„å„²å­˜å€ Username2 è¢«æˆèˆ‡ â€œæª¢è¦–è€… Viewerâ€ è§’è‰²ï¼Œé€™å€‹è§’è‰²æœ‰ä¸å½±éŸ¿ç‹€æ…‹çš„åªè®€æ¬Šé™ã€‚é€™å€‹ç¯„ä¾‹ä¸­èªªæ˜é€™å€‹åŠŸèƒ½ï¼Œä»–åƒ…èƒ½æª¢è¦–ï¼Œæ²’æœ‰è¾¦æ³•ä¸Šå‚³ ","date":"2022-06-29","objectID":"/gcp-iam/:2:7","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"ç§»é™¤å°ˆæ¡ˆå­˜å–æ¬Šé™ æˆ‘å€‘å†æ¬¡åˆ‡å› Username ä¸»æ§å°ï¼Œé¸æ“‡ menu \u003e IAM èˆ‡ç®¡ç† ï¼Œæ‰¾åˆ° Username2 æ—é‚Šçš„é‰›ç­†åœ–æ¡ˆ ä¿®æ”¹ Username2 æ¬Šé™\" ä¿®æ”¹ Username2 æ¬Šé™ é»æ“Šè§’è‰²åç¨±çš„åƒåœ¾æ¡¶ä¾†ç§»é™¤ Username2 çš„æª¢è¦–è€…æ¬Šé™ï¼Œé»æ“Š Save ç§»é™¤ Username2 æ¬Šé™\" ç§»é™¤ Username2 æ¬Šé™ æé†’ é€™å€‹å‹•ä½œè¦å®Œæˆç”Ÿæ•ˆåˆ°æ‰€æœ‰æœå‹™ä¸Šï¼Œæ‰€ä»¥æœƒéœ€è¦ä¸€é»æ™‚é–“ï¼Œè©³ç´°å¯ä»¥åƒè€ƒé»æˆ‘ ","date":"2022-06-29","objectID":"/gcp-iam/:2:8","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"æª¢æŸ¥ Username2 æ˜¯å¦æœ‰å­˜å–æ¬Šé™ åˆ‡æ›åˆ° Username2 ä¸»æ§å°ï¼Œé¸æ“‡ menu \u003e Cloud Storage \u003e Browser æœƒç™¼ç¾å‡ºç¾ä»¥ä¸‹çš„éŒ¯èª¤è¨Šæ¯ï¼Œä»£è¡¨æˆ‘å€‘ç§»é™¤æ¬Šé™æˆåŠŸ Username2 æ²’æœ‰æ¬Šé™\" Username2 æ²’æœ‰æ¬Šé™ ","date":"2022-06-29","objectID":"/gcp-iam/:2:9","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"æ–°å¢å„²å­˜è§’è‰² æˆ‘å€‘å†æ¬¡åˆ‡æ›åˆ° Username1 ä¸»æ§ç‰ˆï¼Œé¸æ“‡ menu \u003e \u003e IAM èˆ‡ç®¡ç†ï¼Œé»é¸ä¸Šæ–¹ + ADDï¼Œåœ¨ New principals ä¸Šè²¼ä¸Š Username2 çš„å¸³è™Ÿï¼ŒRole é¸æ“‡ Storage Object Viewer æ–°å¢ Username2 è§’è‰²\" æ–°å¢ Username2 è§’è‰² æŸ¥çœ‹ Username2 æ¬Šé™\" æŸ¥çœ‹ Username2 æ¬Šé™ ","date":"2022-06-29","objectID":"/gcp-iam/:2:10","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"æª¢æŸ¥ Username2 æ˜¯å¦æœ‰å­˜å–æ¬Šé™ åˆ‡æ›åˆ° Username2 ä¸»æ§å°ï¼Œå› ç‚º Username2 æ²’æœ‰å°ˆæ¡ˆæª¢è¦–è€…çš„è§’è‰²ï¼Œæ‰€ä»¥çœ‹ä¸åˆ°å°ˆæ¡ˆä»¥åŠä»»ä½•çš„è³‡æºï¼Œä½†é€™å€‹ä½¿ç”¨è€…å°æˆ‘å€‘å‰›å‰›è¨­å®šçš„ Cloud Storage æœ‰ç‰¹åˆ¥çš„å­˜å–æ¬Š æ‰“é–‹å³ä¸Šè§’çš„ Activate Cloud Shell å‘½ä»¤åˆ—å·¥å…· ï¼Œå¦‚ä¸‹åœ–ï¼š é–‹å•Ÿ Activate Cloud Shell å‘½ä»¤åˆ—å·¥å…·\" é–‹å•Ÿ Activate Cloud Shell å‘½ä»¤åˆ—å·¥å…· è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ gsutil ls gs://\u003cå‰›å‰›å»ºçš„ Cloud Storage åç¨±\u003e å¦‚æœå‡ºç¾è·Ÿä¸‹æ–¹åœ–ç‰‡ä¸€æ¨£ï¼Œå°±ä»£è¡¨æˆ‘å€‘è¨­å®šæˆåŠŸå›‰ï¼ Username2 Storage Object Viewer æ¬Šé™\" Username2 Storage Object Viewer æ¬Šé™ æœ€å¾Œçš„æœ€å¾Œï¼Œå¦‚æœæœ‰è·Ÿæˆ‘å€‘ä¸€æ­¥ä¸€æ­¥ä¾†çš„æœ‹å‹ï¼Œåœ¨ [Qwiklabs] Cloud IAMï¼šQwik Start é é¢ä¸­ï¼Œæ‡‰è©²æœƒçœ‹åˆ°ä¸€å€‹å« Check my progress çš„æŒ‰éˆ•ï¼Œåšå®Œæ¯ä¸€æ­¥é©Ÿï¼Œéƒ½å¯ä»¥é»ä¸€ä¸‹ï¼Œä»–æœƒè‡ªå‹•å»åˆ¤æ–·ä½ æ˜¯å¦æœ‰å®Œæˆé€™é …å‹•ä½œæ­ï¼ Check my progress\" Check my progress åˆ°é€™é‚Šå°±å®Œæˆäº†æˆ‘å€‘åœ¨ IAM çš„æ¸¬è©¦å›‰ï½æˆ‘å€‘çŸ¥é“ IAM å¯ä»¥è¨­å®šå¾ˆå¤šçš„è§’è‰²ï¼Œä»¥åŠæ¸¬è©¦äº†æŸ¥çœ‹ã€æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤è§’è‰²çš„åŠŸèƒ½ï¼Œå¸Œæœ›å¤§å®¶æœƒå–œæ­¡ä»Šå¤©çš„æ–‡ç«  ğŸ¥° ","date":"2022-06-29","objectID":"/gcp-iam/:2:11","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ IAM æ¦‚è¦½ ä»€éº¼æ˜¯ Cloud IAMï¼ŸGCP æ¬Šé™ç®¡ç†æœå‹™ä»‹ç´¹ ","date":"2022-06-29","objectID":"/gcp-iam/:3:0","tags":["GCP","IAM"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - IAM èˆ‡ç®¡ç† [ EP.1 ]","uri":"/gcp-iam/"},{"categories":["codenotes"],"content":"å“ˆå›‰å¤§å®¶å¥½ï¼Œæˆ‘å€‘åœ¨ä¹‹å‰çš„æ–‡ç« æœ‰è¬›åˆ° Dockerã€K8s ç­‰ç­‰ï¼Œæˆ‘å€‘éƒ½æ˜¯åœ¨æœ¬æ©Ÿä¾†æ¸¬è©¦ï¼Œä½†å¯¦éš›ä¸Šï¼Œç¾åœ¨å¾ˆå¤šå…¬å¸æˆ–æœå‹™éƒ½é·ç§»åˆ°é›²ç«¯ä¸Šï¼Œé‚£æˆ‘å€‘é€™æ¬¡è¦å¸¶é ˜å¤§å®¶åˆ°é›²ç«¯çš„ä¸–ç•Œï¼Œæœ¬æ¬¡è¦ä»‹ç´¹çš„å°±æ˜¯ Google Cloud Platform (GCP) ï¼Œæ˜¯ Google åœ¨é›²ç«¯ä¸Šæä¾›çš„ä¸€çµ„ç”¢å“èˆ‡æœå‹™ï¼Œè®“æ‚¨èƒ½å¤ åœ¨é›²ç«¯ä¸Šä½¿ç”¨èˆ‡ Google ç›¸åŒçš„æŠ€è¡“å’ŒåŸºç¤æ¶æ§‹ï¼Œé å…ˆæº–å‚™å¥½å„å¼æœå‹™çš„åŸºæœ¬å…ƒä»¶ï¼Œè®“æ‚¨èƒ½å¤ å¿«é€Ÿä¸Šæ‰‹é–‹ç™¼åŠä½¿ç”¨ã€‚ Google Cloud Platform (GCP) Logo\" Google Cloud Platform (GCP) Logo æä¸€å€‹ä»–æœ€å¤§çš„å„ªé»å°±æ˜¯å½ˆæ€§ï¼Œä½ éš¨æ™‚éš¨åœ°æƒ³è¦å¹¾å°æ©Ÿå™¨ï¼ŒGCP éƒ½å¯ä»¥ç«‹å³é–‹çµ¦ä½ ã€‚ å¯ä»¥è©¦æƒ³ä¸€ä¸‹ï¼Œå‡è¨­æ˜å¤©éŠæˆ²å…¬å¸è¦æ¨å‡ºæ–°éŠæˆ²ï¼Œé ä¼°æœ‰200è¬äººè¦ä¸Šç·šï¼Œé‚£æˆ‘å€‘è¦é å…ˆæº–å‚™å¹¾å°æ©Ÿå™¨å‘¢ï¼Ÿ å†ä¾†ï¼Œå¦‚æœæº–å‚™å¥½æ”¯æ´200è¬äººçš„æ©Ÿå™¨ï¼Œçµæœä¾†äº†500è¬äººï¼Œè¦æ€éº¼è¾¦å‘¢ï¼Ÿæˆ–æ˜¯åªæœ‰20è¬äººä¸Šç·šï¼Œå…¶ä»–å¤šé¤˜çš„æ©Ÿå™¨è¦æ€éº¼è¾¦ï¼Ÿ ç­‰ç­‰çš„å•é¡Œï¼ŒGCP éƒ½å¯ä»¥é€éä»–çš„è‡ªå‹•æ“´å……ä¾†ä¾ç…§ç›®å‰ä½¿ç”¨é‡è‡ªå‹•èª¿æ•´æ©Ÿå™¨çš„æ•¸é‡ï¼Œæµé‡å¤§æ™‚è‡ªå‹•åŠ é–‹ï¼Œæµé‡å°è‡ªå‹•ç¸®æ¸›æ©Ÿå™¨ã€‚å¾ˆé…·å§ ğŸ˜ æ¥ä¸‹ä¾†çš„æ–‡ç« ï¼Œæœƒä»‹ç´¹å¸¸è¦‹åœ¨ GCP ä¸­çš„å·¥å…·ä»¥åŠå¯¦ä½œå…§å®¹ï¼Œè©²æ–‡ç« ä¸‹æ–¹æœƒä¸å®šæœŸæ›´æ–°æ‰€æœ‰æ–‡ç« é€£çµï¼Œæ­¡è¿å¤§å®¶å¯ä»¥é—œæ³¨æ­¤ç¯‡æ–‡ç« å‘¦ï¼ğŸ˜ ","date":"2022-06-28","objectID":"/gcp-introduce/:0:0","tags":["GCP","GKE","K8s"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - ä»‹ç´¹èˆ‡é–‹é ­ [ EP.0 ]","uri":"/gcp-introduce/"},{"categories":["codenotes"],"content":"æ–‡ç« é€£çµ Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸ - IAM èˆ‡ç®¡ç† [ EP.1 ] Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸ - Compute Engine [ EP.2 ] Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸ - Cloud Source Repositories [ EP.3 ] ","date":"2022-06-28","objectID":"/gcp-introduce/:1:0","tags":["GCP","GKE","K8s"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - ä»‹ç´¹èˆ‡é–‹é ­ [ EP.0 ]","uri":"/gcp-introduce/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ ä¸€å ‚èª²äº†è§£ Google é›²ç«¯å…¨è²Œ - GCP æ˜¯ä»€éº¼ ","date":"2022-06-28","objectID":"/gcp-introduce/:2:0","tags":["GCP","GKE","K8s"],"title":"Google Cloud Platform (GCP) ç™¾ç§‘å…¨æ›¸  - ä»‹ç´¹èˆ‡é–‹é ­ [ EP.0 ]","uri":"/gcp-introduce/"},{"categories":["codenotes"],"content":"ç•¶æˆ‘å€‘åœ¨ä½¿ç”¨ Git æ™‚ï¼Œå¸¸å¸¸ä¿®æ”¹å®Œå…§å®¹å¾Œï¼Œæœƒæ¨ commit åˆ° github or gitlabï¼Œåœ¨ä¸€å€‹åˆ†æ”¯ä¸Šé–‹ç™¼ä¹…äº†ï¼Œ commit æœƒç´¯ç©å¾ˆå¤šï¼Œå¾ˆé›œä¸”å¾ˆäº‚ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥è©¦è‘—å°‡ commit çµ¦åˆä½µã€‚ å¤§å®¶å¯ä»¥ä½¿ç”¨é€™å€‹æª”æ¡ˆä¾†åšç·´ç¿’ï¼šé»æˆ‘ GoGo ğŸ˜‰ git commit\" git commit å¯ä»¥çœ‹åˆ°ä¸Šé¢é€™å¼µåœ–ï¼Œé€™å€‹èˆ‡ç¯„ä¾‹æª”æ¡ˆçš„ commit ç›¸ä¼¼(ä¸åŒå°ˆæ¡ˆï¼Œæ‰€ä»¥ SHA-1 ä¹Ÿæœƒä¸åŒï¼Œç‚ºäº†æ¨¡æ“¬æ‰€ä»¥ commit ç›¸åŒè€Œå·²)ï¼Œæˆ‘å€‘æ¨¡æ“¬åœ¨åŒä¸€å€‹åˆ†æ”¯åº•ä¸‹ï¼Œæœ‰å¾ˆå¤šçš„ commitï¼Œé‚£æˆ‘å€‘è©¦è‘—æŠŠä»–çµ¦åˆä½µèµ·ä¾†ã€‚å…ˆèªªæ˜ä¸€ä¸‹ç›®å‰çš„ commit ç‹€æ³ï¼Œæˆ‘å€‘åœ¨ master åˆ†æ”¯ä¸Šæœ‰ 3 å€‹ commitï¼Œä¸”å·²ç¶“æ¨åˆ°é ç«¯ä¸Šã€‚æ‰€ä»¥æˆ‘å€‘æœ¬åœ°ä¿®æ”¹å¾Œï¼Œé‚„è¦è®“é ç«¯çš„ä¹Ÿåˆä½µï¼Œé€™å€‹æ­¥é©Ÿè¦æ€éº¼åšå‘¢ï¼Ÿå¤§å®¶å¯ä»¥å…ˆæƒ³æƒ³çœ‹ï¼Œå¾Œé¢æœƒå‘Šè¨´å¤§å®¶ç­”æ¡ˆ ğŸ¥° ","date":"2022-06-21","objectID":"/git-merge-multiple-commit/:0:0","tags":["Git","æŒ‡ä»¤","ä»‹ç´¹"],"title":"å¦‚ä½•åˆä½µå¤šå€‹ commitï¼Œä¸”æ¨åˆ°é ç«¯å‘¢ï¼Ÿ","uri":"/git-merge-multiple-commit/"},{"categories":["codenotes"],"content":"åˆä½µæœ¬åœ°ç«¯ commit é¦–å…ˆæˆ‘å€‘ç›®çš„æ˜¯æƒ³è¦è®“ add 2.txt èˆ‡ add 3.txt çš„ commit åˆä½µæˆ add txtï¼Œå¯ä»¥å…ˆä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ä¾†æ‰¾åˆ°ä»–çš„ commit çš„ SHA-1ï¼š git log git log æŸ¥çœ‹ commit çš„ SHA-1\" git log æŸ¥çœ‹ commit çš„ SHA-1 è¦æ€éº¼åˆä½µå‘¢ï¼Ÿæˆ‘å€‘å…ˆä½¿ç”¨ rebase åˆ°ä¸æœƒè®Šå‹•çš„ commitï¼Œä¹Ÿå°±æ˜¯ add 1.txt é€™å€‹ commitï¼š git rebase -i 3b5bab9d5fb65b965ae55236734103b178f9daf2 git rebase\" git rebase ä¸‹å®Œå¾Œï¼Œæœƒè·³å‡ºä¸Šé¢åœ–ç‰‡å…§å®¹ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šé¢æ˜¯ rebase interactive (-i) è¦åŸ·è¡Œçš„æŒ‡ä»¤ï¼Œä¸‹é¢æ˜¯æ¯å€‹æŒ‡ä»¤çš„ç°¡å–®èªªæ˜ï¼Œæˆ‘å€‘æœ¬æ¬¡æœƒä½¿ç”¨çš„åªæœ‰ pick ä»¥åŠ squashï¼Œåˆ†åˆ¥çš„æ„æ€æ˜¯ï¼š pickï¼šæœƒåŸ·è¡Œè©² commitã€‚ squashï¼šæœƒæŠŠé€™å€‹ç‰ˆæœ¬çš„ commit åˆä½µåˆ°å‰ä¸€å€‹ commitã€‚ æ‰€ä»¥æˆ‘å€‘è¦å°‡å®ƒæ”¹æˆä»¥ä¸‹ï¼š pick f8e5882 add 2.txt squash 3eb0ef4 add 3.txt ä¹Ÿå°±æ˜¯å°‡ 3eb0ef4 é€™å€‹ç‰ˆæœ¬çš„ commit åˆä½µåˆ° f8e5882 çš„ commitï¼Œå°æ‡‰æˆ‘å€‘çš„ä¾‹å­ï¼Œå°‡ add 3.txt åˆä½µåˆ° add 2.txt é€™å€‹ commitã€‚ å„²å­˜é›¢é–‹å¾Œï¼Œæœƒè·³å‡ºä»¥ä¸‹çš„ç•«é¢ï¼Œä»–æœƒå‘Šè¨´ä½ åŸæœ¬å…©å€‹çš„ commit message åˆ†åˆ¥æ˜¯ add 2.txt ä»¥åŠ add 3.txtï¼Œé€™æ™‚å€™æˆ‘å€‘è¦è¼¸å…¥æ–°çš„ commit messageï¼Œä¹Ÿå°±æ˜¯ add txtï¼Œå»ºè­°å¯ä»¥æŠŠåŸæœ¬çš„è¨Šæ¯è¨»è§£æ‰ã€‚ è¼¸å…¥æ–°çš„ commit\" è¼¸å…¥æ–°çš„ commit å„²å­˜å¾Œï¼Œæˆ‘å€‘æŸ¥çœ‹ git logï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘å°‡ add 2.txt è·Ÿ add 3.txt åˆä½µæˆ add txt ğŸ˜ æŸ¥çœ‹ç›®å‰åˆä½µç‹€æ…‹çš„ git log\" æŸ¥çœ‹ç›®å‰åˆä½µç‹€æ…‹çš„ git log ","date":"2022-06-21","objectID":"/git-merge-multiple-commit/:1:0","tags":["Git","æŒ‡ä»¤","ä»‹ç´¹"],"title":"å¦‚ä½•åˆä½µå¤šå€‹ commitï¼Œä¸”æ¨åˆ°é ç«¯å‘¢ï¼Ÿ","uri":"/git-merge-multiple-commit/"},{"categories":["codenotes"],"content":"åˆä½µé ç«¯ commit å¯ä»¥çœ‹åˆ°ä¸‹æ–¹æ˜¯æˆ‘å€‘å·²ç¶“å°‡æœ¬æ©Ÿç«¯çš„ commit çµ¦åˆä½µï¼Œä½†é ç«¯é‚„æ˜¯ä¸€æ¨£æœ‰ 3 å€‹ commitï¼Œå¦‚æœæˆ‘å€‘å°±é€™æ¨£ç›´æ¥æ¨ä¸Šå»ï¼Œåªæœƒå¤šä¸€æ¬¡çš„ commitï¼Œæ‰€ä»¥æˆ‘å€‘è©²æ€è¾¦å‘¢ ? é ç«¯èˆ‡æœ¬åœ°ç«¯çš„ commit ä¸åŒ\" é ç«¯èˆ‡æœ¬åœ°ç«¯çš„ commit ä¸åŒ æˆ‘å€‘å°±æ˜¯è¦ä½¿ç”¨å¤§å®¶éƒ½å®³æ€•çš„ï¼š git push -f å¼·åˆ¶è¦†è“‹æ‰åˆ†æ”¯ä¸Šçš„å…§å®¹ï¼Œä½†åˆ‡è¨˜åˆ‡è¨˜ï¼Œé€™å€‹åªé©ç”¨æ–¼è‡ªå·±çš„åˆ†æ”¯ä¸Šæ­ï½ä¸ç„¶æœƒç›´æ¥å¤§çˆ†ç‚¸ ğŸ’£ ä½¿ç”¨ git push -f å¾Œçš„ commit\" ä½¿ç”¨ git push -f å¾Œçš„ commit ","date":"2022-06-21","objectID":"/git-merge-multiple-commit/:2:0","tags":["Git","æŒ‡ä»¤","ä»‹ç´¹"],"title":"å¦‚ä½•åˆä½µå¤šå€‹ commitï¼Œä¸”æ¨åˆ°é ç«¯å‘¢ï¼Ÿ","uri":"/git-merge-multiple-commit/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ å¦‚ä½•åˆä½µå¤šå€‹commits ã€ç‹€æ³é¡Œã€‘è½èªª git push -f é€™å€‹æŒ‡ä»¤å¾ˆå¯æ€•ï¼Œä»€éº¼æƒ…æ³å¯ä»¥ä½¿ç”¨å®ƒå‘¢ï¼Ÿ ","date":"2022-06-21","objectID":"/git-merge-multiple-commit/:3:0","tags":["Git","æŒ‡ä»¤","ä»‹ç´¹"],"title":"å¦‚ä½•åˆä½µå¤šå€‹ commitï¼Œä¸”æ¨åˆ°é ç«¯å‘¢ï¼Ÿ","uri":"/git-merge-multiple-commit/"},{"categories":["codenotes"],"content":"å› ç‚ºæœ€è¿‘åœ¨ç®¡ç†æ©Ÿå™¨æ™‚ï¼Œå¸¸å¸¸æœƒä½¿ç”¨å„å¼å„æ¨£çš„æŒ‡ä»¤ä¾†å”åŠ©ç®¡ç†ï¼Œæ‰€ä»¥æŠŠå¸¸ç”¨çš„æŒ‡ä»¤ä¾ç…§ä¸åŒé¡åˆ¥æ•´ç†åœ¨åº•ä¸‹å‘¦ ğŸ˜˜ æœƒå®šæœŸæ›´æ–°è©²æ–‡ç« å‘¦ ~ ","date":"2022-06-17","objectID":"/linux/:0:0","tags":["Linux","æŒ‡ä»¤","ä»‹ç´¹"],"title":"Linux å¸¸ç”¨æŒ‡ä»¤","uri":"/linux/"},{"categories":["codenotes"],"content":"ç¶²è·¯é¡ ","date":"2022-06-17","objectID":"/linux/:1:0","tags":["Linux","æŒ‡ä»¤","ä»‹ç´¹"],"title":"Linux å¸¸ç”¨æŒ‡ä»¤","uri":"/linux/"},{"categories":["codenotes"],"content":"æŸ¥è©¢é ç«¯ Port æ˜¯å¦é–‹æ”¾ nc (netcat) nc (netcat)ï¼Œå¯ä»¥è®€å–ç¶“é TCP åŠ UDP çš„ç¶²è·¯é€£ç·šè³‡æ–™ï¼Œæ˜¯ä¸€å¥—å¾ˆå¯¦ç”¨çš„ç¶²è·¯é™¤éŒ¯å·¥å…·ã€‚ å®‰è£æŒ‡ä»¤ï¼š yum install nc æª¢æŸ¥ Port æ˜¯å¦æœ‰é–‹æ”¾ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æŒ‡ä»¤ä¾†æŸ¥è©¢ï¼š nc -zvw3 \u003cIP:Port\u003e -z åªé€²è¡Œæƒæï¼Œä¸é€²è¡Œä»»ä½•çš„è³‡æ–™å‚³è¼¸ -v é¡¯ç¤ºæƒæè¨Šæ¯ -w3 ç­‰å¾… 3 ç§’ å¦‚æœ Port æœ‰é–‹æ”¾ï¼Œæœƒå›å‚³ä»¥ä¸‹å…§å®¹ï¼š Ncat: Version 7.50 ( https://nmap.org/ncat ) Ncat: Connected to \u003cIP:Port\u003e. Ncat: 0 bytes sent, 0 bytes received in 0.01 seconds. å¦‚æœæ²’æœ‰é–‹æ”¾ï¼Œæœƒå›å‚³ä»¥ä¸‹å…§å®¹ï¼š Ncat: No route to host. nmap nmap (Network Mapper) æ˜¯å¦ä¸€å€‹å¯ä»¥æª¢æŸ¥ Port çš„å·¥å…·ï¼Œå®‰è£èªæ³•æ˜¯é€™æ¨£ï¼š yum install nmap æª¢æŸ¥ Port æ˜¯å¦æœ‰é–‹æ”¾ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æŒ‡ä»¤ä¾†æŸ¥è©¢ï¼š nmap \u003cIP\u003e -p \u003cPort\u003e å¦‚æœ Port æœ‰é–‹æ”¾ï¼Œæœƒå›å‚³ä»¥ä¸‹å…§å®¹ï¼š Starting Nmap 7.92 ( https://nmap.org ) at 2022-06-17 16:06 CST Nmap scan report for\u003cDomain\u003e (\u003cIP\u003e) Host is up (0.0039s latency). PORT STATE SERVICE 80/tcp open http Nmap done: 1 IP address (1 host up) scanned in 1.09 seconds å¦‚æœæ²’æœ‰é–‹æ”¾ï¼Œæœƒå›å‚³ä»¥ä¸‹å…§å®¹ï¼š Starting Nmap 7.92 ( https://nmap.org ) at 2022-06-17 16:06 CST Nmap scan report for\u003cDomain\u003e (\u003cIP\u003e) Host is up (0.0039s latency). PORT STATE SERVICE 80/tcp filtered http Nmap done: 1 IP address (1 host up) scanned in 1.09 seconds Telnet Telnet ä¹Ÿæ˜¯ä¸€å€‹å¯ä»¥æª¢æŸ¥ Port çš„å·¥å…·ï¼Œå®‰è£èªæ³•æ˜¯é€™æ¨£ï¼š yum install telnet æª¢æŸ¥ Port æ˜¯å¦æœ‰é–‹æ”¾ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æŒ‡ä»¤ä¾†æŸ¥è©¢ï¼š telnet \u003cIP\u003e \u003cPort\u003e å¦‚æœ Port æœ‰é–‹æ”¾ï¼Œæœƒå›å‚³ä»¥ä¸‹å…§å®¹ï¼š Trying \u003cIP\u003eâ€¦ Connected to \u003cIP\u003e. Escape character is â€˜^]â€™. ^CConnection closed by foreign host. å¦‚æœæ²’æœ‰é–‹æ”¾ï¼Œæœƒå›å‚³ä»¥ä¸‹å…§å®¹ï¼š Trying \u003cIP\u003eâ€¦ telnet: Unable to connect to remote host: Connection refused ","date":"2022-06-17","objectID":"/linux/:1:1","tags":["Linux","æŒ‡ä»¤","ä»‹ç´¹"],"title":"Linux å¸¸ç”¨æŒ‡ä»¤","uri":"/linux/"},{"categories":["codenotes"],"content":"ç³»çµ±é¡ ","date":"2022-06-17","objectID":"/linux/:2:0","tags":["Linux","æŒ‡ä»¤","ä»‹ç´¹"],"title":"Linux å¸¸ç”¨æŒ‡ä»¤","uri":"/linux/"},{"categories":["codenotes"],"content":"é¡¯ç¤ºç•¶å‰é€²ç¨‹ç‹€æ…‹ ps ps [åƒæ•¸] -A åˆ—å‡ºæ‰€æœ‰çš„é€²ç¨‹ -w å¯ä»¥åŠ å¯¬é¡¯ç¤ºè¼ƒå¤šçš„è¨Šæ¯ -au é¡¯ç¤ºæ›´è©³ç´°çš„è¨Šæ¯ -aux é¡¯ç¤ºæ‰€æœ‰åŒ…å«å…¶ä»–ç”¨æˆ¶çš„é€²ç¨‹ au(x) è¼¸å‡ºçš„æ ¼å¼ï¼š USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND USERï¼šè¡Œç¨‹çš„æ“æœ‰è€… PIDï¼špid %CPUï¼šä½”ç”¨çš„ CPU ä½¿ç”¨ç‡ %MEMï¼šä½”ç”¨çš„è¨˜æ†¶é«”ä½¿ç”¨ç‡ VSZï¼šä½”ç”¨çš„è™›æ“¬è¨˜æ†¶é«”å¤§å° RSSï¼šä½”ç”¨çš„è¨˜æ†¶é«”å¤§å° TTYï¼šçµ‚ç«¯çš„æ¬¡è¦è£ç½®è™Ÿç¢¼ STATï¼šè©²è¡Œç¨‹çš„ç‹€æ…‹ï¼š Dï¼šç„¡æ³•ä¸­æ–·çš„ä¼‘çœ ç‹€æ…‹ (é€šå¸¸éƒ½æ˜¯ IO é€²ç¨‹) Rï¼šæ­£åœ¨åŸ·è¡Œä¸­ Sï¼šéœæ­¢ç‹€æ…‹ Tï¼šæš«åœåŸ·è¡Œ Zï¼šä¸å­˜åœ¨ä½†æš«æ™‚ç„¡æ³•æ¶ˆé™¤ Wï¼šæ²’æœ‰è¶³å¤ çš„è¨˜æ†¶é«”å¯ä»¥åˆ†é… \u003cï¼šé«˜å„ªå…ˆåºçš„é€²ç¨‹ Nï¼šä½å„ªå…ˆåºçš„é€²ç¨‹ STARTï¼šé€²ç¨‹é–‹å§‹æ™‚é–“ TIMEï¼šåŸ·è¡Œçš„æ™‚é–“ COMMANDï¼šæ‰€åŸ·è¡Œçš„æŒ‡ä»¤ ","date":"2022-06-17","objectID":"/linux/:2:1","tags":["Linux","æŒ‡ä»¤","ä»‹ç´¹"],"title":"Linux å¸¸ç”¨æŒ‡ä»¤","uri":"/linux/"},{"categories":["codenotes"],"content":"åˆªé™¤åŸ·è¡Œä¸­çš„é€²ç¨‹ kill kill [-s \u003cè¨Šæ¯åç¨±æˆ–ç·¨è™Ÿ\u003e] [ç¨‹åº] or [-l \u003cè¨Šæ¯ç·¨è™Ÿ\u003e] -l \u003cè¨Šæ¯ç·¨è™Ÿ\u003eï¼šè‹¥ä¸åŠ  \u003cè¨Šæ¯ç·¨è™Ÿ\u003eé¸é …ï¼Œ-l æœƒåˆ—å‡ºå…¨éƒ¨çš„è¨Šæ¯åç¨± -s \u003cè¨Šæ¯åç¨±æˆ–ç·¨è™Ÿ\u003eï¼šæŒ‡å®šè¦é€å‡ºçš„è¨Šæ¯ æœ€å¸¸ç”¨çš„è¨Šæ¯æ˜¯ 1 (HUP)ï¼šé‡æ–°åŠ è¼‰é€²ç¨‹ 9 (KILL)ï¼šåˆªé™¤ä¸€å€‹é€²ç¨‹ 15 (TERM)ï¼šæ­£å¸¸åœæ­¢ä¸€å€‹é€²ç¨‹ ","date":"2022-06-17","objectID":"/linux/:2:2","tags":["Linux","æŒ‡ä»¤","ä»‹ç´¹"],"title":"Linux å¸¸ç”¨æŒ‡ä»¤","uri":"/linux/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ 3 ç¨®æª¢æŸ¥é ç«¯åŸ è™Ÿæ˜¯å¦é–‹å•Ÿçš„æ–¹æ³• ","date":"2022-06-17","objectID":"/linux/:3:0","tags":["Linux","æŒ‡ä»¤","ä»‹ç´¹"],"title":"Linux å¸¸ç”¨æŒ‡ä»¤","uri":"/linux/"},{"categories":["codenotes"],"content":"ä»Šå¤©åœ¨å·¥ä½œæ™‚ï¼Œé‡åˆ°æ©Ÿå™¨çš„ Swap è¶…éé è­¦å€¼ï¼Œéœ€è¦æ‰‹å‹•å»æ¸…é™¤ Swapï¼Œé‚£å‰›å¥½å°±ç”±é€™æ¬¡æ©Ÿæœƒä¾†ä»‹ç´¹è¦å¦‚ä½•æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swapï¼Œä»¥åŠæŸ¥è©¢ Linux è¨˜æ†¶é«”çš„ä½¿ç”¨ç‹€æ³ï¼ ","date":"2022-06-06","objectID":"/linux-clear-swap/:0:0","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"å¦‚ä½•æŸ¥è©¢ Linux è¨˜æ†¶é«” åœ¨è¬› Swap ä¹‹å‰ï¼Œæˆ‘å€‘å…ˆä¾†èªªä¸€ä¸‹æ€éº¼æŸ¥è©¢ Linux è¨˜æ†¶é«”ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ä¾†é¡¯ç¤ºï¼š free ä¸‹å®Œå¾Œï¼Œæ ¼å¼æœƒé•·é€™æ¨£ï¼š total used free shared buff/cache available Mem: 32765564 8499252 1825132 1857720 22441180 19693100 Swap: 16776188 0 16776188 ä½†é€™æ¨£å­ä¸æ˜¯å¾ˆå¥½è§€å¯Ÿï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥åŠ ä¸Š -h ä¾†é¡¯ç¤ºå¤§å°çš„å–®ä½ï¼Œè®“æˆ‘æ›´æ¸…æ¥šçš„çŸ¥é“æ¯ä¸€å€‹çš„å¤§å°ï¼š total used free shared buff/cache available Mem: 31G 8.1G 1.6G 1.8G 21G 18G Swap: 15G 0B 15G é‚£æˆ‘å€‘æ¥è‘—å…ˆä¾†èªªèªªä½¿ç”¨ free æŸ¥è©¢å¾Œï¼Œæ‰€æœ‰æ¬„ä½çš„æ„æ€å§ï¼ ","date":"2022-06-06","objectID":"/linux-clear-swap/:1:0","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"free ç¬¬ä¸€åˆ— Memï¼šè¨˜æ†¶é«”çš„ä½¿ç”¨è³‡è¨Š Swapï¼šäº¤æ›ç©ºé–“çš„ä½¿ç”¨è³‡è¨Š ","date":"2022-06-06","objectID":"/linux-clear-swap/:1:1","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"free ç¬¬ä¸€è¡Œ totalï¼šç³»çµ±ç¸½å…±çš„å¯ç”¨å¯¦é«”è¨˜æ†¶é«”å¤§å° usedï¼šå·²è¢«ä½¿ç”¨çš„å¯¦é«”è¨˜æ†¶é«”å¤§å° freeï¼šé‚„å‰©ä¸‹å¤šå°‘å¯ç”¨çš„å¯¦é«”è¨˜æ†¶é«” sharedï¼šè¢«å…±äº«ä½¿ç”¨çš„å¯¦é«”è¨˜æ†¶é«”å¤§å° buff/cacheï¼šè¢« buffer å’Œ cache ä½¿ç”¨çš„å¯¦é«”è¨˜æ†¶é«”å¤§å° availableï¼šå¯è¢« æ‡‰ç”¨ç¨‹å¼ ä½¿ç”¨çš„å¯¦é«”è¨˜æ†¶é«”å¤§å° ","date":"2022-06-06","objectID":"/linux-clear-swap/:1:2","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"buff è·Ÿ cache ä»¥åŠ Swap çš„æ¯”è¼ƒ æ¯”è¼ƒ buff cache Swap åŠŸç”¨ è¨˜æ†¶é«”å¯«å®Œè³‡æ–™æœƒå…ˆæš«å­˜èµ·ä¾†ï¼Œç­‰ä¹‹å¾Œå†å®šæœŸå°‡è³‡æ–™å­˜åˆ°ç¡¬ç¢Ÿä¸Š è¨˜æ†¶é«”è®€å®Œè³‡æ–™å¾Œæš«å­˜èµ·ä¾†ï¼Œå¯ä»¥åœ¨ä¸‹æ­¤æŸ¥è©¢æ™‚å¿«é€Ÿçš„é¡¯ç¤º ç¡¬ç¢Ÿçš„äº¤æ›åˆ†å€ï¼Œç•¶ buff/cache è¨˜æ†¶é«”å·²ç¶“ç”¨å®Œå¾Œï¼Œåˆæœ‰æ–°çš„è®€å¯«è«‹æ±‚æ™‚ï¼Œå°±æœƒå°‡éƒ¨ä»½å…§å­˜çš„è³‡æ–™å­˜å…¥ç¡¬ç¢Ÿï¼Œä¹Ÿå°±æ˜¯æŠŠå…§å­˜çš„éƒ¨åˆ†ç©ºé–“ç•¶æˆè™›æ“¬çš„è¨˜æ†¶é«”ä¾†åšä½¿ç”¨ ","date":"2022-06-06","objectID":"/linux-clear-swap/:2:0","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"free èˆ‡ available çš„æ¯”è¼ƒ freeï¼šæ˜¯çœŸæ­£å°šæœªè¢«ä½¿ç”¨çš„å¯¦é«”è¨˜æ†¶é«”æ•¸é‡ availableï¼šæ˜¯æ‡‰ç”¨ç¨‹å¼èªç‚ºå¯ç”¨çš„è¨˜æ†¶é«”æ•¸é‡ï¼Œå¯ä»¥ç†è§£æˆ available = free + buff/cache æ¥ä¸‹ä¾†æˆ‘å€‘å°±è¦é€²å…¥ä¸»é¡Œï¼Œå¦‚ä½•æ¸…é™¤ Swap ï¼š ","date":"2022-06-06","objectID":"/linux-clear-swap/:3:0","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"æ¸…é™¤ Swap é¦–å…ˆç¬¬ä¸€æ­¥æˆ‘å€‘å…ˆä½¿ç”¨ free ä¾†æŸ¥çœ‹ç›®å‰çš„ Swap ä½¿ç”¨ç‹€æ…‹ï¼š Swap ä½¿ç”¨ (å°šæœªæ¸…é™¤)\" Swap ä½¿ç”¨ (å°šæœªæ¸…é™¤) å¯ä»¥çœ‹åˆ°æˆ‘å€‘çš„ Swap used æ˜¯ 797Mï¼Œæˆ‘å€‘è¨­å®šå®ƒä¸èƒ½è¶…é 5%ï¼Œè¶…éå°±æœƒé€šçŸ¥ï¼Œæ‰€ä»¥æˆ‘å€‘è¦æŠŠå®ƒæ‰‹å‹•æ¸…é™¤ã€‚ ","date":"2022-06-06","objectID":"/linux-clear-swap/:4:0","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"å…ˆæª¢æŸ¥è¨˜æ†¶é«” available ç‚ºä»€éº¼è¦å…ˆæª¢æŸ¥ availableï¼Œæ˜¯å› ç‚ºä¸€é–‹å§‹æœƒä½¿ç”¨åˆ° Swap çš„åŸå› å°±æ˜¯å› ç‚ºæ‡‰ç”¨ç¨‹å¼çš„å¯ç”¨è¨˜æ†¶é«”ç©ºé–“ä¸è¶³ï¼Œæ‰€ä»¥ç¾åœ¨è¦æ¸…é™¤ Swap æ¢ä»¶å°±æ˜¯ï¼šMem çš„ available å¿…é ˆè¦å¤§æ–¼ Swap çš„ used æ‰å¯ä»¥ï¼Œå¦å‰‡æœƒå°è‡´è¨˜æ†¶é«”çˆ†ç‚¸ ğŸ’¥ ","date":"2022-06-06","objectID":"/linux-clear-swap/:4:1","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"å°‡è¨˜æ†¶é«”è³‡æ–™æš«å­˜åˆ°ç¡¬ç¢Ÿ æ¥ä¸‹ä¾†å› ç‚ºæˆ‘å€‘è¦æ¸…é™¤ Swap ï¼Œæ‰€ä»¥ä¸èƒ½è®“è³‡æ–™åœ¨å¯«å…¥è¨˜æ†¶é«”ä¸­ï¼Œæ‰€ä»¥æˆ‘å€‘å…ˆä½¿ç”¨ä¸‹æ–¹æŒ‡ä»¤ï¼Œè®“è¨˜æ†¶é«”çš„è³‡æ–™æš«å­˜åˆ°ç¡¬ç¢Ÿã€‚ sync é€™å€‹æŒ‡ä»¤å°±æ˜¯å°‡å­˜æ–¼æš«å­˜çš„è³‡æ–™å¼·åˆ¶å¯«å…¥åˆ°ç¡¬ç¢Ÿä¸­ï¼Œä¾†ç¢ºä¿æ¸…é™¤æ™‚å°è‡´è³‡æ–™éºå¤±ã€‚ ","date":"2022-06-06","objectID":"/linux-clear-swap/:4:2","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"é—œé–‰ Swapï¼Œå†æ‰“é–‹ Swap æ²’éŒ¯ï¼ŒSwap çš„æ¸…é™¤å°±æ˜¯æŠŠä»–å…ˆé—œæ‰ï¼Œå†é‡æ–°æ‰“é–‹ï¼Œä»–å°±æœƒè‡ªå·±æ¸…é™¤ Swap çš„è³‡æ–™äº†ï¼ä½¿ç”¨çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š(æ¸…é™¤éç¨‹éœ€è¦ç¨ç­‰ï¼Œè®“ä»–é€²è¡Œåˆªé™¤å‹•ä½œ) swapoff -a \u0026\u0026 swapon -a ç¢ºèªéƒ½æ²’å•é¡Œå¾Œï¼Œæˆ‘å€‘å°±ä½¿ç”¨ free ä¾†é‡æ–°æŸ¥çœ‹è¨˜æ†¶é«”ç‹€æ…‹ï¼š Swap ä½¿ç”¨ (å·²æ¸…é™¤)\" Swap ä½¿ç”¨ (å·²æ¸…é™¤) å¯ä»¥çœ‹åˆ°æˆ‘å€‘æ¸…é™¤å®Œ Swap å¾Œï¼ŒSwap çš„ used å·²ç¶“å¾ 797M è®Šæˆ 0Bã€‚ å°æé†’ å¦‚æœç¢°åˆ°åŸ·è¡Œ swapoff -a \u0026\u0026 swapon -a å‡ºç¾ swapoff: Not superuser.ï¼Œåªéœ€è¦åœ¨æŒ‡ä»¤å‰é¢åŠ ä¸Š sudo å°±å¯ä»¥äº†ï¼ ","date":"2022-06-06","objectID":"/linux-clear-swap/:4:3","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Linuxå…§å­˜ã€Swapã€Cacheã€Bufferè©³ç´°è§£æ linux free å‘½ä»¤ä¸‹free/availableå€åˆ¥ é‡‹æ”¾linuxçš„swapè¨˜æ†¶é«” ","date":"2022-06-06","objectID":"/linux-clear-swap/:5:0","tags":["Linux","Swap","Cache","Buff","å¯¦ä½œ","ä»‹ç´¹"],"title":"æ¸…é™¤ Linux æ©Ÿå™¨ä¸Šçš„ Swap  (Buffã€Cacheã€Swap æ¯”è¼ƒ)","uri":"/linux-clear-swap/"},{"categories":["codenotes"],"content":"å‰é™£å­å°æ–¼ Kubernetes éƒ¨åˆ†å…§å®¹é‚„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œåœ¨ç¶²è·¯ä¸Šé–’é€›çš„æ™‚å€™ç™¼ç¾ä¸€ç¯‡å¾ˆæœ‰è¶£çš„æ–‡ç« ï¼Œæ¨™é¡Œæ˜¯ ã€ çµ¦è¡ŒéŠ·è·Ÿæ¥­å‹™çš„ Kubernetes 101 ä¸­ç¿»ä¸­ä»‹ç´¹ ã€ï¼Œé»é€²å»å¾Œæ‰ç™¼ç¾ï¼Œä½œè€… Phil Huang å°‡ Kubernetes å…ƒä»¶çš„å…§å®¹ç”¨å¤§å‹ä½æˆ¶ç¤¾å€ä¾†ä»‹ç´¹ï¼Œè®“æˆ‘æ›´æ¸…æ¥šæ¯ä¸€å€‹å…ƒä»¶çš„æ„æ€ï¼Œä»¥ä¸‹æˆ‘æœƒç”¨æˆ‘ç†è§£çš„ä»¥åŠä½œè€…çš„æ€è€ƒé‚è¼¯ä¾†å»å¯«é€™ç¯‡ç­†è¨˜ï¼Œå†æ¬¡æ„Ÿè¬ä½œè€…æ–‡ç«  ğŸ˜ ","date":"2022-06-02","objectID":"/k8s-plain/:0:0","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Kubernetes å…ƒä»¶ç™½è©±æ–‡ å¤§å‹ç¤¾å€ç¤ºæ„åœ– (åœ–ç‰‡ä¾†æºï¼šè˜‹æœåœ°ç”¢)\" å¤§å‹ç¤¾å€ç¤ºæ„åœ– (åœ–ç‰‡ä¾†æºï¼šè˜‹æœåœ°ç”¢) å¯ä»¥çœ‹åˆ°ä¸Šé¢é€™å¼µåœ–ç‰‡ï¼Œä»–æ˜¯ä¸€å€‹å¾ˆå…¸å‹çš„å¤§å‹ç¤¾å€ï¼Œæˆ‘å€‘é€™æ¬¡çš„ Kubernetes å…ƒä»¶ç™½è©±æ–‡ï¼Œæœƒä»¥å¤§å‹ç¤¾å€ä¾†ç•¶ä½œç¾å¯¦ä¸­çš„å…ƒä»¶ï¼Œä»¥ç¤¾å€çš„ä¾‹å­ä¾†èªªæ˜ Kubernetes ã€‚ ç•¶ç„¶ï¼Œæˆ‘å€‘ä¹‹å‰çš„æ–‡ç« ä¹Ÿæœ‰ä»‹ç´¹é Kubernetesï¼Œæœ‰èˆˆè¶£å¯ä»¥å…ˆé£›å›å»çœ‹çœ‹ï¼ Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬ Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap) Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet) æˆ‘å€‘å…ˆæƒ³åƒä¸€ä¸‹æˆ‘å€‘å»ºç«‹ Kubernetes å®Œæ•´çš„å¢é›†æœå‹™ï¼Œå°±å¥½æ¯”æ˜¯å»ºç«‹ä¸€å€‹å¤§å‹çš„ç¤¾å€ï¼Œæ‰€ä»¥ä»¥ä¸‹æœƒå°‡åè©èˆ‡ç¤¾å€ä¾†åšé€£çµï¼Œé‚£ï¼ï¼ï¼é–‹å§‹å›‰ï¼ ","date":"2022-06-02","objectID":"/k8s-plain/:1:0","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Kubernetes å…ƒä»¶ Kubernetesï¼šå»ºç«‹é€™å€‹å¤§å‹ç¤¾å€çš„è—åœ–ï¼Œè¦åŠƒçš„ç¤¾å€å…§çš„å¤§å¤§å°å°çš„è¨­è¨ˆã€‚ è™›æ“¬åŒ–å¹³å°ã€å…¬æœ‰é›²å¹³å°ã€å¯¦é«”æ©Ÿå™¨ï¼šå°±æ˜¯æˆ‘å€‘è¦è“‹ç¤¾å€çš„åœ°çš®ã€‚(è™›æ“¬åŒ–å¹³å°ï¼švSphere/Proxmox/VMwareã€å…¬æœ‰é›²å¹³å°ï¼šAWS/GCP/Azuerã€å¯¦é«”æ©Ÿå™¨ï¼šå°±æ˜¯å¯¦é«”æ©Ÿå™¨ ğŸ˜‚) OS ä½œæ¥­ç³»çµ±ï¼šæ¯æ£Ÿå¤§æ¨“çš„éª¨æ¶å’Œåœ°åŸºã€‚ Master Nodeï¼šä½æˆ¶ç®¡å§”æœƒæ‰€å±…ä½å¤§æ¨“ (çœŸå¥½è‡ªå·±æœ‰æ‰€å±¬çš„å¤§æ¨“ï¼¸ï¼¤)ï¼Œç‚ºäº†ä¿è­‰ä»–å€‘ä¸æœƒåµæ¶ï¼Œæ‰€ä»¥å»ºè­°æœ€å°‘éœ€è¦ä¸‰æ£Ÿã€‚ Etcd Clusterï¼šç®¡å§”æœƒçš„äººï¼Œä¸€æ¨£ç‚ºäº†æ€•ä¸€é»¨ç¨å¤§(?ï¼Œæ‰€ä»¥å»ºè­°æœ€å°‘éœ€è¦æœ‰ä¸‰ä½ç®¡å§”ï¼Œä¸”äº’ç›¸æŠ•ç¥¨é¸å‡ºä¸€å€‹é ­é ­ã€‚ Worker Nodeï¼šå°±æ˜¯å¶å€‘ä½æˆ¶æ‰€å±…ä½çš„å¤§æ¨“ã€‚ Podï¼šä½æˆ¶ï¼Œæ‰€ä»¥æˆ‘å€‘ä¸€æ£Ÿ Worker Node å¤§æ¨“ï¼Œå¯ä»¥æœ‰å¾ˆå¤š Pod ä½æˆ¶ã€‚ Pod IPï¼šæ¯å€‹ä½æˆ¶çš„é–€ç‰Œï¼Œæ—¢ç„¶æ˜¯é–€ç‰Œï¼Œä»£è¡¨ä»–ä¹Ÿä¸æœƒé‡è¤‡ã€‚ Container Registryï¼šåŒ…è£¹é›†ä¸­çš„å­˜æ”¾ä¸­å¿ƒã€‚ Container Imagesï¼šé‚„æ²’æœ‰è¢«æ‰“é–‹çš„åŒ…è£¹ã€‚ Containersï¼šå·²ç¶“è¢«æ‰“é–‹ä¸”æ­£åœ¨ä½¿ç”¨çš„åŒ…è£¹ï¼Œé‚£æ¯å€‹ Pod ä½æˆ¶è£¡é¢ï¼Œå¯ä»¥æœ‰ä¸€å€‹æˆ–å¾ˆå¤šå€‹ä»¥ä¸Šçš„ Containers åŒ…è£¹ã€‚ Serviceï¼šç¤¾å€è£¡é¢çš„ç¤¾åœ˜ï¼Œä¾‹å¦‚ï¼šç¾½çƒç¤¾ã€éº»å°‡ç¤¾ç­‰ç­‰ï¼Œå¯ä»¥é›†åˆå¤§å®¶çš„åœ°æ–¹ã€‚ Service Meshï¼šç¤¾åœ˜çš„è¯çµ¡åå†Šï¼Œæœƒè¨˜ä½èª°æ˜¯å“ªä¸€å€‹ç¤¾åœ˜çš„æˆå“¡ã€‚ Ingress Controllerï¼šç¤¾å€çš„å¤§é–€ï¼Œå¯ä»¥æŒ‡å®šè®“ç¤¾å€æˆå“¡éƒ½å›ºå®šèµ°åŒä¸€å€‹æˆ–æ˜¯å¤šå€‹é–€çš„å…¥å£ç®¡æ§ã€‚ Egress Controllerï¼šç¤¾å€çš„å¾Œé–€ï¼Œå¯ä»¥æŒ‡å®šè®“ç¤¾å€æˆå“¡éƒ½å›ºå®šèµ°åŒä¸€å€‹æˆ–æ˜¯å¤šå€‹é–€çš„å‡ºå£ç®¡æ§ã€‚ Internal DNS / Service Discoveryï¼šå¤§æ¨“ä½æˆ¶çš„é›»è©±ç°¿ã€‚ External DNSï¼šæŒ‡å‘å„å¤§æ¨“çš„è·¯æ¨™ã€‚ OCI (Open Container Initiative)ï¼šåˆ¶å®šå¤§æ¨“é‹¼ç­‹æ°´æ³¥æˆ–æ˜¯è¡Œæç®±æ¨™æº–çš„çµ„ç¹”ã€‚ CRI (Container Runtime Interface)ï¼šå¤§æ¨“é‹¼ç­‹æ°´æ³¥çš„å» å•†ã€‚ CNI (Container Network Interface)ï¼šå¤§æ¨“æ°´é›»ç³»çµ±çš„å» å•†ã€‚ CSI (Container Storage Interface)ï¼šå¤§æ¨“ç©ºé–“è¦åŠƒçš„å» å•†ã€‚ Bastionï¼šå°ˆé–€ç¶­è­·ç¤¾å€çš„å·¥ç¨‹è»Šã€‚ ","date":"2022-06-02","objectID":"/k8s-plain/:1:1","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"å¸¸ç”¨å¥—ä»¶ Promethusï¼šç¤¾å€æ•´é«”çš„ç›£æ§ä¸­å¿ƒ (Meterics)ï¼Œä¸€å †æ”å½±æ©Ÿçš„ç®¡ç†å®¤XD Grafanaï¼šç›£æ§ä¸­å¿ƒè£¡é¢å¤§å‹çš„ LED å„€è¡¨æ¿ã€‚ Elaticsearchï¼šç¤¾å€æ•´é«”çš„æƒ…è³‡ä¸­å¿ƒ (Logging)ï¼Œé€™æ‡‰è©²æ˜¯ä¸€ç¾¤æ„›å…«å¦çš„å¤§åª½å§ ğŸ˜ Kibanaï¼šæƒ…è³‡ä¸­å¿ƒè£¡é¢å¤§å‹çš„ LED è¨Šæ¯ç‰ˆã€‚ ","date":"2022-06-02","objectID":"/k8s-plain/:1:2","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"å¸¸è¦‹å•é¡Œ ä½œè€…ä¹Ÿæœ‰æ•´ç†äº†ä¸€äº›å¸¸è¦‹çš„å•é¡Œï¼Œæˆ‘æŠŠå®ƒæ•´ç†ä¸€ä¸‹æŒ‘é¸å‡ºå¹¾å€‹æˆ‘è‡ªå·±ä¸€é–‹å§‹ä¹Ÿæœƒæœ‰ç–‘å•çš„å•é¡Œï¼Œæˆ‘å€‘ä¸€èµ·ä¾†çœ‹çœ‹å§ï¼ä¸€æ¨£æˆ‘æœƒç”¨æˆ‘æ‰€ç†è§£çš„æ„æ€ä¾†ä»‹ç´¹ ~ ","date":"2022-06-02","objectID":"/k8s-plain/:2:0","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Q1ï¼šç‚ºä»€éº¼ Kubernetes çš„æœ€å°å–®ä½æ˜¯ Pod é€™å€‹è¦æ€éº¼ç†è§£ï¼Ÿ Ans ï¼š è©¦æƒ³ä¸€ä¸‹ï¼Œé›£é“ç®¡å§”æœƒæœƒç®¡ä½ çš„åŒ…è£¹è£¡é¢å…§å®¹ç‰©æ”¾ä»€éº¼å—XD ","date":"2022-06-02","objectID":"/k8s-plain/:2:1","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Q2ï¼šDocker åœ¨ Kubernetes çš„è§’è‰²æ˜¯ä»€éº¼ï¼Ÿ Ans ï¼š æ˜¯çœ¾å¤šçš„ CRI (Container Runtime Interface) é¸æ“‡ä¹‹ä¸€ï¼Œä¹Ÿå°±æ˜¯å¤§æ¨“çš„é‹¼ç­‹æ°´æ³¥å» å•†æœ‰å¾ˆå¤šé–“ï¼Œæœ‰ä¸€é–“å«åš Docker çš„å» å•†ç‰¹åˆ¥æœ‰åã€‚ ","date":"2022-06-02","objectID":"/k8s-plain/:2:2","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Q3ï¼šå‘ˆä¸Šï¼Œé‚£ CRI/CNI/CSI æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥æ›¿æ›æˆä»–çš„å» å•†ï¼Ÿ Ans ï¼š ç•¶ç„¶å¯ä»¥ï¼Œç¾åœ¨å¯ä»¥çœ‹åˆ°è¶Šä¾†è¶Šå¤šå» å•†éƒ½é–‹å§‹æ”¯æ´ Kubernetes å°±æ˜¯å› ç‚ºé€™å€‹åŸå› ï¼Œå› ç‚ºä¸€èˆ¬æƒ…æ³ä¸‹ï¼ŒKubernetes ä¸¦ä¸æœƒç‰¹åˆ¥é™å®š å¤§æ¨“é‹¼ç­‹æ°´æ³¥å» å•†ã€å¤§æ¨“æ°´é›»ç³»çµ±å» å•†ã€å¤§æ¨“ç©ºé–“è¦åŠƒå» å•†ï¼Œåªè¦æœ‰ç¬¦åˆç‰¹å®šçš„æ¨™æº–å³å¯ï¼Œä½†è¦ç•™æ„ Kubernetes çš„ç‰ˆè™Ÿä¹Ÿæœƒå—åˆ°é€™ä¸‰å€‹ä»‹é¢æ”¯æ´ç™¼è¡Œçš„ç‰ˆè™Ÿæ‰€å½±éŸ¿ï¼Œè¦ç•™æ„ç›¸å®¹æ€§çš„å•é¡Œï¼ ","date":"2022-06-02","objectID":"/k8s-plain/:2:3","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Q4ï¼šæ•´å€‹ä½æˆ¶ç¤¾å€æœ€é‡è¦çš„è§’è‰²æ˜¯ä»€éº¼ï¼Ÿ Ans ï¼š é‚£ä¸‰æ£Ÿç®¡å§”æœƒå¤§æ¨“ï¼Œå’Œè£¡é¢çš„çš„ä¸‰ä½å§”å“¡ï¼Œä¸‰ä½æ›æ‰ä¸€ä½é‚„å¯ä»¥ç¶­æŒæ­£å¸¸é‹ä½œï¼Œæ›æ‰å…©ä½æœƒç¶­æŒå”¯ç¨é‹ä½œã€‚ ","date":"2022-06-02","objectID":"/k8s-plain/:2:4","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Q5ï¼šKubernetesã€VMã€Container çš„å·®ç•°æ€§ Ans ï¼š æˆ‘å€‘å¯ä»¥å»ºç«‹å¥½ä¸€å€‹å¤§æ¨“(VM)ï¼Œéš¨æ„æ”¾ç½®ä¸€å€‹æˆ–æ˜¯å¤šå€‹åŒ…è£¹(Containers)ï¼Œå¿…é ˆæ‰‹å‹•ç®¡ç†é€™äº›åŒ…è£¹ï¼Œå¦‚æœè³‡æºä¸è¶³æˆ–æ˜¯é€™æ£Ÿå¤§æ¨“å€’äº†ï¼Œå°±æ²’æœ‰è¾¦æ³•è‡ªå‹•è½‰ç§»é€™äº›åŒ…è£¹çš„å…§å®¹äº†ã€‚ ä½†å¦‚æœæ˜¯ Kubernetesï¼Œæˆ‘å€‘å°±å¯ä»¥å»ºç«‹å¤šå€‹å¤§æ¨“(VM)ï¼Œé€é Kubernetes æ‰€è¦å®šçš„æ”¾ç½®è¨ˆç•« (ä¾‹å¦‚ï¼šDeploymentã€DaemonSet)ï¼Œæˆ‘å€‘å°‡å¯ä»¥çµ±ä¸€èª¿åº¦é€™äº› Podï¼Œç•¶æŸæ£Ÿå¤§æ¨“è³‡æºä¸å¤ æˆ–æ˜¯é€™æ£Ÿå¤§æ¨“å€’æ™‚ï¼Œå¯ä»¥æ ¹æ“š Kubernetes è¦å‰‡ä¾†é€²è¡Œæ¬é·æˆ–æ˜¯æ“´å……å¤§æ¨“ã€‚ ","date":"2022-06-02","objectID":"/k8s-plain/:2:5","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Q6ï¼šç‚ºä»€éº¼æœ‰äººæœƒæŠŠ Container è·Ÿ Pod æ··åœ¨ä¸€èµ·è¬› Ans ï¼š å› ç‚ºå¤§éƒ¨åˆ†çš„æƒ…æ³ä¸‹ï¼Œéƒ½æ˜¯ä¸€å€‹ä½æˆ¶(Pod)æ”¾ä¸€å€‹åŒ…è£¹(Container)ï¼Œï¼Œæ‰æœƒå°è‡´é€™æ¨£çš„èª¤æœƒã€‚ä½†å¯¦éš›ä¸Šï¼Œä¸€å€‹ä½æˆ¶(Pod)æ˜¯å¯ä»¥æ”¾ä¸€å€‹æˆ–å¤šå€‹åŒ…è£¹åœ¨è£¡é¢çš„ï¼ ","date":"2022-06-02","objectID":"/k8s-plain/:2:6","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Q7ï¼šä»€éº¼æ˜¯ Node Scaling ? Ans ï¼š å¯ä»¥æŠŠå®ƒç†è§£æˆï¼Œç•¶ä½æˆ¶å¤ªå¤šæ™‚ï¼ŒKubernetes æœƒè‡ªå‹•æˆ–æ‰‹å‹•èˆˆå»ºå¤§æ¨“ï¼Œä¾†æŠŠå¤šå‡ºä¾†çš„ç”¨æˆ¶çµ¦å¡é€²å»ã€‚ ","date":"2022-06-02","objectID":"/k8s-plain/:2:7","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"Q8ï¼šåœ¨ Q5 æœ‰æåˆ°æ”¾ç½®è¨ˆç•«æ˜¯ä»€éº¼æ„æ€ï¼Ÿ Ans ï¼š åªè¦ä½ æœ‰éœ€è¦å°‡åŒ…è£¹æ”¾åœ¨ç¤¾å€å…§ï¼Œéƒ½å¿…é ˆæå‡ºéƒ¨ç½²è¨ˆç•«(Deployment) çµ¦ç®¡å§”æœƒå¯©æ ¸ï¼Œåªè¦é€šéå¯©æ ¸ï¼Œä»–å€‘ä¾ç…§ä½ äº‹å…ˆè²æ˜çš„è¨ˆç•«ï¼Œç›¡æœ€å¤§å¯èƒ½æ€§ä¾†æ”¾ç½®åŒ…è£¹ã€‚ æ‰€ä»¥ç•¶æˆ‘å€‘æœ‰ä»»ä½•è®Šæ›´è¨ˆç•«æ™‚ï¼Œéƒ½éœ€è¦é‡æ–°æäº¤ä¸€ä»½æ–°çš„éƒ¨ç½²è¨ˆç•«çµ¦ç®¡å§”æœƒé‡æ–°å¯©æ ¸å’Œæ¥å—ã€‚ ","date":"2022-06-02","objectID":"/k8s-plain/:2:8","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ çµ¦è¡ŒéŠ·è·Ÿæ¥­å‹™çš„ Kubernetes 101 ä¸­ç¿»ä¸­ä»‹ç´¹ ","date":"2022-06-02","objectID":"/k8s-plain/:3:0","tags":["Kubernetes","K8s","ä»‹ç´¹"],"title":"ç”¨å¤§å‹ç¤¾å€ä¾†ä»‹ç´¹ Kubernetes å…ƒä»¶","uri":"/k8s-plain/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æœƒå¯¦ä½œå¦‚ä½•éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"ç¶“éä¸Šä¸€ç¯‡æ–‡ç«  å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD çš„å­¸ç¿’ï¼Œè®“æˆ‘å€‘äº†è§£åˆ° GitLab CI/CD çš„æ•´å€‹æµç¨‹ï¼Œæ¥è‘—æˆ‘å€‘æœ¬æ¬¡è¦æŠŠ Laravel çµ¦éƒ¨ç½²åˆ° Heroku é€é GitLab çš„ CI/CD å»é”æˆï¼Œä¸éœ€è¦é€éä»»ä½•äººå·¥å»æ¸¬è©¦ï¼Œä¸¦ä¸Šæ¶ç¨‹å¼åˆ° HeroKu ä¸Šï¼Œå…¨éƒ¨éƒ½ä¾è³´ GitLab CI/CDï¼Œè®“æˆ‘å€‘æ¥è‘—çœ‹ä¸‹å»å§ï¼ ç•¶ç„¶ï¼Œæ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å»æŸ¥çœ‹æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ Github ç¨‹å¼ç¢¼é€£çµ ğŸ˜ ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:0:0","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"ç‰ˆæœ¬è³‡è¨Š macOSï¼š11.6 Dockerï¼šDocker version 20.10.14, build a224086 Laravel Installerï¼š2.3.0 Laravel Frameworkï¼š9.14.1 gitlab.comï¼šGitLab Enterprise Edition 15.1.0-pre é¦–å…ˆï¼Œæˆ‘å€‘ç¬¬ä¸€æ­¥é©Ÿå°±æ˜¯å…ˆå»ºç«‹ä¸€å€‹ Laravel å°ˆæ¡ˆï¼Œè‡³æ–¼ç‚ºä»€éº¼è¦é¸æ“‡ç”¨ Laravel ä¾†ç•¶ä½œ GitLab CI/CD çš„ç¯„ä¾‹å‘¢ï¼Ÿå› ç‚º Laravel å…§å»ºæœ‰ PHPUnit çš„æ¸¬è©¦è…³æœ¬ï¼Œå¯ä»¥è®“æˆ‘å€‘åœ¨ CI æ¸¬è©¦æ™‚ï¼Œæ›´å¥½çš„å±•ç¾ CI çš„åŠŸèƒ½ï¼ï¼Œæœ‰é—œæ–¼ Laravel ç›¸é—œå…§å®¹ï¼Œé€™é‚Šä¸€æ¨£æ¨è–¦å…©ç¯‡æ–‡ç« çµ¦å¤§å®¶é–±è®€ï¼šğŸ¤£ Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) Laravel é€²éš (å…§å»ºæœƒå“¡ç³»çµ±ã€é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ã€ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼) åˆå·¥å•†äº†ä¸€æ³¢ XD ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:1:0","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"å»ºç«‹ Laravel å°ˆæ¡ˆ è«‹å¤§å®¶ä¾ç…§ Laravel å®˜æ–¹æ–‡ä»¶ä¾†å»ºç«‹ Laravel ç’°å¢ƒï¼Œä¹Ÿå¯ä»¥çœ‹å°å¼Ÿæˆ‘çš„æ–‡ç« æ‹‰ ğŸ‘†ğŸ‘†ğŸ‘†ï¼Œè«‹è¨˜å¾—è¦å…ˆå®‰è£å¥½ php ä»¥åŠ composerï¼Œæ¥è‘—æŒ‰ç…§ä»¥ä¸‹æ­¥é©Ÿä¾†å»ºç«‹ã€‚ æ–°å»ºä¸€å€‹ Laravel æ–°å°ˆæ¡ˆ\" æ–°å»ºä¸€å€‹ Laravel æ–°å°ˆæ¡ˆ é€™æ™‚å€™ç€è¦½ http://127.0.0.1:8000ï¼Œå¦‚æœéƒ½æ­£ç¢ºï¼Œæ‡‰è©²æœƒçœ‹åˆ° Laravel çš„é¦–é  Laravel é¦–é \" Laravel é¦–é  ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:2:0","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"æ¸¬è©¦æœ¬åœ° Unit Test æ¥è‘—æˆ‘å€‘å‰›å‰›æœ‰æåˆ°é¸ç”¨ Laravel çš„åŸå› æ˜¯ Laravel æœ‰ PHPUnit å–®å…ƒæ¸¬è©¦å¯ä»¥ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘å€‘ç¾åœ¨å…ˆåœ¨æœ¬åœ°ç«¯ä¾†æ¸¬è©¦ Unit Testï¼Œå°ˆæ¡ˆé è¨­æœ‰æ”¾ä¸€å€‹å–®å…ƒæ¸¬è©¦åœ¨ tests/Unit/ExampleTest.phpã€‚æˆ‘å€‘å…ˆå†æ¬¡ç¢ºèªç’°å¢ƒæ˜¯å¦æœ‰å®‰è£å¥½ï¼Œå†ä¾†åŸ·è¡Œå–®å…ƒæ¸¬è©¦ã€‚ åœ¨æœ¬åœ°ç«¯åŸ·è¡Œå–®å…ƒæ¸¬è©¦\" åœ¨æœ¬åœ°ç«¯åŸ·è¡Œå–®å…ƒæ¸¬è©¦ åŸ·è¡Œå¾Œï¼Œæ‡‰è©²éƒ½æœƒæ˜¯é€šéçš„ç•«é¢ï¼Œå¦‚ä¸‹åœ–ï¼š åŸ·è¡Œå–®å…ƒæ¸¬è©¦çµæœ\" åŸ·è¡Œå–®å…ƒæ¸¬è©¦çµæœ ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:3:0","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"GitLab CI å»ºç½® ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:4:0","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"ä¸Šå‚³ Laravel å°ˆæ¡ˆ æ¥ä¸‹ä¾†æˆ‘å€‘è¦ä¸Šå‚³å«æœ‰ Unit Test å°ˆæ¡ˆåˆ° GitLab ä¸Šï¼Œæ­¥é©Ÿå¦‚ä¸‹ï¼Œå¦‚æœå·²ç¶“ç†Ÿæ‚‰å¦‚ä½•å°‡å°ˆæ¡ˆæ¨åˆ° GitLabï¼Œå¯ä»¥ç›´æ¥è·³åˆ° åœ¨ GitLab ä¸ŠåŸ·è¡Œå–®å…ƒæ¸¬è©¦ åœ¨ gitlab.com ä¸Šé»é¸å»ºç«‹å°ˆæ¡ˆï¼Œé¸æ“‡ Create blank projectï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç€è¦½è©²ç¶²å€ https://gitlab.com/projects/new#blank_projectã€‚ è¼¸å…¥å°ˆæ¡ˆåç¨±å¯ä»¥é¸æ“‡ Project deployment target ç‚º Herokoï¼Œé¸æ“‡ Publicï¼Œæœ€å¾ŒæŒ‰ä¸‹ Create project åœ¨ GitLab ä¸Šå»ºç«‹æ–°å°ˆæ¡ˆ\" åœ¨ GitLab ä¸Šå»ºç«‹æ–°å°ˆæ¡ˆ æ–¼å°ˆæ¡ˆè³‡æ–™å¤¾ä¸‹åŠ å…¥ remote é ç«¯ GitLabï¼Œä¸¦ Push å°‡å°ˆæ¡ˆæ¨ä¸Šå»ã€‚ å°‡ Laravel å°ˆæ¡ˆæ¨åˆ° GitLab ä¸Š\" å°‡ Laravel å°ˆæ¡ˆæ¨åˆ° GitLab ä¸Š æˆåŠŸæ¨ä¸Šå»ï¼Œå¯ä»¥åˆ° GitLab ä¸Šï¼Œçœ‹åˆ°æˆ‘å€‘å‰›å‰›çš„å°ˆæ¡ˆï¼ æˆåŠŸæ¨åˆ° GitLab ä¸Š\" æˆåŠŸæ¨åˆ° GitLab ä¸Š ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:4:1","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"åœ¨ GitLab ä¸ŠåŸ·è¡Œå–®å…ƒæ¸¬è©¦ è¦åœ¨ GitLab ä¸ŠåŸ·è¡Œ CI/CD å°±éœ€è¦æœ‰ Runnerï¼Œé€™æ¬¡æˆ‘å€‘é¸æ“‡ä½¿ç”¨ gitlab.com çš„ Shared runnersï¼Œæƒ³è¦ä½¿ç”¨ Specific runnersï¼Œå¯ä»¥æŸ¥çœ‹ä¸Šä¸€ç¯‡ å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD æ–‡ç«  æœ¬æ¬¡ä½¿ç”¨ Share runners\" æœ¬æ¬¡ä½¿ç”¨ Share runners æ¥ä¸‹ä¾†åœ¨å°ˆæ¡ˆçš„æ ¹ç›®éŒ„æ’°å¯«æˆ‘å€‘çš„ .gitlab-ci.yml æª”æ¡ˆï¼Œä¹‹å¾Œå†æ¬¡ä¸Šå‚³ GitLabï¼Œç•¶æˆ‘å€‘æ ¹ç›®éŒ„æœ‰æ­¤æª”æ¡ˆï¼ŒGitLab-CI å°±æœƒè®€å–ä¸¦ä¾ç…§å…§å®¹å•Ÿå‹• Runner ä¾†åŸ·è¡Œå·¥ä½œï¼š .gitlab-ci.yml image:lorisleiva/laravel-docker:latestUnit_test:before_script:- composer install --prefer-dist --no-ansi --no-interaction --no-progress --no-scriptsscript:- ./vendor/bin/phpunit --testsuit Unit --coverage-text --colors=never èªªæ˜ä¸€ä¸‹é€™å€‹ yml æª”å…§çš„è¨­å®šæ˜¯åœ¨åšä»€éº¼ï¼š imageï¼šå› ç‚ºæˆ‘å€‘åŸ·è¡Œ CI/CD éç¨‹ä¸­ï¼Œéœ€è¦æœ‰ PHPã€Composeã€NPM ç­‰å·¥å…·ï¼Œæœ‰é€™äº›å¥—ä»¶ç®¡ç†å·¥å…·å°±å¯ä»¥å»¶ä¼¸å»å®‰è£æ›´å¤šå¥—ä»¶ï¼Œå¦‚æœä¸€é–‹å§‹æ²’æœ‰å®‰è£ï¼Œå°±æœƒå¾ˆéº»ç…©ï¼Œå…¶ä¸­ä¸€å€‹è¾¦æ³•å°±æ˜¯å» Runner ç’°å¢ƒä¿®æ”¹ä¸¦å®‰è£ï¼Œä½†å› ç‚ºæ–¹ä¾¿ä»¥åŠæˆ‘å€‘é€™æ¬¡ä½¿ç”¨ Share runnersï¼Œæ‰€ä»¥ä¸èƒ½ä¿®æ”¹åˆ¥äººçš„ Runnerï¼Œå¦ä¸€å€‹è¾¦æ³•æ˜¯å¯ä»¥ä½¿ç”¨ image é—œéµå­—ï¼Œå¯ä»¥è®“ Runner åˆ‡æ›åˆ°å¦ä¸€å€‹ç’°å¢ƒå»åŸ·è¡Œå·¥ä½œ (Job)ï¼Œæˆ‘å€‘é€™é‚Šä½¿ç”¨ lorisleiva/laravel-docker:latest ï¼Œä»–è£¡é¢å·²ç¶“å¹«æˆ‘å€‘å®‰è£å¥½ä¸Šè¿°çš„å·¥å…·äº†ï¼ Unit_testï¼šé€™é‚Šä¹Ÿæ˜¯æˆ‘å€‘çš„ Jobï¼Œé‚£è£¡é¢ä¸»è¦æ˜¯å…ˆç”¨ composer install å»å®‰è£æˆ‘å€‘éœ€è¦çš„å¥—ä»¶ï¼Œæœ€å¾Œåœ¨åŸ·è¡Œ phpunit ä¾†åšå–®å…ƒæ¸¬è©¦ã€‚ ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:4:2","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"ä¸Šå‚³ .gitlab-ci.yml æ¥è‘—æˆ‘å€‘ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å°‡å«æœ‰ .gitlab-ci.yml çš„å°ˆæ¡ˆä¸Šå‚³åˆ° GitLabï¼Œä¸¦å›åˆ° GitLab é¸æ“‡ CI/CDï¼Œå¯ä»¥æŸ¥çœ‹ç›®å‰çš„ Pipelinesï¼Œæœƒæœ‰æˆ‘å€‘å‰›å‰›æ‰€æ–°å¢çš„ Runnerã€‚ å°‡ .gitlab-ci.yml æ¨åˆ° GitLab\" å°‡ .gitlab-ci.yml æ¨åˆ° GitLab æŸ¥çœ‹ Runner å·²ç¶“é€²è¡ŒåŸ·è¡Œå–®å…ƒæ¸¬è©¦æª¢æ¸¬\" æŸ¥çœ‹ Runner å·²ç¶“é€²è¡ŒåŸ·è¡Œå–®å…ƒæ¸¬è©¦æª¢æ¸¬ å¯ä»¥çœ‹åˆ° Runner å…ˆå®‰è£æˆ‘å€‘çš„ç’°å¢ƒï¼Œå†åŸ·è¡Œå–®å…ƒæ¸¬è©¦çš„è…³æœ¬\" å¯ä»¥çœ‹åˆ° Runner å…ˆå®‰è£æˆ‘å€‘çš„ç’°å¢ƒï¼Œå†åŸ·è¡Œå–®å…ƒæ¸¬è©¦çš„è…³æœ¬ ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:4:3","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"è¨­ç½®é ˆé€šéæ¸¬è©¦æ‰å¯ä»¥åˆä½µ ç•¶æˆ‘å€‘æœ‰äº†æ¸¬è©¦é‚„ä¸å¤ ï¼Œè¦æ€éº¼ç¢ºä¿æ¯éš»è¦ä¸Šç·š (åˆä½µåˆ°ä¸»åˆ†æ”¯) çš„ç¨‹å¼éƒ½æœ‰ç¶“éæ¸¬è©¦æ‰ä¸Šç·šå‘¢ï¼Ÿ æ¥ä¸‹ä¾†æˆ‘å€‘å¯ä»¥åœ¨ GitLab è£¡é¢åšé€™äº›è¨­å®šï¼Œå…ˆåˆ°å°ˆæ¡ˆçš„ Setting â†’ General â†’ Merge requests â†’ Merge checks é»é¸ Pipelines must succeedï¼š é»é¸ Pipelines must succeed ä¾†ç¢ºä¿ç¨‹å¼åˆä½µå‰éƒ½å¿…é ˆç¶“éæ¸¬è©¦\" é»é¸ Pipelines must succeed ä¾†ç¢ºä¿ç¨‹å¼åˆä½µå‰éƒ½å¿…é ˆç¶“éæ¸¬è©¦ ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:4:4","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"æ¸¬è©¦æ˜¯å¦å¯ä»¥é˜»æ“‹æœªæˆåŠŸæƒ…æ³ æˆ‘å€‘å…ˆæ¨¡æ“¬è¦é–‹ç™¼æ–°åŠŸèƒ½ï¼Œæ‰€ä»¥åœ¨ master æœ€æ–° commit ä¸‹ï¼Œå»ºç«‹ä¸€å€‹æ–°åˆ†æ”¯ new git checkout -b \"new\" æ¥è‘—ä¿®æ”¹å–®å…ƒæ¸¬è©¦ï¼Œæ•…æ„æ–°å¢éŒ¯èª¤çš„æ¸¬è©¦ï¼Œé–‹å•Ÿå°ˆæ¡ˆçš„ tests/Unit/ExampleTest.phpï¼Œæœ€ä¸‹é¢åŠ ä¸Šç´…è‰²æ¡†æ¡†ç¨‹å¼ç¢¼ï¼š æ–°å¢éŒ¯èª¤æ¸¬è©¦ï¼Œé‚„æ¨¡æ“¬çœ‹çœ‹æ˜¯å¦èƒ½æˆåŠŸæ“‹ä½\" æ–°å¢éŒ¯èª¤æ¸¬è©¦ï¼Œé‚„æ¨¡æ“¬çœ‹çœ‹æ˜¯å¦èƒ½æˆåŠŸæ“‹ä½ assertEquals æœƒæª¢æŸ¥é€™å…©å€‹å€¼æ˜¯å¦ç›¸åŒï¼Œä¸åŒçš„è©±ï¼Œå°±æœƒè·³å‡ºéŒ¯èª¤ï¼Œæ‰€ä»¥æˆ‘å€‘æ•…æ„è¼¸å…¥ 1 å’Œ 2ã€‚ ä¸¦å°‡å®ƒä¸Šå‚³åˆ° GitLabï¼Œä¸¦ç™¼å‡º Merge Request çœ‹çœ‹æœƒæœ‰ä»€éº¼çµæœï¼ å°‡æ–°å¢éŒ¯èª¤çš„ ExampleTest åŠ å…¥æš«å­˜ï¼Œæ¨åˆ° GitLab\" å°‡æ–°å¢éŒ¯èª¤çš„ ExampleTest åŠ å…¥æš«å­˜ï¼Œæ¨åˆ° GitLab ä¸¦å°‡ new åˆ†æ”¯é€é Merge Request ä¾†åˆä½µåˆ° master\" ä¸¦å°‡ new åˆ†æ”¯é€é Merge Request ä¾†åˆä½µåˆ° master å¯ä»¥çœ‹åˆ°æˆ‘å€‘åˆä½µåœ¨ Pipeline æ¸¬è©¦æ™‚ï¼Œå› ç‚º new æ²’æœ‰é€šéæ¸¬è©¦ï¼Œæ‰€ä»¥ä¹Ÿæ²’æœ‰è¾¦æ³•é€²è¡Œåˆä½µï¼ åˆ†æ”¯ new æ²’æœ‰é€šéæ¸¬è©¦ï¼Œæ‰€ä»¥æ²’æœ‰é€²è¡Œ Merge\" åˆ†æ”¯ new æ²’æœ‰é€šéæ¸¬è©¦ï¼Œæ‰€ä»¥æ²’æœ‰é€²è¡Œ Merge ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:4:5","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"GitLab CD å»ºç½® æˆ‘å€‘ç©å®Œ CI å¾Œï¼Œæ¥è‘—è¦æŠŠç¨‹å¼éƒ¨ç½²åˆ°ä¼ºæœå™¨æˆ–æ˜¯é›²ç«¯ä¸Šï¼Œé€™æ™‚å€™æˆ‘å€‘ä¸éœ€è¦é€éäººå·¥æ‰‹å‹•çš„æ–¹å¼ï¼Œåªéœ€è¦æœ‰ CD ä¾†å¹«æˆ‘å€‘è‡ªå‹•åŒ–éƒ¨ç½²å°±å¯ä»¥æ‹‰ï¼å¦‚æœä¸å¤ªæ¸…æ¥šï¼Œå¯ä»¥åƒè€ƒé€™å¼µåœ–ç‰‡ï¼š GitLab CI/CD workflow (åœ–ç‰‡ä¾†æºï¼šGitLab)\" GitLab CI/CD workflow (åœ–ç‰‡ä¾†æºï¼šGitLab) ç•¶æˆ‘å€‘å‰›å‰›é€²è¡Œ CI çš„æ•´åˆæ¸¬è©¦ï¼Œæœ€å¾Œç¶“é Review and approve åˆä½µåˆ°ä¸»åˆ†æ”¯ï¼Œé€™æ™‚å€™å¦‚æœæˆ‘å€‘æœ‰è¨­å®š CDï¼ŒCD å°±æœƒå¹«æˆ‘å€‘éƒ¨ç½²åˆ°æœå‹™ä¸Šï¼Œæˆ‘æŠŠ CD æµç¨‹è½‰æˆæ–‡å­—æ­¥é©Ÿèªªæ˜ï¼š æŠŠæ–°åŠŸèƒ½åˆ†æ”¯åˆä½µåˆ° master åˆ†æ”¯ï¼Œä»£è¡¨åŠŸèƒ½å·²ç¶“å¯ä»¥ä¸Šç·š GitLab è§¸ç™¼ Gitlab-CI åŸ·è¡Œ pipeline Gitlab-CI åŸ·è¡Œè‡ªå‹•åŒ–æ¸¬è©¦ Gitlab-CI æ¸¬è©¦æˆåŠŸå¾Œï¼ŒåŸ·è¡Œéƒ¨ç½²åˆ°æ­£å¼ä¼ºæœå™¨ å›å‚³åŸ·è¡Œçµæœè‡³ GitLab é‚£æƒ³è¦é”æˆè‡ªå‹•åŒ–éƒ¨ç½²ä¹‹å‰ï¼Œå¿…é ˆèƒ½åœ¨é ç«¯ç”¨æŒ‡ä»¤ä¸‹é”éƒ¨ç½²æ›´æ–°ï¼ç°¡å–®ä¾†èªªæœ‰å…©ä»¶äº‹æƒ…ï¼š è¦å…ˆæ•´ç†å†æ›´æ–°å°ˆæ¡ˆæ™‚éœ€è¦å“ªäº›æŒ‡ä»¤ï¼Œä¸¦å°‡å…¶å¯«æˆè…³æœ¬ éœ€è¦ç²å¾—ä¼ºæœå™¨çš„æˆæ¬Šï¼Œå¯ä»¥å°ä¼ºæœå™¨ä¸‹é”æ›´æ–°å°ˆæ¡ˆçš„è…³æœ¬ æˆ‘å€‘ä»¥ç¾åœ¨ Laravel å°ˆæ¡ˆä¾†èªªï¼Œå¥—ç”¨ä¸Šé¢è¬›çš„å…©ä»¶äº‹æƒ…ï¼š è…³æœ¬è£½ä½œï¼šä¸Šç·šæ–°ç‰ˆæœ¬å¤§æ¦‚è¦åŸ·è¡Œä»¥ä¸‹åœ–ç‰‡çš„å…§å®¹ Laravel å°ˆæ¡ˆä¸Šç·šå‰æœƒä¸‹é”çš„æŒ‡ä»¤\" Laravel å°ˆæ¡ˆä¸Šç·šå‰æœƒä¸‹é”çš„æŒ‡ä»¤ å°é ç«¯ä¼ºæœå™¨ä¸‹æŒ‡ä»¤ï¼šé€šå¸¸ä½¿ç”¨ ssh èˆ‡ ä¼ºæœå™¨åšæºé€šï¼Œæ‰€ä»¥å…ˆåœ¨ä¼ºæœå™¨ç”¢ç”Ÿæˆæ¬Šé‡‘é‘°çµ¦è¦é ç«¯æ§åˆ¶çš„é›»è…¦ï¼Œå¦‚æœè¦çµ¦ Gitlab-CI æ§åˆ¶çš„è©±ï¼Œä¹Ÿéœ€è¦æŠŠé‡‘é‘°å­˜åœ¨ GitLab ä¸Šï¼Œé€šå¸¸ä½¿ç”¨ ssh user@remote.server 'git pull' ä¾†ä¸‹é”æ›´æ–°å°ˆæ¡ˆçš„æŒ‡ä»¤ æœ¬ç¯‡æˆ‘å€‘è¦éƒ¨ç½²çš„æ˜¯ PaaS çš„ HeroKuï¼Œå¯ä»¥æ¸›å°‘æ™‚é–“å»æ¶è¨­ç’°å¢ƒï¼Œå°±å¯ä»¥é”åˆ°æˆ‘å€‘æƒ³è¦çš„æ•ˆæœï¼Œé‚£æ¥è‘—æœƒå¸¶å¤§å®¶å¾ Heroku è¨­å®šé–‹å§‹æ­ï¼å…ˆç°¡å–®ä»‹ç´¹ä¸€ä¸‹ Herokuï¼š Heroku æ˜¯ä¸€å€‹æ”¯æ´å¤šç¨®ç¨‹å¼èªè¨€çš„é›²å¹³å°å³æ™‚æœå‹™(PaaS)ï¼Œ æ˜¯ä¸€ç¨®é›²ç«¯é‹ç®—æœå‹™ï¼Œæä¾›é‹ç®—å¹³å°èˆ‡è§£æ±ºæ–¹æ¡ˆæœå‹™ï¼ŒPaaSæä¾›ä½¿ç”¨è€…å°‡é›²ç«¯åŸºç¤è¨­æ–½éƒ¨ç½²èˆ‡å»ºç«‹è‡³ä½¿ç”¨è€…ç«¯ï¼Œæˆ–è€…è—‰æ­¤ç²å¾—ä½¿ç”¨ç¨‹å¼èªè¨€ã€ç¨‹å¼åº«èˆ‡æœå‹™ã€‚ä½¿ç”¨è€…ä¸éœ€è¦ç®¡ç†èˆ‡æ§åˆ¶é›²ç«¯åŸºç¤è¨­æ–½ï¼ˆåŒ…å«ç¶²è·¯ã€ä¼ºæœå™¨ã€ä½œæ¥­ç³»çµ±æˆ–å„²å­˜ï¼‰ï¼Œä½†éœ€è¦æ§åˆ¶ä¸Šå±¤çš„æ‡‰ç”¨ç¨‹å¼éƒ¨ç½²èˆ‡æ‡‰ç”¨ä»£ç®¡çš„ç’°å¢ƒã€‚ ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:5:0","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"å‰µå»º Heroku å°ˆæ¡ˆ é‚£è¦ä½¿ç”¨ Heroku ç•¶ç„¶éœ€è¦ä¸€çµ„å¸³è™Ÿæ‹‰ï¼Œå»ºç«‹å¸³è™Ÿæˆ‘æ‡‰è©²ä¸ç”¨å†å¤šä»‹ç´¹äº†å§ ğŸ¤¡ æˆ‘å€‘ç›´æ¥åˆ° Heroku é é¢ï¼Œå³ä¸Šè§’ Newï¼Œé»é¸ Create new appï¼Œè¼¸å…¥æœ¬æ¬¡å°ˆæ¡ˆåç¨±ï¼Œæˆ‘å°±å–å« laravel-gitlab-cicd-heroku (é€™å€‹ä¸èƒ½èˆ‡åˆ¥äººé‡è¤‡ï¼Œå› ç‚ºä»–æœƒç”Ÿæˆå°ˆå±¬ç¶²é )ï¼Œ é€²å»å¾Œï¼Œé»é¸å³ä¸Šè§’æœ‰ä¸€å€‹ Open appï¼Œå°±æœƒè·³å‡ºé€™å€‹å°ˆæ¡ˆå°ˆå±¬çš„ç¶²é ï¼š Heroku å°ˆå±¬ç¶²é \" Heroku å°ˆå±¬ç¶²é  ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:5:1","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"è¨­å®š HeroKu èˆ‡ GitLab é€£ç·š å…ˆé»é¸å³ä¸Šè§’å€‹äººé ­åƒ â†’ Account setrtings â†’ åœ¨ Account å¾€ä¸‹æ»‘ â†’ API Keyï¼Œé»é¸ Reveal ä¸¦å°‡è©² API è¨˜ä½ï¼Œé€™æ˜¯ç­‰ç­‰é€é GitLab éƒ¨ç½²æ™‚æœƒç”¨åˆ°çš„ API Tokenï¼š å–å¾—éƒ¨ç½²çš„ API Token\" å–å¾—éƒ¨ç½²çš„ API Token å›åˆ° GitLab å°ˆæ¡ˆåº•ä¸‹ï¼ŒSettings â†’ CI/CD â†’ Variablesï¼Œä»–å¯ä»¥å°‡è®Šæ•¸è¨­å®šåœ¨é€™é‚Šï¼Œå†è®“ .gitlab-ci.yml ä¾†æŠ“å–è®Šæ•¸ï¼Œè¨­å®šä»¥ä¸‹å…©å€‹è®Šæ•¸ï¼š(è©³ç´°å¯ä»¥åƒè€ƒå®˜ç¶²) Key åç¨±(HEROKU_PRODUCTION_PROJECT_NAME)ï¼ŒValue å€¼(è¨­å®šæˆ‘å€‘å‰›å‰›åœ¨ Heroku éƒ¨ç½²çš„å°ˆæ¡ˆåç¨±ï¼Œæˆ‘çš„æ˜¯ laravel-gitlab-cicd-heroku) Key åç¨±(HEROKU_PRODUCTION_API_KEY)ï¼ŒValue å€¼(é€™å€‹å°±æ˜¯æˆ‘å€‘ä¸Šé¢çš„ API Keyï¼Œæ¯å€‹äººéƒ½è¦ç”¨è‡ªå·±çš„æ­ï¼ä¸Šé¢çš„æˆ‘å·²ç¶“é‡è¨­äº† ğŸ˜ ) GitLab è¨­å®š Variables\" GitLab è¨­å®š Variables é€™é‚Šè¦æ³¨æ„å…ˆæŠŠé è¨­çš„ Protect variable çµ¦é—œé–‰ï¼Œä»–é è¨­æœƒåªèƒ½åœ¨å—ä¿è­·çš„åˆ†æ”¯æˆ–æ¨™ç±¤é‹è¡Œï¼Œä½†æˆ‘å€‘é€™æ­¤ä»¥ç°¡å–®ç‚ºä¸»ï¼Œæ‰€ä»¥é€™äº›è¨­å®šéƒ½å…ˆé—œæ‰ã€‚ ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:5:2","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"æ–°å¢ Heroku è­˜åˆ¥æª”æ¡ˆ æ¥ä¸‹ä¾†æˆ‘å€‘è¦æ–°å¢ä¸€å€‹æª”æ¡ˆåç‚º Procfileï¼Œå®ƒæ˜¯ Heroku éƒ¨ç½²æ›´æ–°æ™‚æœƒå•Ÿå‹•çš„å°è±¡ï¼Œæ³¨æ„ä»–æ²’æœ‰å‰¯æª”åï¼Œæˆ‘å€‘åœ¨è£¡é¢è¼¸å…¥ä»¥ä¸‹ï¼š(æˆ‘å€‘ä½¿ç”¨åˆä½µå¾Œçš„ master) æ–°å¢ HeroKu è­˜åˆ¥æª”æ¡ˆ\" æ–°å¢ HeroKu è­˜åˆ¥æª”æ¡ˆ å®ƒä»£è¡¨æˆ‘å€‘ç¶²é æœå‹™ä½¿ç”¨ apache2 æŒ‡ä»¤é‹è¡Œä¸¦æŠŠå…¥å£æŒ‡å‘å°ˆæ¡ˆè³‡æ–™å¤¾ä¸­çš„ laravel å°ˆæ¡ˆçš„å…¥å£è³‡æ–™å¤¾ã€‚ ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:5:3","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"ä¿®æ”¹ .gitlab-ci.yml æˆ‘å€‘ä¿®æ”¹åŸæœ¬ç”¨ä¾† CI çš„è…³æœ¬ï¼Œä¾†è¨­å®šè‡ªå‹•åŒ–éƒ¨ç½²çš„ä»»å‹™ Job åŠè…³æœ¬ .gitlab-ci.yml image: lorisleiva/laravel-docker:latest Production_Deploy: stage: Production_Deploy before_script: - apk add ruby ruby-dev ruby-irb ruby-rake ruby-io-console ruby-bigdecimal ruby-json ruby-bundler yarn ruby-rdoc \u003e\u003e /dev/null - apk update - gem install dpl \u003e\u003e /dev/null script: - dpl --provider=heroku --app=$HEROKU_PRODUCTION_PROJECT_NAME --api-key=$HEROKU_PRODUCTION_API_KEY æœ€å¾Œä¸Šå‚³ GitLab ä¾†è§¸ç™¼ Gitlab-CI åŸ·è¡Œè‡ªå‹•åŒ–éƒ¨ç½² (ä¸Šå‚³æŒ‡ä»¤å°±ä¸å¤šèªªå›‰ï¼Œæƒ³å¿…å¤§å®¶éƒ½æœƒäº†å§ï¼ï¼Œä¸æœƒçš„è©±å¯ä»¥å»çœ‹ Git ä»‹ç´¹ï¼Œè£¡é¢æœ‰è©³ç´°çš„ä»‹ç´¹ ğŸ˜ ) è§¸ç™¼ Gitlab-CI åŸ·è¡Œè‡ªå‹•åŒ–éƒ¨ç½²\" è§¸ç™¼ Gitlab-CI åŸ·è¡Œè‡ªå‹•åŒ–éƒ¨ç½² å¯ä»¥çœ‹åˆ°éƒ¨ç½²æˆåŠŸï¼Œæˆ‘å€‘ä¹Ÿä¾†çœ‹çœ‹ Runner é‹ä½œç‹€æ³ï¼š Runner é‹ä½œç‹€æ³\" Runner é‹ä½œç‹€æ³ çœ‹åˆ°ä»–æˆåŠŸå°‡æœå‹™çµ¦éƒ¨ç½²åˆ° https://laravel-gitlab-cicd-heroku.herokuapp.com/ã€‚ æ—¢ç„¶å·²ç¶“éƒ¨ç½²å¥½äº†ï¼Œç•¶ç„¶è¦å»çœ‹ä¸€ä¸‹æˆ‘å€‘çš„ç¶²é å•Šï¼Œä½†ç•¶æˆ‘å€‘æ‰“é–‹éƒ¨ç½²å¥½çš„ç¶²é ï¼Œæœƒç™¼ç¾è·³å‡º 500 Errorï¼Œé›–ç„¶ä»–èˆ‡æˆ‘å€‘ CI/CD æ²’æœ‰é—œä¿‚ï¼Œä½†æˆ‘å€‘é‚„æ˜¯è©¦è‘—è§£æ±ºï¼Œé‚£é€™å€‹å•é¡Œæœƒç™¼ç”Ÿæ˜¯å› ç‚ºæˆ‘å€‘æ²’æœ‰çµ¦ç’°å¢ƒè®Šæ•¸çš„ APP_KEYï¼Œé€™å€‹ Key å¯ä»¥åœ¨å°ˆæ¡ˆçš„ .env å–å¾—ï¼Œæ‹¿åˆ°å¾Œé–‹å•Ÿ Heroku â†’ Setting â†’ Config vars å°‡ APP_KEY è¨­å®šä¸Šå»ã€‚ Runner é‹ä½œç‹€æ³\" Runner é‹ä½œç‹€æ³ æœ€å¾Œé‡æ–°æ•´ç† https://laravel-gitlab-cicd-heroku.herokuapp.com/ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘éƒ¨ç½²ä¸Šå»çš„ç¶²ç«™å›‰ï¼ é€é CD éƒ¨ç½²åˆ° Heroku çš„ Laravel é¦–é \" é€é CD éƒ¨ç½²åˆ° Heroku çš„ Laravel é¦–é  ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:5:4","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Gitlab-CI å…¥é–€å¯¦ä½œæ•™å­¸ - å–®å…ƒæ¸¬è©¦ç¯‡ Gitlab-CI è‡ªå‹•åŒ–éƒ¨å±¬éƒ¨ç½² éƒ¨ç½² Laravel æ–¼ Heroku æ­é… Gitlab CI/CD ","date":"2022-05-26","objectID":"/laravel-gitlab-cicd-heroku/:6:0","tags":["GitLab","CI/CD","Laravel","Heroku","ä»‹ç´¹","å¯¦ä½œ"],"title":"éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD","uri":"/laravel-gitlab-cicd-heroku/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯ä»‹ç´¹ GitLab CI/CD çš„ä¸€äº›æ¦‚å¿µï¼Œä¸¦è§£æ­é…åœ–ç‰‡ä¾†åšèª¬æ˜ğŸ’ª","date":"2022-05-26","objectID":"/gitlab-cicd/","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":"è‡ªå¾ä¸Šæ¬¡å­¸å®Œ Jenkins åŠ Ansible CI/CDï¼Œå°±è¦ºå¾— CI/CD å¯¦åœ¨å¤ªé…·äº†ï¼èƒ½å¤ è‡ªå‹•åŒ–çš„å»æŒçºŒæ•´åˆ (Continuous Integration, CI) ä»¥åŠæŒçºŒä½ˆç½² (Continuous Deployment,CD) å°ˆæ¡ˆï¼Œå†åŠ ä¸Šé€™å¹¾å¤©è¤‡ç¿’äº† Git çš„ä½¿ç”¨æ–¹æ³•ï¼Œçªç„¶æƒ³åˆ°ï¼Œè¦æ€éº¼è¨­å®šæˆ‘å€‘å°‡ç¨‹å¼æ¨åˆ°é ç«¯çš„ Git Repoï¼Œèƒ½å¤ å†æ­é… CI/CD å»åšæ¸¬è©¦ï¼Œä¸¦ä¸”æŠŠç¨‹å¼ç¢¼è‡ªå‹•éƒ¨ç½²åˆ°æ­£å¼çš„æœå‹™æ©Ÿå™¨è¨­å‚™ä¸Šå‘¢ï¼Ÿ é‚£æˆ‘å€‘å°±é–‹å§‹å›‰ï¼æ­¤ç¯‡æœƒè¤‡ç¿’ä¸€ä¸‹ CI/CD ä¸¦ä¸”èªªæ˜ GitLab CI/CD é‹ä½œçš„åŸç†ï¼Œé—œæ–¼å¯¦ä½œéƒ¨åˆ†æœƒæ”¾åˆ°ä¸‹ä¸€ç¯‡æ–‡ç«  éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD å°äº†å·¥å•†ä¸€ä¸‹ï¼Œå‰›å‰›æœ‰æåˆ°çš„ Jenkins åŠ Ansible CI/CD ç¸½å…±æœ‰ 3 ç¯‡æ–‡ç« ï¼Œé‚„æ²’çœ‹éçš„å¯ä»¥å…ˆé£›éå»çœ‹ä¸€ä¸‹æ­ ğŸ‘‡ğŸ‘‡ğŸ‘‡ Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹ ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers) è€æ¨£å­æ–‡ç« ä¹ŸæœƒåŒæ­¥åˆ° Githubï¼Œæœƒé™„ä¸Šç¯„ä¾‹ä¸­çš„ç¨‹å¼ç¢¼ï¼Œæœ‰éœ€è¦çš„ä¹Ÿå¯ä»¥å»æŸ¥çœ‹æ­ï¼ Github ç¨‹å¼ç¢¼é€£çµ ğŸ’“ ","date":"2022-05-26","objectID":"/gitlab-cicd/:0:0","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":"GitLab CI/CD GitLab CI/CD æ˜¯ GitLab å…§å»ºå¼·å¤§çš„å·¥å…·ï¼Œåœ¨ GitHub è¢«ç¨±ç‚º Github Actionsï¼Œé€™å€‹ä¹‹å¾Œæœ‰ç©ºå†ä¾†ä»‹ç´¹XDï¼Œå›æ­¸æ­£é¡Œï¼ŒGitLab CI/CD å¯ä»¥è®“æˆ‘å€‘æŒçºŒæ•´åˆå’Œéƒ¨ç½²ï¼Œä¸”ä¸éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ‡‰ç”¨ç¨‹å¼ä¾†æ•´åˆã€‚æˆ‘å€‘ä¾†è¤‡ç¿’ä¸€ä¸‹ æŒçºŒæ•´åˆ CIã€æŒçºŒéƒ¨ç½² CD ä»–å€‘æ˜¯ä»€éº¼å§ï¼š ","date":"2022-05-26","objectID":"/gitlab-cicd/:1:0","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":"æŒçºŒæ•´åˆ CI ä¸€å€‹è™•æ–¼é–‹ç™¼éšæ®µçš„å°ˆæ¡ˆæˆ–æ˜¯è»Ÿé«”ï¼Œå®ƒè¢«æˆ‘å€‘æ”¾åœ¨ GitLab çš„ Repository è£¡ï¼Œé–‹ç™¼äººå“¡æ¯å¤©æœƒæ¨é€ä¸åŒçš„ç¨‹å¼ç¢¼åˆ° GitLab ä¸Šï¼ŒGitLab æŒçºŒæ•´åˆ CI æœƒåœ¨é–‹ç™¼äººå“¡æ¯æ¬¡æ¨é€å¾Œï¼Œè‡ªå‹•åŒ–çš„ä¾ç…§æˆ‘å€‘è¨­å®šå¥½çš„è…³æœ¬é€²è¡Œå»ºæ§‹èˆ‡æ¸¬è©¦ï¼Œå¾è€Œæ¸›å°‘é–‹ç™¼ä¸­çš„å°ˆæ¡ˆç™¼ç”ŸéŒ¯èª¤çš„å¯èƒ½æ€§ã€‚ é€™ç¨®åšæ³•å°±è¢«ç¨±ä½œæŒçºŒæ•´åˆï¼Œå°æ–¼æˆ‘å€‘æäº¤çµ¦å°ˆæ¡ˆçš„æ¯ä¸€å€‹æ›´æ”¹ã€ç”šè‡³æ˜¯é–‹ç™¼åˆ†æ”¯ï¼Œå®ƒéƒ½æ˜¯è‡ªå‹•ä¸”æŒçºŒåœ°å»ºæ§‹å’Œæ¸¬è©¦ï¼Œç¢ºä¿æ–°åŠ å…¥çš„è®Šå‹•ï¼Œç¬¦åˆæˆ‘å€‘åœ¨å°ˆæ¡ˆä¸­æ‰€è¨­è¨ˆçš„æ‰€æœ‰æ¸¬è©¦ã€‚ ","date":"2022-05-26","objectID":"/gitlab-cicd/:1:1","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":"æŒçºŒéƒ¨ç½² CD æŒçºŒéƒ¨ç½²ï¼Œè®“æˆ‘å€‘ä¸å¤ªéœ€è¦æ‰‹å‹•çš„å»éƒ¨ç½²å°ˆæ¡ˆæœå‹™ï¼Œè€Œæ˜¯å°‡å…¶è¨­ç½®ç‚ºè‡ªå‹•åŒ–éƒ¨ç½²ï¼Œå®Œå…¨ä¸éœ€è¦æœ‰äººå·¥å»å¹²æ¶‰ï¼Œæ¸›å°‘äº†äººç‚ºçš„éƒ¨ç½²éŒ¯èª¤ã€‚ GitLab CI/CD (åœ–ç‰‡ä¾†æºï¼šGitLab Agile Planning)\" GitLab CI/CD (åœ–ç‰‡ä¾†æºï¼šGitLab Agile Planning) å¤§è‡´äº†è§£æ˜¯å¦‚ä½•é‹ä½œä¹‹å¾Œï¼Œæˆ‘å€‘æ¥è‘—èŠèŠä¸Šé¢æœ‰æåˆ°çš„ è¨­å®šå¥½çš„è…³æœ¬ï¼š ","date":"2022-05-26","objectID":"/gitlab-cicd/:1:2","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":".gitlab-ci.yml GitLab CI/CD çš„å·¥ä½œåŸç†æ˜¯ï¼Œè¦åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„æ–°å¢ä¸€å€‹åç‚º .gitlab-ci.yml çš„æ–‡ä»¶ (è¨˜å¾—æ–‡ä»¶åç¨±é–‹é ­æœ‰ . ï¼Œæˆ‘ä¸€é–‹å§‹å¿˜è¨˜è¦åŠ ï¼Œæƒ³èªªæ€éº¼éƒ½æ²’æœ‰åæ‡‰ ğŸ˜… )ï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘ä¸Šé¢èªªçš„ è¨­å®šå¥½çš„è…³æœ¬ï¼Œå¯ä»¥å…ˆå°‡æ‰€éœ€å»ºæ§‹ã€æ¸¬è©¦å’Œéƒ¨ç½²çš„è…³æœ¬ç·¨å¯«å®Œæˆï¼Œä»¥åŠå®šç¾©å¾ˆå¤šè¦å‰‡ï¼Œä¾‹å¦‚åŸ·è¡Œå‘½ä»¤çš„å…ˆå¾Œé †åºã€éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼çš„ä½ç½®ä»¥åŠæŒ‡å®šæ˜¯å¦è‡ªå‹•é‹è¡Œæˆ–æ˜¯æ‰‹å‹•è§¸ç™¼è…³æœ¬ç­‰ã€‚ å°‡ .gitlab-ci.yml æ–‡ä»¶æ”¾å…¥ Repository è£¡ï¼Œå°±æœƒè§¸ç™¼ CIï¼Œè² è²¬ç®¡ç†çš„ GitLab-CI å°±æœƒä¾ç…§ .gitlab-ci.yml è¨­å®šæª”ä¾†å•Ÿå‹•åç‚º GitLab Runner çš„å·¥å…·ä¾†é‹è¡Œè…³æœ¬ï¼Œé€™å€‹ GitLab Runner æˆ‘å€‘æ”¾åˆ°å¾Œé¢ä¾†èªªï¼Œæˆ‘å€‘å…ˆä¾†èªªèªª .gitlab-ci.yml é€™å€‹è¨­å®šæª”è¦æ€éº¼ç·¨å¯«ï¼Œä»¥åŠç·¨å¯«å¾Œçš„æµç¨‹ã€‚ é€™æ˜¯ä¸€å€‹ç¤ºç¯„çš„ .gitlab-ci.ymlï¼Œé¸è‡ªå„ªè‰¯çš„ GitLab XDï¼Œç‚ºäº†èªªæ˜æœ‰å°ä¿®æ”¹ç¨‹å¼ç¢¼ï¼Œç¨‹å¼ç¢¼ä¹Ÿæœƒæ”¾åœ¨ GitHub ä¸Šæ­ï¼š .gitlab-ci.yml stages:- build- test- deploycache:paths:- config/build-job:stage:buildscript:- echo \"Hello, $GITLAB_USER_LOGIN!\"test-job1:stage:testscript:- echo \"This job tests something\"test-job2:stage:testbefore_script:- echo \"This job tests something, but takes more time than test-job1.\"script:- echo \"After the echo commands complete, it runs the sleep command for 20 seconds\"- echo \"which simulates a test that runs 20 seconds longer than test-job1\"- sleep 20deploy-prod:stage:deployscript:- echo \"This job deploys something from the $CI_COMMIT_BRANCH branch.\" é‚£æˆ‘ä¾†ç°¡å–®èªªæ˜ä¸€ä¸‹ä¸Šé¢é€™äº›è¨­å®šæª”æ¡ˆçš„åŠŸèƒ½ï¼š stagesï¼šä»£è¡¨é€™å€‹ CI è¨­å®šæª”æœ‰ä¸‰å€‹ stage è¦è·‘ï¼Œä¸€å€‹æ˜¯ buildã€ä¸€å€‹ testã€ä¸€å€‹ deployï¼Œä»–å€‘çš„é †åºä¹Ÿæ±ºå®š CI é‹ä½œçš„é †åºï¼Œç”± build â†’ test â†’ deployï¼Œå‡å¦‚ test æ²’æœ‰é€šéï¼Œå°±ä¸æœƒåŸ·è¡Œ deployã€‚ cacheï¼šæˆ‘å€‘åœ¨å¯« CI æ™‚ï¼Œå¸¸å¸¸éœ€è¦è£ packageï¼Œä½†æˆ‘ä¸æƒ³æ¯æ¬¡éƒ½é‡æ–°è·‘ä¸€æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥å¯«ä¸€å€‹ cacheï¼Œä¸è¦è®“ GitLab æ¯æ¬¡éƒ½é‡æ–°æ‹‰æ–°çš„ packageã€‚ build-jobã€test-job1ã€test-job2ã€deploy-prodï¼šä»£è¡¨æˆ‘æœ‰ 4 å€‹ job è¦åŸ·è¡Œï¼Œæ¯å€‹ job è£¡é¢æœ‰ä¸åŒçš„ä»»å‹™ï¼Œä¹Ÿæ˜¯é¡¯ç¤ºåœ¨ Pipeline çš„åç¨±ã€‚ stageï¼šä»–ç¾åœ¨è¦åŸ·è¡Œçš„éšæ®µï¼Œå°æ‡‰åˆ° stagesã€‚ before_scriptï¼šå¯ä»¥æŠŠå®ƒç•¶å…ˆéœ€è¦å…ˆåŸ·è¡Œçš„æŒ‡ä»¤ï¼Œå¾Œé¢æ‰æœƒåŸ·è¡Œä¸»è¦çš„ script æŒ‡ä»¤ã€‚æ‰€ä»¥éœ€è¦å®‰è£çš„å¯ä»¥å…ˆå¯«åœ¨é€™è£¡é¢ã€‚ scriptï¼šä¸»æŒ‡ä»¤ï¼Œåœ¨å¯¦éš›é‹è¡Œçš„è…³æœ¬ä¸­ï¼Œé€šå¸¸æœƒè¦‹åˆ°å¤šè¡Œçš„æŒ‡ä»¤è¢«ä¾åºåŸ·è¡Œã€‚ $CI_COMMIT_BRANCï¼šç•¶ç„¶ .gitlab-ci.yml æª”æ¡ˆä¹Ÿå¯ä»¥å¸¶å…¥åƒæ•¸ï¼Œé€™å€‹éƒ¨åˆ†æˆ‘å€‘ç•™åˆ° éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD æ­é…å¯¦éš›æ“ä½œä¾†èªªæ˜ã€‚ ç•¶ç„¶ .gitlab-ci.yml æœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œä¸Šé¢åªæ˜¯ç°¡å–®èªªæ˜æ¯”è¼ƒå¸¸ç”¨çš„ï¼Œç•¶ä½ ä¸ç¢ºå®šè‡ªå·±å¯«çš„ CI è¨­å®šæª”æœ‰æ²’æœ‰å•é¡Œï¼Œæ²’é—œä¿‚å°±ç›´æ¥æ¨ä¸Šå»ï¼ŒGitLab é‚„æœƒå…ˆæª¢æŸ¥ä¸€ä¸‹è¨­å®šæª”æ˜¯ä¸æ˜¯æ­£ç¢ºï¼š GitLab CI/CD æª¢æŸ¥æ ¼å¼æœ‰éŒ¯\" GitLab CI/CD æª¢æŸ¥æ ¼å¼æœ‰éŒ¯ ç•¶æˆ‘å€‘å°‡ .gitlab-ci.yml é€£åŒå°ˆæ¡ˆä¸€èµ·æ¨åˆ° GitLab ä¸Šå¾Œï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°å®ƒæœƒé–‹å§‹åŸ·è¡Œæˆ‘å€‘æ‰€å¯«çš„è…³æœ¬ï¼Œæœƒé¡¯ç¤ºæ•´å€‹åŸ·è¡Œéç¨‹ï¼š GitLab CI/CD åŸ·è¡Œéç¨‹\" GitLab CI/CD åŸ·è¡Œéç¨‹ æŸ¥çœ‹åŸ·è¡Œçš„ç‹€æ…‹ï¼š GitLab CI/CD ç‹€æ…‹\" GitLab CI/CD ç‹€æ…‹ ä¹Ÿå¯ä»¥åœ¨ GitLab Pipeline çœ‹åˆ°åŸ·è¡Œçš„æµç¨‹ï¼š GitLab CI/CD Pipeline\" GitLab CI/CD Pipeline ","date":"2022-05-26","objectID":"/gitlab-cicd/:1:3","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":"GitLab CI Runner æˆ‘å€‘ä¸Šé¢æœ‰æåˆ°ï¼Œæˆ‘å€‘åœ¨ CI è·‘è…³æœ¬ï¼Œéœ€è¦ä¸€å€‹ Server ä¾†ä»£æ›¿ GitLab ä¾†è®“æˆ‘å€‘åŸ·è¡Œï¼Œé€™å€‹ Server æˆ‘å€‘ç¨±ç‚º Runnerã€‚æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹æ•´å€‹åŸ·è¡Œçš„åœ–ç‰‡ï¼š Gitlab CI/CD å¯¦éš›åŸ·è¡Œæµç¨‹ (åœ–ç‰‡ä¾†æºï¼šGitlab-CI å…¥é–€å¯¦ä½œæ•™å­¸ - å–®å…ƒæ¸¬è©¦ç¯‡)\" Gitlab CI/CD å¯¦éš›åŸ·è¡Œæµç¨‹ (åœ–ç‰‡ä¾†æºï¼šGitlab-CI å…¥é–€å¯¦ä½œæ•™å­¸ - å–®å…ƒæ¸¬è©¦ç¯‡) é‚£é€™å€‹ Runner æœ‰åˆ†æˆå…©ç¨®ï¼š å…±äº« Runner (Shared Runners) è‡ªæ¶ Runner (Specific Runners) å…±äº« Runner (Shared Runners) å› ç‚ºæœ¬æ–‡ç« ä»¥åŠå¾ŒçºŒ éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD æ–‡ç« æ‰€ä½¿ç”¨çš„å¹³å°æ˜¯ gitlab.comï¼Œç”±å®˜æ–¹æ‰€æä¾›ï¼Œæ‰€ä»¥æˆ‘å€‘ç›´æ¥ä½¿ç”¨å…±äº« Runnerï¼Œå¯ä»¥åœ¨ repository Settings â†’ CI / CD â†’ Runners ä¸­æ‰¾åˆ°ï¼Œæœ‰ä¸å°‘å®˜æ–¹æä¾›çš„å…±äº« Runner å¯ä»¥ä½¿ç”¨ï¼Œä¹Ÿä¸éœ€è¦åšä»»ä½•è¨­å®šã€‚ GitLab CI/CD å…±äº« Runner\" GitLab CI/CD å…±äº« Runner ä½†ä¹Ÿæœ‰å¹¾å€‹ç¼ºé»ï¼š å› ç‚ºæ˜¯å…±äº«ï¼Œæ‰€ä»¥ Server è³‡æºä¹Ÿæœƒå…±äº«ï¼Œç†è«–ä¸Šå¤šäººä½¿ç”¨çš„é€Ÿåº¦é‚„æ˜¯æœƒæ¯”è¼ƒæ…¢ã€‚ ä»¥åŠå¦‚æœæ˜¯é–‹æºå°ˆæ¡ˆï¼Œæ˜¯å®Œå…¨å…è²»ã€‚ä½†å¦‚æœæ˜¯ç§äººå°ˆæ¡ˆï¼Œä¸€å€‹æœˆæœ‰ 400 åˆ†é˜çš„ CI åŸ·è¡Œæ™‚é–“é™åˆ¶ã€‚ è‡ªæ¶ Runner (Specific Runners) GitLab CI/CD è‡ªæ¶ Runner (åœ–ç‰‡ä¾†æºï¼šBest Practice for DevOps on GitLab and GCP : GitLab Runner ç°¡ä»‹èˆ‡å®‰è£ - Day 7 )\" GitLab CI/CD è‡ªæ¶ Runner (åœ–ç‰‡ä¾†æºï¼šBest Practice for DevOps on GitLab and GCP : GitLab Runner ç°¡ä»‹èˆ‡å®‰è£ - Day 7 ) GitLab Server å’Œ GitLab Runner æ˜¯ GitLab CI/CD ä¸­ä¸å¯æˆ–ç¼ºçš„å…©è€…ï¼Œä½†å¦‚æœåƒå…¬å¸æ˜¯è‡ªæ¶ GitLabï¼Œé¦–å…ˆè¦å…ˆæ‰¾ä¸€å°é›»è…¦æˆ–æ˜¯ Server åšç‚º Runnerï¼Œé‚£æˆ‘å€‘é€™é‚Šä»¥ Docker ä½œç¤ºç¯„ã€‚ GitLab Runner çš„å»ºè­°å»ºç½®æ­¥é©Ÿå¦‚ä¸‹ï¼š æº–å‚™/å®‰è£ä¸€å€‹ GitLab Server (é€™é‚Šæˆ‘å€‘ç›´æ¥ä½¿ç”¨ gitlab.com) å®‰è£ä¸€å€‹èˆ‡ GitLab Server å°æ‡‰ç‰ˆæœ¬çš„ GitLab Runner åœ¨å®‰è£ GitLab Runner çš„è¨­å‚™ä¸Šè¨­å®š Executor ä»€éº¼æ˜¯ Executor ? å¦‚æœæŠŠ GitLab Runner ç•¶æˆä¸€å€‹å·¥å» ä¾†çœ‹ï¼Œé‚£ Executor å°±æ˜¯å·¥å» å…§ä¸€å€‹åˆä¸€å€‹çš„ç”¢ç·šï¼ŒåŒä¸€å€‹å·¥å» å…§å¯ä»¥æ“æœ‰ä¸åŒç¨®é¡çš„ç”¢ç·šï¼ŒRunner èˆ‡ Executor ä¹‹é–“çš„é—œä¿‚å°±æ˜¯å¦‚æ­¤ï¼Œé€™äº›ç”¢ç·šæœƒæ ¹æ“šå°ˆæ¡ˆä¸­ .gitlab-ci.yml çš„å…§å®¹ï¼Œæ±ºå®šç”¢ç·šä»¥åŠå¦‚ä½•ç”¢å‡ºé–‹ç™¼è€…æœŸæœ›çš„ç”¢å“ã€‚ å¦å¤– Executor çš„ç¨®é¡éå¸¸å¤šï¼Œå¯ä»¥çœ‹ä¸‹æ–¹é€™äº›åœ–ç‰‡ï¼Œå› ç‚ºæˆ‘å€‘æœ€å¸¸ä½¿ç”¨çš„å°±æ˜¯ Dockerï¼Œæ‰€ä»¥æˆ‘å€‘ç­‰ç­‰çš„ç¯„ä¾‹ï¼Œä¹Ÿæ˜¯å»ºç½®åœ¨ Docker ä¹‹ä¸Šï¼ GitLab Runner Executors\" GitLab Runner Executors é‚£æˆ‘å€‘å°±é–‹å§‹ä¾†å¯¦ä½œæˆ‘å€‘çš„ GitLab Runnerå§ï¼š é¦–å…ˆï¼Œæˆ‘å€‘å›å»å‰›å‰›åœ¨ repository Settings â†’ CI / CD â†’ Runners å·¦å´çš„ Specific runners GitLab Runner Executors\" GitLab Runner Executors å¯ä»¥çœ‹åˆ°ä¸€å€‹è¨»å†Šçš„ URL ä»¥åŠ Tokenï¼Œé€™å€‹æˆ‘å€‘åœ¨è¨­å®š Executor æœƒä½¿ç”¨åˆ°ï¼ æ¥ä¸‹ä¾†é–‹å§‹å®‰è£ GitLab Runnerï¼Œæˆ‘å€‘ä½¿ç”¨ Dockerï¼Œä»¥ä¸‹æ˜¯ Docker åŸ·è¡Œçš„æŒ‡ä»¤ï¼šæœ¬æ­¤ä½¿ç”¨ gitlab-runner ç‰ˆæœ¬æ˜¯ alpine-v15.0.0 docker run -d --name gitlab-runner --restart always \\ -v ~/Shared/gitlab-runner/config:/etc/gitlab-runner \\ -v /var/run/docker.sock:/var/run/docker.sock \\ gitlab/gitlab-runner:alpine-v15.0.0 æ¥è‘—é€²å…¥å®¹å™¨è£¡é¢ï¼Œä½¿ç”¨ docker exec -it gitlab-runner gitlab-runner register ä¾†è¨»å†Šï¼Œå¯ä»¥åƒè€ƒä¸‹æ–¹åœ–ç‰‡ï¼Œè¼¸å…¥ URL ä»¥åŠ è‡ªå·±çš„ Tokenï¼š GitLab Runner è¨»å†Š Executors\" GitLab Runner è¨»å†Š Executors å¯ä»¥å›åˆ° gitlab.com æŸ¥çœ‹ Specific runners ä¸‹æ–¹æ˜¯å¦å¤šäº†æˆ‘å€‘å‰›å‰›æ‰€è¨»å†Šçš„ GitLab-Runner GitLab Available specific runners\" GitLab Available specific runners ","date":"2022-05-26","objectID":"/gitlab-cicd/:1:4","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":"GitLab CD GitLab CD å…¶å¯¦å°±æ˜¯åœ¨ .gitlab-ci.yml å¾Œé¢åŠ ä¸Šæˆ‘å€‘è¦éƒ¨ç½²çš„è¨­å®šï¼Œé€é CI æ•´åˆå®Œï¼Œæˆ‘å€‘å¯ä»¥è¨­å®šä»–è¦éƒ¨ç½²åˆ°å“ªä¸€å°æ©Ÿå™¨æˆ–æ˜¯è¨­å‚™ä¸Šé€™éƒ¨åˆ†å°±æ”¾åˆ°ä¸‹ä¸€ç¯‡æ–‡ç« ç›´æ¥ç”¨å¯¦ä½œä¾†å‘Šè¨´å¤§å®¶è¦æ€éº¼ä½¿ç”¨å§ï¼ï¼Œè«‹å¤§å®¶æ¥çºŒçœ‹ä¸‹ä¸€ç¯‡ éƒ¨ç½² Laravel æ–¼ Heroku æ­é… GitLab CI/CD ï¼Œä¸€èµ·å­¸ç¿’å§ GoGo ! ","date":"2022-05-26","objectID":"/gitlab-cicd/:1:5","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Get started with GitLab CI/CD Best Practice for DevOps on GitLab and GCP : GitLab CI/CD - Day 6 Gitlab-CI å…¥é–€å¯¦ä½œæ•™å­¸ - å–®å…ƒæ¸¬è©¦ç¯‡ å¦‚ä½•ä½¿ç”¨ GitLab CI ","date":"2022-05-26","objectID":"/gitlab-cicd/:2:0","tags":["GitLab","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"å¦‚ä½•å¾é ­æ‰“é€ å°ˆå±¬çš„ GitLab CI/CD ","uri":"/gitlab-cicd/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯é€é Docker-compose æ­é… Nginx å¯¦ä½œä¸€å€‹ç°¡å–®çš„ web service ç¯„ä¾‹ï¼Œä¸¦æ•´åˆ Prometheus å’Œ Grafana","date":"2022-05-18","objectID":"/prometheus-grafana-docker/","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"é‚„è¨˜å¾—æˆ‘å€‘ä¸Šæ¬¡æ¶è¨­ EFK ä¾†ç²å¾—å®¹å™¨çš„æ—¥èªŒå—ï¼ï¼Ÿèº«ç‚ºä¸€å€‹ SRE é™¤äº†æ”¶é›†æ—¥èªŒå¤–ï¼Œé‚„éœ€è¦ç›£æ§æ¯å€‹ç³»çµ±æˆ–æ˜¯æœå‹™çš„é‹è¡Œç‹€æ³ï¼Œä¸¦åœ¨è­¦æ€¥æƒ…æ³å³æ™‚é€šçŸ¥ç›¸é—œäººå“¡ä½œç‚ºæ‡‰å°è™•ç†ã€‚æ‰€ä»¥é€éå¥½çš„ Monitoring/Alert System äº†è§£ç›®å‰ Server ç¡¬é«”ç³»çµ±ç‹€æ³å’Œæ•´å€‹ Service çš„ç¶²è·¯ç‹€æ³æ˜¯ä¸€ä»¶éå¸¸é‡è¦çš„ä¸€ä»¶äº‹æƒ…ã€‚ åœ¨çœ¾å¤šçš„ Monitor å·¥å…·ä¸­ï¼ŒPrometheus æ˜¯ä¸€å€‹å¾ˆæ–¹ä¾¿ä¸”å®Œå–„çš„ç›£æ§é è­¦æ¡†æ¶ TSDB (Time Series Database) æ™‚é–“åºåˆ—è³‡æ–™åº«ï¼Œå¯ä»¥å¿«é€Ÿä¸”å®¹æ˜“çš„å»ºç«‹ä¸åŒç¶­åº¦çš„æŒ‡æ¨™ (Metrics) å’Œæ•´åˆä¸åŒçš„ Alert Tool ä»¥åŠè³‡è¨Šè¦–è¦ºåŒ–åœ–è¡¨çš„ç›£æ§å·¥å…·ä¸¦æä¾›è‡ªå¸¶çš„ PromQL é€²è¡Œ query æŸ¥è©¢ã€‚ Prometheus Logo\" Prometheus Logo æˆ‘å€‘å…ˆä¾†çœ‹çœ‹ Prometheus çš„æ¶æ§‹åœ–ï¼Œå¯ä»¥æ›´äº†è§£ Prometheus æ•´é«”çš„å®šä½ï¼š Prometheus æ¶æ§‹åœ– (åœ–ç‰‡ä¾†æºï¼šä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€  Flask Web App ç›£æ§é è­¦ç³»çµ±)\" Prometheus æ¶æ§‹åœ– (åœ–ç‰‡ä¾†æºï¼šä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€  Flask Web App ç›£æ§é è­¦ç³»çµ±) æœ‰ä¸€å€‹ Prometheus server ä¸»é«”ï¼Œæœƒå» Prometheus Client Pull ç›¸é—œçš„æŒ‡æ¨™ (Metrics)ï¼Œè‹¥æ˜¯çŸ­æœŸçš„ Job ä¾‹å¦‚ CronJob åœ¨é‚„ä¾†ä¸åŠ Pull è³‡æ–™å›ä¾†å¯èƒ½å°±å·²ç¶“å®Œæˆä»»å‹™äº†ã€æ¸…æ´—æ‰è³‡æ–™ã€‚æ‰€ä»¥æœƒæœ‰ä¸€å€‹ pushgateway æ¥æ”¶ Job Push éä¾†çš„ç›¸é—œè³‡è¨Šï¼ŒPrometheus Server å†å¾å…¶ä¸­æ‹‰å–è³‡æ–™ã€‚ (åœ–ç‰‡å·¦åŠéƒ¨) Service Discovery å¯ä»¥æ›´å¥½çš„è’é›† Kubernetes ç›¸é—œçš„è³‡è¨Šã€‚ (åœ–ç‰‡ä¸ŠåŠéƒ¨) Prometheus Server ä¸»é«”æœƒå°‡è³‡æ–™å„²å­˜åœ¨ Local On-Disk Time Series Database æˆ–æ˜¯å¯ä»¥ä¸²æ¥ Remote Storage Systemsã€‚(åœ–ç‰‡ä¸‹åŠéƒ¨) Prometheus Server è³‡æ–™æ‹‰å›ä¾†å¾Œå¯ä»¥ä½¿ç”¨æœ¬èº«è‡ªå¸¶çš„ Web UI æˆ–æ˜¯ Grafana ç­‰å…¶ä»–çš„ Client ä¾†å‘ˆç¾ã€‚(åœ–ç‰‡å³ä¸‹åŠéƒ¨) ç•¶æŠ“å–è³‡æ–™çš„å€¼è¶…é Alert Rule æ‰€è¨­å®šçš„é–¥å€¼ (threshold) æ™‚ï¼ŒAlertmanager å°±æœƒå°‡è¨Šæ¯é€å‡ºï¼Œå¯ä»¥é€é Emailã€Slack ç­‰è¨Šæ¯é€šçŸ¥ï¼Œæé†’ç›¸é—œäººå“¡é€²è¡Œè™•ç†ã€‚(åœ–ç‰‡å³ä¸ŠåŠéƒ¨) Prometheus å¯èƒ½åœ¨å„²å­˜æ“´å±•ä¸Šæ¯”ä¸ä¸Šå…¶ä»– Time Series Databaseï¼Œä½†åœ¨æ•´åˆå„ç¨®ç¬¬ä¸‰æ–¹çš„ Data Source ä¸Šååˆ†æ–¹ä¾¿ï¼Œä¸”åœ¨æ”¯æ´é›²ç«¯æœå‹™å’Œ Container å®¹å™¨ç›¸é—œå·¥å…·ä¹Ÿååˆ†å‹å¥½ã€‚ä½†åœ¨åœ–ç‰‡çš„è¡¨ç¾ä¸Šå°±ç›¸è¼ƒæ–¼å–®è–„ï¼Œæ‰€ä»¥æœƒæ­é…æˆ‘å€‘æ¥ä¸‹ä¾†è¦ä»‹ç´¹çš„ Grafanac ç²¾ç¾å„€è¡¨æ¿å·¥å…·ä¾†é€²è¡Œè³‡è¨Šè¦–è¦ºåŒ–å’Œåœ–è¡¨çš„å‘ˆç¾ã€‚ Grafana Logo\" Grafana Logo Grafana æ˜¯ç”± Grafana Lab ç¶“ç‡Ÿçš„ä¸€å€‹éå¸¸ç²¾ç¾çš„å„€è¡¨æ¿ç³»çµ±ï¼Œå¯ä»¥æ•´åˆå„ç¨®ä¸åŒçš„ Data Sourceï¼Œä¾‹å¦‚ï¼šPrometheusã€Elasticsearchã€MySQLã€PostgreSQLç­‰ã€‚é€éä¸åŒç¨®æŒ‡æ¨™ (Metrics) å‘ˆç¾åœ¨ Dashboard ä¸Šã€‚å¦‚æœé‚„æ˜¯ä¸å¤ªæ¸…æ¥šï¼Œå¯ä»¥æŠŠ Prometheus Grafana åˆ†åˆ¥æƒ³æˆ Prometheus æ˜¯ EFK çš„ Elasticsearchï¼ŒGrafana æƒ³æˆæ˜¯ EFK çš„ Kibanaã€‚ ä»Šå¤©æˆ‘å€‘è¦é€é Docker-Compose æ­é… Nginx å¯¦ä½œä¸€å€‹ç°¡å–®çš„ Web Service ç¯„ä¾‹ï¼Œä¸¦æ•´åˆ Prometheus å’Œ Grafana ä¾†å»ºç«‹ä¸€å€‹ Web Service ç›£æ§é è­¦ç³»çµ±ã€‚ æ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å»æŸ¥çœ‹æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ Github ç¨‹å¼ç¢¼é€£çµ ğŸ˜† ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:0:0","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"ç‰ˆæœ¬è³‡è¨Š macOSï¼š11.6 Dockerï¼šDocker version 20.10.14, build a224086 Nginxï¼š1.21.6 Prometheusï¼šv.2.35.0 nginx-prometheus-exporterï¼š0.10 Grafanaï¼š8.2.5 (æœ€æ–°ç‰ˆæœ¬æ˜¯ 8.5.2ï¼Œä½†é¸æ“‡ 8.2.5ï¼Œæ˜¯å› ç‚º 8.3.0 å¾Œ Alerting æ²’æœ‰è¾¦æ³•é™„ä¸Šåœ–ç‰‡ï¼Œè©³ç´°åŸå› å¯ä»¥åƒè€ƒ Add â€œinclude imageâ€ option into Grafana Alerting ) grafana/grafana-image-rendererï¼š3.4.2 ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:1:0","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"æª”æ¡ˆçµæ§‹ . â”œâ”€â”€ docker-compose.yaml â”œâ”€â”€ nginx â”‚Â â”œâ”€â”€ Dockerfile â”‚Â â””â”€â”€ status.conf â”œâ”€â”€ prometheus.yaml â””â”€â”€ test.sh é€™æ˜¯ä¸»è¦çš„çµæ§‹ï¼Œç°¡å–®èªªæ˜ä¸€ä¸‹ï¼š docker-compose.yamlï¼šæœƒæ”¾ç½®è¦ç”¢ç”Ÿçš„ nginxã€nginx-prometheus-exporterã€prometheusã€grafanaã€grafana-image-renderer å®¹å™¨è¨­å®šæª”ã€‚ nginx/Dockerfileï¼šå› ç‚ºåœ¨ nginx è¦ä½¿ç”¨ stub_status éœ€è¦å¤šå®‰è£ä¸€äº›è¨­å®šï¼Œæ‰€ä»¥ç”¨ Dockerfile å¦å¤–å¯« nginx çš„æ˜ åƒæª”ã€‚ nginx/status.confï¼šnginx çš„è¨­å®šæª”ã€‚ prometheus.yamlï¼šprometheus çš„è¨­å®šæª”ã€‚ test.shï¼šæ¸¬è©¦ç”¨æª”æ¡ˆ(å¾ŒçºŒæœƒæ•™å¤§å®¶å¦‚ä½•ä½¿ç”¨)ã€‚ ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:2:0","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"å¯¦ä½œ æ¥ä¸‹ä¾†æœƒä¾ç…§åŸ·è¡Œçš„æµç¨‹ä¾†è·Ÿå¤§å®¶èªªæ˜æ­ï¼é‚£è¦é–‹å§‹å›‰ ğŸ˜ æˆ‘å€‘è¦å»ºç«‹ä¸€å€‹ Nginx ä¾†æ¨¡æ“¬å—ç›£æ§çš„æœå‹™ï¼Œæˆ‘å€‘è¦é€é nginx-prometheus-exporter ä¾†è®“ Prometheus æŠ“åˆ°è³‡æ–™æœ€å¾Œå‚³çµ¦ Grafanaï¼Œæ‰€ä»¥æˆ‘å€‘åœ¨ Docker-compose è£¡é¢æœƒæœ‰ nginxã€nginx-prometheus-exporterã€prometheusã€grafanaã€grafana-image-renderer å¹¾å€‹å®¹å™¨ï¼Œæˆ‘å€‘å…ˆçœ‹ä¸€ä¸‹ç¨‹å¼ç¢¼ï¼Œå†ä¾†èªªæ˜ç¨‹å¼ç¢¼è¨­å®šäº†å“ªäº›æ±è¥¿å§ï¼ ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:3:0","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"Docker-compose.yaml version:'3.8'services:nginx:build:./nginx/container_name:nginxports:- 8080:8080nginx-prometheus-exporter:image:nginx/nginx-prometheus-exporter:0.10container_name:nginx-prometheus-exportercommand:-nginx.scrape-uri http://nginx:8080/stub_statusports:- 9113:9113depends_on:- nginxprometheus:image:prom/prometheus:v2.35.0container_name:prometheusvolumes:- ./prometheus.yaml:/etc/prometheus/prometheus.yaml- ./prometheus_data:/prometheuscommand:- '--config.file=/etc/prometheus/prometheus.yaml'ports:- '9090:9090'renderer:image:grafana/grafana-image-renderer:3.4.2environment:BROWSER_TZ:Asia/Taipeiports:- '8081:8081'grafana:image:grafana/grafana:8.2.5container_name:grafanavolumes:- ./grafana_data:/var/lib/grafanaenvironment:GF_SECURITY_ADMIN_PASSWORD:passGF_RENDERING_SERVER_URL:http://renderer:8081/renderGF_RENDERING_CALLBACK_URL:http://grafana:3000/GF_LOG_FILTERS:rendering:debugdepends_on:- prometheus- rendererports:- '3000:3000' nginxï¼šå› ç‚º Nginx æœƒé€šé stub_status é é¢ä¾†é–‹æ”¾å°å¤–çš„ç›£æ§æŒ‡æ¨™ã€‚æ‰€ä»¥æˆ‘å€‘è¦å¦å¤–å¯«ä¸€å€‹ Dockerfile è¨­å®šæª”ï¼Œå…ˆå°‡ conf æ”¾å…¥ Nginx ä¸­ã€‚ nginx-prometheus-exporterï¼šé€™è£¡è¦æ³¨æ„çš„æ˜¯éœ€è¦ä½¿ç”¨ command ä¾†è¨­å®š nginx.scrapt-urlï¼Œæˆ‘å€‘è¨­å®š http://nginx:8080/stub_statusï¼Œä»–çš„é è¨­ Port æ˜¯ 9113ï¼Œä¸¦è¨­å®šä¾è³´ depends_noï¼Œè¦ nginx å…ˆå•Ÿå‹•å¾Œæ‰æœƒåŸ·è¡Œ nginx-prometheus-exporterã€‚ prometheusï¼šå°‡ prometheus.yaml è¨­å®šæª”æ”¾å…¥ /etc/prometheus/prometheus.yamlï¼Œä»¥åŠæ›è¼‰ä¸€å€‹ /prometheus_data ä¾†æ°¸ä¹…ä¿å­˜ prometheus çš„è³‡æ–™ï¼Œæœ€å¾Œ command åŠ å…¥ --config.file è¨­å®šã€‚ rendererï¼šé€™æ˜¯ grafana é¡¯ç¤ºåœ–ç‰‡çš„å¥—ä»¶ï¼Œæˆ‘å€‘ä½¿ç”¨ 3.4.2 ç‰ˆæœ¬ï¼Œè¨˜å¾—è¦è¨­å®šç’°å¢ƒè®Šæ•¸ï¼Œç…§ç‰‡é¡¯ç¤ºçš„æ™‚é–“æ‰æœƒæ­£ç¢ºï¼Œä¸¦é–‹å•Ÿ 8081 Port è®“ grafana è¨ªå•ã€‚ grafanaï¼šä¸€æ¨£æˆ‘å€‘å…ˆæ›è¼‰ä¸€å€‹ /grafana_data ä¾†æ°¸ä¹…ä¿å­˜ grafana çš„è¨­å®šï¼Œåœ¨ç’°å¢ƒè®Šæ•¸ä¸­è¨­å®šé è¨­å¸³è™Ÿ admin çš„å¯†ç¢¼æ˜¯ passï¼Œè¨­å®š renderer å¥—ä»¶çš„æœå‹™ä½ç½®æ˜¯ http://renderer:8081/render ä»¥åŠå›å‚³åˆ° http://grafana:3000/ï¼Œä¸¦è¨­å®šä¾è³´ depends_on prometheus è·Ÿ rendererï¼Œæœ€å¾Œè¨­å®š grafana è¦å‘ˆç¾çš„ç•«é¢ 3000 Portã€‚ ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:3:1","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"nginx/Dockerfile FROMnginx:1.21.6 COPY ./status.conf /etc/nginx/conf.d/status.conf é¸æ“‡æˆ‘å€‘è¦ä½¿ç”¨çš„ nginx image ç‰ˆæœ¬ï¼Œä¸¦å°‡æˆ‘å€‘çš„è¨­å®šæª”ï¼Œè¤‡è£½åˆ°å®¹å™¨å…§ã€‚ ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:3:2","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"nginx/status.conf server { listen 8080; server_name localhost; location /stub_status { stub_status on; access_log off; } } é€™é‚Šæœ€é‡è¦çš„å°±æ˜¯è¦è¨­å®š /stub_status è·¯å¾‘ï¼Œä¸¦é–‹å•Ÿ stub_status ï¼Œé€™æ¨£æ‰å¯ä»¥è®“ nginx-prometheus-exporter æŠ“åˆ°è³‡æ–™ï¼(è¦æ€éº¼çŸ¥é“ Nginx æ˜¯å¦é–‹å•Ÿ stub_statusï¼Œå¯ä»¥ä½¿ç”¨ nginx -V 2\u003e\u00261 | grep -o with-http_stub_status_module æŒ‡ä»¤æª¢æŸ¥ï¼Œæˆ‘å€‘é€™æ¬¡è£çš„ Image å·²ç¶“æœ‰å¹«æˆ‘å€‘å•Ÿå‹•) ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:3:3","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"prometheus.yaml global:scrape_interval:5s# Server æŠ“å–é »ç‡external_labels:monitor:\"my-monitor\"scrape_configs:- job_name:\"prometheus\"static_configs:- targets:[\"localhost:9090\"]- job_name:\"nginx_exporter\"static_configs:- targets:[\"nginx-prometheus-exporter:9113\"] é€™é‚Šæ˜¯ prometheus çš„è¨­å®šæª”ï¼Œä¾‹å¦‚æœ‰ scrape_interval ä»£è¡¨ Server æ¯æ¬¡æŠ“å–è³‡æ–™çš„é »ç‡ï¼Œæˆ–æ˜¯è¨­å®š monitor çš„ labelsï¼Œä¸‹é¢çš„ configsï¼Œåˆ†åˆ¥è¨­å®šäº† prometheus å®ƒçš„ targets æ˜¯ [\"localhost:9090\"] ä»¥åŠ nginx_exporter å®ƒçš„ targets æ˜¯ [\"nginx-prometheus-exporter:9113\"]ã€‚ ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:3:4","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"test.sh #!/bin/bash docker=\"docker exec nginx\" for i in {1..10} do $docker curl http://nginx:8080/stub_status -s done é€™å€‹æ˜¯æˆ‘è‡ªå·±å¦å¤–å¯«çš„æ¸¬è©¦ç¨‹å¼ï¼Œåœ¨æœ¬æ©ŸåŸ·è¡Œå¾Œä»–æœƒè¨ªå• nginx å®¹å™¨å…§éƒ¨ï¼Œä¸¦æ¨¡æ“¬ nginx æµé‡ï¼Œè®“æˆ‘å€‘åœ¨ Grafana å¯ä»¥æ¸…æ¥šçœ‹åˆ°è³‡æ–™ã€‚ ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:3:5","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"åŸ·è¡Œ/æ¸¬è©¦ ç•¶æˆ‘å€‘éƒ½å¯«å¥½è¨­å®šæª”å¾Œï¼Œåœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹ï¼Œä¹Ÿå°±æ˜¯æœ‰ Docker-compose è·¯å¾‘ä¸‹ï¼Œä½¿ç”¨ docker-compose up -d ä¾†å•Ÿå‹•å®¹å™¨ï¼š å•Ÿå‹•å®¹å™¨\" å•Ÿå‹•å®¹å™¨ æ¥ä¸‹ä¾†æˆ‘å€‘ä¾åºæª¢æŸ¥å®¹å™¨æ˜¯å¦éƒ½æœ‰æ­£å¸¸é‹ä½œï¼Œé–‹å•Ÿç€è¦½å™¨ç€è¦½ http://localhost:9113/metrics æŸ¥çœ‹æ˜¯å¦æœ‰å‡ºç¾è·Ÿä¸‹é¢åœ–ç‰‡å·®ä¸å¤šçš„å…§å®¹ï¼š æª¢æŸ¥ Nginx ä»¥åŠ nginx-prometheus-exporter çš„è¨­å®š\" æª¢æŸ¥ Nginx ä»¥åŠ nginx-prometheus-exporter çš„è¨­å®š å¦‚æœæœ‰å‡ºç¾ï¼Œæ­å–œä½ å®Œæˆäº† Nginx ä»¥åŠ nginx-prometheus-exporter çš„è¨­å®šï¼Œæˆ‘å€‘å°‡ Nginx çš„ stub_status æœå‹™ï¼Œé€é http://nginx:8080/stub_status è®“ nginx-prometheus-exporter å¯ä»¥æŠ“åˆ°åœ–ç‰‡ä¸­çš„é€™äº›æŒ‡æ¨™ (Metrics)ã€‚ Prometheus æ¥è‘—æˆ‘å€‘ç€è¦½ http://localhost:9090/targetsï¼Œçœ‹çœ‹æˆ‘å€‘çš„ Prometheus æœ‰æ²’æœ‰è¨­å®šæ­£ç¢ºï¼ŒæŠ“åˆ°æˆ‘å€‘è¨­å®šå¥½çš„ targetsï¼š æª¢æŸ¥ Prometheus targets\" æª¢æŸ¥ Prometheus targets å¦‚æœå…©å€‹å‡ºç¾çš„éƒ½æ˜¯ ç¶ è‰²çš„ UP å°±ä»£è¡¨æ­£å¸¸æœ‰æŠ“åˆ°è³‡æ–™å›‰ï¼ é‚£è¦æ€éº¼æ¸¬è©¦æ‰çŸ¥é“æœ‰æŠ“åˆ°è³‡æ–™å‘¢ï¼Ÿæˆ‘å€‘å¯ä»¥å…ˆç”¨ Prometheus å…§å»ºçš„åœ–å½¢åŒ–ä»‹é¢ä¾†æª¢æŸ¥ï¼Œåœ¨ç€è¦½å™¨ç€è¦½ http://localhost:9090/graph å°±å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ç•«é¢ï¼š Prometheus å…§å»ºçš„åœ–å½¢åŒ–ä»‹é¢\" Prometheus å…§å»ºçš„åœ–å½¢åŒ–ä»‹é¢ æˆ‘å€‘é¸æ“‡ Graphï¼Œä¸¦åœ¨ä¸Šé¢çš„æœå°‹æ¬„ï¼Œæ‰“ä¸Š nginx_connections_accepted æŒ‰ä¸‹å³é‚Šçš„ Execute å°±æœƒç”¢ç”Ÿä¸€å¼µåœ–è¡¨ï¼Œåœ–è¡¨è£¡é¢åªæœ‰ä¸€æ¢ç¶ è‰²çš„ç·šï¼Œé‚£é€™å€‹ç·šæ˜¯ä»€éº¼å‘¢ï¼Ÿå®ƒå°±æ˜¯æˆ‘å€‘å‰›å‰›åœ¨ http://localhost:9113/metrics å…¶ä¸­ä¸€å€‹æŒ‡æ¨™ (Metrics)ï¼Œå®ƒä»£è¡¨ Nginx æ¥å—ç”¨æˆ¶ç«¯é€£æ¥ç¸½æ•¸é‡ï¼š Prometheus å…§å»ºçš„åœ–å½¢åŒ–ä»‹é¢\" Prometheus å…§å»ºçš„åœ–å½¢åŒ–ä»‹é¢ é€™å€‹åŠŸèƒ½å°±æ˜¯æŠŠæˆ‘å€‘æ‰€æ”¶åˆ°çš„ Nginx æŒ‡æ¨™ (Metrics)ï¼Œè½‰æ›æˆåœ–è¡¨è®“æˆ‘å€‘å¯ä»¥çŸ¥é“ä»–çš„è®ŠåŒ–ã€‚ ç‚ºäº†æ›´æ˜é¡¯çš„çœ‹å‡ºè®ŠåŒ–ï¼Œé€™æ™‚å€™å°±è¦ä½¿ç”¨æˆ‘æ‰€å¯«å¥½çš„ test.sh è…³æœ¬ï¼Œä½¿ç”¨ sh test.sh ä¾†åŸ·è¡Œï¼Œå†å›ä¾†è§€å¯Ÿåœ–å‹æ˜¯å¦è®ŠåŒ–ï¼š ç¶“éæ¸¬è©¦é¡¯ç¤ºçš„ nginx_connections_accepted åœ–å½¢\" ç¶“éæ¸¬è©¦é¡¯ç¤ºçš„ nginx_connections_accepted åœ–å½¢ å¯ä»¥ç™¼ç¾å‰›å‰›åŸæœ¬åªæœ‰ 1 å€‹çš„é€£æ¥æ•¸å› ç‚ºæˆ‘å€‘æ¨¡æ“¬ç¸½å…±è·‘äº† 10 æ¬¡ï¼Œæ‰€ä»¥é€£æ¥æ•¸è®Šæˆ 11 äº†ï¼ Grafana Prometheus çš„åœ–å½¢åŒ–æ¯”è¼ƒå–®èª¿ï¼Œæ‰€ä»¥æˆ‘å€‘ä½¿ç”¨ Grafana ä¾†ç¾åŒ–æˆ‘å€‘çš„å„€è¡¨æ¿ï¼Œç€è¦½å™¨ç€è¦½ http://localhost:3000/ ï¼Œå¯ä»¥çœ‹åˆ°ä¸€å€‹ç™»å…¥é é¢ï¼šå¸³è™Ÿæ˜¯ adminï¼Œå¯†ç¢¼æ˜¯æˆ‘å€‘åœ¨ç’°å¢ƒè®Šæ•¸ä¸­æ‰€è¨­å®šçš„ passï¼š Grafana ç™»å…¥é é¢\" Grafana ç™»å…¥é é¢ ç™»å…¥å¾Œæˆ‘å€‘çœ‹åˆ°é¦–é ï¼Œé¸æ“‡ Add your first data source ä¾†æ–°å¢è³‡æ–™ä¾†æºï¼š Grafana æ–°å¢è³‡æ–™ä¾†æº\" Grafana æ–°å¢è³‡æ–™ä¾†æº é¸æ“‡ç¬¬ä¸€å€‹ Prometheusï¼Œæˆ‘å€‘åˆ° HTTP çš„ URL è¨­å®š http://prometheus:9090 å…¶ä»–è¨­å®šåœ¨æˆ‘å€‘æ¸¬è©¦ç’°å¢ƒä¸­ï¼Œä¸éœ€è¦å»èª¿æ•´ï¼Œæ»‘åˆ°æœ€ä¸‹é¢æŒ‰ä¸‹ Save \u0026 testï¼š Grafana æ–°å¢è³‡æ–™ä¾†æº\" Grafana æ–°å¢è³‡æ–™ä¾†æº æ¥è‘—æˆ‘å€‘è¦ä¾†è¨­è¨ˆæˆ‘å€‘çš„å„€è¡¨æ¿ï¼Œåœ¨ Grafana é™¤äº†è‡ªå·±è¨­è¨ˆä»¥å¤–ï¼Œé‚„å¯ä»¥ Import åˆ¥äººåšå¥½çš„å„€è¡¨æ¿ã€‚ æˆ‘å€‘é»é¸å·¦å´æ¬„ä½çš„ ï¼‹ ç¬¦è™Ÿ \u003e è£¡é¢çš„ Importï¼Œå¯ä»¥åœ¨é€™é‚Š Import åˆ¥äººåšå¥½çš„å„€è¡¨æ¿ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿå¾ˆç°¡å–®ï¼Œåªéœ€è¦å…ˆå» Grafana Labs dashboard è£¡é¢æ‰¾åˆ°è‡ªå·±è¦ä½¿ç”¨çš„å„€è¡¨æ¿ï¼Œå³å´æœƒæœ‰ä¸€å€‹ IDï¼ŒæŠŠ ID è²¼ä¸Šæˆ‘å€‘çš„ Grafana å°± Import æˆåŠŸå›‰ï¼å¾ˆç¥å¥‡å§XD æˆ‘å€‘è¦ä½¿ç”¨çš„å„€è¡¨æ¿æ˜¯åˆ¥äººå·²ç¶“åšå¥½çš„ NGINX exporterï¼Œå®ƒçš„ ID æ˜¯ 12708ï¼ŒæŠŠ ID è²¼å…¥å¾Œï¼ŒæŒ‰ä¸‹ Loadï¼Œå°±æœƒæœ‰ NGINX exporter çš„åŸºæœ¬è³‡è¨Šï¼Œæˆ‘å€‘åœ¨æœ€ä¸‹é¢çš„ Prometheus é¸æ“‡æˆ‘å€‘è¦ä½¿ç”¨çš„ data sourceï¼Œå°±æ˜¯æˆ‘å€‘å‰›å‰›å…ˆè¨­å®šå¥½çš„ Prometheusï¼Œæœ€å¾ŒæŒ‰ä¸‹ Importï¼Œå°±å®Œæˆæ‹‰ã€‚ Grafana è¼‰å…¥åˆ¥äººåšå¥½çš„å„€è¡¨æ¿\" Grafana è¼‰å…¥åˆ¥äººåšå¥½çš„å„€è¡¨æ¿ å¦‚æœè¨­å®šéƒ½æ²’æœ‰éŒ¯èª¤çš„è©±ï¼Œæ‡‰è©²å¯ä»¥çœ‹åˆ°ä¸‹é¢é€™å€‹ç•«é¢ï¼Œæœ€ä¸Šé¢æ˜¯ç›£æ¸¬ Nginx æœå‹™çš„ç‹€æ…‹ï¼Œä»¥åŠä¸‹æ–¹æœ‰ä¸åŒçš„æŒ‡æ¨™åœ¨é¡¯ç¤ºï¼š Grafana å„€è¡¨æ¿\" Grafana å„€è¡¨æ¿ æ¥ä¸‹ä¾†æˆ‘å€‘ä¸€æ¬¡ç”¨ test.sh ä¾†æ¸¬è©¦ä¸€ä¸‹æ˜¯å¦æœ‰æˆåŠŸæŠ“åˆ°è³‡æ–™ï¼š æ¸¬è©¦ Grafana æ˜¯å¦æˆåŠŸæŠ“åˆ°è³‡æ–™\" æ¸¬è©¦ Grafana æ˜¯å¦æˆåŠŸæŠ“åˆ°è³‡æ–™ å¯ä»¥çœ‹åˆ°åœ¨æˆ‘å€‘ä½¿ç”¨å®Œæ¸¬è©¦è…³æœ¬å¾Œï¼Œåœ¨è©²æ™‚æ®µçš„è³‡æ–™æœ‰æ˜é¡¯çš„ä¸ä¸€æ¨£ï¼Œä»£è¡¨æˆ‘å€‘æœ‰æˆåŠŸæŠ“åˆ°è³‡æ–™ ğŸ˜„ æ­¤å¤–ä¹Ÿå¯ä»¥å°‡ Nginx æœå‹™æš«åœï¼Œçœ‹çœ‹å„€è¡¨æ¿ä¸Šæ–¹çš„ NGINX Status ç‹€æ…‹æ˜¯å¦æ”¹è®Šï¼š æ¸¬è©¦æš«åœ Nginx æŸ¥çœ‹ Grafana å„€è¡¨æ¿ NGINX Status\" æ¸¬è©¦æš«åœ Nginx æŸ¥çœ‹ Grafana å„€è¡¨æ¿ NGINX Status Alerting è­¦å ± ç•¶ç„¶é™¤äº†ç›£æ§ä»¥å¤–ï¼Œæˆ‘å€‘é‚„éœ€è¦æœ‰è­¦å ±ç³»çµ±ï¼Œå› ç‚ºæˆ‘å€‘ä¸å¯èƒ½æ¯å¤©éƒ½ä¸€ç›´ç›¯è‘—å„€è¡¨æ¿çœ‹å“ªè£¡æœ‰éŒ¯èª¤ï¼Œæ‰€ä»¥æˆ‘å€‘è¦è¨­å®šè­¦å ±çš„è¦å‰‡ï¼Œä»¥åŠè­¦å ±è¦ç™¼é€åˆ°å“ªè£¡ï¼Œæ¥è‘—æˆ‘å€‘ä¸€èµ·çœ‹ä¸‹å»å§ï¼š æˆ‘å€‘å…ˆé»å·¦å´çš„ Alerting ğŸ”” \u003e é»é¸ Notification channels ä¾†æ–°å¢æˆ‘å€‘è¦ç™¼é€åˆ°å“ªè£¡ã€‚é€™æ¬¡æˆ‘å€‘ä¸€æ¨£ä½¿ç”¨ Telegramï¼Œæˆ‘å€‘åœ¨ type ä¸‹æ‹‰å¼é¸å–®é¸æ“‡ Telegramï¼Œè¼¸å…¥æˆ‘å€‘çš„ BOT API Token ä»¥åŠ Chat IDï¼Œå„²å­˜ä¹‹å‰å¯ä»¥é»é¸ test ä¾†æ¸¬è©¦ï¼ æ€éº¼ä½¿ç”¨ Telegram Bot è«‹åƒè€ƒé€™ä¸€ç¯‡ Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers) ä¾†å–å¾— BOT API Token ä»¥åŠ Chat IDã€‚ Alerting è¨­å®š\" Alerting è¨­å®š Alerting æ¸¬è©¦çµæœ\" Alerting æ¸¬è©¦çµæœ æ¥è‘—æˆ‘å€‘ä¾†è¨­è¨ˆä¸€å€‹å±¬æ–¼æˆ‘å€‘çš„æ§åˆ¶æ¿ (Panel)ï¼Œé †ä¾¿å¹«ä»–åŠ ä¸Š Alertingï¼Œç¨å¾Œä¹Ÿç”¨ test.shï¼Œçœ‹çœ‹ä»–æœƒä¸æœƒè‡ªå‹•ç™¼å‡ºæé†’åˆ° Telegram Bot ğŸ˜¬ é¦–å…ˆé»é¸å·¦å´æ¬„ä½çš„ ï¼‹ ç¬¦è™Ÿ \u003e è£¡é¢çš„ Createï¼Œåœ¨é¸æ“‡ Add an empty panelï¼š Create Panel\" Create Panel å† Query çš„ A Metrics browser è¼¸å…¥ nginx_connections_accepted ä¸€æ¨£ä¾†å–å¾— Nginx æ¥å—ç”¨æˆ¶ç«¯é€£æ¥ç¸½æ•¸é‡çš„åœ–è¡¨ï¼Œåˆ°å³ä¸Šè§’é¸æ“‡ Last 5 minutesï¼Œæ—é‚Šçš„åœ–å‹æˆ‘å€‘é¸æ“‡ Graph (old)ï¼Œä¸‹é¢çš„ Title å¯ä»¥ä¿®æ”¹ä¸€ä¸‹é€™å€‹åœ–è¡¨çš„åç¨±ï¼Œæœ€å¾ŒæŒ‰ä¸‹ Saveï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘å»ºå¥½ä¸€å€‹æ§åˆ¶æ¿å›‰ ğŸ¥³ è¨­å®š Panel\" è¨­å®š Panel æ¥è‘—æˆ‘å€‘ä¾†è¨­å®š Alertï¼Œå¯ä»¥çœ‹åˆ°å‰›å‰›åœ¨ Query æ—é‚Šæœ‰ä¸€å€‹ Alertï¼Œé»é€²å»å¾ŒæŒ‰ Create Alertï¼Œæˆ‘å€‘å…ˆä¿®æ”¹ Evaluate every å¾Œé¢çš„ For æ”¹ç‚º 1m (ä»£è¡¨ç•¶æ•¸å€¼è¶…éæˆ‘å€‘æ‰€è¨­å®šçš„é–¥å€¼å¾Œï¼Œç‹€æ…‹æœƒå¾ OK è®Šæˆ Pendingï¼Œé€™æ™‚å€™é‚„ä¸æœƒç™¼é€è­¦å ±ï¼Œæœƒç­‰å¾…æˆ‘å€‘ç¾åœ¨è¨­å®šçš„ 1m åˆ†é˜å¾Œï¼Œæƒ…æ³é‚„æ˜¯æ²’æœ‰å¥½è½‰ï¼Œæ‰æœƒç™¼é€é€šçŸ¥)ï¼Œå† Conditions å¾Œé¢æ¬„ä½åŠ å…¥ 10 (æˆ‘å€‘æ‰€è¨­å®šçš„é–¥å€¼ï¼Œä»£è¡¨ nginx_connections_accepted è¶…é 10 å°±æœƒé€²å…¥ Pending ç‹€æ…‹)ï¼Œå¾€ä¸‹æ»‘ Notifications çš„ Send to é¸æ“‡æˆ‘å€‘ä¸Šé¢æ‰€å»ºç«‹çš„ channels åç¨±ï¼ŒæŒ‰ä¸‹ Saveã€‚ è¨­å®šå¥½ Alert çš„æ§åˆ¶æ¿\" è¨­å®šå¥½ Alert çš„æ§åˆ¶æ¿ æ¥è‘—åŸ·è¡Œ test.sh å…©æ¬¡ï¼Œè®“ nginx_connections_accepted è¶…éæˆ‘å€‘æ‰€è¨­å®šçš„é–¥å€¼ï¼Œå¯ä»¥çœ‹åˆ°æ§åˆ¶æ¿è¶…é 10 ä»¥ä¸Šè®Šæˆç´…è‰²ï¼š è¶…éé–¥å€¼ï¼Œæ§åˆ¶æ¿è®Šæˆç´…è‰²\" è¶…éé–¥å€¼ï¼Œæ§åˆ¶æ¿è®Šæˆç´…è‰² æ¥è‘—ç­‰å¾…å¹¾åˆ†é˜å¾Œï¼Œç‹€æ…‹æœƒå¾ OK ç¶ è‰²è®Šæˆé»ƒè‰²çš„ Pendingï¼Œæœ€å¾Œè½‰æˆç´…è‰²çš„ Alertï¼Œé€™æ™‚å€™ Telegram å°±æœƒæ”¶åˆ°é€šçŸ¥å›‰ âŒ è‡ªå‹•ç™¼é€é€šçŸ¥åˆ° Telegram Botï¼Œä¸¦é™„ä¸Šæ§åˆ¶æ¿åœ–ç‰‡\" è‡ªå‹•ç™¼é€é€šçŸ¥åˆ° Telegram Botï¼Œä¸¦é™„ä¸Šæ§åˆ¶æ¿åœ–ç‰‡ ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:3:6","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"Nginx æŒ‡æ¨™ (Metrics) æè¿° æˆ‘å€‘åœ¨ http://localhost:9113/metrics ä¸­å¯ä»¥çœ‹åˆ°è¨±å¤šæŒ‡æ¨™ (Metrics) é‚£ä»–å€‘å„ä»£è¡¨ä»€éº¼æ„æ€å‘¢ï¼Ÿæˆ‘æŠŠå®ƒæ•´ç†æˆè¡¨æ ¼è®“å¤§å®¶å¯ä»¥é¸æ“‡è¦ä½¿ç”¨çš„æŒ‡æ¨™ (Metrics)ï¼š æŒ‡æ¨™ æè¿° nginx_connections_accepted æ¥å—ç”¨æˆ¶ç«¯çš„é€£æ¥ç¸½æ•¸é‡ nginx_connections_active ç•¶å‰ç”¨æˆ¶ç«¯é€£æ¥æ•¸é‡ nginx_connections_handled Handled ç‹€æ…‹çš„é€£æ¥æ•¸é‡ nginx_connections_reading æ­£åœ¨è®€å–çš„ç”¨æˆ¶ç«¯é€£æ¥æ•¸é‡ nginx_connections_waiting æ­£åœ¨ç­‰å¾…ä¸­çš„ç”¨æˆ¶ç«¯é€£æ¥æ•¸é‡ nginx_connections_writing æ­£åœ¨å¯«å…¥çš„ç”¨æˆ¶ç«¯é€£æ¥æ•¸é‡ nginx_http_requests_total å®¢æˆ¶ç«¯ç¸½è«‹æ±‚æ•¸é‡ nginx_up Nginx Exporter æ˜¯å¦æ­£å¸¸é‹è¡Œ nginxexporter_build_info Nginx Exporter çš„æ§‹å»ºè³‡è¨Š ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:4:0","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€  Flask Web App ç›£æ§é è­¦ç³»çµ± Nginx Exporter æ¥å…¥ é€šénginx-prometheus-exporterç›£æ§nginxæŒ‡æ¨™ ä½¿ç”¨nginx-prometheus-exporter ç›£æ§nginx ä½¿ç”¨é˜¿é‡Œé›²Prometheusç›£æ§Nginxï¼ˆæ–°ç‰ˆï¼‰ Grafana Image Renderer grafanaçš„image renderè®¾ç½® ","date":"2022-05-18","objectID":"/prometheus-grafana-docker/:5:0","tags":["Prometheus","Grafana","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Prometheus å’Œ Grafana æ‰“é€ ç›£æ§é è­¦ç³»çµ± (Docker ç¯‡)","uri":"/prometheus-grafana-docker/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯æ¥çºŒå‰é¢ Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹ã€ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Botï¼Œæ­¡è¿å¤§å®¶å…ˆå»è§€çœ‹å‰é¢å…©ç¯‡æ–‡ç«  ğŸ˜‹","date":"2022-05-16","objectID":"/ansible/","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"æœ¬ç¯‡æ–‡ç« æ˜¯æ¥çºŒå‰é¢å…©ç¯‡ Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹ è·Ÿ ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot æ–‡ç« ï¼Œæ­¡è¿å¤§å®¶å…ˆå»è§€çœ‹å‰é¢å…©ç¯‡æ–‡ç«  ğŸ¤ª æœ¬ç¯‡æ‰€ä½¿ç”¨åˆ°çš„ç¨‹å¼ç¢¼éƒ½æœƒæ•´ç†æ–¼ GitHub é€£çµï¼Œå¤§å®¶æœ‰èˆˆè¶£å¯ä»¥å»ç€è¦½çœ‹çœ‹æ­ï¼ ","date":"2022-05-16","objectID":"/ansible/:0:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"Ansible æ˜¯å¦‚ä½•é‹ä½œçš„ï¼Ÿ åœ¨ Ansible ä¸–ç•Œè£¡ï¼Œæˆ‘å€‘æœƒé€é Inventory æª”æ¡ˆ ä¾†å®šç¾©æœ‰å“ªäº›çš„ Managed Nodeï¼Œä¸¦è—‰ç”± SSH èˆ‡ Python ä¾†é€²è¡Œæºé€šã€‚é‚£æˆ‘å€‘å…ˆä¾†çœ‹ä¸€å¼µåœ–ï¼š Ansible é‹ä½œåŸç† (åœ–ç‰‡ä¾†æºï¼šä¸ƒåˆ†é˜æŒæ¡ Ansible æ ¸å¿ƒè§€å¿µ)\" Ansible é‹ä½œåŸç† (åœ–ç‰‡ä¾†æºï¼šä¸ƒåˆ†é˜æŒæ¡ Ansible æ ¸å¿ƒè§€å¿µ) èª’ ğŸ˜± çªç„¶å¤šäº†å¾ˆå¤šæ–°åè©ï¼Œæ²’é—œä¿‚æˆ‘ä¾†ä¸€ä¸€è§£é‡‹ï¼Œé¦–å…ˆæˆ‘å€‘å…ˆå¾ Managed Node æ˜¯ä»€éº¼ï¼Œä»¥åŠåœ–ç‰‡ä¸­çš„ Control machine é–‹å§‹èªªèµ·å§ï¼ ","date":"2022-05-16","objectID":"/ansible/:1:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯æ§åˆ¶ä¸»æ©ŸåŠè¢«æ§ç¯€é»ï¼Ÿ åœ¨ Ansible è£¡ï¼Œæˆ‘å€‘æœƒæŠŠæ‰€æœ‰æ©Ÿå™¨çš„è§’è‰²åšä»¥ä¸‹çš„å€åˆ†ï¼š æ§åˆ¶ä¸»æ©Ÿ (Control Machine)ï¼šé¡§åæ€ç¾©ï¼Œé€™é¡ä¸»æ©Ÿå¯ä»¥é€éé‹è¡Œ Ansible çš„åŠ‡æœ¬ (Playbooks) å°è¢«æ§ç¯€é»é€²è¡Œéƒ¨ç½²ã€‚ è¢«æ§ç¯€é» (Managed Node)ï¼šä¹Ÿç¨±ç‚ºé™æ§ç¯€é» (Remote Node)ã€‚ç›¸å°æ–¼æ§åˆ¶ä¸»æ©Ÿï¼Œé€™é¡ç¯€é»å°±æ˜¯æˆ‘å€‘é€é Ansible é€²è¡Œéƒ¨ç½²çš„å°è±¡ã€‚ æ‰€ä»¥ä»£è¡¨æˆ‘å€‘åœ¨æ“ä½œé€™é‚Šå°±æ˜¯ Control Machineï¼Œè¦éƒ¨ç½²çš„æ©Ÿå™¨å°±æ˜¯ Managed Nodeï¼Œé€é SSH ä¾†åšé€£ç·šã€‚ä½†ä»€éº½æ˜¯ Inventory è·Ÿ Playbooks å‘¢ï¼Ÿ ","date":"2022-05-16","objectID":"/ansible/:1:1","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Ansible Inventory Inventory é€™å€‹å–®å­—æœ¬èº«æœ‰è©³ç´°ç›®éŒ„ã€æ¸…å–®å’Œåˆ—è¡¨çš„æ„æ€ã€‚åœ¨é€™è£¡æˆ‘å€‘å¯ä»¥æŠŠå®ƒç†è§£æˆä¸€ä»½ä¸»æ©Ÿåˆ—è¡¨ï¼Œå¯ä»¥é€éå®ƒä¾†å®šç¾©æ¯å€‹ Managed Node çš„ä»£è™Ÿã€IP ä½å€ã€é€£ç·šè¨­å®šå’Œç¾¤çµ„ã€‚ $ vim hosts # ansible_ssh_hostï¼šé ç«¯ SSH ä¸»æ©Ÿä½å€ # ansible_ssh_portï¼šé ç«¯ SSH Port # ansible_ssh_userï¼šé ç«¯ SSH ä½¿ç”¨è€…åç¨± # ansible_ssh_private_key_fileï¼šæœ¬æ©Ÿ SSH ç§é‘°æª”æ¡ˆè·¯å¾‘ # ansible_ssh_passï¼šé ç«¯ SSH å¯†ç¢¼ (å»ºè­°ä½¿ç”¨ç§é‘°) [local] server1 ansible_ssh_host=127.0.0.1 ansible_ssh_port=55000 ansible_ssh_pass=docker æ‰€ä»¥æˆ‘å€‘å¯ä»¥åœ¨é€™é‚Šè¼¸å…¥å¾ˆå¤šå€‹ä¸»æ©Ÿä¾†åšç®¡ç†ï¼Œå¯ä»¥æŠŠå®ƒæƒ³æˆä¸€å€‹è¨­å®šæª”ã€‚ ","date":"2022-05-16","objectID":"/ansible/:1:2","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Ansible Playbooks å†è«‡ Ansible Playbooks ä¹‹å‰ï¼Œå…ˆèªªæ˜æˆ‘å€‘è¦æ€éº¼å»æ“ä½œ Ansibleï¼Ÿä¸€èˆ¬ä¾†èªªï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ Ad-Hoc Commands å’Œ Playbooks å…©ç¨®æ–¹å¼ä¾†æ“ä½œ Ansibleã€‚ Ad-Hoc Commands æ˜¯ä»€éº¼ï¼Ÿ Ad hoc å¯ä»¥ç¿»è­¯æˆç°¡çŸ­åœ°æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘å¸¸ç”¨çš„æŒ‡ä»¤æ¨¡å¼ï¼Œæœ€å¸¸è¦‹çš„ pingå’Œecho ç‚ºä¾‹ã€‚ ping $ ansible all -m ping server1 | SUCCESS =\u003e { \"ansible_facts\": { \"discovered_interpreter_python\": \"/usr/bin/python\" }, \"changed\": false, \"ping\": \"pong\" } echo $ ansible all -m command -a \"echo Hello World\" server1 | CHANGED | rc=0 \u003e\u003e Hello World å¾ä¸Šé¢çš„ä¾‹å­ä¸­å¯ä»¥çœ‹åˆ° Ad-Hoc Commands ä¸€æ¬¡åªèƒ½è™•ç†ä¸€ä»¶äº‹æƒ…ï¼Œé€™æ˜¯å®ƒèˆ‡ Playbooks æœ€å¤§çš„å·®ç•°ã€‚ ","date":"2022-05-16","objectID":"/ansible/:1:3","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"Playbooks æ˜¯ä»€éº¼ï¼Ÿ Playbooks å°±æ˜¯å­—é¢ä¸Šçš„æ„æ€ç‚ºåŠ‡æœ¬ï¼Œæˆ‘å€‘å¯ä»¥å…ˆé€éå¯«å¥½çš„åŠ‡æœ¬ (Playbooks) ä¾†è®“å„å€‹ Managed Node é€²è¡ŒæŒ‡å®šçš„å‹•ä½œ (Plays) å’Œä»»å‹™ (Tasks)ã€‚ ç°¡è€Œè¨€ä¹‹ï¼ŒPlaybooks å°±æ˜¯ Ansible çš„è…³æœ¬ (Script)ï¼Œè€Œä¸”æ¯”å‚³çµ± Shell Script é‚„è¦å¼·å¤§å¥½å¹¾ç™¾å€çš„è…³æœ¬ï¼æ­¤å¤–å®ƒæ˜¯ä½¿ç”¨ YAML æ ¼å¼ï¼Œå¯« Code å°±å¦‚åŒå¯«æ–‡ä»¶ä¸€æ¨£ï¼Œç°¡å–®æ˜“è®€ã€‚ æœ‰é—œè©³ç´°çš„å‹•ä½œ (Plays) å’Œä»»å‹™ (Tasks)ï¼Œç­‰æˆ‘å€‘å¯¦éš›å®‰è£å¥½å†ä¾†èªªæ˜ ğŸ˜† ","date":"2022-05-16","objectID":"/ansible/:1:4","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"Ansible å®‰è£èˆ‡å¯¦ä½œ å®‰è£ä¹‹å‰å…ˆè®“å¤§å®¶çœ‹ä¸€ä¸‹ç‰ˆæœ¬å§ï¼å¤§å®¶è¦è¨˜å¾—æª¢æŸ¥è‡ªå·±çš„ç‰ˆæœ¬èˆ‡æ•™å­¸æ˜¯å¦ç›¸åŒï¼Œå¦‚æœä¸åŒï¼Œè¨˜å¾—è¦å…ˆæŸ¥çœ‹å®˜ç¶²æ˜¯å¦æœ‰ä¿®æ”¹å…§å®¹ã€‚ ","date":"2022-05-16","objectID":"/ansible/:2:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ç‰ˆæœ¬ macOSï¼š11.6 Dockerï¼šDocker version 20.10.14, build a224086 Aansibleï¼šansible [core 2.12.5] ","date":"2022-05-16","objectID":"/ansible/:2:1","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"å¦‚ä½•å®‰è£ Ansible åœ¨æ§åˆ¶ä¸»æ©Ÿ ç”±æ–¼ Ansible æ˜¯ä¸€å¥—é–‹æºçš„è»Ÿé«”ï¼Œæ‰€ä»¥åœ¨ç›®å‰å¤§éƒ¨åˆ†ä¸»æµä½œæ¥­ç³»çµ±ä¸Šéƒ½å¯ä»¥é€éå°æ‡‰çš„å¥—ä»¶ç®¡ç† (package manager) é€²è¡Œå®‰è£ã€‚ æœ¬äººä½¿ç”¨ macOS ï¼Œæ‰€ä»¥é€™é‚Šåƒ…åˆ—å‡º masOS å®‰è£æ–¹å¼ï¼Œå…¶ä»–çš„å¯ä»¥åƒè€ƒå®˜æ–¹çš„å®‰è£æŒ‡å—ã€‚ macOS å®‰è£å¯ä»¥ä½¿ç”¨å…©ç¨®æ–¹å¼ï¼Œå®˜æ–¹è¼ƒæ¨è–¦ä½¿ç”¨ pip ä¾†åšå®‰è£ï¼š Pip Install Packages (pip å®˜æ–¹è¼ƒæ¨è–¦) $ sudo pip install ansible Homebrew (brew) $ sudo brew install ansible å®‰è£å®Œå¾Œï¼Œå¯ä»¥ä½¿ç”¨ --version æŒ‡ä»¤ä¾†æª¢æŸ¥æ˜¯å¦å®‰è£å®Œæˆï¼š $ ansible --version ansible [core 2.12.5] config file = None configured module search path = ['/Users/ian_zhuang/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /usr/local/Cellar/ansible/5.7.1/libexec/lib/python3.10/site-packages/ansible ansible collection location = /Users/ian_zhuang/.ansible/collections:/usr/share/ansible/collections executable location = /usr/local/bin/ansible python version = 3.10.4 (main, Apr 26 2022, 19:43:24) [Clang 13.0.0 (clang-1300.0.29.30)] jinja version = 3.1.2 libyaml = True ","date":"2022-05-16","objectID":"/ansible/:2:2","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"å¦‚ä½•å®‰è£ Ansible åœ¨è¢«æ§ç¯€é» ä¸éœ€è¦ï¼ï¼ï¼ é€é Ansible é€²è¡Œç®¡ç†çš„è¢«æ§ç¯€é»å®Œå…¨ä¸éœ€è¦å®‰è£ Ansibleã€‚æˆ‘å€‘åªéœ€è¦ç¢ºä¿é€™å€‹ç¯€é»å¯ä»¥é€é SSH èˆ‡æ§åˆ¶ä¸»æ©Ÿåšæºé€šï¼Œä¸¦å®‰è£ Python 2.6 ä»¥ä¸Šç‰ˆæœ¬å°±å¯ä»¥é€éæ§åˆ¶ä¸»æ©Ÿä¾†é€²è¡Œéƒ¨ç½²åŠç®¡ç†äº†ã€‚ é‚£æˆ‘å€‘ç‚ºäº†è¦æ¨¡æ“¬ï¼Œæ‰€ä»¥æˆ‘å€‘ä½¿ç”¨ Docker ä¾†æ¨¡æ“¬ Managed Nodeï¼Œé¦–å…ˆè€æ¨£å­ï¼Œä¸€æ¨£å…ˆå¯«ä¸€å€‹ Dockerfile ä¾†å»ºç«‹æˆ‘å€‘çš„æ˜ åƒæª”ï¼Œæ­¤æ˜ åƒæª”æ˜¯å¾®èª¿ chusiang/ansible-managed-node.dockerfile çš„å…§å®¹ï¼Œä¿®æ”¹ ubuntu ç‰ˆæœ¬ä»¥åŠå…§å®¹ä½œèª¿æ•´ï¼Œæˆ‘æœƒæŠŠç¨‹å¼ç¢¼æ”¾åœ¨ GitHub é€£çµ ï¼Œä»¥åŠ DockerHub é€£çµï¼Œæ­¡è¿å¤§å®¶å‰å»ä¸‹è¼‰ä½¿ç”¨ã€‚ FROMubuntu:22.10LABEL maintainer=\"880831ian@gmail.com\"# Update the index of available packages.RUN apt-get update# Install the requires package.RUN apt-get install -y openssh-server sudo curl wget bash-completion openssl \u0026\u0026 apt-get clean# Setting the sshd.RUN mkdir /var/run/sshdRUN echo 'root:root' | chpasswdRUN sed -i 's/PermitRootLogin without-password/PermitRootLogin yes/' /etc/ssh/sshd_config# SSH login fix. Otherwise user is kicked off after loginRUN sed 's@session\\s*required\\s*pam_loginuid.so@session optional pam_loginuid.so@g' -i /etc/pam.d/sshdENV NOTVISIBLE \"in users profile\"RUN echo \"export VISIBLE=now\" \u003e\u003e /etc/profile# Create a new user.## - username: docker# - password: dockerRUN useradd --create-home --shell /bin/bash \\ --password $(openssl passwd -1 docker) docker# Add sudo permission.RUN echo 'docker ALL=(ALL) NOPASSWD: ALL' \u003e\u003e /etc/sudoers# Setting ssh public key.RUN wget https://raw.githubusercontent.com/chusiang/ansible-jupyter.dockerfile/master/files/ssh/id_rsa.pub \\ -O /tmp/authorized_keys \u0026\u0026 \\ mkdir /home/docker/.ssh \u0026\u0026 \\ mv /tmp/authorized_keys /home/docker/.ssh/ \u0026\u0026 \\ chown -R docker:docker /home/docker/.ssh/ \u0026\u0026 \\ chmod 644 /home/docker/.ssh/authorized_keys \u0026\u0026 \\ chmod 700 /home/docker/.sshEXPOSE22# Run ssh server daemon.CMD [\"/usr/sbin/sshd\", \"-D\"] æ¥ä¸‹ä¾†å°‡å®ƒåŒ…æˆ Image ä¸¦å•Ÿå‹•ä»–ï¼š $ docker build -t ansible-ubuntu-server . \u0026\u0026 docker run --name server1 -d -p 8888:22 ansible-ubuntu-server 64c51235e34a7ba42c0c45e690201dd80248c9aac76c3b855c99cf63f7f0af7c å¯ä»¥ç”¨ exec é€²å…¥å®¹å™¨ï¼š docker exec -it server1 /bin/bash ","date":"2022-05-16","objectID":"/ansible/:2:3","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"å¦‚ä½•è®“ Ansible æ“æ§ Docker å®¹å™¨ï¼Ÿ æˆ‘å€‘åœ¨å·¥ä½œç›®éŒ„ä¸‹ï¼Œæ–°å¢ä¸€å€‹ ansible.cfgï¼š [defaults] inventory = hosts remote_user = docker host_key_checking = False è¨­å®š inventory hostsï¼š [local] server1 ansible_ssh_host=127.0.0.1 ansible_ssh_port=8888 ansible_ssh_pass=docker å…¶ä¸­ 8888 æ˜¯æˆ‘å€‘åœ¨å•Ÿå‹•æ™‚æ‰€é–‹æ”¾çš„ Portï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œæ›´æ”¹ã€‚ ansible_ssh_hostï¼šè¨­ç‚ºæœ¬æ©Ÿçš„ IPã€‚ ansible_ssh_portï¼šè¨­ç‚º docker ps å–å¾—çš„ SSH Port ä¹Ÿå°±æ˜¯æˆ‘å€‘çš„ 8888ã€‚ ansible_ssh_passï¼šå› ç‚ºæˆ‘å€‘æ²’æœ‰é€£ç·šç”¨çš„é‡‘é‘°ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨å¯†ç¢¼æ–¹å¼åšé€£çµã€‚(å»ºè­°åªç”¨æ–¼ç·´ç¿’ç’°å¢ƒä½¿ç”¨) ","date":"2022-05-16","objectID":"/ansible/:2:4","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"Hello World On Managed Node ç•¶æˆ‘å€‘éƒ½è¨­ç½®å®Œæˆå¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨ Terminal ç”¨ Docker å»ºç«‹å¥½çš„ Ansible ä¾†ç·´ç¿’äº†ï¼ $ ansible all -m command -a 'echo Hello World on Docker.' server1 | CHANGED | rc=0 \u003e\u003e Hello World on Docker. ansible å®‰è£æ™‚å¸¸è¦‹å•é¡Œ Q1. server1 | FAILED | rc=-1 Â» to use the â€˜sshâ€™ connection type with passwords or pkcs11_provider, you must install the sshpass program Q2. ~paramiko/transport.py:236: CryptographyDeprecationWarning: Blowfish has been deprecated ansible å®‰è£æ™‚å¸¸è¦‹å•é¡Œ Ans1. æœƒé‡åˆ°é€™å€‹å•é¡Œæ˜¯å› ç‚ºéœ€è¦å¤šå®‰è£ sshpassï¼Œä¸€èˆ¬ç³»çµ±å®‰è£ sshpass å¾ˆç°¡å–®ï¼Œä½†åœ¨ macOS ä¸Šç¨å¾®éº»ç…©ï¼Œè©³ç´°å¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« ã€‚ Ans2. åœ¨æˆ‘å®‰è£éç¨‹ä¸­ï¼Œç™¼ç¾ä¸Šå‰å¹¾å¤©æ‰å‡ºç¾é€™å€‹ Bug è©³ç´°æƒ…å½¢å¯ä»¥åƒè€ƒ GitHub issuesï¼Œç›®å‰è§£æ±ºè¾¦æ³•æœ‰é™æ¿æˆ–æ˜¯å…ˆå°‡éŒ¯èª¤è¨Šæ¯çµ¦è¨»è§£æ‰ï¼Œä¹‹å¾Œå†ç­‰æ–°çš„ç‰ˆæœ¬å‡ºä¾†å†æ›´æ–°ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œé¸æ“‡ï¼Œæˆ‘é€™é‚Šæ˜¯ç›´æ¥æŠŠå‡ºç¾å•é¡Œçš„ transport.py å…§å®¹è¨»è§£æ‰ï¼Œå¤§æ¦‚ä½æ–¼236è¡Œï¼Œå¯ä»¥çœ‹ä¸‹æ–¹åœ–ç‰‡ã€‚ CryptographyDeprecationWarning éŒ¯èª¤è¨Šæ¯ä¿®æ­£\" CryptographyDeprecationWarning éŒ¯èª¤è¨Šæ¯ä¿®æ­£ ","date":"2022-05-16","objectID":"/ansible/:2:5","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ç¬¬ä¸€å€‹ Playbook åœ¨æˆ‘å€‘éƒ½å®‰è£å¥½å¾Œï¼Œè¦ä¾†èªªèªªæˆ‘å€‘å‰›å‰›æœ‰å·å·æåˆ°çš„ Playbooks çš„å‹•ä½œ (Plays) å’Œä»»å‹™ (Tasks)ã€‚åœ¨ä¸€ä»½ Playbooks è£¡é¢ï¼Œå¯ä»¥æœ‰å¤šå€‹ Playã€å¤šå€‹ Task å’Œå¤šå€‹ Moduleï¼š Playï¼šé€šå¸¸ç‚ºæŸå€‹ç‰¹å®šçš„ç›®çš„ï¼Œä¾‹å¦‚ï¼š Setup a official website with Drupal è—‰ç”± Drupal å»ºç½®å®˜ç¶² Restart the API Service é‡é–‹ API æœå‹™ Taskï¼šè¦å¯¦è¡Œ Play é€™å€‹ç›®çš„æ‰€éœ€åšçš„æ¯å€‹æ­¥é©Ÿï¼Œä¾‹å¦‚ï¼š Install the Nginx å®‰è£ Nginx Kill the djnago process å¼·åˆ¶åœæ­¢ django çš„è¡Œç¨‹ Moduleï¼šAnsible æ‰€æä¾›çš„å„ç¨®æ“ä½œæ–¹å¼ï¼Œä¾‹å¦‚ï¼š apt: name=vim state=present ä½¿ç”¨ apt å¥—ä»¶å®‰è£ vim command: /sbin/shutdown -r now ä½¿ç”¨ shutdown çš„æŒ‡ä»¤é—œæ©Ÿ æœ‰é»è½ä¸æ‡‚å§ï¼æˆ‘ä¾†èˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘æœ€ç†Ÿæ‚‰çš„ Hello Worldï¼Œå…ˆå»ºç«‹ä¸€å€‹ helloworld.yaml çš„æª”æ¡ˆï¼š ---- name:say 'hello world'hosts:alltasks:- name:echo 'hello world'command:echo 'hello world'register:result- name:print stdoutdebug:msg:\"{{ result.stdout }}\" å¯ä»¥çœ‹åˆ°é€™æ•´å€‹å°±æ˜¯ Playï¼Œæˆ‘å€‘æƒ³è¦é”åˆ° say â€˜hello worldâ€™ çš„ç›®çš„ï¼Œå…¶ä¸­æœ‰å…©å€‹ name åˆ†åˆ¥ä»£è¡¨å…©å€‹ Taskï¼Œä¹Ÿå°±æ˜¯é”æˆ Play ç›®çš„æ‰€éœ€å¾—æ­¥é©Ÿã€‚æœ€å¾Œ command èˆ‡ debug å°±æ˜¯æˆ‘å€‘çš„ Module è¦æ€éº¼é”æˆé€™å…©å€‹æ­¥é©Ÿçš„æ“ä½œæ–¹å¼ã€‚ Playbooks çµ„æˆçµæ§‹\" Playbooks çµ„æˆçµæ§‹ æˆ‘å€‘ä½¿ç”¨ ansible-playbook åŸ·è¡Œ Playbookï¼Œåœ¨é€™å€‹ç¯„ä¾‹ä¸­ï¼Œæˆ‘å€‘åŸ·è¡Œäº†ï¼‘å€‹ Playã€3 å€‹ Tasks å’Œ 2 å€‹ Modulesï¼š $ ansible-playbook helloworld.yaml åŸ·è¡Œ Playbooks\" åŸ·è¡Œ Playbooks æˆ‘å€‘å‰›å‰›æ˜æ˜åªå¯«å…©å€‹ tasksï¼Œç‚ºä»€éº¼åŸ·è¡Œå°±è®Šæˆä¸‰å€‹ tasksï¼Ÿ é€™æ˜¯å› ç‚º Ansible é è¨­æœƒä½¿ç”¨ Setup task ä¾†å–å¾— Managed node çš„ factsã€‚é—œæ–¼ facts çš„è©³ç´°èªªæ˜ï¼Œè«‹æ»‘åˆ°å¾Œé¢ å–å¾—-managed-node-çš„-facts è§€çœ‹ğŸ˜¬ é‚£å¦‚æœæ²’æœ‰ Ansible æ™‚ï¼Œæˆ‘å€‘æ˜¯æ€éº¼æ“ä½œçš„ï¼Ÿæˆ‘æœƒé™„ä¸Š Shell Script çš„åšæ³•ï¼Œæˆ‘å€‘ä¾†æ¯”è¼ƒçœ‹çœ‹å§ï¼ Shell Script å»ºç«‹ helloworld.sh æª”æ¡ˆ #! /bin/bash echo \"Hello World\" åŸ·è¡Œ helloworld.sh ./ helloworld.sh Hello World çœ‹èµ·ä¾† Shell Script å·²ç¶“å¤ ç”¨äº†ï¼Œç‚ºä»€éº¼é‚„è¦å¯« Playbook å‘¢ï¼Ÿé€™é‚Šæ•´ç†å¹¾å€‹ç†ç”±çµ¦å¤§å®¶åƒè€ƒï¼š ç”¨ Ansible çš„ Module å¯ä»¥æŠŠå¾ˆå¤šè¤‡é›œçš„æŒ‡ä»¤çµ¦æ¨™æº–åŒ–ï¼Œä¾‹å¦‚ä¸åŒçš„ Linux ç™¼è¡Œç‰ˆæœ¬åœ¨å®‰è£å¥—ä»¶æ™‚éœ€ä»£å„ç¨®ä¸åŒçš„åƒæ•¸ã€‚ åœ¨ç¾æœ‰çš„é›²åŸç”Ÿ (cloud native) çš„æ¶æ§‹ä¸‹ï¼Œå‚³çµ±çš„ Shell Script å·²ç¶“ä¸æ•·ä½¿ç”¨ï¼Œä¸€èˆ¬è€Œè¨€ Shell Script åªèƒ½å°ä¸€å°æ©Ÿå™¨ (instance) é€²è¡Œæ“ä½œã€‚ ","date":"2022-05-16","objectID":"/ansible/:3:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"å¸¸ç”¨çš„ Ansible Module æœ‰å“ªäº›ï¼Ÿ æ¥ä¸‹ä¾†ç°¡å–®ä»‹ç´¹ä¸€ä¸‹æ¯”è¼ƒå¸¸ç”¨åˆ°çš„ 8 å€‹ Moduleï¼š ","date":"2022-05-16","objectID":"/ansible/:4:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ansible.builtin.apt apt module æ˜¯çµ¦ Debian, Ubuntu ç­‰ä½œæ¥­ç³»çµ±ä½¿ç”¨çš„å¥—ä»¶æ¨¡çµ„ (Packing Modules)ï¼Œæˆ‘å€‘å¯ä»¥é€éå®ƒç®¡ç† apt å¥—ä»¶ã€‚é¡ä¼¼çš„æœ‰ apt-getã€dpkgç­‰ã€‚ æ›´æ–°å¥—ä»¶ç´¢å¼•(å¿«å–)ï¼Œç­‰åŒæ–¼ apt-get update æŒ‡ä»¤ - name:Update repositories cacheansible.builtin.apt:update_cache:yes å®‰è£ vim å¥—ä»¶ - name:Install the package \"vim\"ansible.builtin.apt:name:vimstate:present ç§»é™¤ nano å¥—ä»¶ - name:Remove \"nano\" packageansible.builtin.apt:name:nanostate:absent ","date":"2022-05-16","objectID":"/ansible/:4:1","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ansible.builtin.command command module æ˜¯å¯ä»¥åœ¨é ç«¯ä¸ŠåŸ·è¡ŒæŒ‡ä»¤çš„æŒ‡ä»¤æ¨¡çµ„ï¼Œä½†å®ƒä¸æ”¯æ´è®Šæ•¸ (variables) å’Œ \u003cã€\u003eã€|ã€;ã€\u0026ï¼Œè‹¥æœ‰é€™é¡éœ€æ±‚è¦æ”¹ç”¨ shell moduleã€‚ é‡æ–°é–‹æ©Ÿ - name:Reboot at nowansible.builtin.command:/sbin/shutdown -r now ç•¶æŸå€‹æª”æ¡ˆä¸å­˜åœ¨æ™‚æ‰åŸ·è¡ŒæŒ‡ä»¤ - name:create .ssh directoryansible.builtin.command:mkdir .ssh creates=.ssh/ å…ˆåˆ‡æ›ç›®éŒ„å†åŸ·è¡ŒæŒ‡ä»¤ - name:cat /etc/passwdansible.builtin.command:cat passwdargs:chdir:/etc ","date":"2022-05-16","objectID":"/ansible/:4:2","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ansible.builtin.copy copy moudule æ˜¯å¾æœ¬åœ°è¤‡è£½æª”æ¡ˆåˆ°é ç«¯çš„æª”æ¡ˆæ¨¡çµ„ï¼Œè‹¥æœ‰ä½¿ç”¨è®Šæ•¸éœ€æ±‚ï¼Œå¯ä»¥æ”¹ç”¨ templateã€‚å®ƒé¡ä¼¼ Linux æŒ‡ä»¤çš„ scpã€‚ è¤‡è£½ ssh public key åˆ°é ç«¯ (chmod 644 /target/file) - name:copy ssh public key to remote nodeansible.builtin.copy:src:files/id_rsa.pubdest:/home/docker/.ssh/authorized_keysowner:dockergroup:dockermode:0644 è¤‡è£½ ssh public key åˆ°é ç«¯ (chmod u=rw,g=r,o=r /target/file) - name:copy ssh public key to remote nodeansible.builtin.copy:src:files/id_rsa.pubdest:/home/docker/.ssh/authorized_keysowner:dockergroup:dockermode:\"u=rw,g=r,o=r\" è¤‡è£½ nginx vhost è¨­å®šæª”åˆ°é ç«¯ï¼Œä¸¦å‚™ä»½åŸæœ‰çš„æª”æ¡ˆ - name:copy nginx vhost and backup the originalansible.builtin.copy:src:files/ironman.confdest:/etc/nginx/sites-available/defaultowner:rootgroup:rootmode:0644backup:yes ","date":"2022-05-16","objectID":"/ansible/:4:3","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ansible.builtin.file file module æ˜¯åœ¨é ç«¯å»ºç«‹å’Œåˆªé™¤æª”æ¡ˆ (file)ã€ç›®éŒ„ (directory) å’Œè»Ÿé€£çµ (symlinks) çš„æª”æ¡ˆæ¨¡çµ„ã€‚å®ƒé¡ä¼¼çš„ Linux æŒ‡ä»¤ç‚º chownã€mkdir å’Œ touchã€‚ å»ºç«‹æª”æ¡ˆ (touch)ï¼Œä¸¦è¨­å®šæ¬Šé™ç‚º 644 - name:touch a file, and set the permissionsansible.builtin.file:path:/etc/motdstate:touchmode:\"u=rw,g=r,o=r\" å»ºç«‹ç›®éŒ„ (mkdir)ï¼Œä¸¦è¨­å®šæª”æ¡ˆæ“æœ‰è€…ç‚º docker - name:create a directory, and set the permissionsansible.builtin.file:path:/home/docker/.ssh/state:directoryowner:dockermode:\"700\" å»ºç«‹è»Ÿé€£çµ (ln) - name:create a symlink fileansible.builtin.file:src:/tmpdest:/home/docker/tmpstate:link ","date":"2022-05-16","objectID":"/ansible/:4:4","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ansible.builtin.lineinfile lineinfile module æ˜¯å€‹å¯ç”¨æ­£è¦è¡¨ç¤ºæ³•å°æª”æ¡ˆé€²è¡Œæ’å…¥æˆ–å–ä»£æ–‡å­—çš„æª”æ¡ˆæ¨¡çµ„ã€‚å®ƒé¡ä¼¼çš„ Linux æŒ‡ä»¤æ˜¯ sedã€‚ ç§»é™¤ docker ä½¿ç”¨è€…çš„ sudo æ¬Šé™ - name:remove sudo permission of dockeransible.builtin.lineinfile:dest:/etc/sudoersstate:absentregexp:'^docker' åœ¨ /etc/hosts æª”æ¡ˆè£¡ç”¨ 127.0.0.1 localhost å–ä»£é–‹é ­ç‚º 127.0.0.1 çš„ä¸€è¡Œ - name:set localhost as 127.0.0.1ansible.builtin.lineinfile:dest:/etc/hostsregexp:'^127\\.0\\.0\\.1'line:'127.0.0.1 localhost'owner:rootgroup:rootmode:0644 ","date":"2022-05-16","objectID":"/ansible/:4:5","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ansible.builtin.service service module æ˜¯ç”¨ä¾†ç®¡ç†é ç«¯ç³»çµ±æœå‹™çš„ç³»çµ±æ¨¡çµ„ã€‚å®ƒé¡ä¼¼çš„ Linux æŒ‡ä»¤ç‚º serviceã€‚ å•Ÿå‹• Nginx - name:start nginx serviceansible.builtin.service:name:nginxstate:started åœæ­¢ Nginx - name:stop nginx serviceansible.builtin.service:name:nginxstate:stopped é‡é–‹ç¶²è·¯æœå‹™ - name:restart network serviceansible.builtin.service:name:networkstate:restartedargs:eth0 ","date":"2022-05-16","objectID":"/ansible/:4:6","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ansible.builtin.shell shell module æ˜¯å¯ä»¥åœ¨é ç«¯ç”¨ /bin/sh åŸ·è¡ŒæŒ‡ä»¤çš„æŒ‡ä»¤æ¨¡çµ„ï¼Œæ”¯æ´è®Šæ•¸ (variables) å’Œ \u003cã€\u003eã€|ã€; å’Œ \u0026 ç­‰é‹ç®—ã€‚ è—‰ç”± ls å’Œ wc æª¢æŸ¥æª”æ¡ˆæ•¸é‡ - name:check files numberansible.builtin.shell:ls /home/docker/ | wc -l æŠŠæ‰€æœ‰çš„ Python è¡Œç¨‹çµ¦ç æ‰ - name:kill all python processansible.builtin.shell:kill -9 $(ps aux | grep python | awk '{ print $2 }') ","date":"2022-05-16","objectID":"/ansible/:4:7","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ansible.builtin.stat stat module æ˜¯ç”¨ä¾†æª¢æŸ¥æª”æ¡ˆç‹€æ…‹çš„æª”æ¡ˆæ¨¡çµ„ã€‚å…¶é¡ä¼¼çš„ Linux æŒ‡ä»¤ç‚º statã€‚ æª¢æŸ¥æª”æ¡ˆæ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨å‰‡å»ºç«‹ä»–ã€‚ - name:check the 'vimrc' target existsansible.builtin.stat:path:/home/docker/.vimrcregister:stat_vimrc- name:touch vimrcfile:path:/home/docker/.vimrcansible.builtin.state:touchmode:\"u=rw,g=r,o=r\"when:stat_vimrc.stat.exists == false å–çš„æŸæª”æ¡ˆçš„ md5sum - name:Use md5sum to calculate checksumansible.builtin.stat:path:/path/to/somethingchecksum_algorithm:md5sum ","date":"2022-05-16","objectID":"/ansible/:4:8","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"å…¶ä»– å…¶ä»–é‚„æœ‰å¾ˆå¤šå¯ä»¥ä½¿ç”¨çš„ Module ï¼Œè©³æƒ…å¯ä»¥æŸ¥çœ‹ Ansible.Builtinã€‚ ","date":"2022-05-16","objectID":"/ansible/:4:9","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"Ansible ç™¼é€é€šçŸ¥åˆ° Telegram Bot å‰›å‰›çœ‹äº†å¾ˆå¤šå…§å»ºçš„æ¨¡çµ„ï¼Œç•¶ç„¶ Ansible é‚„æœ‰å¾ˆå¤šå¥½ç©çš„æ¨¡çµ„å¯ä»¥ä½¿ç”¨ï¼Œæˆ‘å€‘å°±è·Ÿ ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot æ–‡ç«  ä¸€æ¨£ï¼Œå°‡æˆ‘å€‘å–å¾—çš„å…§å®¹å‚³é€åˆ° Telegram Bot å§ï¼é‚£é¦–å…ˆæˆ‘å€‘è¦å…ˆå‰µé€ ä¸€å€‹ Telegram Botï¼Œåœ¨ Telegram æ‰¾åˆ°ä¸€å€‹æ©Ÿå™¨äººå« BotFather çš„å®˜æ–¹æ©Ÿå™¨äººå¸³è™Ÿã€‚ä¸¦ä½¿ç”¨æŒ‡ä»¤ /newbotï¼Œæœƒçœ‹åˆ°ä¸€ä¸‹ç•«é¢ï¼š Telegram å‰µå»ºæ©Ÿå™¨äºº\" Telegram å‰µå»ºæ©Ÿå™¨äºº ä»–è©¢å•ä½ è¦å¹«æ©Ÿå™¨äººå–å«ä»€éº¼åç¨±ï¼Œå¯ä»¥ç›´æ¥åœ¨è¼¸å…¥æ¬„ä½è¼¸å…¥æƒ³è¦å–çš„åç¨±ï¼Œç•¶ç„¶ä¸èƒ½æ˜¯åˆ¥äººå·²ç¶“å–éçš„ï¼š Telegram å‰µå»ºæ©Ÿå™¨äºº\" Telegram å‰µå»ºæ©Ÿå™¨äºº çœ‹åˆ°å®ƒå›è¦†ä½  Done! ä»£è¡¨æˆåŠŸäº†ï¼Œæ¥ä¸‹ä¾†ä½ æœƒæ‹¿åˆ°ä¸€çµ„ API Tokenï¼Œåƒæˆ‘çš„æ˜¯ 5335968936:AAEDO_Tudhy0t577jtbF9TpgrzqOsL99h9c (å·²æ›´æ›ï¼Œå¤§å®¶æ”¾å¿ƒ ğŸ˜‚ )ï¼Œæ¥ä¸‹ä¾†é–‹å•Ÿç€è¦½å™¨è¼¸å…¥ä»¥ä¸‹ç¶²å€ https://api.telegram.org/bot{API Token}/getupdatesï¼Œå…¶ä¸­çš„ {API Token} è«‹å¸¶å…¥è‡ªå·±çš„ Tokenï¼Œç›´åˆ°å‡ºç¾ {\"ok\":true,\"result\":[]} ä»£è¡¨å®Œæˆã€‚ æ¥ä¸‹ä¾†é–‹å•Ÿä½ è‡ªå·±çš„ Bot ï¼Œæ‰“ä¸Š /start æŒ‡ä»¤ï¼Œé‡æ–°æ•´ç†å‰›å‰›çš„ç¶²é å°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹é€™æ¨£çš„æ–‡å­—ï¼š {\"ok\":true,\"result\":[{\"update_id\":606594112,\"message\":{\"message_id\":1,\"from\":{\"id\":493995679,\"is_bot\":false,\"first_name\":\"\\u54c1\\u6bc5\",\"last_name\":\"Ian\",\"username\":\"pinyichuchu\",\"language_code\":\"zh-hans\"},\"chat\":{\"id\":493995679,\"first_name\":\"\\u54c1\\u6bc5\",\"last_name\":\"Ian\",\"username\":\"pinyichuchu\",\"type\":\"private\"},\"date\":1652695148,\"text\":\"/start\",\"entities\":[{\"offset\":0,\"length\":6,\"type\":\"bot_command\"}]}} é€™æ˜¯ä½ å‚³è¨Šæ¯çµ¦ Bot å®ƒæ‰€æ”¶åˆ°çš„ APIï¼Œè³‡æ–™å¾ˆå¤šæ²’é—œä¿‚ï¼Œæˆ‘å€‘æ‰¾åˆ° idï¼Œåƒæˆ‘çš„æ˜¯ 493995679ï¼Œé€™å€‹å°±æ˜¯æˆ‘è·Ÿæ©Ÿå™¨äººçš„èŠå¤©å®¤ï¼Œæˆ‘å€‘å°±å…ˆå›åˆ° Ansible é€™é‚Šå§ï¼ é–‹å•Ÿä¸€å€‹æ–°çš„æª”æ¡ˆå« send_notify_tg.yamlï¼Œæ‰“ä»¥ä¸‹å…§å®¹ï¼š ---- name:Send notifyhosts:alltasks:- name:Send notify to Telegramcommunity.general.telegram:token:\"9999999:XXXXXXXXXXXXXXXXXXXXXXX\"api_args:chat_id:000000parse_mode:\"markdown\"text:\"Your precious application has been deployed: https://example.com\"disable_web_page_preview:Truedisable_notification:True å¯ä»¥çœ‹åˆ°æˆ‘å€‘ä½¿ç”¨çš„æ¨¡çµ„ä¸æ˜¯ Ansible å…§å»ºçš„ï¼Œè€Œæ˜¯ç¤¾ç¾¤åˆ¥äººå¯«çš„ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ community.general.telegram module â€“ module for sending notifications via telegramï¼š å…¶ä¸­ token å°±æ˜¯æˆ‘å€‘å‰›å‰›åœ¨ BotFather é‚£é‚Šæ‰€æ‹¿åˆ°çš„ Tokenï¼Œchat_id å°±æ˜¯æˆ‘å€‘å‰›å‰›åœ¨ç¶²é ä¸Šçœ‹åˆ°çš„ idï¼ŒæŠŠè³‡æ–™éƒ½è¼¸å…¥é€²å»å¾Œï¼Œæˆ‘å€‘å¯ä»¥ä¿®æ”¹ text å…§å®¹ï¼Œæ”¹æˆ â€œSend notify to Telegram æ¸¬è©¦å‚³é€é€šçŸ¥â€ï¼Œæ¥è‘—åŸ·è¡Œ ansible-ploybook send_notify_tg.yaml ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ­£å¸¸æ”¶åˆ°é€šçŸ¥ï¼ ç™¼é€é€šçŸ¥è‡³ Telegram Bot\" ç™¼é€é€šçŸ¥è‡³ Telegram Bot é€™æ¨£å­å°±æˆåŠŸé€é Ansible Module å‚³é€é€šçŸ¥çµ¦ Telegram å›‰ï¼ æˆ‘å€‘å¯èƒ½éœ€è¦å°‡æ©Ÿå™¨äººåŠ å…¥ç¾¤çµ„å…§ï¼Œé€™æ™‚å€™éœ€è¦æ›´æ›ä¸€ä¸‹ chat_idï¼Œå…ˆå°‡æ©Ÿå™¨äººåŠ å…¥ç¾¤çµ„ï¼Œå†æ¬¡åˆ°å‰›å‰›ç€è¦½å™¨çš„ç¶²é åˆ·æ–°ï¼ŒæŸ¥çœ‹ chat å¾Œé¢çš„ id å¸¶æœ‰ -ï¼Œåƒæ˜¯ -540226836 é€™æ¨£ï¼Œé€™å€‹å°±æ˜¯è©²ç¾¤çµ„çš„ IDï¼Œå°‡ send_notify_tg.yaml çš„ chat_id ä¿®æ”¹æˆ -540226836 åœ¨æ¸¬è©¦çœ‹çœ‹ï¼Œä»–å°±æœƒåœ¨ç¾¤çµ„ä¸­ç™¼é€é€šçŸ¥å›‰ï¼ {\"update_id\":606594124,\"message\":{\"message_id\":14,\"from\":{\"id\":493995679,\"is_bot\":false,\"first_name\":\"\\u54c1\\u6bc5\",\"last_name\":\"Ian\",\"username\":\"pinyichuchu\",\"language_code\":\"zh-hans\"},\"chat\":{\"id\":-540226836,\"title\":\"\\u54c1\\u6bc5 \u0026 AnsibleSendMessageBot\",\"type\":\"group\",\"all_members_are_administrators\":true},\"date\":1652696181,\"group_chat_created\":true}} ç™¼é€é€šçŸ¥è‡³ Telegram ç¾¤çµ„ Bot\" ç™¼é€é€šçŸ¥è‡³ Telegram ç¾¤çµ„ Bot ","date":"2022-05-16","objectID":"/ansible/:5:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"å–å¾— Managed node çš„ facts é‚„è¨˜å¾—æˆ‘å€‘åœ¨åŸ·è¡Œä»»å‹™ (Tasks) æ™‚ï¼Œæ˜æ˜åªæœ‰å…©å€‹ï¼Œä½†æœ€å¾Œçµæœé¡¯ç¤ºä¸‰å€‹å—ï¼Ÿæ˜¯å› ç‚ºåœ¨ä½¿ç”¨ Playbooks æ™‚ï¼ŒAnsible æœƒè‡ªå‹•åŸ·è¡Œ Setup module ä»¥è’é›†å„å€‹ Managed node çš„ factsã€‚ é€™å€‹ facts å°±å¥½æ¯”æ˜¯ç³»çµ±è®Šæ•¸ä¸€æ¨£ï¼Œå¾ IP ä½å€ã€ä½œæ¥­ç³»çµ±ã€CPU ç­‰è³‡è¨Šæ‡‰æœ‰ç›¡æœ‰ã€‚ ","date":"2022-05-16","objectID":"/ansible/:6:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"Ad-Hoc Commands é€šå¸¸æˆ‘å€‘éƒ½æœƒå…ˆä½¿ç”¨ Ad-Hoc Commands ä¾†å‘¼å« setup çœ‹çœ‹æœ‰å“ªäº›å¯ç”¨çš„è³‡è¨Šï¼Œé€™å°æ–¼æˆ‘å€‘ç¨å¾Œæ’°å¯«è¼ƒç‚ºè¤‡é›œçš„ Playbooks æœƒå¾ˆæœ‰å¹«åŠ©ã€‚ å¯ä»¥è—‰ç”± less å¿«é€Ÿæœå°‹æ‰€æœ‰çš„è®Šæ•¸ $ ansible all -m setup | less server1 | SUCCESS =\u003e { \"ansible_facts\": { \"ansible_apparmor\": { \"status\": \"disabled\" }, \"ansible_architecture\": \"x86_64\", \"ansible_bios_date\": \"03/14/2014\", \"ansible_bios_vendor\": \"BHYVE\", \"ansible_bios_version\": \"1.00\", \"ansible_board_asset_tag\": \"NA\", \"ansible_board_name\": \"NA\", \"ansible_board_serial\": \"NA\", \"ansible_board_vendor\": \"NA\", \"ansible_board_version\": \"NA\", æ­é… filter å°‡ç™¼è¡Œç‰ˆæœ¬ (distribution) è³‡è¨Šçµ¦éæ¿¾å‡ºä¾† $ ansible all -m setup -a \"filter=ansible_distribution*\" server1 | SUCCESS =\u003e { \"ansible_facts\": { \"ansible_distribution\": \"Ubuntu\", \"ansible_distribution_file_parsed\": true, \"ansible_distribution_file_path\": \"/etc/os-release\", \"ansible_distribution_file_variety\": \"Debian\", \"ansible_distribution_major_version\": \"22\", \"ansible_distribution_release\": \"kinetic\", \"ansible_distribution_version\": \"22.10\", \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"changed\": false } å–å¾—å¥—ä»¶ç®¡ç†å“¡çš„ç¨®é¡è³‡è¨Šï¼Œä¾‹å­ä¸­å–å¾—çš„å€¼æ˜¯ apt $ ansible all -m setup -a \"filter=ansible_pkg_mgr\" server1 | SUCCESS =\u003e { \"ansible_facts\": { \"ansible_pkg_mgr\": \"apt\", \"discovered_interpreter_python\": \"/usr/bin/python3\" }, \"changed\": false } ","date":"2022-05-16","objectID":"/ansible/:6:1","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"è½‰å¯« Playbooks æˆ‘ä¾†å‡ºå€‹é¡Œç›®ï¼Œæˆ‘æƒ³è¦çŸ¥é“ Ansible æ‰€ä½¿ç”¨çš„å…¬é‘°ï¼Œä¸¦é€é Telegram Bot ç™¼é€åˆ°ç¾¤çµ„ï¼Œè¦æ€éº¼åšå‘¢ï¼ï¼Ÿ é¦–å…ˆè¦åˆ©ç”¨å‰›å‰›çš„ Ad-Hoc Commands filterï¼Œæ‰¾åˆ°å…¬é‘°ï¼Œå†å°‡å…¬é‘°é€é Telegram Bot å‚³é€ï¼Œæ‰€ä»¥æˆ‘å€‘æœƒæœ‰å…©å€‹ Tasksï¼Œé‚£æˆ‘å€‘é–‹å§‹å¯¦ä½œå›‰ ğŸ¤“ 1.æ‰¾åˆ°å…¬é‘° ---- name:Filter rsa_public \u0026 Send notifyhosts:alltasks:- name:Filter setup rsa_public keyansible.builtin.setup:filter:- \"ansible_ssh_host_key_rsa_public\"register:result å¯ä»¥çœ‹åˆ°æˆ‘å€‘å°‡ filter setup å¾ Ad-Hoc è½‰æˆ Playbooksï¼Œä¸¦ä½¿ç”¨ result ä¾†å­˜åœ¨æ‰¾åˆ°çš„å…¬é‘°ã€‚ ç™¼é€é€šçŸ¥è‡³ Telegram Bot - name:Send notify to Telegramcommunity.general.telegram:token:\"5335968936:AAFhxxMRJy-rucGKgSE80Xss7qPq2iOHWlc\"api_args:chat_id:-540226836parse_mode:\"markdown\"text:\"{{ result }}\"disable_web_page_preview:Truedisable_notification:True è€æ¨£å­ï¼Œæˆ‘å€‘å°±ä½¿ç”¨ä¸Šæ¬¡ send_notify_tg.yaml å…§çš„ Send notify to Telegram ä»»å‹™ä¾†å‚³é€é€šçŸ¥ã€‚ åŸ·è¡Œå¾Œï¼Œçœ‹çœ‹ç¾¤çµ„æ˜¯å¦æœ‰æ”¶åˆ°æˆ‘å€‘æ‰¾åˆ°çš„ ansible_ssh_host_key_rsa_public é€šçŸ¥ã€‚ ç™¼é€é€šçŸ¥è‡³ Telegram ç¾¤çµ„ Bot\" ç™¼é€é€šçŸ¥è‡³ Telegram ç¾¤çµ„ Bot ","date":"2022-05-16","objectID":"/ansible/:6:2","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"ä½¿ç”¨ Ansible çš„ Template ç³»çµ± Template module æ˜¯å¸¸ä½¿ç”¨çš„æª”æ¡ˆæ¨¡çµ„ä¹‹ä¸€ï¼Œæˆ‘å€‘åœ¨ å¸¸ç”¨çš„ Ansible Module æœ‰å“ªäº›ï¼Ÿ æ–‡ç« ä¸­æœ‰æåˆ°ï¼Œå¯ä»¥ç”¨å®ƒå’Œè®Šæ•¸ (Variables) ä¾†æ“ä½œæª”æ¡ˆã€‚ æˆ‘å€‘åªéœ€è¦äº‹å…ˆå®šç¾©è®Šæ•¸å’Œæ¨¡æ¿ (Templates)ï¼Œå³å¯ç”¨å®ƒå‹•æ…‹ç”¢ç”Ÿé ç«¯çš„ Shell Scriptã€è¨­å®šæª” (Configure)ç­‰ã€‚æ›å¥è©±èªªï¼Œæˆ‘å€‘å¯ä»¥ç”¨ä¸€ä»½ template ä¾†é–‹ç™¼ (Development)ã€æ¸¬è©¦ (Test)ã€æ­£å¼ç’°å¢ƒ (Production) ç­‰ä¸åŒç’°å¢ƒè¨­å®šã€‚ èˆ‰ä¾‹èªªæ˜ï¼š å»ºç«‹ template æª”æ¡ˆ $ vim hello_world.txt.j2 Hello \"{{ dynamic_word }}\" ç”±æ–¼ Ansible æ˜¯å°±ç”± Jinja2 ä¾†å¯¦ä½œ template ç³»çµ±ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ *.j2 çš„å‰¯æª”åã€‚ ä¸Šé¢çš„ \"{{ dynamic_word }}\"\" ä»£è¡¨æˆ‘å€‘åœ¨ template è£¡ä½¿ç”¨äº†åç‚º dynameic_word çš„è®Šæ•¸ã€‚ å»ºç«‹ playbookï¼Œä¸¦åŠ å…¥è®Šæ•¸ vim template_demo.yaml ---- name:Play the template modulehosts:localhostvars:dynamic_word:\"World\"tasks:- name:generation the hello_world.txt fileansible.builtin.template:src:hello_world.txt.j2dest:/tmp/hello_world.txt- name:show file contextcommand:cat /tmp/hello_world.txtregister:result- name:print stdoutdebug:msg:\"{{ result.stdout_lines }}\" åœ¨ç¬¬ 5 è¡Œï¼Œæˆ‘å€‘å¹« dynamic_word è®Šæ•¸è¨­äº†ä¸€å€‹é è¨­å€¼ Worldã€‚ åœ¨ 8 è¡Œçš„ç¬¬ 1 å€‹ task è£¡ï¼Œæˆ‘å€‘ä½¿ç”¨ template moduleï¼Œä¸¦æŒ‡å®šäº†æª”æ¡ˆçš„ä¾†æº (src) å’Œç›®çš„åœ° (dest)ã€‚ ä¹‹å¾Œçš„ 2 å€‹ task å‰‡æ˜¯æŠŠ template module ç”¢ç”Ÿçš„æª”æ¡ˆçµ¦å°å‡ºä¾†ã€‚ ç›´æ¥ä½¿ç”¨ ansible-playbook template_demo.yaml åŸ·è¡Œ Playbookã€‚ Template Module ç¯„ä¾‹\" Template Module ç¯„ä¾‹ ä¹Ÿå¯ä»¥é€é -e åƒæ•¸å°‡ dynamic_word è¦†å¯«æˆ â€œansibleâ€ $ ansible-playbook template_demo.yaml -e \"dynamic_word=ansible\" Template Module ä½¿ç”¨ -e è¦†å¯«åƒæ•¸\" Template Module ä½¿ç”¨ -e è¦†å¯«åƒæ•¸ ","date":"2022-05-16","objectID":"/ansible/:7:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"å¦‚ä½•åˆ‡æ›ä¸åŒç’°å¢ƒ é™¤äº†æˆ‘å€‘å‰›å‰›ç”¨ vars ä¾†å®£å‘Šè®Šä»¥å¤–ï¼Œé‚„å¯ä»¥ä½¿ç”¨ vars_files ä¾† include å…¶ä»–çš„è®Šæ•¸æª”ï¼š$ vim template_demo2.yaml ---- name:Play the template modulehosts:localhostvars:env:\"development\"vars_files:- vars/{{ env }}.ymltasks:- name:generation the hello_world.txt fileansible.builtin.template:src:hello_world.txt.j2dest:/tmp/hello_world.txt- name:show file contextcommand:cat /tmp/hello_world.txtregister:result- name:print stdoutdebug:msg:\"{{ result.stdout_lines }}\" å¯ä»¥çœ‹åˆ°ä¸Šé¢ä¾‹å­ä¸­ç¬¬ 7 è¡Œï¼Œå°±æ˜¯æˆ‘å€‘ä½¿ç”¨ vars_files ä¾† include å…¶ä»–çš„è®Šæ•¸æª”ã€‚ å»ºç«‹ vars/development.yamlã€vars/test.yamlã€vars/production.yaml æª”æ¡ˆï¼Œæ¥ä¸‹ä¾†å°‡ä¾ä¸åŒå¾—ç’°å¢ƒ include ä¸åŒçš„æª”æ¡ˆè®Šæ•¸æª”æ¡ˆ (vars files)ï¼Œé€™æ¨£å°±å¯ä»¥ç”¨ä¸€ä»½ Playbook åˆ‡æ›ç’°å¢ƒäº†ï¼ Development $ vim vars/development.yaml dynamic_word: \"development\" Test $ vim vars/test.yaml dynamic_word: \"test\" Production $ vim vars/production.yaml dynamic_word: \"production\" åŸ·è¡Œ ansible-playbook template_demo2.yaml -e \"dynamic_word=Test\"ï¼Œä¸¦æœ‰ -e å»ä¿®æ”¹å„å€‹ç’°å¢ƒã€‚ Template Module ç¯„ä¾‹\" Template Module ç¯„ä¾‹ Template ç³»çµ±æ˜¯å¯¦å‹™ä¸Šå¾ˆå¸¸è¦‹çš„æ‰‹æ³•ä¹‹ä¸€ï¼Œè—‰ç”±å®ƒæˆ‘å€‘å¯ä»¥å¾ˆè¼•é¬†åœ°è®“é–‹ç™¼ã€æ¸¬è©¦ã€æ­£å¼ç’°å¢ƒç„¡ç¸«æ¥è»Œã€‚ä½†è‹¥æ˜¯åœ¨å¤§å‹çš„ Playbook è£¡åˆ‡æ›ç’°å¢ƒï¼Œå»ºè­°ä½¿ç”¨è¼ƒç‚ºé€²éšçš„ group_vars è·Ÿ host_varsã€‚ ","date":"2022-05-16","objectID":"/ansible/:7:1","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"åœ¨ Playbooks ä½¿ç”¨ Handlers Handlers æ˜¯æˆ‘å€‘åœ¨ Ansible Playbooks è£¡å¾ˆå¸¸ç”¨ä¾†é‡é–‹ç³»çµ±æœå‹™ (Service) çš„æ‰‹æ³•ï¼Œæˆ‘å€‘é€™é‚Šé€éå®‰è£ Nginx ä¾†ä»‹ç´¹å®ƒã€‚ é‚£ä»€éº¼æ˜¯ Handlers å‘¢ï¼ŸHandler æœ¬èº«æ˜¯ä¸€ç¨®éåŒæ­¥çš„ callback function ; åœ¨é€™è£¡å‰‡æ˜¯æŒ‡é—œè¯æ–¼ç‰¹å®š tasks çš„äº‹ä»¶ (event) è§¸ç™¼æ©Ÿåˆ¶ã€‚ç•¶é€™äº›ç‰¹å®šçš„ tasks ç‹€æ…‹ç‚º è¢«æ”¹è®Š (changed) ä¸”éƒ½å·²è¢«åŸ·è¡Œï¼Œæ‰æœƒè§¸ç™¼ä¸€æ¬¡çš„ eventã€‚ æˆ‘å€‘å»ºç«‹ setup_nginx.yaml ---- name:setup the nginxhosts:allbecome:truevars:username:\"PinYi\"mail:\"880831ian@gmail.com\"blog:\"https://pin-yi.me\"tasks:# åŸ·è¡Œ 'apt-get update' æŒ‡ä»¤ã€‚- name:update apt repo cacheapt:name=nginx update_cache=yes# åŸ·è¡Œ 'apt-get install nginx' æŒ‡ä»¤ã€‚- name:install nginx with aptapt:name=nginx state=present# æ–¼ç¶²é æ ¹ç›®éŒ„ (DocumentRoot) ç·¨è¼¯ index.htmlã€‚- name:modify index.htmlansible.builtin.template:src=templates/index.html.j2dest=/var/www/html/index.htmlowner=www-datagroup=www-datamode=\"644\"backup=yesnotify:restart nginx# handlers## * ç•¶ç¢ºèªäº‹ä»¶æœ‰è¢«è§¸ç™¼æ‰æœƒå‹•ä½œã€‚# * ä¸€å€‹ handler å¯è¢«å¤šå€‹ task é€šçŸ¥ (notify)ï¼Œä¸¦æ–¼ tasks è·‘å®Œæ‰æœƒåŸ·è¡Œã€‚handlers:# åŸ·è¡Œ 'sudo service nginx restart' æŒ‡ä»¤ã€‚- name:restart nginxservice:name=nginx enabled=yes state=restarted# post_tasks:## åœ¨ tasks ä¹‹å¾ŒåŸ·è¡Œçš„ tasksã€‚post_tasks:# æª¢æŸ¥ç¶²é å…§å®¹ã€‚- name:review http statecommand:\"curl -s http://localhost\"register:web_context# å°å‡ºæª¢æŸ¥çµæœã€‚- name:print http statedebug:msg={{ web_context.stdout_lines }} ä¾†èªªæ˜ä¸€ä¸‹ä¸Šé¢é€™å€‹ yaml æª”æ¡ˆï¼š é¦–å…ˆæˆ‘å€‘æƒ³è¦å®‰è£ Nginxï¼Œæˆ‘å€‘çµ¦äº†ä¸‰å€‹åƒæ•¸ï¼Œåˆ†åˆ¥æ˜¯ usernameã€mailã€blogï¼Œç­‰ç­‰æœƒå¸¶å…¥æˆ‘å€‘çš„ templateã€‚ æˆ‘å€‘ä¸€é–‹å§‹æœ‰ 3 å€‹ taskï¼Œåˆ†åˆ¥ä»£è¡¨åŸ·è¡Œæ›´æ–°ã€å®‰è£ã€ç·¨è¼¯ index.html æª”æ¡ˆã€‚ ä»¥åŠ 1 å€‹ handlers ä»–æœƒç­‰ modify index.html æœ‰æ”¹è®Šä¸”åŸ·è¡Œå¾Œæ‰æœƒå‹•ä½œã€‚ æœ€å¾Œæ˜¯ post_tasks ä»–æ˜¯ç­‰ tasks ä¹‹å¾ŒåŸ·è¡Œçš„ tasksã€‚ æ¥ä¸‹å»ºç«‹ Nginx html çš„ templateï¼švim templates/index.html.j2 _____________________________________/ This is a ansible-playbook demo for \\\\ automate-with-ansible at 2022/05/17./-------------------------------------\\ ^__^\\ (oo)\\_______(__)\\ )\\/\\||----w ||| ||[{{username }}@automate-with-ansible ~ ]$[{{username }}@automate-with-ansible ~ ]$[{{username }}@automate-with-ansible ~ ]$ cat .profile- {{mail }}- {{blog }} åŸ·è¡Œ Playbook å¯ä»¥çœ‹åˆ°å› ç‚ºæˆ‘å€‘ modify index.html æ²’æœ‰è¢«æ”¹è®Šï¼Œnotify æ²’æœ‰é€šçŸ¥ handlersï¼Œæ‰€ä»¥ä»–ä¸æœƒåŸ·è¡Œ handlers è©²æ®µç¨‹å¼ã€‚(æ­£å¸¸ä¾†èªªï¼Œä¿®æ”¹ html ä¸éœ€è¦é‡å•Ÿï¼Œæ­¤ç‚ºç¯„ä¾‹ğŸ¤£ ) Handlers ç¯„ä¾‹\" Handlers ç¯„ä¾‹ é‚£æˆ‘å€‘ä¿®æ”¹ä¸€ä¸‹ index.html ä¾†æ¸¬è©¦ä¸€ä¸‹æœƒä¸æœƒæŠŠ index.html çš„ç‹€æ…‹è¢«æ”¹è®Šï¼Œè€Œè®“ handlers åŸ·è¡Œå‘¢ï¼æˆ‘å€‘éš¨æ„ä¿®æ”¹ index.html å…§å®¹ï¼Œä¿®æ”¹æ—¥æœŸæ”¹æˆ 05/17ï¼š Handlers ç¯„ä¾‹\" Handlers ç¯„ä¾‹ å¯ä»¥çœ‹åˆ°æˆ‘å€‘çš„ modify index.html è¢«æ”¹è®Šäº†ï¼Œæ‰€ä»¥ notify é€šçŸ¥ handlers åŸ·è¡Œé‡æ–°å•Ÿå‹•ã€‚ ","date":"2022-05-16","objectID":"/ansible/:8:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"åœ¨ Playbooks ä½¿ç”¨ loops åœ¨ Shell Script ä¸­ï¼Œæˆ‘å€‘æœƒä½¿ç”¨ for å’Œ while ç­‰è¿´åœˆ (loop) ä¾†ç°¡åŒ–é‡è¤‡çš„ç¨‹å¼ç¢¼ï¼Œè€Œåœ¨ Ansible æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ loop ä¾†ç°¡åŒ–é‡è¤‡çš„ä»»å‹™ (Tasks)ã€‚ ","date":"2022-05-16","objectID":"/ansible/:9:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"æ¨™æº–è¿´åœˆ é¦–å…ˆæˆ‘å€‘å…ˆä»¥ç°¡å–®çš„æ–¹å¼é‡è¤‡å°å‡ºä¸‰ç­†è³‡æ–™ã€‚ Shell Script å»ºç«‹ for loop çš„ Script $ vim bash_loop.sh #!/bin/bash for x in 0 1 2; do echo Loop $x done åœ¨ç¬¬ 4 è¡Œï¼Œæˆ‘å€‘ç”¨ forï¼Œä¸¦\u0008ä»£å…¥ 0,1,2 ä¸‰å€‹å€¼åˆ° $x è®Šæ•¸ åœ¨ç¬¬ 5 è¡Œï¼Œå‰‡ç”¨äº† echoï¼Œå°å‡ºè¨Šæ¯å’Œ $x è®Šæ•¸ åŸ·è¡Œ Scriptï¼šå¯ä»¥çœ‹åˆ°åº•ä¸‹è·‘äº† 3 æ¬¡çš„ loop $ chmod a+x bash_loop.sh $ ./bash_loop.sh Loop 0 Loop 1 Loop 2 Ansible Playbooks æˆ‘å€‘éœ€è¦é€é item å’Œ with_items ä¾†ä½¿ç”¨ Ansible çš„ loopï¼Œå…¶ item ç‚ºé è¨­åã€‚åœ¨ Ansible 2.5 ä¸­æ·»åŠ äº† loopï¼Œæ‰€ä»¥æˆ‘å€‘å¾ŒçºŒå…©è€…éƒ½æœƒæåˆ° (ç›®å‰å…©è€…éƒ½å¯ä»¥ä½¿ç”¨ï¼) å»ºç«‹ loop çš„ playbook vim playbook_with_items.yaml ---- name:a basic loop with playbookhosts:localhosttasks:- name:print loop messageansible.builtin.debug:msg:\"Loop {{ item }}\"with_items:- 0- 1- 2 åœ¨ç¬¬ 6ã€7 è¡Œè£¡ï¼Œæˆ‘å€‘ç”¨ debug module ä¾†å°å‡ºè¨Šæ¯ï¼Œä¸¦å®šç¾© item åœ¨ç¬¬ 8 ~ 11 è¡Œï¼Œå‰‡ç”¨äº† with_item å°‡ 0,1,2 çš„å€¼å‚³å…¥ item åŸ·è¡Œ ansible-playbook playbook_with_items.yaml å¾Œæœƒå¾—åˆ°ï¼š TASK [print loop message] *************************************************************************************************************ok:[server1] =\u003e (item=0) =\u003e {\"msg\": \"Loop 0\"}ok:[server1] =\u003e (item=1) =\u003e {\"msg\": \"Loop 1\"}ok:[server1] =\u003e (item=2) =\u003e {\"msg\": \"Loop 2\"} å¦ä¸€ç¨® åœ¨ Ansible æ–°å¢çš„ loop å»ºç«‹ loop çš„ playbook vim playbook_loop.yaml ---- name:a basic loop with playbookhosts:alltasks:- name:print loop messageansible.builtin.debug:msg:\"{{ item }} {{ my_idx }}\"loop:- Loop- Loop- Looploop_control:index_var:my_idx åŸ·è¡Œ ansible-playbook playbook_loop.yaml å¾Œæœƒå¾—åˆ°ï¼š TASK [print loop message] *************************************************************************************************************ok:[server1] =\u003e (item=0) =\u003e {\"msg\": \"Loop 0\"}ok:[server1] =\u003e (item=1) =\u003e {\"msg\": \"Loop 1\"}ok:[server1] =\u003e (item=2) =\u003e {\"msg\": \"Loop 2\"} æœƒä½¿ç”¨ Loop å°±å¯ä»¥æ¸›å°‘æˆ‘å€‘åœ¨å¯«é‡è¤‡çš„ç¨‹å¼ç¢¼ï¼Œç•¶ç„¶ä¸Šé¢çš„åªæ˜¯ç°¡å–®çš„ç¯„ä¾‹ï¼Œè©³ç´°è«‹åƒè€ƒ Loops - Ansible Documentationã€‚ ","date":"2022-05-16","objectID":"/ansible/:9:1","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ ç¾ä»£ IT äººä¸€å®šè¦çŸ¥é“çš„ Ansible è‡ªå‹•åŒ–çµ„æ…‹æŠ€å·§ Ansible å®‰è£ æ€éº¼ç”¨ Docker ç·´ç¿’ Ansibleï¼Ÿ community.general.telegram module â€“ module for sending notifications via telegram ","date":"2022-05-16","objectID":"/ansible/:10:0","tags":["Ansible","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Ansible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers)","uri":"/ansible/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯æ¥çºŒå‰é¢ Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹ï¼Œæ­¡è¿å¤§å®¶å…ˆå»è§€çœ‹å‰é¢çš„æ–‡ç«  ğŸ˜‹","date":"2022-05-16","objectID":"/jenkins/","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯æ¥çºŒå‰é¢ Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹ æ–‡ç« ï¼Œæ­¤ç¯‡æœƒå¯¦éš›å®‰è£åŠå¯¦ä½œ Jenkinsï¼Œå¤§å®¶è¨˜å¾—åœ¨å­¸ç¿’å‰è¦å…ˆæª¢æŸ¥è‡ªå·±çš„ç‰ˆæœ¬æ˜¯å¦æœ‰æ–°çš„æ›´æ–°ï¼é‚£æˆ‘å€‘é–‹å§‹å›‰ ğŸ˜˜ ","date":"2022-05-16","objectID":"/jenkins/:0:0","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"Jenkins å®‰è£èˆ‡å¯¦ä½œ æˆ‘é€™æ¬¡æœƒä½¿ç”¨ Docker-compose ä¾†é€²è¡Œå®‰è£ï¼Œé™¤äº† Docker ä»¥å¤–ä¹Ÿæœ‰ä¸åŒçš„å®‰è£æ–¹å¼ï¼Œå¯ä»¥åƒè€ƒ Jenkins download and deploymentï¼Œæœ¬æ¬¡ä½¿ç”¨çš„ç’°å¢ƒç‰ˆæœ¬å¦‚ä¸‹ï¼š ","date":"2022-05-16","objectID":"/jenkins/:1:0","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"ç‰ˆæœ¬ macOSï¼š11.6 Dockerï¼šDocker version 20.10.14, build a224086 Jenkinsï¼šjenkins/jenkins:lts-jdk11 yamllintï¼š1.26.0 ","date":"2022-05-16","objectID":"/jenkins/:1:1","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"å®‰è£ é€™é‚Šæœƒä½¿ç”¨ Jenkins æä¾›çš„ å®˜æ–¹ LTS æ˜ åƒæª” ä¾†ä½œç‚ºåŸºåº•ï¼Œå› ç‚ºæˆ‘å€‘è¦å¤šå®‰è£æ¸¬è©¦ç¨‹å¼ yamllintï¼Œæ‰€ä»¥å°±è‡ªå·±å¯«ä¸€å€‹ Docker-composeï¼š(åŒæ¨£çš„ç¨‹å¼ç¢¼æœƒæ”¾åœ¨ GitHubï¼Œä¹Ÿç›´æ¥åŒ…æˆæ˜ åƒæª”æ”¾åœ¨ DockerHubï¼Œæ­¡è¿å¤§å®¶è‡ªè¡Œå–ç”¨) yamlint yamlintï¼Œå®ƒæ˜¯èªæ³•æª¢æŸ¥å·¥å…·ï¼Œå¯ä»¥ç”¨ä¾†æª¢æŸ¥ yaml æª”æ¡ˆçš„èªæ³•æ˜¯å¦æ­£ç¢ºä»¥åŠç¬¦åˆè¦ç¯„ï¼Œæˆ‘å€‘çœ‹ä¸€ä¸‹å¯¦éš›æ“ä½œçš„ç•«é¢ï¼š yamllint æ¸¬è©¦\" yamllint æ¸¬è©¦ å¯ä»¥çœ‹åˆ°å¦‚æœä¸ç¬¦åˆ yaml è¦ç¯„å°±æœƒè·³å‡ºéŒ¯èª¤è¨Šæ¯ã€‚ æ¥ä¸‹ä¾†å…ˆçœ‹ä¸€ä¸‹æ•´å€‹ Docker-compose çµæ§‹ä»¥åŠå„åƒæ•¸ï¼š . â”œâ”€â”€ Docker-compose.yaml â”œâ”€â”€ jenkins â”‚Â â””â”€â”€ Dockerfile Docker-compose.yaml version:\"3.8\"services:jenkins:build:./jenkins/container_name:jenkinsports:- 8080:8080- 50000:50000restart:alwaysvolumes:- ./jenkins_home:/var/jenkins_home åƒæ•¸èªªæ˜ï¼š build: ./jenkins/ï¼šå› ç‚ºè¦å…ˆå®‰è£ yamllintï¼Œæ‰€ä»¥ä½¿ç”¨ Dockerfile å¦å¤–å¯«ã€‚ container_name:jenkinsï¼šå®¹å™¨çš„åç¨±ã€‚ ports: -8080:8080 - 50000:50000ï¼š8080 æ˜¯å¾…æœƒæˆ‘å€‘ç€è¦½å„€è¡¨æ¿æœƒä½¿ç”¨åˆ°çš„ Portï¼Œå¦‚æœæœ¬æ©Ÿä¸Š 8080 å·²ç¶“è¢«ä½”ç”¨ï¼Œå¯ä»¥è‡ªè¡Œæ›´æ›ï¼Œ50000 æ˜¯ Jenkins æ‰€ä½¿ç”¨çš„ Portã€‚ restart: alwaysï¼šç•¶å®¹å™¨åœæ­¢æ™‚ï¼Œæœƒè‡ªå‹•é‡æ–°å•Ÿå‹•å®¹å™¨ã€‚ volumes: - ./jenkins_home:/var/jenkins_homeï¼šæ›è¼‰ç›®éŒ„ï¼Œå°±ç®—åˆªé™¤å®¹å™¨ä¸€æ¨£å¯ä»¥ä¿ç•™å…¶ä»–è¨­å®šã€‚æˆ‘å°‡å•Ÿå‹• Docker-compose.yaml çš„è³‡æ–™å¤¾ä¸‹å¤šä¸€å€‹ jenkins_home èˆ‡å®¹å™¨å…§ /var/jenkins_home åšæ˜ å°„ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å»èª¿æ•´ã€‚ jenkins/Dockerfile FROMjenkins/jenkins:lts-jdk11LABEL maintainer=\"880831ian@gmail.com\"USERrootRUN apt-get upgrade -y\\ \u0026\u0026 apt-get update -y\\ \u0026\u0026 apt-get install yamllint -y åƒæ•¸èªªæ˜ï¼š FROMï¼šæˆ‘å€‘ä½¿ç”¨ Jenkins å®˜æ–¹æä¾›çš„ LTS ç¶­è­·ç‰ˆæœ¬ã€‚ USERï¼šå› ç‚ºè¦å…ˆå®‰è£æ±è¥¿ï¼Œæ‰€ä»¥ç›´æ¥çµ¦ root æ¬Šé™ã€‚ RUNï¼šå…ˆå‡ç´šå®Œå¾Œï¼Œå†æ›´æ–°ï¼Œæœ€å¾Œå†è£ yamllintã€‚(-y æ˜¯åŒæ„æ‰€ä»¥è©¢å•) æœ€å¾Œä½¿ç”¨ docker-compose ä¾†åŸ·è¡Œï¼š $ docker-compose up -d è¦åœ¨ Docker-compose.yaml è³‡æ–™å¤¾ä¸‹æŒ‡ä»¤æ‰æœ‰ç”¨ã€‚ ä¸‹å®ŒæŒ‡ä»¤å¾Œï¼Œä»–å°±æœƒåœ¨èƒŒæ™¯é–‹å§‹å®‰è£ï¼Œå¯ä»¥è©¦è‘—ç”¨ç€è¦½å™¨ç€è¦½ http://localhost:8080ï¼ŒæŸ¥çœ‹æœ‰æ²’æœ‰è·³å‡ºä¸‹é¢é€™å€‹ç•«é¢ï¼š ç€è¦½å™¨è¨ªå• http://localhost:8080\" ç€è¦½å™¨è¨ªå• http://localhost:8080 æˆ‘å€‘çœ‹åˆ°å®ƒéœ€è¦è¼¸å…¥ä¸€çµ„ Administrator passwordï¼Œæˆ‘å€‘è¦ä½¿ç”¨ docker logs ä¾†æŸ¥çœ‹ï¼Œæœƒç™¼ç¾æœ€å¾Œæœƒæœ‰å¯« Please use the following password to proceed to installation çš„åœ°æ–¹ï¼š $ docker logs jenkins ************************************************************* ************************************************************* ************************************************************* Jenkins initial setup is required. An admin user has been created and a password generated. Please use the following password to proceed to installation: 70c0780f62a7441f90286be106908378 This may also be found at: /var/jenkins_home/secrets/initialAdminPassword ************************************************************* ************************************************************* ************************************************************* å…¶ä¸­çš„ 70c0780f62a7441f90286be106908378 ï¼Œå°±æ˜¯æˆ‘å€‘çš„ Administrator passwordï¼Œç›´æ¥è¤‡è£½ä¸¦è²¼åˆ°æ¬„ä½å¾ŒæŒ‰ Continueã€‚ æˆ‘å€‘å¯ä»¥çœ‹åˆ°å®ƒè©¢å•æ˜¯å¦è¦å®‰è£å¥—ä»¶ï¼Œæˆ‘å€‘é¸æ“‡å·¦é‚Š Install suggested plugins å®‰è£æ¨è–¦çš„å¥—ä»¶å³å¯ï¼š å®‰è£æ¨è–¦çš„å¥—ä»¶\" å®‰è£æ¨è–¦çš„å¥—ä»¶ ç­‰å¾…å®ƒå®‰è£å¥—ä»¶ï¼Œå®‰è£å®Œå¾Œæœƒè‡ªå‹•è·³åˆ°è¨»å†Šç•«é¢ï¼š ç­‰å¾…å®‰è£â€¦\" ç­‰å¾…å®‰è£â€¦ è¼¸å…¥å®ŒåŸºæœ¬çš„è³‡æ–™å¾Œï¼ŒæŒ‰ Save and Continueï¼š å‰µå»º Admin ä½¿ç”¨è€…\" å‰µå»º Admin ä½¿ç”¨è€… æœ€å¾Œçœ‹åˆ°ä¸‹é¢é€™å€‹ç•«é¢å°±ä»£è¡¨æˆ‘å€‘å®‰è£å¥½å›‰ï¼ Jenkins å„€è¡¨æ¿\" Jenkins å„€è¡¨æ¿ ","date":"2022-05-16","objectID":"/jenkins/:1:2","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"å»ºç«‹ç¬¬ä¸€å€‹ Jenkins Job æˆ‘å€‘å·²ç¶“æˆåŠŸå®‰è£å¥½ä¸¦é€²å…¥åˆ° Jenkins å„€è¡¨æ¿ï¼Œæˆ‘å€‘å…ˆä¾†å»ºç«‹ç¬¬ä¸€å€‹ Jobï¼Œå®ƒçš„åŠŸç”¨æ˜¯å‘Šè¨´æˆ‘å€‘ç³»çµ±æª”æ¡ˆçš„å³æ™‚ä½¿ç”¨ç‹€æ³ï¼Œè®“æˆ‘å€‘å° Jenkins æœ‰åˆæ­¥çš„äº†è§£ï¼š é»é¸å„€è¡¨æ¿çš„æ–°å¢ä½œæ¥­æˆ–æ˜¯ Create a Jobï¼š æ–°å¢ä½œæ¥­\" æ–°å¢ä½œæ¥­ è¼¸å…¥ Job å°ˆæ¡ˆåç¨±ä¸¦é¸æ“‡å»ºç«‹ Free-Style è»Ÿé«”å°ˆæ¡ˆï¼š è¨­å®š Job å°ˆæ¡ˆ\" è¨­å®š Job å°ˆæ¡ˆ å¯ä»¥çœ‹åˆ°é€™é‚Šæœ‰ä¸åŒçš„å°ˆæ¡ˆé¡å‹å¯ä»¥é¸æ“‡ï¼ŒFree-Style ä»¥åŠ Pipeline é€™å…©ç¨®é¡å‹çš„å°ˆæ¡ˆåŸºæœ¬ä¸Šå°±æ¶µè“‹å¤§éƒ¨åˆ†çš„éœ€æ±‚ã€‚Free-Style é¡å‹çš„å°ˆæ¡ˆæä¾›äº†éå¸¸å¤§çš„å½ˆæ€§è®“ä½¿ç”¨è€…ä¾†åšåŸå§‹ç¢¼ç®¡ç†ä»¥åŠå»ºç½®ã€‚å¦‚æœå»ºç½®æµç¨‹æ¶‰åŠå¤šå€‹å°ˆæ¡ˆï¼Œå‰‡å¯ä»¥ä½¿ç”¨ Pipeline é¡å‹çš„å°ˆæ¡ˆä¾†çµ„åˆåŠå®šç¾©å»ºç½®é‚è¼¯ã€‚ æ¥ä¸‹ä¾†è¨­å®šå°ˆæ¡ˆçµ„æ…‹ï¼š è¨­å®šå°ˆæ¡ˆçµ„æ…‹\" è¨­å®šå°ˆæ¡ˆçµ„æ…‹ è¦è¨˜å¾—å¹«æ¯ä¸€å€‹å°ˆæ¡ˆéƒ½åŠ ä¸Šæè¿°ï¼Œè®“å…¶ä»–äººçŸ¥é“è©²å°ˆæ¡ˆçš„ç”¨é€”æˆ–æ˜¯ä½¿ç”¨æ™‚æ©Ÿç­‰ã€‚ æ¥è‘—ï¼Œåœ¨å»ºç½®çš„ä¸‹æ‹‰å¼æ¬„ä½é¸æ“‡ é¸æ“‡å»ºç½®æ­¥é©Ÿ \u003e åŸ·è¡Œ Shell è¨­å®šå°ˆæ¡ˆçµ„æ…‹\" è¨­å®šå°ˆæ¡ˆçµ„æ…‹ è¼¸å…¥ df -h æŒ‡ä»¤ï¼š è¨­å®šå°ˆæ¡ˆçµ„æ…‹\" è¨­å®šå°ˆæ¡ˆçµ„æ…‹ æˆ‘å€‘é€™é‚Šé€éå»ºç½® åŸ·è¡Œ Shell é€™å€‹å»ºç½®æ­¥é©Ÿä¾†å‘Šè¨´ Jenkinsï¼Œæœªä¾†é€™å€‹å°ˆæ¡ˆè¢«å»ºç½®ï¼Œå°±æœƒåŸ·è¡Œ df -h é€™å€‹æŒ‡ä»¤ã€‚ å°ˆæ¡ˆçµ„æ…‹è¨­ç½®å®Œå¾Œï¼Œæˆ‘å€‘é»é¸å·¦é‚Šçš„é¦¬ä¸Šå»ºç½®ä¾†å»ºç½®å‰›å‰›å»ºå¥½çš„å°ˆæ¡ˆï¼Œå¦‚æœæˆ‘å€‘è¨­å®šä¸Šæ²’æœ‰å•é¡Œï¼Œæ‡‰è©²æœƒåœ¨å·¦ä¸‹è§’çš„å»ºç½®æ­·ç¨‹é€™é‚Šçœ‹åˆ°æˆ‘å€‘çš„ç¬¬ä¸€å€‹å»ºç½®ç´€éŒ„ï¼š å»ºç½®å°ˆæ¡ˆ\" å»ºç½®å°ˆæ¡ˆ é»é€²å»å¾Œï¼Œå†é» Console Outputï¼Œå¯ä»¥çœ‹åˆ°é€™æ¬¡å»ºç½®çš„çµæœï¼š å»ºç½®å°ˆæ¡ˆ\" å»ºç½®å°ˆæ¡ˆ é€™æ¨£æˆ‘å€‘çš„ç¬¬ä¸€å€‹ Jenkins Job å°±è¨­å®šå®Œæˆå›‰ï¼Jenkins ä¹Ÿç¢ºå¯¦çš„åŸ·è¡Œæˆ‘å€‘æ‰€è¨­å®šçš„æŒ‡ä»¤ï¼Œä¸¦å°‡ç³»çµ±çš„ä½¿ç”¨ç‹€æ³å‘ˆç¾åœ¨çµ‚ç«¯æ©Ÿçš„è¼¸å‡ºä¸Šã€‚ ä»¥ä¸Šå°±æ˜¯æˆ‘å€‘ç¬¬ä¸€å€‹ç°¡å–®çš„å°ˆæ¡ˆå»ºç½®æµç¨‹ï¼Œç•¶ç„¶ï¼ŒJenkins å¯ä»¥åšåˆ°çš„äº‹æƒ…ä¸åƒ…å¦‚æ­¤ï¼Œåœ¨å¾Œé¢æˆ‘å€‘æœƒé€éå®‰è£ä¸åŒçš„å¥—ä»¶ä¾†å¼·åŒ– Jenkinsï¼Œä¾†é”åˆ°å®Œæ•´çš„æŒçºŒæ•´åˆ ğŸ˜ ","date":"2022-05-16","objectID":"/jenkins/:1:3","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"åŸå§‹ç¢¼ç®¡ç†èˆ‡å»ºç½®è§¸ç™¼ç¨‹åº ä¸Šé¢æœ‰æåˆ° Jenkins ä½œç‚ºä¸€å€‹æŒçºŒæ•´åˆçš„å·¥å…·ï¼Œèˆ‡åŸå§‹ç¢¼ç®¡ç†ç³»çµ±çš„æ•´åˆå°¤å…¶é‡è¦ã€‚æˆ‘å€‘é€™ä¸€ç« ç¯€ï¼Œæœƒä»‹ç´¹å¦‚ä½•åœ¨ Jenkins ä¸Šé€éåŸå§‹ç¢¼ç®¡ç† (source code management,SCM) ç³»çµ±ï¼Œä¾‹å¦‚å¾ GitHub ç²å¾—å°ˆæ¡ˆçš„åŸå§‹ç¢¼ï¼Œä¸¦è¨­ç½®å»ºç½®è§¸ç™¼ç¨‹åº (build triggers) ä¾†å¯¦è¸æŒçºŒæ•´åˆã€‚ ","date":"2022-05-16","objectID":"/jenkins/:2:0","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"å»ºç½®å°ˆæ¡ˆ HTTPS æ¥ä¸‹ä¾†æˆ‘å€‘å…ˆå»ºç«‹ä¸€å€‹æ–°çš„ Jobï¼Œé¸æ“‡ Free-style æ¨¡å¼ï¼Œé€™æ¬¡è¦åœ¨åŸå§‹ç¢¼ç®¡ç†è£¡é¢é¸æ“‡ Gitï¼Œåœ¨ Repositories \u003e Repository URL è£¡é¢è¼¸å…¥æˆ‘å€‘é€™æ¬¡è¦æ¸¬è©¦çš„ repository URLï¼š è¨­å®š Repository URL\" è¨­å®š Repository URL SSH å¦‚æœæˆ‘å€‘æƒ³è¦é€é SSH ä¾†å­˜å–å°ˆæ¡ˆï¼Œæˆ‘å€‘æœƒé‡åˆ°ä»¥ä¸‹ç‹€æ³ï¼š SSH å°šæœªè¨­å®šéŒ¯èª¤è¨Šæ¯\" SSH å°šæœªè¨­å®šéŒ¯èª¤è¨Šæ¯ æœƒæœ‰éŒ¯èª¤è¨Šæ¯æ˜¯å› ç‚ºæˆ‘å€‘é‚„æ²’æœ‰æŠŠ Jenkins èˆ‡ GitHub åš SSH é‡‘é‘°é…å°ï¼Œæ‰€ä»¥ GitHub æ‹’çµ• Jenkins é€é SSH å­˜å–ã€‚é‚£è¦æ€éº¼è§£æ±ºå‘¢ï¼Ÿ æœ€ç°¡å–®çš„æ–¹æ³•å°±æ˜¯åœ¨ Jenkins ä¸»æ©Ÿä¸‹å»ºç«‹ SSH é‡‘é‘°ï¼Œä¸¦å°‡å…¬é–‹é‡‘é‘° Key åŠ å…¥åˆ° GitHub å¸³è™Ÿä¸­ï¼Œæœ‰éœ€è¦çš„æœ‹å‹å¯ä»¥å†è‡ªè¡Œä½¿ç”¨ï¼Œè©²ç¯„ä¾‹ä½¿ç”¨ HTTPS ä¾†åšè¨­å®šã€‚ ","date":"2022-05-16","objectID":"/jenkins/:2:1","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"å»ºç½®è§¸ç™¼ç¨‹åº ç”±æ–¼æˆ‘å€‘é‚„æ²’æœ‰å®šç¾©ä»»ä½•å»ºç½®çš„è§¸ç™¼ç¨‹åºï¼Œæ‰€ä»¥é™¤éæˆ‘å€‘æ‰‹å‹•å»æ“ä½œ Jenkinsï¼Œä¸ç„¶ Jenkins ä¸¦ä¸æœƒä¸»å‹•å¹«æˆ‘å€‘é€²è¡Œå»ºç½®ã€‚å› æ­¤ï¼Œåœ¨å»ºç½®è§¸ç™¼ç¨‹åºé€™å€‹æ¬„ä½å…§ï¼Œæˆ‘å€‘å¯ä»¥è‡ªç”±è¨­å®šæˆ‘å€‘å¸Œæœ› Jenkins ä½•æ™‚è‡ªå‹•å¹«æˆ‘å€‘é€²è¡Œå»ºç½®å°ˆæ¡ˆã€‚é‚£ä¾ç…§å°ˆæ¡ˆçš„å±¬æ€§ä¸åŒï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥æ¡ç”¨ä¸åŒçš„å»ºç½®æ™‚æ©Ÿã€‚é‚£æœ€å¸¸è¦‹çš„æœ‰ä»¥ä¸‹å…©ç¨®ï¼š å®šæœŸå»ºç½® åœ¨ Jenkins ä¸­ï¼Œæˆ‘å€‘æ˜¯æ¡ç”¨ Cron Format çš„æ–¹å¼ä¾†å®šç¾©å»ºç½®è¡Œç¨‹ã€‚Cron Format ç¸½å…±äº”å€‹æ¬„ä½ï¼Œæ¬„ä½èˆ‡æ¬„ä½ä¹‹é–“å¯ç”¨ç©ºç™½æˆ– Tab éµåšå€éš”ï¼š åˆ† (minute)ï¼š0 - 59 åˆ† æ™‚ (hour)ï¼š0 - 23 æ™‚ æ—¥ (day of month)ï¼š1 - 31 æ—¥ æœˆ (month)ï¼š1 - 12 æœˆ æ˜ŸæœŸ (day of week)ï¼šæ˜ŸæœŸ 0 - 7 (å…¶ä¸­ 0 èˆ‡ 7 éƒ½ä»£è¡¨æ˜ŸæœŸå¤©) å‡è¨­æˆ‘å€‘å¸Œæœ›æ¯å€‹ 30 åˆ†é˜å°±å»ºç½®ä¸€æ¬¡ç•¶å‰å°ˆæ¡ˆï¼Œæˆ‘å€‘å¯ä»¥åœ¨å®šç¾©è¦å‰‡è£¡é¢å¡«å…¥ H/15 * * * *ï¼š å®šæœŸå»ºç½®\" å®šæœŸå»ºç½® GitHub hook trigger for GITScm polling é€™ç¨®è§¸ç™¼æ–¹å¼åœ¨æŒçºŒæ•´åˆæ™‚éå¸¸å¯¦ç”¨ã€‚æˆ‘å€‘å¯ä»¥è®“ Jenkins è‡ªå‹•ç›£æ¸¬ç•¶åœ¨åŸå§‹ç¢¼å°ˆæ¡ˆæœ‰ä»»ä½•çš„ push event ç™¼ç”Ÿæ™‚å°±é€²è¡Œå»ºç½®ã€‚ç‚ºäº†è¦ä½¿ç”¨é€™ç¨®æ–¹å¼å»ºç½®ï¼Œéœ€è¦ä»¥ä¸‹å¹¾å€‹æ­¥é©Ÿä¾†è¨­å®šï¼š æ–°å¢ GitHub personal access token é€²å…¥ GitHub é¦–é ï¼Œé»é¸å³ä¸Šè§’ä¸‹æ‹‰é¸å–®ï¼Œé»é¸ Settingsï¼š GitHub hook trigger for GITScm polling è¨­å®š\" GitHub hook trigger for GITScm polling è¨­å®š å…ˆé»é¸å·¦é‚Šçš„ Developer settings \u003e é»é¸å·¦é‚Šçš„ Personal access tokens \u003e é»é¸å³ä¸Šè§’çš„ Generate new tokenï¼Œè¼¸å…¥ token çš„æè¿°ä¸¦å‹¾é¸ repo scope ä»¥åŠ admin:repo_hook scope è·Ÿ admin:org_hook scopeï¼Œé»é¸ Generate tokenï¼š GitHub hook trigger for GITScm polling è¨­å®š\" GitHub hook trigger for GITScm polling è¨­å®š æœƒç”¢ç”Ÿä¸€å€‹ tokenï¼Œè«‹å…ˆæŠŠ token è¤‡è£½ä¸‹ä¾†ï¼Œé›¢é–‹é€™å€‹ç•«é¢å¾Œï¼Œtoken å°±æœƒçœ‹ä¸åˆ°äº†ï¼(æ­¤ token å·²åˆªé™¤ âœŒï¸) GitHub hook trigger for GITScm polling è¨­å®š\" GitHub hook trigger for GITScm polling è¨­å®š è¨­å®š Jenkins GitHub é€²å…¥ Jenkins å„€è¡¨æ¿é é¢ï¼Œé»é¸å·¦é‚Šç®¡ç† Jenkins \u003e System Configuration çš„è¨­å®šç³»çµ±ï¼Œå¾€ä¸‹æ»‘æ‰¾åˆ° GitHubï¼š GitHub hook trigger for GITScm polling è¨­å®š\" GitHub hook trigger for GITScm polling è¨­å®š æ‰¾åˆ°å¾Œï¼Œå† GitHub Servers ä¸‹æ‹‰æ¬„ä½é¸æ“‡ Add GitHub Serverï¼Œæœƒçœ‹åˆ°ä¸‹é¢ç•«é¢ï¼ŒAPI URL è¼¸å…¥ https://api.github.comï¼ŒCredentials é» Addï¼š GitHub hook trigger for GITScm polling è¨­å®š\" GitHub hook trigger for GITScm polling è¨­å®š Kind é¸æ“‡ Secret Textï¼ŒSecret è¼¸å…¥å‰›å‰›å­˜çš„ Personal Access Tokenï¼ŒDescription ç°¡å–®æè¿°ä¸€ä¸‹ï¼š GitHub hook trigger for GITScm polling è¨­å®š\" GitHub hook trigger for GITScm polling è¨­å®š è¨­å®šå®Œå¾Œï¼Œé»é¸ä¸€ä¸‹å³é‚Šçš„ Test connectionï¼Œå¦‚æœæˆ‘é¡¯ç¤º Credentials verified for user UserName, rate limit: xxx å°±ä»£è¡¨æˆåŠŸå›‰ï¼ GitHub hook trigger for GITScm polling è¨­å®š\" GitHub hook trigger for GITScm polling è¨­å®š è¨­å®šå°ˆæ¡ˆçµ„æ…‹ æ¥è‘—æˆ‘å€‘è·³å›ä¾†å‰›å‰›çš„å°ˆæ¡ˆçµ„æ…‹ï¼Œä¸¦å‹¾é¸ GitHub hook trigger for GITScm pollingï¼š è¨­å®šå°ˆæ¡ˆçµ„æ…‹\" è¨­å®šå°ˆæ¡ˆçµ„æ…‹ å¯«ä¸€å€‹ Shell Script ä¾†å»ºç½®å°ˆæ¡ˆï¼š for file in $(find . -type f -name \"*yaml\") do yamllint $file done è¨­å®šå°ˆæ¡ˆçµ„æ…‹\" è¨­å®šå°ˆæ¡ˆçµ„æ…‹ é€™é‚Šåˆ©ç”¨ä¸€å€‹ç°¡å–®çš„ Shell Script è¿´åœˆä¾†å°æ‰€æœ‰ YAML file é€²è¡Œ yamllint çš„æª¢æŸ¥ï¼Œæœ€å¾Œé»é¸å„²å­˜é›¢é–‹ã€‚ GitHub ä¸Šæ•´åˆ Jenkins å…ˆåˆ° GitHub è¢«å»ºç½®å°ˆæ¡ˆçš„é é¢ä¸‹é» Setting æ¨™ç±¤ \u003e é»é¸å·¦é‚Šçš„ Webhook \u003e é»é¸å³ä¸Šè§’çš„ Add webhook \u003e è¼¸å…¥ Jenkins Hook URL åˆ° Payload URLï¼š è¨˜å¾— Jenkins Hook URL å¾Œé¢è¦åŠ  /github-webhook/ï¼Œå°å¼Ÿæˆ‘å¡åœ¨é€™è£¡å¾ˆä¹…ğŸ˜¢ ğŸ˜¢ Webhooks è¨­å®š\" Webhooks è¨­å®š Jenkins Hook URL è¨­å®š ç”±æ–¼æˆ‘å€‘æ˜¯å°‡ Jenkins é‹è¡Œåœ¨æœ¬æ©Ÿç«¯ï¼Œæ‰€ä»¥ Jenkins Hook URL http://localhost:8080 æ˜¯ Private IPã€‚GitHub æ²’æœ‰è¾¦æ³•æŠ“ Private IPï¼Œç‚ºäº†ç·´ç¿’ï¼Œæˆ‘å€‘å¯ä»¥é€é ngrok é€™å¥—ç°¡å–®å°å·¥å…·ä¾†æš«æ™‚å°‡ http://localhost:8080 è®Šæˆ Public IPã€‚ ngrok çš„ä½¿ç”¨æ–¹å¼å¾ˆç°¡å–®ï¼Œåªè¦å…ˆä¸‹è¼‰ brew install ngrok/ngrok/ngrok ï¼Œä¸¦ä½¿ç”¨ ngrok http 8080 æŒ‡ä»¤ï¼Œå°‡ Private IP è®Šæˆ Public IPï¼š ngrok å°‡ Private IP è®Šæˆ Public IP\" ngrok å°‡ Private IP è®Šæˆ Public IP åœ–ç‰‡ä¸­ https://2063-111-235-135-57.jp.ngrok.io å°±æ˜¯ Public çš„ Jenkins Hook URL å®Œæˆå¾Œï¼Œå…ˆé»é¸ Recent Deliveries æª¢æŸ¥æ˜¯å¦æˆåŠŸï¼Œåº•ä¸‹çš„ Response éœ€è¦æ˜¯ 200ï¼Œæ‰æ˜¯å°çš„æ­ï¼(é€™è£¡ä¸€å®šè¦å…ˆæª¢æŸ¥ï¼Œä¸ç„¶å¾Œé¢æœƒæ‰¾å•é¡Œåˆ°æ­» XD) Webhooks è¨­å®š\" Webhooks è¨­å®š ","date":"2022-05-16","objectID":"/jenkins/:2:2","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"æ¸¬è©¦ æˆ‘å€‘éƒ½è¨­å®šå¥½å¾Œï¼Œè¦é–‹å§‹ä¾†æ¸¬è©¦ï¼Œæˆ‘å€‘å¯ä»¥ç›´æ¥å…ˆé»é¸ é¦¬ä¸Šå»ºç½®ï¼Œä¾†æ¸¬è©¦æ˜¯å¦å¯ä»¥é€é GitHub personal access tokenï¼ŒæŠ“å– GitHub çš„æª”æ¡ˆã€‚ é¦¬ä¸Šå»ºç½®\" é¦¬ä¸Šå»ºç½® å¯ä»¥çœ‹åˆ°åœ¨å»ºç½®æµç¨‹é‚£é‚Šç™¼ç¾å»ºç½®å¤±æ•—ï¼Œé»é€²å»å¯ä»¥çœ‹è©³ç´°å…§å®¹ï¼Œ å»ºç½®å¤±æ•—\" å»ºç½®å¤±æ•— é»é¸å·¦å´çš„ Console Outputï¼Œå¯ä»¥çœ‹åˆ°æˆ‘å€‘æœ‰æˆåŠŸç²å– GitHub ä¸Šå¾—å°ˆæ¡ˆï¼Œä¸¦ä¸”åŸ·è¡Œæˆ‘å€‘çš„ Shell ä¾†æª¢æŸ¥ yaml çš„æª”æ¡ˆæ ¼å¼ï¼Œç™¼ç¾æ˜¯å› ç‚ºæ ¼å¼æœ‰éŒ¯èª¤ï¼Œæ‰€ä»¥å»ºç½®æ‰æœƒå¤±æ•— âŒ Console Output\" Console Output æ¥ä¸‹ä¾†æˆ‘å€‘å…ˆä¿®æ”¹ä¸€ä¸‹ yaml çš„æª”æ¡ˆï¼Œå¾Œé‡æ–° push åˆ° Github ä¸Šï¼Œä¸¦è§€å¯Ÿ Jenkins æœƒä¸æœƒè‡ªå‹•å»ºç½® ï¼(ä¿®æ”¹ä½ç½®å¤§å®¶å¯ä»¥ç›´æ¥çœ‹ Commit çµæœ) Console Output\" Console Output ç•¶ä½  push å®Œå¾Œï¼Œç™¼ç¾å®ƒæœƒè‡ªå‹•å»ºç½®ï¼Œè«‹å› ç‚ºæˆ‘å€‘ä¿®æ”¹æˆæ­£ç¢ºæ ¼å¼ï¼Œæ‰€ä»¥ä»–ä¹Ÿå»ºç½®æˆåŠŸå›‰ï¼ ä¹Ÿå¯ä»¥é»é¸å·¦å´æœ‰ä¸€å€‹æ–°çš„ GitHub Hook Log ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘å€‘æˆåŠŸé€é GitHub hook trigger for GITScm polling åµæ¸¬åˆ°æœ‰æ–°çš„ eventï¼Œé€é WebHook è®“ Jenkins çŸ¥é“ã€‚ GitHub Hook Log\" GitHub Hook Log ","date":"2022-05-16","objectID":"/jenkins/:2:3","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"å»ºç½®å¾Œè§¸ç™¼é€šçŸ¥ ç•¶æˆ‘å€‘è‡ªå‹•å»ºç½®æˆåŠŸç•¶ç„¶æ²’ä»€éº¼å•é¡Œï¼Œä½†å¦‚æœå¤±æ•—æœ‰å¯èƒ½å°±æœƒå½±éŸ¿å¾ŒçºŒç¨‹å¼çš„ä¸Šç·šæ™‚é–“ï¼Œæ‰€ä»¥æˆ‘å€‘å¸Œæœ›å»ºç½®å®Œæˆå¾Œï¼Œå¯ä»¥æ”¶åˆ°é€šçŸ¥ï¼Œé€šçŸ¥é™¤äº†å¯ä»¥ç”¨ email ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¥—ä»¶å»ä¸²æ¥æˆ‘å€‘å¸¸ç”¨çš„å¹³å°ï¼Œä¾‹å¦‚ Telegramã€Slackã€Line ç­‰ç­‰ï¼Œæ¥ä¸‹ä¾†æˆ‘æœƒæ•™å¤§å®¶è¦æ€éº¼å»ä¸²æ¥é€™äº›æœå‹™ï¼Œåœ¨é–‹å§‹ä¹‹å‰è¦è«‹å¤§å®¶å…ˆå®‰è£å…©å€‹å¥—ä»¶ï¼š å®‰è£/è¨­å®š Build Timestamp Build Timestamp é€™å€‹å¥—ä»¶å¯ä»¥å¹«æˆ‘å€‘åœ¨ç¨å¾Œå‚³é€é€šçŸ¥æ™‚åŠ ä¸Šç•¶ä¸‹çš„æ™‚é–“æˆ³ï¼Œé‚£è¦æ€éº¼å®‰è£å¥—ä»¶å‘¢ï¼Ÿå…ˆåˆ°å„€è¡¨æ¿é¦–é ï¼Œé»é¸å·¦å´çš„ ç®¡ç† Jenkins \u003e é»é¸ ç®¡ç†å¤–æ›ç¨‹å¼ï¼š ç®¡ç† Jenkins \u003e ç®¡ç†å¤–æ›ç¨‹å¼\" ç®¡ç† Jenkins \u003e ç®¡ç†å¤–æ›ç¨‹å¼ å† Plugin Manager çš„ å¯ç”¨çš„è£¡é¢æœå°‹ Build Timestampï¼Œé¸æ“‡å¾Œé»ä¸‹æ–¹çš„ Download now and install after restartï¼Œç­‰å¾…ä»–å®‰è£å¾Œæœƒè‡ªå‹•é‡å•Ÿã€‚ å®‰è£ Build Timestamp\" å®‰è£ Build Timestamp é‡å•Ÿå¾Œå¾å„€è¡¨æ¿é»é¸å·¦å´ ç®¡ç† Jenkins \u003e é»é¸ è¨­å®šç³»çµ±ï¼Œæ‰¾åˆ° Build Timestampï¼Œé–‹å•Ÿè¨­å®šï¼Œä¸¦è¨­å®š Timezone ç‚º Asia/Taipei ä»¥åŠ pattern yyyy-MM-dd HH:mm:ss zï¼Œé€™æ¨£æˆ‘å€‘å¾…æœƒå°±å¯ä»¥ä½¿ç”¨ BUILD_TIMESTAMP åƒæ•¸ä¾†ç²å–ç•¶ä¸‹æ™‚é–“ï¼Œè¨˜å¾—è¦æŒ‰ä¸‹å„²å­˜æ­ï¼ è¨­å®š Build Timestamp\" è¨­å®š Build Timestamp å®‰è£/è¨­å®š Notify.Events Notify.Events é€™å€‹å¥—ä»¶å¯ä»¥ä¸²æ¥å¾ˆå¤šçš„å¹³å°ï¼Œä¾‹å¦‚ Telegramã€Slackã€Line ç­‰ï¼Œä¹Ÿå¯ä»¥é€éå®ƒå¯„ç™¼éƒµä»¶ï¼Œæ˜¯ä¸€å€‹ååˆ†æ–¹ä¾¿çš„å¥—ä»¶ï¼Œä½†ç¼ºé»æ˜¯ä»–éœ€è¦è¨»å†Šï¼Œå…è²»ç‰ˆåªæœ‰æ¯å€‹æœˆ 300 æ¬¡çš„è¨Šæ¯å‚³è¼¸é‡ï¼Œä½†åœ¨æˆ‘å€‘æ¸¬è©¦éšæ®µå·²ç¶“ååˆ†å¤ ç”¨ã€‚ä¸€æ¨£æˆ‘å€‘ç”¨å‰›å‰›çš„æ–¹æ³•å®‰è£ Notify.Eventsã€‚ å®‰è£ Notify.Events\" å®‰è£ Notify.Events å®‰è£å¥½å¾Œï¼ŒNotify.Events ä»–ä¸éœ€è¦å…ˆè¨­å®šï¼Œå®ƒå¯ä»¥ä¾æ“šä¸åŒçš„ Job æœ‰ä¸åŒçš„è¨­å®šï¼Œæ‰€ä»¥æˆ‘å€‘é–‹å•Ÿå‰›å‰›çš„ Job çµ„æ…‹ï¼Œæ‹‰åˆ°æœ€ä¸‹é¢æ‰¾åˆ° å»ºç½®å¾Œå‹•ä½œ ï¼Œé¸æ“‡ Notify.Eventsï¼š å®‰è£ Notify.Events\" å®‰è£ Notify.Events å¯ä»¥çœ‹åˆ°é€™é‚Šè¦å…ˆè¼¸å…¥ Tokenï¼Œé‚£ Token å°±å¿…é ˆå»å®˜ç¶²è¨»å†Šå¾Œè¨­å®šã€‚ æˆ‘å€‘å…ˆé–‹å•Ÿç€è¦½å™¨ï¼Œæœå°‹ Notify.Eventsï¼Œè¨»å†Šå¸³è™Ÿå¾Œï¼Œåœ¨ Channels é»é¸ Createï¼Œè¼¸å…¥ä¸€ä¸‹ Title æŒ‰ä¸‹ Saveã€‚ Notify.Events å®˜ç¶²è¨­å®š\" Notify.Events å®˜ç¶²è¨­å®š å®Œæˆå¾Œï¼Œæ‡‰è©²å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç•«é¢ï¼Œé€™é‚Šå°±å¯ä»¥è®“æˆ‘å€‘é¸æ“‡ä¾†æºï¼Œä»¥åŠè¦ç™¼é€åˆ°å“ªè£¡ï¼š Notify.Events å®˜ç¶²è¨­å®š\" Notify.Events å®˜ç¶²è¨­å®š æˆ‘å€‘å…ˆé¸æ“‡ Sourcesï¼Œé»é¸ Add sourceï¼Œå¯ä»¥çœ‹åˆ°å¾ˆå¤šä¾†æºï¼Œé¸æ“‡ CI/CD and Version control ï¼Œå†é¸æ“‡ Jenkinsï¼š Notify.Events å®˜ç¶²è¨­å®š\" Notify.Events å®˜ç¶²è¨­å®š é»é¸ Nextï¼Œå°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç•«é¢ï¼Œå®ƒå‘Šè¨´æˆ‘å€‘è¦å°‡å®ƒæä¾›çš„ Token è²¼å…¥è¨­å®šæª”ï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘å‰›å‰›åœ¨ Job çµ„æ…‹è£¡é¢çš„é‚£å€‹ Tokenï¼š Notify.Events å®˜ç¶²è¨­å®š\" Notify.Events å®˜ç¶²è¨­å®š è¨­å®šå¥½ Sourcesï¼Œæ¥ä¸‹ä¾†è¦è¨­å®šæ¥æ”¶æ–¹ï¼Œå›åˆ°å‰›å‰› Notify.Events çš„å„€è¡¨æ¿ï¼Œé»é¸ Subscribeï¼Œæˆ‘å€‘æ¸¬è©¦ä½¿ç”¨ Telegram ä¾†ç•¶æ¥æ”¶æ–¹ï¼Œå®ƒæœƒè·³å‡ºä¸€å€‹è¦–çª—ï¼Œå‘Šè¨´ä½ è¦æ€éº¼æŠŠä»–çš„æ©Ÿå™¨äººåŠ æˆå¥½å‹æˆ–æ˜¯åŠ å…¥ç¾¤çµ„ï¼Œé€™é‚Šå°±ä¾å¤§å®¶éœ€è¦è‡ªè¡Œé¸æ“‡ï¼Œé‚£æˆ‘å°±å°‡å®ƒåŠ å…¥ç¾¤çµ„ï¼Œä½¿ç”¨ /subscribe DRr0bIZ0 @NotifyEventsBot æŒ‡ä»¤ä¾†ç¶å®š Notify.Events å®˜ç¶²è¨­å®š\" Notify.Events å®˜ç¶²è¨­å®š é€™æ™‚å€™æˆ‘å€‘éƒ½è¨­å®šå¥½äº†ï¼Œæˆ‘å€‘å›åˆ° Job çµ„æ…‹çš„ Notify.Events è¨­å®šä½ç½®ï¼Œå°‡ Token è²¼ä¸Šå»ï¼Œå®ƒå¯ä»¥è‡ªè¨‚è¨Šæ¯çš„æ¨¡æ¿ï¼Œå¯ä»¥å…¨éƒ¨éƒ½ä¸€æ¨£ï¼Œä¹Ÿå¯ä»¥é‡å°å»ºç½®å¾Œçš„ç‹€æ…‹ï¼Œç”¢ç”Ÿä¸åŒçš„è¨Šæ¯æ¨¡æ¿ï¼Œæˆ‘å€‘ä¾†è‡ªå®šç¾©è¨­è¨ˆä¸€ä¸‹ï¼š Success ğŸ“¢ Jenkins å»ºç½®é€šçŸ¥ ğŸ“£ æ™‚é–“ï¼š$BUILD_TIMESTAMP ğŸ• åç¨±ï¼š \u003ca href=\"$PROJECT_URL\"\u003e$PROJECT_NAME\u003c/a\u003e æ¬¡æ•¸ï¼š \u003ca href=\"$BUILD_URL\"\u003e#$BUILD_NUMBER\u003c/a\u003e å»ºç½®ç‹€æ…‹ï¼š ğŸŸ¢ \u003cb\u003e$BUILD_STATUS\u003c/b\u003e ğŸŸ¢ \u003ca href=\"$BUILD_URL/console\"\u003eå»ºç½®æ—¥èªŒé€£çµ\u003c/a\u003e --------- ğŸ˜ğŸ˜ğŸ˜ --------- Notify.Events Success\" Notify.Events Success Failure ğŸ“¢ Jenkins å»ºç½®é€šçŸ¥ ğŸ“£ æ™‚é–“ï¼š$BUILD_TIMESTAMP ğŸ• åç¨±ï¼š \u003ca href=\"$PROJECT_URL\"\u003e$PROJECT_NAME\u003c/a\u003e æ¬¡æ•¸ï¼š \u003ca href=\"$BUILD_URL\"\u003e#$BUILD_NUMBER\u003c/a\u003e å»ºç½®ç‹€æ…‹ï¼š ğŸ”´ \u003cb\u003e$BUILD_STATUS\u003c/b\u003e ğŸ”´ \u003ca href=\"$BUILD_URL/console\"\u003eå»ºç½®æ—¥èªŒé€£çµ\u003c/a\u003e --------- ğŸ˜­ğŸ˜­ğŸ˜­ --------- Notify.Events Failure\" Notify.Events Failure Telegram é€šçŸ¥æ¸¬è©¦ æœ€å¾Œæˆ‘å€‘éƒ½è¨­å®šå¥½äº†ï¼Œå°±ä¾†æ¸¬è©¦ä¸€ä¸‹å§ï¼æˆ‘å€‘å…ˆæ•…æ„å°‡ç¨‹å¼ç¢¼æ ¼å¼ç”¨éŒ¯ï¼Œè®“ä»–å…ˆè·³å‡ºéŒ¯èª¤ï¼Œå†ä¿®æ”¹ï¼Œä¾†çœ‹çœ‹çµæœå¦‚ä½•å§ï¼(æ–‡å­—é€£çµæ˜¯å°æ‡‰çš„ Commit ) Telegram é€šçŸ¥\" Telegram é€šçŸ¥ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘å€‘åˆ†åˆ¥å…©æ¬¡çš„æ¸¬è©¦ï¼Œæœƒä¾æ“šæˆ‘å€‘å»ºç½®å¾Œçš„çµæœï¼Œè§¸ç™¼ä¸åŒçš„é€šçŸ¥æ¨¡æ¿ã€‚ ","date":"2022-05-16","objectID":"/jenkins/:2:4","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ 30 å¤©å…¥é–€ Ansible åŠ Jenkins [CI]è¨­å®šjenkinsé€£çµGitHub Private Repo by Webhook ","date":"2022-05-16","objectID":"/jenkins/:3:0","tags":["Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"ä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot","uri":"/jenkins/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯ä»‹ç´¹åƒè€ƒç¶²è·¯ä¸Š 30 å¤©å…¥é–€ Ansible åŠ Jenkinsï¼Œè‡ªå·±å¯¦éš›æ¸¬è©¦å¾Œçš„ç­†è¨˜ç´€éŒ„ï¼Œæ­¡è¿å¤§å®¶å¯ä»¥å…ˆé–±è®€åŸæ–‡ï¼ŒåŸæ–‡æœƒæ”¾åœ¨æ–‡ç« æœ€å¾Œï¼Œæ­¡è¿å¤§å®¶æŒ‡æ•™ ğŸ˜","date":"2022-05-11","objectID":"/jenkins-ansible/","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"åœ¨è»Ÿé«”é–‹ç™¼é ˜åŸŸä¸­ï¼ŒIT è‡ªå‹•åŒ– (automation) åŠ æŒçºŒæ•´åˆ (Continuous Integration, CI) ã€æŒçºŒä½ˆç½² (Continuous Deployment,CD) æ˜¯ DevOps ç²¾ç¥ä¸­å¾ˆé‡è¦çš„å…©å€‹éƒ¨åˆ†ï¼Œæ­¤æ–‡ç« æ˜¯åƒè€ƒ 30 å¤©å…¥é–€ Ansible åŠ Jenkins ï¼Œå†åŠ ä¸Šè‡ªå·±æ¸¬è©¦å¾Œçš„ç­†è¨˜ç´€éŒ„ï¼Œæ­¡è¿å¤§å®¶å¯å…ˆé–±è®€ä½œè€…åŸæ–‡ï¼Œé‚£æˆ‘å€‘å°±é–‹å§‹ä¸€èµ·å­¸ç¿’å§ ğŸ‘Š æˆ‘æœƒåˆ†åˆ¥ä»‹ç´¹ Ansible èˆ‡ Jenkins é€™å…©å€‹éå¸¸ç†±é–€çš„é–‹æºè»Ÿé«”å†æ­é…å¯¦ä½œä¾†è®“å¤§å®¶æ›´äº†è§£ä»–å€‘ï¼Œé‚£åœ¨ä¹‹å‰æˆ‘å€‘å…ˆä¾†èŠèŠç‚ºä»€éº¼éœ€è¦ IT è‡ªå‹•åŒ–ä»¥åŠä»€éº¼æ˜¯æŒçºŒæ•´åˆ/æŒçºŒéƒ¨ç½²å§ ğŸ¤  ","date":"2022-05-11","objectID":"/jenkins-ansible/:0:0","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"ç‚ºä»€éº¼éœ€è¦ IT è‡ªå‹•åŒ– ? ç•¶æˆ‘å€‘åœ¨é–‹ç™¼ä»»ä½•è»Ÿé«”ç”¢å“æ™‚ï¼Œé™¤äº†é–‹ç™¼æœ¬èº«çš„éç¨‹éœ€è¦èŠ±ç›¸ç•¶å¤šçš„å¿ƒåŠ›å¤–ï¼Œåœ¨ç”¢å“éƒ¨ç½²çš„ç’°ç¯€ä¹Ÿæ˜¯è®“å¤§å®¶é ­ç—›çš„ä¸€å€‹éƒ¨åˆ†ã€‚å…¶ç’°å¢ƒçš„æ­å»ºæˆ–æ˜¯åƒæ•¸çš„è¨­å®šå¸¸å¸¸æœƒå› ç‚ºä¸€äº›å°åŸå› å°è‡´ç”¢å“ç„¡æ³•åƒåœ¨é–‹ç™¼æ™‚ä¸€æ¨£æ­£å¸¸é‹ä½œã€‚å°¤å…¶ç•¶éœ€è¦éƒ¨ç½²çš„ä¸»æ©Ÿä¸åªä¸€å°æ™‚ï¼Œé‡è¤‡æ€§çš„å·¥ä½œæœƒèŠ±è²»æˆ‘å€‘å¤§é‡çš„æ™‚é–“ã€‚å†åŠ ä¸Šé‚„æœƒå› ç‚ºä¼ºæœå™¨æä¾›çš„ä½œæ¥­ç’°å¢ƒä¸åŒã€æˆ–æ˜¯å…¶ä»–ç¨®ç¨®é™åˆ¶è€Œå¿…é ˆåšåƒæ•¸ä¸Šçš„èª¿æ•´ç­‰ç­‰ã€‚ é€™æ™‚å€™ IT è‡ªå‹•åŒ– å°±é¡¯å¾—ååˆ†é‡è¦ï¼Œé€éè‡ªå‹•åŒ–ï¼Œä¸ä½†å¯ä»¥å¹«åŠ©é–‹ç™¼äººå“¡æœ‰æ•ˆæ¸›å°‘éƒ¨ç½²ç”¢å“æ‰€éœ€æ™‚é–“å¤–ï¼Œé‚„å¯ä»¥åœ¨æœ‰é™åº¦çš„ä¿®æ”¹ä¸‹åˆ†åˆ¥é‡å°ä¸åŒç’°å¢ƒå»åšèª¿æ•´ã€‚ Best Automation Tools for DevOps\" Best Automation Tools for DevOps ","date":"2022-05-11","objectID":"/jenkins-ansible/:1:0","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯æŒçºŒæ•´åˆ/æŒçºŒéƒ¨ç½² ç•¶ç’°å¢ƒæ­å»ºæˆåŠŸå¾Œï¼Œå°æ–¼æœå‹™æœ¬èº«çš„ç¶­è­·ä»¥åŠç›£æ§ä¹Ÿæ˜¯é–‹ç™¼æµç¨‹ä¸­ç›¸ç•¶é‡è¦çš„ä¸€ç’°ã€‚ç•¶æˆ‘å€‘å¾åŸå§‹ç¢¼ä»£ç®¡æœå‹™ (GitHubã€GitLab)ä¸Šå–å¾—åŸå§‹ç¢¼å¾Œï¼Œè¦å¦‚ä½•ç¢ºä¿ç”¢å“åœ¨ç™¼å¸ƒå‰å“è³ªæ²’æœ‰å•é¡Œï¼Œä¸€ç›´ä»¥ä¾†éƒ½æ˜¯é–‹ç™¼äººå“¡éœ€è¦æ€è€ƒçš„ä¸€å€‹èª²é¡Œã€‚ ç”±æ–¼ç¾åœ¨å¤šæ•¸é–‹ç™¼åœ˜éšŠéƒ½æœƒé€éç‰ˆæœ¬æ§åˆ¶ä¾†æäº¤ä¸¦æ•´åˆé–‹ç™¼äººå“¡å„è‡ªä¿®æ”¹çš„ç¨‹å¼ç¢¼ï¼Œè‹¥åœ¨åˆä½µåˆ†æ”¯æ™‚æ²’æœ‰æŠŠåˆä½µè¡çª (conflict) è™•ç†æ°ç•¶ï¼Œæˆ–æ˜¯åˆä½µç¨‹å¼ç¢¼å¾Œç”¢ç”ŸæŸäº›é‚è¼¯éŒ¯èª¤ï¼Œå¾€å¾€æœƒåˆ°ç”¢å“ç™¼ä½ˆå¾Œæ‰ç™¼ç¾ä¸å¯é æœŸçš„éŒ¯èª¤ã€‚ æ‰€ä»¥æœ‰äº†æŒçºŒæ•´åˆ/æŒçºŒéƒ¨ç½²çš„æ©Ÿåˆ¶ä¸‹ï¼Œæˆ‘å€‘å¯ä»¥é€éé«˜é »ç‡çš„æ•´åˆã€æ¸¬è©¦ä¸¦åˆ†æç¨‹å¼ç¢¼å“è³ªï¼Œåœ¨æœ€çŸ­æ™‚é–“ç™¼ç¾å•é¡Œä»¥åŠç™¼ç”Ÿé»ï¼Œé€²è€Œç¢ºä¿ç”¢å“æ¯ä¸€æ¬¡çš„ç™¼å¸ƒéƒ½æ˜¯ç©©å®šä¸”é«˜å“è³ªçš„ã€‚ CI/CD æµç¨‹åœ– (ä½œè€…æ‰“éŒ¯æ˜¯ rsync ä¸æ˜¯ rsyne) Day12 ä»€éº¼æ˜¯ CICD\" CI/CD æµç¨‹åœ– (ä½œè€…æ‰“éŒ¯æ˜¯ rsync ä¸æ˜¯ rsyne) Day12 ä»€éº¼æ˜¯ CICD ä¸Šé¢é€™å¼µåœ–æ˜¯ç°¡åŒ–ç‰ˆçš„ CI/CD æµç¨‹åœ–ï¼Œç•¶æˆ‘å€‘ Developer å°‡ç¨‹å¼ Push åˆ°åŸå§‹ç¢¼ä»£ç®¡æœå‹™ (GitHubã€GitLab)ä¸Šï¼Œæœƒç¶“é Webhook çµ¦ Jenkins é€™ç¨®è‡ªå‹•åŒ–å¯ä»¥æŒçºŒæ•´åˆéƒ¨ç½²åˆ°å„è‡ªçš„ä¼ºæœå™¨ä¸Šã€‚ é‚£ CI \u0026 CD åˆ†åˆ¥è² è²¬å“ªäº›å·¥ä½œå‘¢ï¼Ÿ ","date":"2022-05-11","objectID":"/jenkins-ansible/:2:0","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"æŒçºŒæ•´åˆ Continuous Integration æŒçºŒæ•´åˆçš„è‹±æ–‡æ˜¯ Continuous Integration æˆ‘å€‘ç¸®å¯«æˆ CI ï¼Œå¾ŒçºŒä¹Ÿæœƒä½¿ç”¨ CI ä¾†åšèªªæ˜ï¼š æµç¨‹ï¼š ç¨‹å¼å»ºç½® é–‹ç™¼äººå“¡åœ¨æ¯ä¸€æ¬¡çš„ Commit \u0026 Push å¾Œï¼Œéƒ½èƒ½å¤ æ–¼çµ±ä¸€çš„ç’°å¢ƒè‡ªå‹• Build ç¨‹å¼ï¼Œé€éæ­¤æ­¥é©Ÿå¯ä»¥é¿å…æ¯å€‹é–‹ç™¼äººå“¡å› æœ¬æ©Ÿçš„ç’°å¢ƒæˆ–æ˜¯å¥—ä»¶ç‰ˆæœ¬ä¸åŒå°è‡´å‡ºç¾ç•°å¸¸ã€‚ ç¨‹å¼æ¸¬è©¦ ç•¶ç¨‹å¼ç·¨è­¯å®Œå¾Œï¼Œé€éå–®å…ƒæ¸¬è©¦æ¸¬è©¦æ–°å¯«çš„åŠŸèƒ½æ˜¯å¦æ­£ç¢ºï¼Œæˆ–è€…ç¢ºå®šæ˜¯å¦æœƒå½±éŸ¿ç¾æœ‰åŠŸèƒ½ï¼Œé€éè©²æ­¥é©Ÿé€²è¡Œæ¸¬è©¦ï¼Œå¯ä»¥é¿å…é–‹ç™¼äººå“¡éºå¿˜å…ˆåœ¨æœ¬æ©Ÿæª¢æŸ¥ï¼Œä½œç‚ºé›™é‡é©—è­‰ä¹‹åŠŸç”¨ã€‚ ç›®çš„ï¼š é™ä½äººç‚ºç–å¤±é¢¨éšª æ¸›å°‘äººå·¥æ‰‹å‹•çš„åè¦†å‹•ä½œ é€²è¡Œç‰ˆæœ¬æ§åˆ¶ å¢åŠ ç³»çµ±ä¸€åˆ¶æ€§èˆ‡é€æ˜åŒ– ","date":"2022-05-11","objectID":"/jenkins-ansible/:2:1","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"æŒçºŒä½ˆç½² Continuous Deployment æŒçºŒä½ˆç½²çš„è‹±æ–‡æ˜¯ Continuous Deployment æˆ‘å€‘ç¸®å¯«æˆ CD ï¼Œå¾ŒçºŒä¹Ÿæœƒä½¿ç”¨ CD ä¾†åšèªªæ˜ï¼š æµç¨‹ï¼š éƒ¨ç½²æœå‹™ é€éè‡ªå‹•åŒ–æ–¹å¼ï¼Œå°‡å¯«å¥½çš„ç¨‹å¼ç¢¼æ›´æ–°åˆ°æ©Ÿå™¨ä¸Šä¸¦å…¬é–‹å°å¤–æœå‹™ï¼Œå¦å¤–éœ€è¦ç¢ºä¿å¥—ä»¶ç‰ˆæœ¬ï¼†è³‡æ–™åº«è³‡æ–™çš„å®Œæ•´æ€§ï¼Œä¹Ÿæœƒé€éç›£æ§ç³»çµ±é€²è¡Œæœå‹™å­˜æ´»æª¢æŸ¥ï¼Œè‹¥æœå‹™ç•°å¸¸æœƒå³æ™‚ç™¼é€é€šçŸ¥å‘ŠçŸ¥é–‹ç™¼äººå“¡ã€‚ ç›®çš„ï¼š ä¿æŒæ¯æ¬¡æ›´æ–°ç¨‹å¼éƒ½å¯ä»¥é †æš¢å®Œæˆ ç¢ºä¿æœå‹™å­˜æ´» æˆ‘å€‘äº†è§£äº†è‡ªå‹•åŒ–èˆ‡ CI/CD çš„é‡è¦æ€§èˆ‡åŠŸç”¨ï¼Œé‚£æˆ‘å€‘è¦æ€éº¼å»å¯¦ç¾é€™äº›å‘¢ï¼æˆ‘å€‘å…ˆçœ‹ä¸‹é¢é€™å¼µåœ–ï¼š Top 5 DevOps Automation Tools in 2020\" Top 5 DevOps Automation Tools in 2020 é€™é‚Šæ•´ç† 2020 å¹´é©åˆç”¨æ–¼ DevOps Automation çš„å·¥å…·ï¼Œé‚£æˆ‘å€‘æœ¬æ¬¡æ•™å­¸æœƒä»‹ç´¹æœ€å¤šäººä½¿ç”¨çš„ Jenkins ä»¥åŠ Ansible å…©ç¨®ï¼š ","date":"2022-05-11","objectID":"/jenkins-ansible/:2:2","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"Jenkins Jenkins æ˜¯ä½¿ç”¨ Java ç·¨æˆèªè¨€ç·¨å¯«æœ€å—æ­¡è¿çš„é–‹æºè‡ªå‹•åŒ–æœå‹™å™¨ã€‚å®ƒä¿ƒé€²äº†è»Ÿé«”é–‹ç™¼éç¨‹ä¸­çš„æŒçºŒæ•´åˆã€æŒçºŒéƒ¨ç½²çš„è‡ªå‹•åŒ–éç¨‹ã€‚ Jenkins æ”¯æŒ 1800 å¤šå€‹å…¶ä»–è»Ÿé«”å¥—ä»¶ï¼ŒJenkins æ˜“æ–¼å®‰è£å’Œä½¿ç”¨ï¼Œå®ƒé‚„æä¾›æ–¹ä¾¿ç€è¦½çš„é …ç›®ç®¡ç†å„€è¡¨æ¿ï¼Œå®ƒçš„å„ªé»é‚„æœ‰ï¼š å…è²»é–‹æº å……æ»¿æ´»åŠ›çš„ç”¨æˆ¶ç¤¾ç¾¤ å¤šç¨®å·¥å…·å’ŒæŠ€è¡“é›†æˆ æ’ä»¶æ”¯æŒ æ˜“æ–¼å®‰è£ã€é…ç½®å’Œå‡ç´š ç›£æ§å¤–éƒ¨å·¥ä½œ æ”¯æŒå„ç¨®èº«ä»½é©—è­‰æ–¹æ³•ã€é€šçŸ¥ã€ç‰ˆæœ¬æ§åˆ¶ç­‰ç­‰ ","date":"2022-05-11","objectID":"/jenkins-ansible/:3:0","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"Ansible Ansible æ˜¯ä¸€ç¨® IT è‡ªå‹•åŒ–å·¥å…·ã€‚å®ƒå¯ä»¥éƒ¨ç½²è»Ÿé«”ã€é…ç½®ç³»çµ±ï¼Œä¸¦ç·¨æ’æ›´é«˜ç´šçš„è‡ªå‹•åŒ–ä»»å‹™ï¼Œä¾‹å¦‚ CD (æŒçºŒéƒ¨ç½²) æˆ– RollingUpdate é›¶åœæ©Ÿçš„æ»¾å‹•æ›´æ–°ã€‚ è‡ªå‹•åŒ–ç°¡åŒ–äº†è¤‡é›œçš„ä»»å‹™ï¼Œä¸åƒ…ä½¿é–‹ç™¼äººå“¡çš„å·¥ä½œæ›´å®¹æ˜“ç®¡ç†ï¼Œä¹Ÿè®“ä»–å€‘çš„æ³¨æ„åŠ›å¯ä»¥æ”¾åœ¨å°åœ˜é«”æ›´æœ‰åƒ¹å€¼çš„å…¶ä»–ä»»å‹™ä¸Šã€‚æ›å¥è©±èªªï¼Œå®ƒå¯ä»¥ç¯€çœæ™‚é–“ä¸¦æé«˜æ•ˆç‡ã€‚Ansible ä½¿ç”¨ç°¡å–®çš„ YAML èªæ³•ï¼Œä¸” Ansible æ˜¯ä¸€ç¨®è¼•é‡ç´šä¸”å®‰å…¨çš„è§£æ±ºæ–¹æ¡ˆï¼Œå®ƒçš„å„ªé»é‚„æœ‰ï¼š ä½¿ç”¨ Ansible ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šçš„ç·¨ç¨‹æŠ€èƒ½ï¼Œå› ç‚ºä½¿ç”¨çš„æ˜¯ YAML èªæ³• Ansible å…è¨±å»ºç«‹é«˜è¤‡é›œæ€§çš„ IT è‡ªå‹•åŒ–ã€‚ å› ç‚ºä¸éœ€è¦å®‰è£å…¶ä»–å¥—ä»¶ï¼Œæ‰€ä»¥ä¼ºæœå™¨ä¸Šæœ‰æ›´å¤šç©ºé–“ä¾†å®¹ç´æ‡‰ç”¨æœå‹™çš„æ”¯æ´ Ansible åœ¨è¨­è¨ˆä¸Šéå¸¸ç°¡å–®ä¸”å¯é ä¸€åˆ¶æ€§ã€‚ ","date":"2022-05-11","objectID":"/jenkins-ansible/:4:0","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"Jenkins è·Ÿ Ansible æ¯”è¼ƒ åç¨± Jenkins Ansible å¥—ä»¶ Jenkins æ”¯æŒ 1800 å¤šç¨®å¥—ä»¶ æ”¯æŒè¼ƒå°‘å¥—ä»¶ èªè¨€ æ”¯æŒ Cã€C++ã€Javaã€Perlã€Pythonã€Ruby ç­‰ æ”¯æŒ Cã€Pythonã€JavaScriptã€Ruby ç­‰ è²»ç”¨ Jenkins æ˜¯å…è²»çš„ Ansible ä¸æ˜¯å…è²»çš„ï¼Œä½†æœ‰è©¦ç”¨ç‰ˆ(Red hat) å¤§å° é‡é‡ç´š è¼•é‡ç´š æœå‹™ åŸºæ–¼ä¼ºæœå™¨çš„å·¥å…· åŸºæ–¼é›²ä¸Šçš„å·¥å…· ","date":"2022-05-11","objectID":"/jenkins-ansible/:5:0","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"Jenkins èˆ‡ Ansible ä»‹ç´¹å¯¦ä½œé€£çµ ç”±æ–¼ Jenkins èˆ‡ Ansible ä»‹ç´¹èˆ‡å¯¦ä½œæ•™å­¸æ–‡ç« è¼ƒé•·ï¼Œæ•…å€‹åˆ¥åˆ†é–‹ä¸€ç¯‡æ–‡ç« ä¾†åšèªªæ˜ï¼Œå¤§å®¶å¯ä»¥å»çœ‹è‡ªå·±æœ‰èˆˆè¶£çš„æ–‡ç« æ­ ğŸ˜ Jenkinsï¼šä½¿ç”¨ Jenkins è¨­å®š GitHub è§¸ç™¼ç¨‹åºä¸¦é€šçŸ¥ Telegram Bot Ansibleï¼šAnsible ä»‹ç´¹èˆ‡å¯¦ä½œ (Inventoryã€Playbooksã€Moduleã€Templateã€Handlers) ","date":"2022-05-11","objectID":"/jenkins-ansible/:6:0","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ 30 å¤©å…¥é–€ Ansible åŠ Jenkins Day12 ä»€éº¼æ˜¯ CICD Jenkinså’ŒAnsibleçš„å°æ¯”å’Œå€åˆ¥ ","date":"2022-05-11","objectID":"/jenkins-ansible/:7:0","tags":["Ansible","Jenkins","CI/CD","ä»‹ç´¹","å¯¦ä½œ"],"title":"Jenkins åŠ Ansible IT è‡ªå‹•åŒ– CI/CD ä»‹ç´¹","uri":"/jenkins-ansible/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯ä»‹ç´¹åƒè€ƒç¶²è·¯ä¸Š K8s æ­é… EFK ç¯„ä¾‹ï¼Œè‡ªå·±å¯¦éš›æ¸¬è©¦å¾Œçš„ç´€éŒ„ï¼Œæ­¡è¿å¤§å®¶å¯ä»¥å…ˆé–±è®€åŸæ–‡ï¼ŒåŸæ–‡æœƒæ”¾åœ¨æ–‡ç« æœ€å¾Œï¼Œæ­¡è¿å¤§å®¶æŒ‡æ•™ ğŸ˜","date":"2022-05-10","objectID":"/k8s-efk/","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"é€™æ˜¯æˆ‘å€‘ Kubernetes æ–‡ç« çš„ç¬¬ä¸‰ç¯‡ï¼Œæ­¤æ–‡ç« æœƒç´€éŒ„æˆ‘å°‡ EFK å»ºåœ¨ Kubernetes ä¸Šé¢ï¼Œæœ€å¾Œä¹Ÿæœƒçµ±æ•´å¯¦ä½œéç¨‹ä¸­ï¼Œå¯èƒ½æœƒé‡åˆ°çš„ä¸€äº›å•é¡Œï¼Œè®“å¤§å®¶åœ¨å­¸ç¿’æ™‚ï¼Œå¯ä»¥æ›´æœ‰æ•ˆç‡ï¼Œä¸ç”¨ debug åˆ°æ­» ğŸ˜ğŸ˜ é‚£ç”±æ–¼æœ¬æ–‡æœƒç›´æ¥å¸¶å…¥ç¨‹å¼ï¼Œè§€å¿µéƒ¨åˆ†ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹ï¼š Kubernetes : Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬ kubernetes : Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap) EFK : ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose) æ­¤æ–‡ç« ç¨‹å¼ç¢¼ä¹ŸæœƒåŒæ­¥åˆ° Github ï¼Œéœ€è¦çš„ä¹Ÿå¯ä»¥å»æŸ¥çœ‹æ­ï¼è¦è¨˜å¾—å…ˆç¢ºå®šä¸€ä¸‹è‡ªå·±çš„ç‰ˆæœ¬ Github ç¨‹å¼ç¢¼é€£çµ ğŸ˜† ","date":"2022-05-10","objectID":"/k8s-efk/:0:0","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"ç‰ˆæœ¬è³‡è¨Š macOSï¼š11.6 Minikubeï¼šv1.25.2 hyperkitï¼š0.20200908 Kubectlï¼šClient Versionï¼šv1.22.5ã€Server Versionï¼šv1.23.3 Elasticsearchï¼š8.1.3 Fluentdï¼šv1.14.6-debian-elasticsearch7-1.0 Kibanaï¼š8.1.3 ","date":"2022-05-10","objectID":"/k8s-efk/:1:0","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"å¯¦ä½œ ","date":"2022-05-10","objectID":"/k8s-efk/:2:0","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"å‰µå»ºå‘½åç©ºé–“ åœ¨æˆ‘å€‘é–‹å§‹ä¹‹å‰ï¼Œæˆ‘å€‘é¦–å…ˆå»ºç«‹ä¸€å€‹å‘½åç©ºé–“ï¼Œæˆ‘å€‘æœƒå°‡ EFK æ‰€æœ‰çš„å·¥å…·éƒ½å®‰è£åœ¨æ­¤ã€‚é‚£æˆ‘æƒ³å‰µå»ºä¸€å€‹åç‚º kube-logging çš„ namespaceï¼Œå…ˆæŸ¥è©¢ç¾æœ‰çš„å‘½åç©ºé–“æ˜¯å¦æœ‰é‡è¤‡ï¼š $ kubectl get namespaces æˆ‘å€‘å¯ä»¥çœ‹åˆ°é€™äº›å·²ç¶“å­˜åœ¨çš„ namespace ï¼š NAME STATUS AGE default Active 92m kube-logging Active 89m kube-node-lease Active 92m kube-public Active 92m kube-system Active 92m kubernetes-dashboard Active 92m é‚£è¦æ€éº¼å‰µå»ºä¸€å€‹å‘½åç©ºé–“å‘¢ï¼Ÿå…ˆæ‰“é–‹ç·¨è¼¯å™¨ç·¨è¼¯åç‚º kube-logging.yamlï¼š apiVersion:v1kind:Namespacemetadata:name:kube-logging å®Œæˆå¾Œï¼Œä½¿ç”¨ apply ä¾†å‰µå»ºå‘½åç©ºé–“ï¼š $ kubectl apply -f kube-logging.yaml namespace/kube-logging created å†ä½¿ç”¨ kubectl get namespaces æŸ¥çœ‹æ˜¯å¦å¤šäº†ä¸€å€‹åç‚º kube-logging çš„å‘½åç©ºé–“ï¼š $ kubectl get namespaces NAME STATUS AGE default Active 2m23s kube-logging Active 88s kube-node-lease Active 2m24s kube-public Active 2m24s kube-system Active 2m24s kubernetes-dashboard Active 2m19s ","date":"2022-05-10","objectID":"/k8s-efk/:2:1","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"å‰µå»º Elasticsearch StatefulSet æˆ‘å€‘å·²ç¶“å‰µå»ºå¥½ä¸€å€‹å‘½åç©ºé–“ä¾†æ”¾æˆ‘å€‘çš„ EFKï¼Œé¦–å…ˆå…ˆéƒ¨ç½²å‰¯æœ¬æ•¸æœ‰ 3 å€‹çš„ Elasticsearch Podã€‚ç‚ºä»€éº¼è¦ä½¿ç”¨ 3 å€‹ å‘¢ï¼Ÿä½¿ç”¨ 3 å€‹ Elasticsearch Pod æ˜¯ç‚ºäº†é¿å…åœ¨é«˜å¯ç”¨æ€§ã€å¤šç¯€é»å¢é›†æ™‚å‡ºç¾éŒ¯èª¤ï¼Œç•¶å…¶ä¸­ä¸€å€‹ Elasticsearch Pod æ•…éšœï¼Œå…¶ä»– 2 å€‹å°±æœƒé¸èˆ‰å¾Œä¾†æ¥æ›¿ï¼Œä¿è­‰å¢é›†å¯ä»¥ç¹¼çºŒé‹è¡Œã€‚ å‰µå»º Headless Service æˆ‘å€‘å…ˆå‰µå»ºåç‚º elasticsearch_svc.yaml çš„ yaml æª”ï¼Œç”¨ä¾†è™•ç† service çš„å•é¡Œï¼š apiVersion:v1kind:Servicemetadata:name:elasticsearchnamespace:kube-logginglabels:app:elasticsearchspec:selector:app:elasticsearchclusterIP:Noneports:- port:9200name:rest- port:9300name:inter-node æˆ‘å€‘æœ‰å‰µå»ºä¸€å€‹å‘½åç©ºé–“ï¼Œæ‰€ä»¥è¦å…ˆåœ¨ metadata åŠ å…¥ namespace: kube-loggingã€‚è¨˜å¾—è¦è¨­å®šæ¨™ç±¤ï¼Œç•¶æˆ‘å€‘å°‡ Elasticsearch StatefulSet èˆ‡æ­¤ Service é—œè¯æ™‚ï¼ŒService æœƒè¿”å›æŒ‡å‘çš„å¸¶æœ‰æ¨™ç±¤çš„ Elasticsearch Podã€‚ç„¶å¾Œæˆ‘å€‘è¨­ç½® clusterIP: None å®šç¾©è©² Service ç‚º Headless Serviceã€‚æœ€å¾Œå®šç¾© Port 9200 ç‚º REST APIã€Port 9300 ç‚º Node ä¹‹é–“çš„é€šä¿¡ã€‚ ä¸€æ¨£ä½¿ç”¨ apply ä¾†å»ºç«‹ Serviceï¼š $ kubectl apply -f elasticsearch-svc.yaml service/elasticsearch created æˆ‘å€‘é€™æ¬¡ç›´æ¥æŸ¥çœ‹ minikube dashboardï¼š elasticsearch service\" elasticsearch service å‰µå»º StatefulSet å‰µå»ºåç‚º elasticsearch_statefulset.yaml çš„ yaml æª”æ¡ˆ (å› ç‚ºç¨‹å¼é•·åº¦ï¼Œæ‰€ä»¥åˆ†é–‹èªªæ˜ï¼Œè¦å®Œæ•´è«‹åƒè€ƒ Github ç¨‹å¼ç¢¼é€£çµ)ï¼š apiVersion:apps/v1kind:StatefulSetmetadata:name:es-clusternamespace:kube-loggingspec:serviceName:elasticsearchreplicas:3selector:matchLabels:app:elasticsearchtemplate:metadata:labels:app:elasticsearch åç¨±å–åç‚º es-cluster ï¼Œæˆ‘ä¸€æ¨£ä½¿ç”¨ kube-logging çš„ namespaceï¼Œè¨­å®š ServiceName elasticsearch æ˜¯ç¢ºä¿ StatefulSet ä¸­çš„æ¯ä¸€å€‹ Pod éƒ½å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ DNS ä½å€é€²è¡Œè¨ªå•ï¼šes-cluster-[0,1,2].elasticsearch.kube-logging.svc.cluster.local ï¼Œå…¶ä¸­ [0,1,2] å°æ‡‰ Pod åˆ†é…çš„æ•´æ•¸åºè™Ÿã€‚ æˆ‘å€‘æŒ‡å®šå‰¯æœ¬æ•¸ç‚º 3ï¼Œä¸¦å°‡ matchLabels é¸æ“‡å™¨è¨­å®š app: elasticseachï¼Œæˆ‘å€‘åœ¨å°‡å…¶é¡åƒåˆ°è©² .spec.template.metadataï¼Œ.spec.selector.matchLabels è·Ÿ .spec.template.metadata.labels å¿…é ˆç›¸åŒã€‚ æ¥çºŒâ€¦ spec:containers:- name:elasticsearchimage:elasticsearch:8.1.3resources:limits:cpu:1000mrequests:cpu:100mports:- containerPort:9200name:restprotocol:TCP- containerPort:9300name:inter-nodeprotocol:TCPvolumeMounts:- name:datamountPath:/usr/share/elasticsearch/dataenv:- name:cluster.namevalue:k8s-logs- name:node.namevalueFrom:fieldRef:fieldPath:metadata.name- name:discovery.seed_hostsvalue:\"es-cluster-0.elasticsearch,es-cluster-1.elasticsearch,es-cluster-2.elasticsearch\"- name:cluster.initial_master_nodesvalue:\"es-cluster-0,es-cluster-1,es-cluster-2\"- name:ES_JAVA_OPTSvalue:\"-Xms512m -Xmx512m\"- name:xpack.security.enabled# è¨˜å¾—è¦åŠ ä¸Šï¼Œå› çˆ² Elasticsearch 8.xç‰ˆæœ¬å¾Œæœƒè‡ªå‹•é–‹å•ŸSSLï¼Œå¦‚æœæ²’æœ‰è¨­å®šä»–å°±æœƒä¸€ç›´é‡æ–°å•Ÿå‹•value:\"false\" æˆ‘å€‘å®šç¾©å®¹å™¨åç¨±æ˜¯ elasticsearchï¼Œæ˜ åƒæª”æ˜¯ elasticsearch:8.1.3 ï¼Œè¦è¨˜å¾—é€™å€‹ç‰ˆæœ¬è¦èˆ‡å¾Œé¢çš„ kibana ç›¸åŒï¼Œæˆ‘å€‘åœ¨ resources è¨­ç½®å®¹å™¨è‡³å°‘éœ€è¦ 0.1 CPUï¼Œæœ€å¤šå¯ä»¥åˆ° 1 å€‹ CPUã€‚ä¸€æ¨£è¨­å®š Port 9200 ç‚º REST APIã€Port 9300 ç‚º Node ä¹‹é–“çš„é€šä¿¡ï¼Œä¸¦å°‡åç‚º data çš„PersistentVolume çš„å®¹å™¨æ›è¼‰åˆ°å®¹å™¨çš„ /usr/share/elasticsearch/dataã€‚ æœ€å¾Œå¹«å®¹å™¨è¨­ç½®ä¸€äº›ç’°å¢ƒè®Šæ•¸ï¼š cluster.nameï¼šElasticsearch å¢é›†çš„åç¨±ï¼Œæˆ‘å€‘è¨­å®šç‚º k8s-logsã€‚ node.nameï¼šç¯€é»åç¨±ï¼Œæˆ‘å€‘è¨­ç½® valueFrom ä½¿ç”¨ .metadata.nameï¼Œå®ƒæœƒè§£æç‚º es-cluster-[0,1,2]ï¼Œå–æ±ºç¯€é»çš„æŒ‡å®šé †åºã€‚ discovery.seed_hostsï¼šè¨­ç½®å¢é›†ä¸­ä¸»ç¯€é»åˆ—è¡¨ï¼Œé€™äº›ç¯€é»å°‡æœƒç‚ºç¯€é»ç™¼ç¾éç¨‹ä¸­æä¾› Podï¼Œä½†ç”±æ–¼æˆ‘å€‘é…ç½®çš„ Headless Serviceï¼Œæ‰€ä»¥æˆ‘å€‘çš„ Pod å…·æœ‰ es-cluster-[0,1,2].elasticsearch.kube-logging.svc.cluster.local Kubernetes DNS è§£æã€‚ cluster.initial_master_nodesï¼šé€™é‚ŠæŒ‡å®šå°‡åƒèˆ‡ä¸»ç¯€é»çš„é¸èˆ‰éç¨‹ç¯€é»åˆ—è¡¨ï¼Œé€™é‚Šæ˜¯é€šéç¯€é» node.name ä¾†è¾¨è­˜ï¼Œä¸æ˜¯é€éä¸»æ©Ÿåã€‚ ES_JAVA_OPTSï¼šé€™é‚Šæˆ‘å€‘è¨­ç½® -Xms512m -Xmx512mï¼Œå‘Šè¨´ JVM ä½¿ç”¨æœ€å¤§è·Ÿæœ€å° 512 MBï¼Œå¯ä»¥ä¾æ“šè³‡æºä¾†åšèª¿é…ã€‚ xpack.security.enabledï¼šé€™æ˜¯ä¹Ÿæ˜¯æˆ‘åœ¨ elasticsearch å¡å¾ˆä¹…çš„ä¸€å€‹è¨­å®šï¼Œè©³ç´°çš„æœƒåœ¨æœ€å¾Œçš„å¸¸è¦‹å•é¡Œä¸­æåˆ°ï¼Œå¤§å®¶åªè¦è¨˜å¾— elasticsearch 8.x ä»¥å¾Œéƒ½éœ€è¦å¤šé€™å€‹ã€‚ æ¥çºŒâ€¦ initContainers:- name:fix-permissionsimage:busyboxcommand:[\"sh\",\"-c\",\"chown -R 1000:1000 /usr/share/elasticsearch/data\"]securityContext:privileged:truevolumeMounts:- name:datamountPath:/usr/share/elasticsearch/data- name:increase-vm-max-mapimage:busyboxcommand:[\"sysctl\",\"-w\",\"vm.max_map_count=262144\"]securityContext:privileged:true- name:increase-fd-ulimitimage:busyboxcommand:[\"sh\",\"-c\",\"ulimit -n 65536\"]securityContext:privileged:true æˆ‘å€‘é€™å€‹å€å¡Šå®šç¾©äº†ä¸»å®¹å™¨é‹è¡Œå‰çš„åˆå§‹åŒ–è¨­å®šï¼š fix-permissionsï¼šå› ç‚ºé»˜èªæƒ…æ³ä¸‹ï¼ŒKubernetes æœƒå°‡æ•¸æ“šç›®éŒ„æ›è¼‰ç‚º rootï¼Œå°è‡´ Elasticsearch ç„¡æ³•è¨ªå•ï¼Œæ‰€ä»¥æ‰æœƒå¤šé€™å€‹é‹è¡Œ chown å°‡ Elasticsearch æ•¸æ“šç›®éŒ„çš„æ‰€æœ‰è€…å’Œçµ„æ›´æ”¹ç‚º 1000:1000 /usr/share/elasticsearch/dataã€‚è©³ç´°å¯ä»¥åƒè€ƒ Notes for Production Use and Defaultsã€‚ increase-vm-max-mapï¼šé€™é‚Šæ˜¯å› ç‚ºé»˜èªæƒ…æ³ä¸‹å…§å­˜æœƒå¤ªä½ï¼Œæ‰€ä»¥å¤šé€™å€‹ç”¨ sysctl -w ä¾†èª¿æ•´å…§å­˜å¤§å°ã€‚è©³ç´°å¯ä»¥åƒè€ƒ Elasticsearch documentationã€‚ iincrease-fd-ulimitï¼šå®ƒé‹è¡Œ ulimit èª¿æ•´æ‰“é–‹æ–‡ä»¶æè¿°çš„æœ€å¤§æ•¸é‡ã€‚è©³ç´°å¯ä»¥åƒè€ƒ Notes for Production Use and Defaultsã€‚ æ¥çºŒâ€¦ volumeClaimTemplates:- metadata:name:datalabels:app:elasticsearchsp","date":"2022-05-10","objectID":"/k8s-efk/:2:2","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"å‰µå»º Kibana Deployment Service è¦åœ¨ Kubernetes ä¸Šå•Ÿå‹• Kibanaï¼Œæˆ‘å€‘è¦å…ˆå‰µå»ºä¸€å€‹åç‚º Service kibanaï¼Œä»¥åŠåŒ…å«ä¸€å€‹å‰¯æœ¬çš„ Deploymentã€‚æˆ‘å€‘å…ˆå‰µå»ºåç‚º kibana.yaml çš„ yaml æª”ï¼š apiVersion:v1kind:Servicemetadata:name:kibananamespace:kube-logginglabels:app:kibanaspec:ports:- port:5601selector:app:kibana---apiVersion:apps/v1kind:Deploymentmetadata:name:kibananamespace:kube-logginglabels:app:kibanaspec:replicas:1selector:matchLabels:app:kibanatemplate:metadata:labels:app:kibanaspec:containers:- name:kibanaimage:kibana:8.1.3resources:limits:cpu:1000mrequests:cpu:100menv:- name:ELASTICSEARCH_URLvalue:http://elasticsearch:9200ports:- containerPort:5601 ä¸€æ¨£æˆ‘å€‘è¦æŠŠ kibana åŠ å…¥ kube-logging çš„å‘½åç©ºé–“ï¼Œè®“å®ƒä»¥å»èª¿ç”¨å…¶ä»–æœå‹™ï¼Œä¸¦è³¦äºˆ app: kibana æ¨™ç±¤ã€‚ä¸¦æŒ‡å®šæœ¬æ©Ÿè¨ªå• Port ç‚º 5601ï¼Œä¸¦ä½¿ç”¨ app: kibana æ¨™ç±¤ä¾†é¸æ“‡æœå‹™çš„ Podã€‚æˆ‘å€‘åœ¨ Deployment å®šç¾© 1 å€‹ Pod å‰¯æœ¬ï¼Œæˆ‘å€‘ä½¿ç”¨ kibana:8.1.3 imageï¼Œè¨˜å¾—è¦è·Ÿ Elasticsearch ä½¿ç”¨ç›¸åŒç‰ˆæœ¬ï¼Œæ­¤å¤–æˆ‘å€‘é‚„æœ‰è¨­å®š Pod æœ€å°‘ä½¿ç”¨ 0.1 å€‹ CPUã€æœ€å¤šä½¿ç”¨ 1 å€‹ CPUã€‚æœ€å¾Œåœ¨ç’°å¢ƒè®Šæ•¸ä¸­ä½¿ç”¨ ELASTICSEARCH_URL è¨­å®š Elasticsearch çš„å¢é›†ä»¥åŠ Portã€‚ éƒ½å®Œæˆå¾Œï¼Œæˆ‘å€‘ä¾†é–‹å§‹éƒ¨ç½²ï¼š $ kubectl apply -f kibana.yaml service/kibana created deployment.apps/kibana created ä¸€æ¨£æˆ‘å€‘ç”¨ minikube dashboard ä¾†æŸ¥çœ‹æ˜¯å¦éƒ¨ç½²æˆåŠŸï¼š kibana Deployments\" kibana Deployments æ²’æœ‰å•é¡Œå¾Œï¼Œæˆ‘å€‘ç”¨ port-forward å°‡æœ¬åœ° Port è½‰ç™¼åˆ° Pod ä¸Šï¼š $ kubectl port-forward kibana-75cbbfcd9c-nr4r8 5601:5601 --namespace=kube-logging Forwarding from 127.0.0.1:5601 -\u003e 5601 Forwarding from [::1]:5601 -\u003e 5601 Handling connection for 5601 é–‹å•Ÿç€è¦½å™¨ç€è¦½ http://localhost:5601ï¼Œå¦‚æœå¯ä»¥é€²å…¥ Kibanaï¼Œå°±ä»£è¡¨æˆåŠŸå°‡ Kibana éƒ¨ç½²åˆ° Kubernetes å¢é›†ä¸­ï¼š kibana Deployments\" kibana Deployments ","date":"2022-05-10","objectID":"/k8s-efk/:2:3","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"å‰µå»º Fluentd DaemonSet æˆ‘å€‘è¦å°‡ Fluentd è¨­ç½®æˆ DaemonSetï¼Œè®“å®ƒåœ¨ Kubernetes å¢é›†ä¸­æ¯å€‹ç¯€é»ä¸Šé‹è¡Œ Pod å‰¯æœ¬ã€‚ç”¨ DaemonSet æ§åˆ¶å™¨ï¼Œå¯ä»¥å°‡å¢é›†ä¸­æ¯å€‹ç¯€é»éƒ¨ç½² Fluentd Podï¼Œè©³ç´°å¯ä»¥åƒè€ƒ Using a node logging agentã€‚åœ¨ Kubernetes ä¸­ï¼Œå®¹å™¨åŒ–çš„æ‡‰ç”¨ç¨‹å¼æœƒé€é stdout å°‡æ—¥èªŒ log å®šå‘åˆ°ç¯€é»ä¸Šçš„ JSON æ–‡ä»¶ã€‚Fluentd Pod æœƒè¿½è¹¤é€™äº›æ—¥èªŒæ–‡ä»¶ã€éæ¿¾æ—¥èªŒäº‹ä»¶ã€è½‰æ›æ—¥èªŒçš„æ•¸æ“šï¼Œä¸¦ç™¼é€åˆ°æˆ‘å€‘éƒ¨ç½²çš„ Elasticsearch å¾Œç«¯ã€‚ é™¤äº†å®¹å™¨çš„æ—¥èªŒï¼ŒFluentd é‚„æœƒè¿½è¹¤ Kubernetes ç³»çµ±æ—¥èªŒï¼Œä¾‹å¦‚ï¼škubeletã€kube-proxy å’Œ Docker æ—¥èªŒã€‚ å…ˆå‰µå»ºä¸€å€‹ fluentd.yaml çš„ yaml æª” (å› ç‚ºç¨‹å¼é•·åº¦ï¼Œæ‰€ä»¥åˆ†é–‹èªªæ˜ï¼Œè¦å®Œæ•´è«‹åƒè€ƒ Github ç¨‹å¼ç¢¼é€£çµ)ï¼š å‰µå»º ServiceAccount apiVersion:v1kind:ServiceAccountmetadata:name:fluentdnamespace:kube-logginglabels:app:fluentd æˆ‘å€‘å…ˆå‰µå»ºä¸€å€‹æœå‹™å¸³è™Ÿ fluentdï¼ŒFluentd Pod å°‡ä½¿ç”¨å®ƒä¾†è¨ªå• Kubernetes APIã€‚æˆ‘å€‘åœ¨ kube-logging namespace ä¸­å‰µå»ºå®ƒä¸¦å†æ¬¡è³¦äºˆå®ƒ label app: fluentdã€‚ å‰µå»º ClusterRole æ¥è‘—â€¦ apiVersion:rbac.authorization.k8s.io/v1kind:ClusterRolemetadata:name:fluentdlabels:app:fluentdrules:- apiGroups:- \"\"resources:- pods- namespacesverbs:- get- list- watch åœ¨é€™é‚Šæˆ‘å€‘å®šç¾©ä¸€å€‹ ClusterRole fluentdï¼Œè¨­å®šæˆ‘å€‘å°å¢é›†ç¯„åœçš„ Kubernetes è³‡æºï¼ˆå¦‚ç¯€é»ï¼‰çš„è¨ªå•æ¬Šé™ï¼Œæˆ‘å€‘è¨­å®š getã€listã€watch ç­‰æ¬Šé™ã€‚ å‰µå»º ClusterRoleBinding æ¥è‘—â€¦ kind:ClusterRoleBindingapiVersion:rbac.authorization.k8s.io/v1metadata:name:fluentdroleRef:kind:ClusterRolename:fluentdapiGroup:rbac.authorization.k8s.iosubjects:- kind:ServiceAccountname:fluentdnamespace:kube-logging æˆ‘å€‘å®šç¾©ä¸€å€‹å°‡ ClusterRole ç¶å®šåˆ° ServiceAccount çš„ ClusterRoleBinding èª¿ç”¨ã€‚ å‰µå»º DaemonSet æ¥è‘—â€¦ apiVersion:apps/v1kind:DaemonSetmetadata:name:fluentdnamespace:kube-logginglabels:app:fluentd å®šç¾©ä¸€å€‹å¯ä»¥åœ¨ kube-logging namespace ä¸­èª¿ç”¨çš„ DaemonSetï¼Œä¸¦çµ¦å®ƒä¸€å€‹ app: fluentd æ¨™ç±¤ã€‚ æ¥è‘—â€¦ spec:selector:matchLabels:app:fluentdtemplate:metadata:labels:app:fluentdspec:serviceAccount:fluentdserviceAccountName:fluentdtolerations:- key:node-role.kubernetes.io/mastereffect:NoSchedulecontainers:- name:fluentdimage:fluent/fluentd-kubernetes-daemonset:v1.14.6-debian-elasticsearch7-1.0env:- name:FLUENT_ELASTICSEARCH_HOSTvalue:\"elasticsearch.kube-logging.svc.cluster.local\"- name:FLUENT_ELASTICSEARCH_PORTvalue:\"9200\"- name:FLUENT_ELASTICSEARCH_SCHEMEvalue:\"http\"- name:FLUENTD_SYSTEMD_CONFvalue:disable æˆ‘å€‘å…ˆåŒ¹é… .metadata.labels å®šç¾©çš„æ¨™ç±¤ app: fluentd ï¼Œç„¶å¾Œç‚º DaemonSet åˆ†é… fluentd Service Accountã€‚é¸æ“‡ app: fluentd ä½œç‚ºé€™å€‹ DaemonSet ç®¡ç†çš„ Podã€‚ æˆ‘å€‘å®šç¾© NoSchedule å®¹å¿åº¦ä¾†åŒ¹é… Kubernetes master node ä¸Šçš„ç­‰æ•ˆæ±¡é»ã€‚ä»–å¯ä»¥ç¢ºä¿ DaemonSet ä¹Ÿè¢«éƒ¨ç½²åˆ° Kubernetes ä¸»æœå‹™å™¨ã€‚ æ¥ä¸‹ä¾†å®šç¾© Pod å®¹å™¨ï¼Œæˆ‘å€‘å°‡åç¨±å–ç‚º fluentdï¼Œæˆ‘å€‘ä½¿ç”¨çš„æ˜ åƒæª”æ˜¯ fluent/fluentd-kubernetes-daemonset:v1.14.6-debian-elasticsearch7-1.0ï¼Œæœ€å¾Œé…ç½®ä¸€äº›ç’°å¢ƒè®Šæ•¸ï¼š FLUENT_ELASTICSEARCH_HOSTï¼šè¨­ç½®æˆ‘å€‘ä¹‹å‰å®šç¾©çš„ Elasticsearch Headless ä½å€ã€‚elasticsearch.kube-logging.svc.cluster.local æœƒè§£æ 3 å€‹ Elasticsearch Pod çš„ IP åœ°å€åˆ—è¡¨ã€‚ FLUENT_ELASTICSEARCH_PORTï¼šè¨­ç½®æˆ‘å€‘ä¹‹å‰å®šç¾©çš„ Elasticsearch 9200 Portã€‚ FLUENT_ELASTICSEARCH_SCHEMEï¼šæˆ‘å€‘è¨­ç½® httpã€‚ FLUENTD_SYSTEMD_CONFï¼šæˆ‘å€‘å°‡ systemd åœ¨å®¹å™¨ä¸­è¨­å®šç›¸é—œçš„è¼¸å‡ºè¨­ç½®ç‚º disableã€‚ æ¥è‘—â€¦ resources:limits:memory:512Mirequests:cpu:100mmemory:200MivolumeMounts:- name:varlogmountPath:/var/log- name:varlibdockercontainersmountPath:/var/lib/docker/containersreadOnly:trueterminationGracePeriodSeconds:30volumes:- name:varloghostPath:path:/var/log- name:varlibdockercontainershostPath:path:/var/lib/docker/containers æˆ‘å€‘è¨­ç½® Fluentd Pod ä¸Šä½¿ç”¨ 512 MiB çš„å…§å­˜é™åˆ¶ï¼Œä¸¦ä¿è­‰ 0.1 å€‹ CPU è·Ÿ 200 MiB çš„å…§å­˜ã€‚æˆ‘å€‘å°‡ varlog /var/log ä»¥åŠ varlibdockercontainers var/lib/docker/containers ä¸€ä½µæ›è¼‰é€²å®¹å™¨å…§ã€‚æœ€å¾Œä¸€å€‹è¨­å®šæ˜¯ Fluentd åœ¨æ”¶åˆ°ä¿¡è™Ÿ terminationGracePeriodSeconds å¾Œæœ‰ 30 ç§’çš„æ™‚é–“å¯ä»¥å„ªé›…çš„é—œé–‰ã€‚ éƒ½å®šç¾©å®Œæˆå¾Œï¼Œæˆ‘å€‘éƒ¨ç½² Fluentd DaemonSetï¼š $ kubectl apply -f fluentd.yaml serviceaccount/fluentd created clusterrole.rbac.authorization.k8s.io/fluentd created clusterrolebinding.rbac.authorization.k8s.io/fluentd created daemonset.apps/fluentd created ä¸€æ¨£æˆ‘å€‘ç”¨ minikube dashboard ä¾†æŸ¥çœ‹æ˜¯å¦éƒ¨ç½²æˆåŠŸï¼š fluentd DaemonSet\" fluentd DaemonSet æˆ‘å€‘ä½¿ç”¨å‰›å‰›çš„ kibana port-forward å°‡æœ¬åœ° Port è½‰ç™¼åˆ° Pod ä¸Šï¼š $ kubectl port-forward kibana-75cbbfcd9c-nr4r8 5601:5601 --namespace=kube-logging Forwarding from 127.0.0.1:5601 -\u003e 5601 Forwarding from [::1]:5601 -\u003e 5601 Handling connection for 5601 é–‹å•Ÿç€è¦½å™¨ç€è¦½ http://localhost:5601ï¼Œé»é¸ Management \u003e Stack Managementï¼š fluentd è¨­å®š\" fluentd è¨­å®š é»é¸ Kibana \u003e Data Viewsï¼Œæœƒçœ‹åˆ°è·³å‡ºä¸€å€‹è¦–çª—ï¼Œæœ‰ä¸€å€‹æŒ‰éˆ•å¯« Create data viewï¼š fluentd è¨­å®š\" fluentd è¨­å®š Name è¼¸å…¥ logstash* ï¼Œä¸¦é¸æ“‡ @timestamp ä¾†ç”¨æ™‚é–“éæ¿¾æ—¥èªŒï¼Œæœ€å¾ŒæŒ‰ä¸‹ Create date viewï¼š fluentd è¨­å®š\" fluentd è¨­å®š è¨­å®šå¥½ logstash* çš„ Data viewsï¼Œå†é»é¸å·¦é‚Šæ¬„ä½çš„ Discoverï¼š fluentd è¨­å®š\" fluentd è¨­å®š å°±å¯ä»¥çœ‹åˆ°é¡¯ç¤ºå®¹å™¨çš„ log æ—¥èªŒæ‹‰ï¼ é¡¯ç¤ºå®¹å™¨ ","date":"2022-05-10","objectID":"/k8s-efk/:2:4","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"éƒ¨ç½²å¸¸è¦‹å•é¡ŒåŠè§£æ±ºè¾¦æ³• å¸¸è¦‹å•é¡Œ Q1 . Elasticsearch éƒ¨ç½²æˆåŠŸå¾Œæœƒä¸€ç›´é‡æ–°å•Ÿå‹•ï¼Ÿ è§£æ±ºè¾¦æ³• Ans 1ï¼šåŸå› æ˜¯ Elasticsearch å¾ 8.x ç‰ˆæœ¬å¾Œï¼Œæœƒè‡ªå‹•é–‹å•Ÿ SSL èªè­‰ï¼Œæˆ‘å€‘åœ¨ env ç’°å¢ƒè®Šæ•¸è¨­å®šæ™‚ï¼Œå¦‚æœæ²’æœ‰å¤šåŠ  SSL Key ç­‰è¨­å®šå€¼ï¼ŒElasticsearch é€™å€‹ Pod æœƒå•Ÿå‹•å¾Œï¼Œä¸€ç›´é‡æ–°å•Ÿå‹•ï¼Œå°è‡´æœå‹™ç„¡æ³•æ­£å¸¸ä½¿ç”¨ï¼Œåªéœ€è¦åœ¨ç’°å¢ƒè®Šæ•¸ä¸­åŠ å…¥ xpack.security.enabled ï¼Œè¨­å®šç‚º false å°±å¯ä»¥è§£æ±ºã€‚ ","date":"2022-05-10","objectID":"/k8s-efk/:3:0","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ How To Set Up an Elasticsearch, Fluentd and Kibana (EFK) Logging Stack on Kubernetes ","date":"2022-05-10","objectID":"/k8s-efk/:4:0","tags":["Kubernetes","K8s","EFK","å¯¦ä½œ"],"title":"Kubernetes (K8s) æ­é… EFK å¯¦ä½œ (Deploymentã€StatefulSetã€DaemonSet)","uri":"/k8s-efk/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯ä»‹ç´¹ Kubernetes é€²éšï¼Œæœƒä»‹ç´¹ Serviceã€Ingressã€Deploymentã€ReplicaSetã€ConfigMap ç­‰ç­‰ï¼Œå¤šæ•¸æ˜¯åƒè€ƒç¶²è·¯å¤§ç¥åˆ†äº«ï¼ŒåŠ ä¸Šè‡ªå·±æ•´ç†è‡ªå·±èƒ½ç†è§£çš„åŠ ä»¥ä»‹ç´¹ï¼Œæ­¡è¿å¤§å®¶æŒ‡æ•™ ğŸ˜","date":"2022-05-03","objectID":"/k8s-advanced/","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"å‰é¢æˆ‘å€‘åœ¨åŸºæœ¬ç¯‡ä¸­ï¼Œç‚ºäº†ä½¿ Pod èƒ½å¤ èˆ‡æœ¬æ©Ÿé€£ç·šï¼Œä½¿ç”¨äº† port-forwardï¼Œé‚„æœ‰å¦ä¸€ç¨®æ–¹æ³•å°±æ˜¯ä»Šå¤©è¦ä»‹ç´¹çš„ç¬¬ä¸€å€‹ä¸»é¡Œï¼šService é‚£æˆ‘å€‘æœƒå…ˆè¤‡ç¿’ä¸€ä¸‹ port-forwardï¼Œå†ä¾†ä»‹ç´¹ Serviceï¼Œç•¶ç„¶å¾Œé¢ä¹Ÿæœƒæœ‰å¯¦éš›æ“ä½œï¼Œè«‹å¤§å®¶è·Ÿæˆ‘ç¹¼çºŒä¸€èµ·å­¸ä¸‹å»å§ ï¼ ","date":"2022-05-03","objectID":"/k8s-advanced/:0:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"port-forward port-forward ç°¡å–®ä¾†èªªå°±æ˜¯æŠŠæœ¬æ©Ÿçš„æŸä¸€å€‹ Port èˆ‡ Pod æ‰€é–‹æ”¾å°å¤–çš„ Port åšæ˜ å°„ï¼Œå°±åƒæ˜¯æˆ‘å€‘åœ¨ Docker è·‘ container æ™‚æœƒä½¿ç”¨ -p ä¾†é€£çµæ©Ÿå™¨èˆ‡ container çš„ port ä¸€æ¨£ï½ ä½¿ç”¨çš„æ–¹æ³•ä¹Ÿå¾ˆç°¡å–®ä¸”æ–¹ä¾¿ï¼Œä½¿ç”¨ kubectl port-forward \u003cpod\u003e \u003cexternal-port\u003e:\u003cpod-port\u003eï¼Œæˆ‘å€‘æ‹¿ Kubernetes åŸºæœ¬ç¯‡æœ€å¾Œçš„ç¯„ä¾‹ï¼Œä¾†åšèªªæ˜ï¼š $ kubectl port-forward kubernetes-demo-pod 3000:3000 Forwarding from 127.0.0.1:3000 -\u003e 3000 Forwarding from [::1]:3000 -\u003e 3000 Handling connection for 3000 æˆ‘å€‘æŠŠ kubernetes-demo-pod é€™å€‹ podï¼Œç”¨ port-forward è¨­å®šæœ¬æ©Ÿ 3000 port èˆ‡ pod 3000 port åšæ˜ å°„ï¼Œç•¶æˆ‘å€‘ç€è¦½ http://localhost:3000 å°±å¯ä»¥çœ‹åˆ° pod è£¡é¢çš„å…§å®¹äº†ï¼ é›–ç„¶å¾ˆæ–¹ä¾¿ï¼Œå¯ä»¥é¦¬ä¸Šå°±é–‹å¥½è¦æ˜ å°„çš„ portï¼Œä½†ç¼ºé»å°±æ˜¯æ¯æ¬¡å»ºç«‹ pod æ™‚éƒ½éœ€è¦æ‰‹å‹•å»æ‰“æŒ‡ä»¤ä¾†è¨­å®š portï¼Œä¸”æ™‚é–“ä¹…äº†ï¼Œä¹Ÿæœƒå¿˜è¨˜æœ¬æ©Ÿä¸Šå“ªäº› port æœ‰è¢«ä½¿ç”¨åˆ°ï¼Œå› æ­¤é€™é‚Šæ¨è–¦ä½¿ç”¨ Service ä¾†å–ä»£ port-forwardï¼Œé‚£æˆ‘å€‘ä¾†çœ‹çœ‹ Service æ˜¯ä»€éº¼å§ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:1:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Service ? service ä»–å…¶å¯¦å°±æ˜¯å»ºç«‹çš„ä¸€å€‹ç¶²è·¯é€£ç·šé€šé“ï¼Œå¯ä»¥è®“æ‡‰ç”¨ç¨‹å¼æ­£ç¢ºçš„é€£çµåˆ°æ­£åœ¨é‹è¡Œçš„ podsï¼Œè€Œ service åˆæœ‰4ç¨®çš„è¡¨ç¾å½¢å¼ï¼Œæˆ‘å€‘æ¥ä¸‹ä¾†æœƒä¸€å€‹ä¸€å€‹ç°¡å–®ä»‹ç´¹ï¼š ","date":"2022-05-03","objectID":"/k8s-advanced/:2:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ClusterIP å®ƒæ˜¯ service çš„é è¨­å€¼ï¼Œæ‰€ä»¥æ²’æœ‰è¨­å®šæ™‚ï¼Œé è¨­å°±æ˜¯ä½¿ç”¨è©²æ–¹å¼åšé€£ç·šï¼Œå®ƒä»£è¡¨é€™å€‹ service åªèƒ½åœ¨ç›¸åŒçš„ cluster å…§ä½¿ç”¨ï¼Œç„¡æ³•è®“å¤–éƒ¨åšä½¿ç”¨ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:2:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"NodePort ç°¡å–®ä¾†èªªå®ƒå¯ä»¥å¾å¤–éƒ¨é€£ç·šåˆ°å…§éƒ¨ä½¿ç”¨ã€‚å‡è¨­æœ¬æ©Ÿæœ‰å…¶ä»–æœå‹™ï¼Œä¾‹å¦‚ï¼šnginx ä¹‹é¡çš„æœå‹™ï¼Œé‚„æœ‰æ¶ä¸€å€‹ K8s çš„ cluster ï¼Œé€™æ™‚å€™åªè¦è¨­å®šå¥½ NodePortï¼Œå°±å¯ä»¥è®“æœ¬æ©Ÿä½¿ç”¨ K8s cluster ä¾†ä½¿ç”¨å…§éƒ¨çš„æœå‹™ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:2:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ExternalName ä¸»è¦æ˜¯ç‚ºäº†è®“ä¸åŒ namespace ï¼Œä»¥ ClusterIP æ‰€ç”Ÿæˆçš„ service å¯ä»¥åˆ©ç”¨ ExternalName è¨­å®šå¤–éƒ¨åç¨±ï¼Œè—‰ä»¥é€£åˆ°æŒ‡å®šçš„ namespace Serviceã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:2:3","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"LoadBalancer é€™å€‹å±¬æ€§æ˜¯å¼·åŒ–ç‰ˆçš„ NodePortï¼Œé™¤äº† NodePort å¯ä»¥è®“å¤–éƒ¨é€£ç·šçš„å„ªé»ä»¥å¤–ï¼ŒåŒæ™‚ä¹Ÿå»ºç«‹è² è¼‰å¹³è¡¡çš„æ©Ÿåˆ¶ä¾†åˆ†æ•£æµé‡ï¼Œå¾ˆå¯æƒœ LoadBalaner åªæä¾›é›²ç«¯æœå‹™ï¼Œä¾‹å¦‚ï¼šGCPã€AWS ç­‰ç­‰éƒ½æœ‰æ”¯æ´ï¼Œç›®å‰ minikube è¦ä½¿ç”¨ LoadBalancer éœ€è¦å…ˆå•Ÿå‹• tunnel æ‰èƒ½åšä½¿ç”¨ã€‚tunnel æ˜¯ä»€éº¼å‘¢ï¼Ÿæˆ‘å€‘å¾Œé¢æœƒèªªæ˜ï¼ k8s service æµç¨‹åœ– Kubernetes é‚£äº›äº‹ â€” Service ç¯‡\" k8s service æµç¨‹åœ– Kubernetes é‚£äº›äº‹ â€” Service ç¯‡ ","date":"2022-05-03","objectID":"/k8s-advanced/:2:4","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"NodePort å¯¦ä½œ é‚£æˆ‘å€‘ä¾†ç”¨ Service (NodePort) æ”¹å¯«åŸºæœ¬ç¯‡çš„é€£ç·šå•é¡Œ ï¼š(Github ç¨‹å¼ç¢¼é€£çµ) service.yaml apiVersion:v1kind:Servicemetadata:name:kubernetes-demo-servicelabels:app:demospec:type:NodePortports:- protocol:TCPport:3000targetPort:3000nodePort:30001selector:app:demo çµæ§‹èˆ‡ kubernetes-demo.yaml ç›¸åŒï¼Œä»¥ä¸‹ç°¡å–®èªªæ˜ä¸åŒä¹‹è™•ï¼š kind è©²å…ƒä»¶çš„å±¬æ€§ï¼Œæ­¤è¨­å®šæª”çš„é¡å‹æ˜¯ï¼šService spec typeï¼šæŒ‡å®šæ­¤ Service è¦ä½¿ç”¨çš„æ–¹æ³•ï¼Œé€™é‚Šæˆ‘å€‘ä½¿ç”¨ NodePortã€‚ ports.protocolï¼šæ­¤ç‚ºé€£ç·šçš„ç¶²è·¯å”è­°ï¼Œé è¨­å€¼ç‚º TCPï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ UDPã€‚ ports.portï¼šæ­¤ç‚ºå»ºç«‹å¥½çš„ Service è¦ä»¥å“ªå€‹ Port é€£æ¥åˆ° Pod ä¸Šã€‚ ports.targetPortï¼šæ­¤ç‚ºç›®æ¨™ Pod çš„ Port ï¼Œé€šå¸¸ port è·Ÿ targetPort ä¸€æ¨£ã€‚ ports.nodePortï¼šæ­¤ç‚ºæ©Ÿå™¨ä¸Šçš„ Port è¦å°æ‡‰åˆ°è©² Service ä¸Šï¼Œé€™å€‹è¨­å®šè¦ nodePort å½¢å¼çš„ Service æ‰æœƒæœ‰æ•ˆæœï¼Œå‡è¨­ä»Šå¤©æ²’æœ‰è¨­å®š nodePort ï¼ŒKubernetes æœƒè‡ªå‹•é–‹ä¸€å€‹æ©Ÿå™¨ä¸Šçš„ Port ä¾†å°æ‡‰è©² Service ï¼Œç¯„åœæ˜¯åœ¨ 30000 - 37267ä¹‹é–“ã€‚ selector.appï¼šå¦‚æœè¦ä½¿ Service é€£æ¥åˆ°æ­£ç¢ºçš„ Pod å°±å¿…é ˆåˆ©ç”¨ selectorï¼Œåªè¦åŸå°ä¸å‹•çš„æŠŠ Pod çš„ Labels è¤‡è£½ä¸Šå»å³å¯ã€‚ æ¥ä¸‹ä¾†ä½¿ç”¨ kubectl apply å»ºç«‹ serviceï¼š $ kubectl apply -f service.yaml k8s å»ºç«‹ service (NodePort)\" k8s å»ºç«‹ service (NodePort) æ¥ä¸‹ä¾†å–å¾— minikube Node IPï¼Œå¯ä»¥ä½¿ç”¨ï¼š $ minikube ip 192.168.64.11 æ‰“é–‹ç€è¦½å™¨æœå°‹ 192.168.64.11:30001 å°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘å¯æ„›çš„æŸ´çŠ¬å›‰ \u003e\u003c æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬\" æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬ ","date":"2022-05-03","objectID":"/k8s-advanced/:2:5","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"LoadBalancer å¯¦ä½œ é‚£æˆ‘å€‘ä¾†ç”¨ Service (LoadBalancer) æ”¹å¯«åŸºæœ¬ç¯‡çš„é€£ç·šå•é¡Œ ï¼š(Github ç¨‹å¼ç¢¼é€£çµ) service.yaml apiVersion:v1kind:Servicemetadata:name:kubernetes-demo-servicelabels:app:demospec:type:LoadBalancerports:- protocol:TCPport:3000targetPort:3000selector:app:demo çµæ§‹èˆ‡ kubernetes-demo.yaml ç›¸åŒï¼Œä»¥ä¸‹ç°¡å–®èªªæ˜ä¸åŒä¹‹è™•ï¼š kind è©²å…ƒä»¶çš„å±¬æ€§ï¼Œæ­¤è¨­å®šæª”çš„é¡å‹æ˜¯ï¼šService spec typeï¼šæŒ‡å®šæ­¤ Service è¦ä½¿ç”¨çš„æ–¹æ³•ï¼Œé€™é‚Šæˆ‘å€‘ä½¿ç”¨ LoadBalancerã€‚ ports.protocolï¼šæ­¤ç‚ºé€£ç·šçš„ç¶²è·¯å”è­°ï¼Œé è¨­å€¼ç‚º TCPï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ UDPã€‚ ports.portï¼šæ­¤ç‚ºå»ºç«‹å¥½çš„ Service è¦ä»¥å“ªå€‹ Port é€£æ¥åˆ° Pod ä¸Šã€‚ ports.targetPortï¼šæ­¤ç‚ºç›®æ¨™ Pod çš„ Port ï¼Œé€šå¸¸ port è·Ÿ targetPort ä¸€æ¨£ã€‚ selector.appï¼šå¦‚æœè¦ä½¿ Service é€£æ¥åˆ°æ­£ç¢ºçš„ Pod å°±å¿…é ˆåˆ©ç”¨ selectorï¼Œåªè¦åŸå°ä¸å‹•çš„æŠŠ Pod çš„ Labels è¤‡è£½ä¸Šå»å³å¯ã€‚ æ¥ä¸‹ä¾†ä½¿ç”¨ kubectl apply å»ºç«‹ serviceï¼š $ kubectl apply -f service.yaml k8s å»ºç«‹ service (LoadBalancer)\" k8s å»ºç«‹ service (LoadBalancer) å¯ä»¥çœ‹åˆ° dashboard æœ‰æˆ‘å€‘å‰›å‰›å•Ÿå‹•çš„ Serviceï¼Œä½†æ˜¯å•Ÿå‹•å¾Œå‰é¢çš„ç‡ˆæ˜¯é»ƒè‰²çš„ï¼Œæ˜¯å› ç‚º minikube LoadBalancer éœ€è¦é€é tunnel æ‰å¯ä»¥ä½¿ç”¨ï¼Œå¯ä»¥åƒè€ƒ minikube å®˜ç¶²èªªæ˜ï¼š minikube å®˜ç¶² èªªæ˜ LoadBalancer minikube tunnel\" minikube å®˜ç¶² èªªæ˜ LoadBalancer minikube tunnel æ‰€ä»¥æˆ‘å€‘éœ€è¦ä½¿ç”¨ minikube tunnel ä¾†å•Ÿå‹• tunnel $ minikube tunnel âœ… Tunnel successfully started ğŸ“Œ NOTE: Please do not close this terminal as this process must stay alive for the tunnel to be accessible ... ğŸƒ Starting tunnel for service kubernetes-demo-service. å°±å¯ä»¥çœ‹åˆ°ç‡ˆè™Ÿå·²ç¶“è®Šæˆç¶ ç‡ˆï¼Œåœ¨å¤–éƒ¨ Endpoints å¤šä¸€å€‹é€£çµï¼Œå¯ä»¥ç›´æ¥é»é–‹ k8s service\" k8s service å°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘å¯æ„›çš„æŸ´çŠ¬å›‰ \u003e\u003c æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬\" æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬ ","date":"2022-05-03","objectID":"/k8s-advanced/:2:6","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Ingress ? é‚„è¨˜å¾—æˆ‘å€‘åœ¨ Service - NodePort æ™‚ï¼Œéœ€è¦æ‰“ \u003cip\u003e:\u003cport\u003e ï¼Œä½†ç¾åœ¨ç¶²ç«™é™¤äº†ç¶²åŸŸä»¥å¤–ï¼ŒåŸºæœ¬ä¸Šä¸æœƒéœ€è¦è‡ªå·±å»æ‰“ IP ä»¥åŠ Port äº†å§ï¼é‚£ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼Œæœ‰äº† Ingreessã€‚ Ingress å¯ä»¥å¹«åŠ©æˆ‘å€‘çµ±ä¸€å°å¤–çš„ port numberï¼Œä¸¦æ ¹æ“š hostname æˆ–æ˜¯ pathname ä¾†æ±ºå®šè«‹æ±‚è¦è½‰ç™¼åˆ°å“ªä¸€å€‹ Service ä¸Šï¼Œä¹‹å¾Œå°±å¯ä»¥åˆ©ç”¨è©² Service é€£æ¥åˆ° Pod ä¾†è™•ç†æœå‹™ã€‚ æˆ‘å€‘å…ˆä¾†çœ‹ä¸€ä¸‹ä¸€èˆ¬çš„ Service ï¼š Service åœ–ç‰‡ä¾†æºï¼š[Day 19] åœ¨ Kubernetes ä¸­å¯¦ç¾è² è¼‰å¹³è¡¡ - Ingress Controller\" Service åœ–ç‰‡ä¾†æºï¼š[Day 19] åœ¨ Kubernetes ä¸­å¯¦ç¾è² è¼‰å¹³è¡¡ - Ingress Controller å¯ä»¥çœ‹åˆ°ç•¶å¤šå€‹ Service åŒæ™‚é‹è¡Œæ™‚ï¼ŒNode éƒ½éœ€è¦æœ‰å°æ‡‰çš„ port number å»å°æ‡‰æ¯å€‹ Server çš„ port numberã€‚åƒæ˜¯ GCP é€™ç¨®é›²ç«¯æœå‹™ï¼Œæ¯å°æ©Ÿå™¨éƒ½æœƒé…ç½®å±¬æ–¼è‡ªå·±çš„é˜²ç«ç‰†ã€‚é€™ä¹Ÿä»£è¡¨ï¼Œä¸è«–æ–°å¢ã€åˆªé™¤ Service ç‰©ä»¶ï¼Œéƒ½å¿…é ˆè¦é¡å¤–å¤šèª¿æ•´é˜²ç«ç‰†çš„è¨­å®šï¼ŒPort çš„ç®¡ç†ä¹Ÿæƒ³å°è¤‡é›œã€‚ è‹¥æ˜¯ä½¿ç”¨ Ingressï¼Œæˆ‘å€‘åªéœ€è¦é–‹æ”¾ä¸€å€‹å°å¤–çš„ port numerï¼ŒIngree å¯ä»¥åœ¨è¨­å®šæª”ä¸­è¨­å®šä¸åŒçš„è·¯å¾‘ï¼Œæ±ºå®šè¦å°‡ä½¿ç”¨è€…çš„è«‹æ±‚å‚³é€åˆ°å“ªä¸€å€‹ Service ç‰©ä»¶ä¸Šï¼š Ingress åœ–ç‰‡ä¾†æºï¼š[Day 19] åœ¨ Kubernetes ä¸­å¯¦ç¾è² è¼‰å¹³è¡¡ - Ingress Controller\" Ingress åœ–ç‰‡ä¾†æºï¼š[Day 19] åœ¨ Kubernetes ä¸­å¯¦ç¾è² è¼‰å¹³è¡¡ - Ingress Controller é€™æ¨£çš„è¨­è¨ˆï¼Œé™¤äº†è®“ç¶­é‹äººå“¡ä¸éœ€è¦ç¶­è­·å¤šå€‹ port æˆ–æ˜¯é »ç¹çš„æ›´æ”¹é˜²ç«ç‰†å¤–ï¼Œå¯ä»¥è‡ªè¨‚æ¢ä»¶çš„åŠŸèƒ½ï¼Œä¹Ÿä½¿å¾—è«‹æ±‚çš„å°å‘å¯ä»¥æ›´åŠ å½ˆæ€§ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:3:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Ingress åŠŸèƒ½ å°‡ä¸åŒ\"è·¯å¾‘\"çš„è«‹æ±‚å°æ‡‰åˆ°ä¸åŒçš„ Service ç‰©ä»¶ è‹¥æ²’æœ‰è¨­å®šç¶²åŸŸï¼Œå‰‡è©²æ©Ÿå™¨ä¸Šçš„æ‰€æœ‰ç¶²åŸŸåªè¦é€éæ­¤è·¯å¾‘éƒ½å¯ä»¥é€£æ¥åˆ°æŒ‡å®šçš„ Service ç‰©ä»¶ã€‚ å°‡ä¸åŒ\"ç¶²åŸŸ\"çš„è«‹æ±‚å°æ‡‰åˆ°ä¸åŒçš„ Service ç‰©ä»¶ è‹¥æ²’æœ‰è¨­å®šè·¯å¾‘ï¼Œå‰‡æœƒä»¥ / è·¯å¾‘é€£æ¥åˆ°æŒ‡å®šçš„ Service ç‰©ä»¶ã€‚ æ”¯æ´ SSL Termination SSL å…¨åæ˜¯å‚³è¼¸å±¤å®‰å…¨æ€§å”å®šï¼Œè€Œç¶²ç«™é€šå¸¸éƒ½æœƒåˆ©ç”¨ https é€²è¡ŒåŠ å¯†ä»¥ç¢ºä¿è³‡æ–™å®‰å…¨ï¼Œä½† Service èˆ‡ Pod ä¹‹é–“çš„æºé€šéƒ½æ˜¯ä»¥ç„¡åŠ å¯†æ–¹å¼å‚³è¼¸ï¼Œæ‰€ä»¥ Ingress å°±æ”¯æ´è§£å¯†ï¼Œè®“ Service èˆ‡ Pod å¯ä»¥æ­£å¸¸æºé€šå‚³éè³‡æ–™ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:3:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"minikube å•Ÿå‹• Ingress ç”±æ–¼ minikube é è¨­æ²’æœ‰å•Ÿå‹• Ingress åŠŸèƒ½ï¼Œå› æ­¤éœ€è¦é¡å¤–ä½¿ç”¨ minikube addons enable ingress è®“ minikube å•Ÿå‹• Ingress (Ingress ä¹Ÿéœ€è¦å…ˆå®‰è£ Hyperfix)ï¼š Ingress åœ–ç‰‡ä¾†æºï¼š[Day 19] åœ¨ Kubernetes ä¸­å¯¦ç¾è² è¼‰å¹³è¡¡ - Ingress Controller\" Ingress åœ–ç‰‡ä¾†æºï¼š[Day 19] åœ¨ Kubernetes ä¸­å¯¦ç¾è² è¼‰å¹³è¡¡ - Ingress Controller ","date":"2022-05-03","objectID":"/k8s-advanced/:3:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"è¨­å®š /etc/hosts åŠ å…¥ Ingress åŸºæœ¬ä¸Šå°±éœ€è¦ç¶²åŸŸæ‰å¯ä»¥ä½¿ç”¨ï¼Œä½†æˆ‘å€‘åœ¨æœ¬æ©Ÿä¸Šåšç·´ç¿’ï¼Œæ‰€ä»¥åªè¦ä¿®æ”¹æœ¬æ©Ÿçš„ host æª”æ¡ˆå°±å¯ä»¥äº†(åŠ å…¥ minikube ip ä»¥åŠæƒ³è¦çš„ç¶²åŸŸåç¨±)ã€‚ $ vim /etc/hosts 192.168.64.11 test.tw 192.168.64.11 test-test.tw å› ç‚ºæœ‰å…©ç¨®æ–¹æ³•ï¼Œç¬¬ä¸€ç¨® (è¨­å®šç¶²åŸŸä»¥åŠè·¯å¾‘)è·Ÿç¬¬äºŒç¨® (åªè¨­å®šè·¯å¾‘æ²’æœ‰è¨­å®šç¶²åŸŸ)ï¼Œæ‰€ä»¥åº•ä¸‹ä¹Ÿæœƒåˆ†æˆå…©ç¨®ä¾†èªªæ˜ï¼ ","date":"2022-05-03","objectID":"/k8s-advanced/:3:3","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"è¨­å®šç¶²åŸŸä»¥åŠè·¯å¾‘ Github ç¨‹å¼ç¢¼é€£çµ apiVersion:networking.k8s.io/v1kind:Ingressmetadata:name:kubernetes-demo-ingressspec:rules:- host:\"test.tw\"http:paths:- path:/pathType:Prefixbackend:service:name:kubernetes-demo-serviceport:number:3000 ","date":"2022-05-03","objectID":"/k8s-advanced/:3:4","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"åªè¨­å®šè·¯å¾‘æ²’æœ‰è¨­å®šç¶²åŸŸ Github ç¨‹å¼ç¢¼é€£çµ apiVersion:networking.k8s.io/v1kind:Ingressmetadata:name:kubernetes-demo-ingressspec:rules:- http:paths:- path:/pathType:Prefixbackend:service:name:kubernetes-demo-serviceport:number:3000 Ingress æ•´é«”å¯«æ³•èˆ‡ Service å·®ä¸å¤šï¼Œåªå·®åœ¨ spec çš„ç´°éƒ¨è¨­å®šï¼Œæˆ‘å€‘å°±ä¾†èªªä¸€ä¸‹ spec è¨­å®šå§ï¼š å°äº†ï½ Ingress çš„ apiVersion ä¸åƒæ˜¯ Pod è·Ÿ Service ä¸€æ¨£ä½¿ç”¨ v1 ï¼Œå› ç‚ºç›®å‰æ”¯æ´ Ingress çš„ API åªæœ‰ networking.k8s.io/v1ï¼Œè©³ç´°å¯ä»¥åƒè€ƒ kubernetes Ingress å®˜ç¶² rules é€™ä»£è¡¨é€™å€‹ Ingress çš„è½‰ç™¼è¦å‰‡ï¼Œæ­¤ Ingress æ‰€æœ‰çš„è¨­å®šéƒ½å¿…é ˆå¯«è¼‰ rules å…§ã€‚ host è¨­å®šå¯ä»¥é€£æ¥åˆ° Service ç‰©ä»¶çš„ç¶²è·¯åç¨±ã€‚ path è¨­å®šå¯ä»¥é€£æ¥åˆ° Service ç‰©ä»¶çš„è·¯å¾‘åç¨±ã€‚ pathType åˆ†ç‚º Prefix å’Œ Exact å…©ç¨®ï¼ŒPrefixï¼šå‰ç¶´ç¬¦åˆå°±ç¬¦åˆè¦å‰‡ ; Exactï¼šéœ€è¦å®Œå…¨ä¸€è‡´æ‰è¡Œï¼ŒåŒ…å«å¤§å°å¯«ã€‚ type path request path macth Prefix / å…¨éƒ¨è·¯å¾‘ Yes Exact /aa /aa Yes Exact /bb /cc No Prefix /aa /aa,/aa/ Yes Prefix /aa/cc /aa/ccc No service.name è¨­å®šé€£æ¥åˆ°çš„ Service åç¨±ï¼Œé€™è£¡è¦å¡«å¯«çš„å°±æ˜¯ Service ä¸­åœ¨ metadata å…§å¯«çš„ nameã€‚ service.port.number è¨­å®šè¦ç¶“ç”±å“ªå€‹ port é€£æ¥åˆ° Service ç‰©ä»¶ï¼Œå°±åƒæ˜¯ Service çš„ Port è¦é€£æ¥åˆ° Pod çš„ targetPortã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:3:5","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"å»ºç«‹ Ingress ä¸€æ¨£æˆ‘å€‘åˆ†æˆå…©å€‹åšèªªæ˜ è¨­å®šç¶²åŸŸä»¥åŠè·¯å¾‘ ä¸€æ¨£ä½¿ç”¨ apply ä¾†å»ºç«‹ï¼š $ kubectl apply -f ingress.yaml ingress.networking.k8s.io/kubernetes-demo-ingress created ä½¿ç”¨ kubectl get ing ä¾†æŸ¥è©¢ Ingress ç‹€æ³ï¼š $ kubectl get ing NAME CLASS HOSTS ADDRESS PORTS AGE kubernetes-demo-ingress nginx test.tw 192.168.64.11 80 10m æ¥ä¸‹ä¾†æˆ‘å€‘åˆ†åˆ¥æ¸¬è©¦å¯«åœ¨ /etc/host è£¡é¢çš„å…©å€‹ç¶²åŸŸï¼Œä½¿ç”¨ç€è¦½å™¨æœå°‹ test.tw è·Ÿ test-test.twï¼š test.tw æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬\" æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬ test-test.tw é¡¯ç¤º 404\" é¡¯ç¤º 404 å¾ä¸Šé¢çµæœå¯ä»¥çŸ¥é“ï¼Œå› ç‚ºæˆ‘å€‘æœ‰è¨­å®š domainï¼Œæ‰€ä»¥åªæœ‰ç¬¦åˆçš„æ‰æœƒé€£æ¥åˆ° Service ã€‚ åªè¨­å®šè·¯å¾‘æ²’æœ‰è¨­å®šç¶²åŸŸ ä¸€æ¨£ä½¿ç”¨ apply ä¾†å»ºç«‹ï¼š $ kubectl apply -f ingress.yaml ingress.networking.k8s.io/kubernetes-demo-ingress created ä½¿ç”¨ kubectl get ing ä¾†æŸ¥è©¢ Ingress ç‹€æ³ï¼š $ kubectl get ing NAME CLASS HOSTS ADDRESS PORTS AGE kubernetes-demo-ingress nginx * 192.168.64.11 80 5m56s æ¥ä¸‹ä¾†æˆ‘å€‘åˆ†åˆ¥æ¸¬è©¦å¯«åœ¨ /etc/host è£¡é¢çš„å…©å€‹ç¶²åŸŸï¼Œä½¿ç”¨ç€è¦½å™¨æœå°‹ test.tw è·Ÿ test-test.twï¼š test.tw æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬\" æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬ test-test.tw é¡¯ç¤º 404\" é¡¯ç¤º 404 å¾ä¸Šé¢çµæœå¯ä»¥çŸ¥é“ï¼Œå¯ä»¥ç™¼ç¾ hosts çš„éƒ¨åˆ†æ˜¯ * ï¼Œé€™ä»£è¡¨æ‰€æœ‰èƒŒå¾ŒæŒ‡å‘ 192.168.64.11 é€™å€‹ IP çš„ç¶²åŸŸéƒ½å¯ä»¥ç›´æ¥é€£æ¥åˆ° Service ç‰©ä»¶ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:3:6","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Replication Controller ? å¤§å®¶çœ‹åˆ° Controller å°±çŸ¥é“ Replication Controller ä¹Ÿæ˜¯ä¸€ç¨® Controller è² è²¬æ§åˆ¶ Replicationï¼Œè€Œ Replication ç¿»æˆä¸­æ–‡æ˜¯è¤‡è£½çš„æ„æ€ï¼Œåœ¨ Kubernetes ä¸­ Replication ä»£è¡¨åŒä¸€ç¨® Pod çš„è¤‡è£½å“ã€‚ é€™é‚Šè¦å¸¶çµ¦å¤§å®¶èªè­˜ä¸€å€‹é‡è¦çš„è¨­å®šï¼šreplicaï¼Œreplica å°±æ˜¯è¤‡è£½å“çš„æ„æ€ï¼Œé€éé€™å€‹è¨­å®šæˆ‘å€‘å°±å¯ä»¥å¿«é€Ÿç”¢ç”Ÿä¸€æ¨£å…§å®¹çš„ Podï¼Œèˆ‰ä¾‹ä¾†èªªï¼šä»Šå¤©è¨­å®šäº† replica: 3 å°±ä»£è¡¨æœƒç”¢ç”Ÿå…©å€‹å…§å®¹ä¸€æ¨£çš„ Pod å‡ºä¾†ã€‚ Kubernetes StatefulSet æ¶æ§‹\" Kubernetes StatefulSet æ¶æ§‹ ","date":"2022-05-03","objectID":"/k8s-advanced/:4:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Replication Controller ç”¨é€” ä¸Šé¢æœ‰æåˆ° Replication Controller å¯ä»¥åˆ©ç”¨è¨­å®š replica çš„æ–¹å¼å¿«é€Ÿå»ºç«‹ Pod æ•¸é‡ï¼Œé™¤äº†å»ºç«‹ä¹‹å¤– Replication Controller ä¹Ÿç¢ºä¿ Pod æ•¸é‡èˆ‡æˆ‘å€‘è¨­å®šçš„ replica ä¸€è‡´ï¼Œå‡å¦‚ä»Šå¤©ä¸å°å¿ƒåˆªé™¤å…¶ä¸­ä¸€å€‹ Podï¼Œé€™æ™‚å€™ Replication Controller æœƒè‡ªå‹•å†ç”¢ç”Ÿä¸€å€‹æ–°çš„ Pod ä¾†è£œé½Šåˆªé™¤çš„ Pod ç©ºç¼ºï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥å–„ç”¨ Replication Controller ä¾†è®“ç³»çµ±æ›´ä½³ç©©å®šã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:4:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Replication Controller å¯«æ³• æˆ‘å€‘ä¾†ä¿®æ”¹ä¸€ä¸‹ä¹‹å‰çš„ kubernetes-demo.yaml Pod æª”æ¡ˆï¼š(Github ç¨‹å¼ç¢¼é€£çµ) apiVersion:v1kind:ReplicationControllermetadata:name:kubernetes-demospec:replicas:3selector:app:demotemplate:metadata:labels:app:demospec:containers:- name:kubernetes-demo-containerimage:880831ian/kubernetes-demoports:- containerPort:3000 é€™å€‹è¨­å®šæª”çœ‹ä¼¼è¤‡é›œä½†å…¶å¯¦å¾ˆç°¡å–®ï¼Œå¯ä»¥ç™¼ç¾ template å€å¡Šå…§çš„è¨­å®šåŸºæœ¬ä¸Šå°±æ˜¯ Pod çš„è¨­å®šï¼Œå†åŠ ä¸Šä¸€äº›å±¬æ–¼ Replication Controller çš„è¨­å®šã€‚ ç”±æ–¼æˆ‘å€‘è¦å»ºç«‹çš„æ˜¯ Replication Controllerï¼Œå› æ­¤åœ¨ä¸€é–‹å§‹çš„ spec è¦å¡«çš„æ˜¯ Replication Controller çš„è¨­å®šï¼Œæ‰€ä»¥ replica æœƒæ“ºåœ¨ç¬¬ä¸€å€‹ spec å…§ã€‚ å¯ä»¥å†çœ‹åˆ° selectorï¼Œå‰é¢æåˆ° Replication Controller è¦æ§åˆ¶çš„å°±æ˜¯ Pod çš„æ•¸é‡ï¼Œæ‰€ä»¥é€™é‚Šçš„ selector å°±æ˜¯è¦é¸å– Podï¼Œå°±è·Ÿæˆ‘å€‘åœ¨ Service è¦é¸å– Pod çš„ä¸€æ¨£ã€‚ æœ€å¾Œä¸€å€‹æ–°çš„è¨­å®šï¼štemplateï¼Œtemplate å°±æ˜¯ç”¨ä¾†å®šç¾© Pod çš„è³‡è¨Šï¼Œæ‰€ä»¥ Pod çš„å…§å®¹åƒæ˜¯ metadataã€spec ç­‰ç­‰éƒ½æœƒå¯«åœ¨ template å…§ï¼Œæ‰€ä»¥å¯ä»¥æŠŠ template æƒ³åƒæˆä¸éœ€è¦å¯« apiVersion è·Ÿ kind çš„ Pod å£“æ¨¡æª”ï¼Œæœ‰äº†é€™å€‹è§€å¿µå†ä¾†çœ‹ template å…§çš„æè¿°å°±å¾ˆç°¡å–®ï¼Œåªæ˜¯æŠŠ Pod çš„å…§å®¹è¤‡è£½éä¾†è€Œå·²ï¼Œè€Œ template å…§çš„ spec å°±æ˜¯å¯«ä¸Š Pod çš„ container è³‡è¨Šã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:4:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Replication Controller å»ºç«‹ è€æ¨£å­ï¼Œä¹Ÿæ˜¯ä½¿ç”¨ apply ä¾†å»ºç«‹å£“æ¨¡æª”ï¼š $ kubectl apply -f kubernetes-demo.yaml replicationcontroller/kubernetes-demo created ä¾†æŸ¥çœ‹ä¸€ä¸‹ Replication Controller æ˜¯å¦æœ‰æˆåŠŸå»ºç«‹èµ·ä¾†ï¼Œå¯ä»¥ä½¿ç”¨ kubectl get rc ä¾†æŸ¥è©¢ï¼š $ kubectl get rc NAME DESIRED CURRENT READY AGE kubernetes-demo 3 3 3 28s æ¥ä¸‹ä¾†å¯ä»¥æŸ¥çœ‹ Pod æ˜¯å¦æœ‰å‡ºç¾ 3 å€‹ï¼Œæ‰€ä»¥ä½¿ç”¨ kubectl get po ä¾†æŸ¥è©¢ï¼š $ kubectl get po NAME READY STATUS RESTARTS AGE kubernetes-demo-4zkxm 1/1 Running 0 37s kubernetes-demo-cp8jt 1/1 Running 0 37s kubernetes-demo-pt9px 1/1 Running 0 37s å¯ä»¥çœ‹åˆ°ç‚ºäº†ä¸è¦è®“åç¨±é‡è¤‡ï¼Œæ‰€ä»¥ Replication Controller æœƒåœ¨æ¯ä¸€å€‹ Pod åç¨±å¾Œé¢åŠ å…¥äº‚æ•¸ã€‚ æ¥ä¸‹ä¾†æˆ‘å€‘ç”¨ minikube dashboard ä¾†æ¸¬è©¦ä¸€ä¸‹ï¼Œæ˜¯å¦åˆªé™¤å…¶ä¸­ä¸€å€‹ Pod å¾Œï¼ŒReplication Controller æœƒè‡ªå‹•å»ºç«‹æ–°çš„ï¼š åˆªé™¤éš¨æ©Ÿä¸€å€‹ Pod\" åˆªé™¤éš¨æ©Ÿä¸€å€‹ Pod ç•¶æˆ‘å€‘éš¨æ©Ÿåˆªé™¤ä¸€å€‹ Pod æ™‚ï¼Œè¢«åˆªé™¤çš„ Pod æœƒ Terminating æº–å‚™åˆªé™¤ï¼Œä¸”å•Ÿå‹•ä¸€å€‹æ–°çš„ Pod ContainerCreatingï¼š Pod æœå‹™\" Pod æœå‹™ ç•¶æ–°çš„ Pod å•Ÿå‹•æˆåŠŸå¾Œï¼ŒèˆŠçš„ Pod æ‰æœƒè¢«åˆªé™¤ï¼Œæ‰€ä»¥å¯ä»¥ç¢ºä¿æˆ‘å€‘çš„æœå‹™ç©©å®šåº¦ã€‚ Pod æœå‹™\" Pod æœå‹™ ç¶œä¸Šæ‰€è¿°ï¼Œå¯ä»¥çŸ¥é“ Replication Controller çœŸçš„æœƒæ§åˆ¶ Pod æ•¸é‡ï¼Œé‚£æˆ‘å€‘åˆªæ‰ä¸€å€‹ Pod ä»–å°±é‡ç”Ÿä¸€å€‹ï¼Œé€™æ¨£ä¸æœƒæ°¸é éƒ½åˆªä¸å®Œå—ï¼Ÿå…¶å¯¦æˆ‘å€‘å¯ä»¥æŠŠ Replication Controller ç æ‰å°±å¥½äº†ï¼Œè€Œ Replication Controller åˆªé™¤æ™‚ï¼Œä¹Ÿæœƒè‡ªå‹•çµ‚æ­¢åº•ä¸‹çš„ Pod ï¼Œæœ€å¾Œ Pod éƒ½æœƒè‡ªå‹•åˆªé™¤ã€‚ ä½†å…¶å¯¦ Kubernetes å®˜æ–¹ä¸å»ºè­°ä½¿ç”¨ Replication Controller çš„æ–¹å¼ä¾†æ§åˆ¶ Podï¼Œè€Œæ˜¯å»ºè­°ä½¿ç”¨ Deployment æ­é… ReplicaSet ä¾†æ§åˆ¶ï¼Œæˆ‘å€‘æ¥ä¸‹ä¾†è¦ä»‹ç´¹çš„ä¸»é¡Œå°±æ˜¯ï¼šDeployment è·Ÿ ReplicaSet ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:4:3","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ ReplicaSet ? çœ‹åˆ° Replica å¤§å®¶æ‡‰è©²å°±çŸ¥é“é€™å€‹è·Ÿæ§åˆ¶ Pod çš„æ•¸é‡æœ‰é—œä¿‚äº†ï¼å…¶å¯¦ Replica è·Ÿ Replication Controller å¾ˆåƒï¼ŒReplcaSet æä¾›äº†æ›´å½ˆæ€§çš„ selectorï¼Œåœ¨ Replication Controller ä¸­æˆ‘å€‘å¿…é ˆè¦æŠŠå®Œæ•´çš„ key/value Label å¯«ä¸Šå»ï¼Œåœ¨ ReplicaSet ä¸ç”¨é€™å€‹éº»ç…©ï¼Œä½† ReplicaSet ä¸€æ¨£ä¹Ÿå¯ä»¥å¯«ä¸Šå®Œæ•´çš„ Label ï¼Œé€™å€‹å°±çœ‹é–‹ç™¼è€…è¦æ€éº¼å»è¨­è¨ˆäº†ï¼ ","date":"2022-05-03","objectID":"/k8s-advanced/:5:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ReplcaSet çš„ç‰¹æ€§ ä¸Šé¢æœ‰æåˆ° ReplcaSet éå¸¸å½ˆæ€§çš„ selectorï¼Œé€™é‚Šè¦èªªçš„æ˜¯ ReplcaSet æ˜¯å¦‚ä½•è®“ selector è®Šå¾—æ›´åŠ å½ˆæ€§ï¼Œé€™è£¡ä¸€å…±è¦ä»‹ç´¹å…©ç¨® ReplcaSet çš„ selector å¯«æ³•ï¼š matchLabels matchLabels å…¶å¯¦è·Ÿä¸€èˆ¬çš„ selector åšçš„äº‹æƒ…ä¸€æ¨¡ä¸€æ¨£ï¼Œä¹Ÿè¦å¯«å‡ºå®Œæ•´çš„ Label å‡ºä¾†ï¼Œæ•´é«”å¤§æ¦‚æœƒé•·åƒé€™æ¨£ï¼š selector:matchLabels:app:demo matchExpressions matchExpressions å‰‡æ˜¯æä¾›æ›´å½ˆæ€§çš„é¸å–æ¢ä»¶ï¼Œæ¯ä¸€ç­†æ¢ä»¶ä¸»è¦ç”± keyã€operatorã€value çµ„æˆï¼Œä¸¦ä¸”ä½¿ç”¨ä¸€å€‹ { } åŒ…èµ·ä¾†ï¼Œçœ‹èµ·ä¾†å¾ˆåƒ JS çš„ ç‰©ä»¶å‹æ…‹ï¼Œæ•´é«”å¤§æ¦‚æœƒé•·åƒé€™æ¨£ï¼š selector:matchExpression:- {key: app, operator: In, values:[demo, test]} çœ‹èµ·ä¾†ä¼¼ä¹å¾ˆè¤‡é›œä½†å…¶å¯¦å¾ˆå®¹æ˜“ç†è§£ï¼Œä¸Šé¢çš„ç¤ºç¯„ä¸­ Expression ç¿»æˆä¸­æ–‡å°±æ˜¯åªè¦ Label çš„ key æ˜¯ app ä¸”å€¼ç¬¦åˆ [demo, test] é™£åˆ—ä¸­çš„å…¶ä¸­ä¸€å€‹å€¼çš„ Pod å°±æœƒè¢«é¸å–åˆ°ã€‚ æˆ‘å€‘åœ¨éš¨ä¾¿å–å¾—ä¾‹å­ï¼šå‡è¨­æœ‰ä¸€å€‹ matchExpression é•·å¾—åƒé€™æ¨£ï¼š selector:matchExpression:- {key: env, operator: NotIn, values:[hello, hi]} æˆ‘å€‘å¯ä»¥å¾—çŸ¥è¦é¸å– Label çš„ key ç‚º env ä¸”å€¼ä¸èƒ½æ˜¯ [hello, hi] å…¶ä¸­ä¸€å€‹å€¼çš„ Podã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:5:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Deployment ? Deployment æ˜¯ä¸€ç¨®è² è²¬ç®¡ç† ReplicaSet ä»¥åŠæ§åˆ¶ Pod æ›´æ–°çš„ç‰©ä»¶ï¼Œåœ¨å…ˆå‰çš„æ–‡ç« éƒ½æ²’æœ‰æåˆ° Pod çš„æ›´æ–°ï¼Œæ˜¯å› ç‚º Pod ç„¡æ³•ç›´æ¥åšæ›´æ–°ï¼Œå¿…é ˆç æ‰é‡å»ºæ‰æœƒæ˜¯æ–°çš„å…§å®¹ï¼Œæœ‰äº† Deployment ä¹‹å¾Œæˆ‘å€‘å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„é€²è¡Œ Pod çš„æ›´æ–°äº†ï¼ ç”±æ–¼ ReplicaSet æœ¬èº«ä¹Ÿæœƒæ§åˆ¶ Podï¼Œæ‰€ä»¥æ•´å€‹çœ‹èµ·ä¾†æœƒåƒæ˜¯ Deployment æ§åˆ¶ Podï¼Œä½†å…¶å¯¦çœŸæ­£æ§åˆ¶ Pod çš„æ˜¯ ReplicaSet ~ Deployment èˆ‡ ReplicaSet æ¶æ§‹åœ–\" Deployment èˆ‡ ReplicaSet æ¶æ§‹åœ– ","date":"2022-05-03","objectID":"/k8s-advanced/:6:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Deployment çš„ç‰¹æ€§ éƒ¨ç½²ä¸€å€‹æ‡‰ç”¨æœå‹™ ä¸Šé¢æˆ‘å€‘æåˆ° Deployment å¯ä»¥å¹«åŠ© Pod é€²è¡Œæ›´æ–°ï¼Œé€šå¸¸åœ¨é–‹ç™¼ä¸€å€‹ç”¢å“çš„æ™‚å€™ä¸€å®šæœƒä¸æ–·çš„æ›´æ–°ï¼Œé€é Deployment æˆ‘å€‘å¯ä»¥å¿«é€Ÿçš„æ›´æ–° Pod å…§éƒ¨çš„ containerï¼Œæ‰€ä»¥é€šå¸¸åœ¨éƒ¨ç½²æ‡‰ç”¨çš„æ™‚å€™éƒ½æœƒä½¿ç”¨ Deployment ä¾†é€²è¡Œéƒ¨ç½²ã€‚ åœ¨æœå‹™å‡ç´šéç¨‹ä¸­å¯ä»¥é”æˆç„¡åœæ©Ÿæœå‹™é·ç§» (Zero downtime deployment) åœ¨ Deployment å¹« Pod å…§éƒ¨ container é€²è¡Œæ›´æ–°çš„éç¨‹æœ‰ä¸€å€‹å°ˆæœ‰åç¨±å«åš RollingUpdate ï¼ŒRollingUpdate ç¿»æˆä¸­æ–‡çš„æ„æ€æ˜¯æ»¾å‹•æ›´æ–°ï¼Œåœ¨æ›´æ–°çš„éç¨‹ä¸­ Deployment æœƒå…ˆç”¢ç”Ÿä¸€å€‹æ–°çš„ ReplicaSet è€Œé€™å€‹ ReplicaSet å…§éƒ¨çš„ Pod æœƒé‹è¡Œæ–°çš„å…§å®¹ï¼Œå¾…æ–°çš„ Pod è¢« Kubernetes ç¢ºèªå¯ä»¥æ­£å¸¸é‹è¡Œå¾Œ Deployment æ‰æœƒå°‡èˆŠçš„ ReplicaSet é€²è¡Œå–ä»£çš„å‹•ä½œï¼Œé€™æ¨£å°±å®Œæˆäº†ç„¡åœæ©Ÿæœå‹™é·ç§»äº†ã€‚ å¯ä»¥ Rollback åˆ°å…ˆå‰ç‰ˆæœ¬ æ¯ä¸€æ¬¡çš„ Deployment åœ¨é€²è¡Œ RollingUpdate çš„æ™‚å€™éƒ½æœƒæŠŠç•¶å‰çš„ ReplicaSet åšä¸€å€‹ç‰ˆæœ¬æ§åˆ¶çš„ç´€éŒ„ï¼Œå°±åƒæ˜¯ git commit ä¸€æ¨£ï¼Œæ‰€ä»¥æˆ‘å€‘ä¹Ÿå¯ä»¥åˆ©ç”¨é€™äº›ç´€éŒ„ä¾†å¿«é€Ÿæ¢å¾©æˆä»¥å‰çš„ç‰ˆæœ¬ï¼Œé€™äº› Pod ä¹Ÿå°±æœƒè®Šæˆå…ˆå‰çš„å…§å®¹ã€‚ è¬›å®ŒåŸºæœ¬çš„ä»‹ç´¹å¾Œï¼Œæ¥ä¸‹ä¾†è¦ä»‹ç´¹çš„æ˜¯è¦å¦‚ä½•æ’°å¯«ä»¥åŠå»ºç«‹ä¸€å€‹ Deploymentï¼š ","date":"2022-05-03","objectID":"/k8s-advanced/:6:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Deployment æ­é… ReplicaSet å¯«æ³• Github ç¨‹å¼ç¢¼é€£çµ apiVersion:apps/v1kind:Deploymentmetadata:name:kubernetes-deploymentspec:replicas:3strategy:type:RollingUpdaterollingUpdate:maxSurge:1maxUnavailable:1minReadySeconds:60revisionHistoryLimit:10template:metadata:labels:app:demospec:containers:- name:kubernetes-demo-containerimage:880831ian/kubernetes-demoports:- containerPort:3000selector:matchLabels:app:demo çœ‹åˆ° Deployment æ˜¯ä¸æ˜¯è¦ºå¾—è·Ÿ Replication Controller éå¸¸ç›¸ä¼¼å‘¢ï¼Ÿå…¶å¯¦ Deployment å°±å¤šäº†å† RollingUpdate æ™‚çš„è¨­å®šä»¥åŠ ReplicaSet çš„è¨­å®šè€Œå·²ï¼Œä¸‹é¢ä¾†èªªæ˜ä¸€ä¸‹é€™äº›è¨­å®šï¼š é¦–å…ˆä¸€é–‹å§‹çš„ apiVersion çš„å€¼å·²ç¶“ä¸æ˜¯ v1 äº†ï¼Œæ”¹æˆ apps/v1ï¼Œç”±æ–¼ Kubernetes é‡å° Deploymentã€RollingUpdateã€ReplicaSet ç­‰ç­‰è¨­å®šäº†æ–°çš„ apiVersion å€¼ï¼Œé€šå¸¸éƒ½ç”¨ apps/v1 éƒ½æ˜¯ç”¨ä¾†è¨­å®šè·Ÿæ‡‰ç”¨ç¨‹å¼æœ‰é—œçš„æ¶è¨­ï¼Œæ‰€ä»¥ Deployment é€™é‚Šè¦è¨˜å¾—æ”¹æˆ apps/v1 æ­ï¼ åœ¨ spec çš„åœ°æ–¹æœ‰çœ‹åˆ° strategy æ–°çš„è¨­å®šå€¼ï¼Œé€™å€‹ä¸»è¦ç”¨ä¾†è¨­å®š Deployment æ›´æ–°çš„ç­–ç•¥ï¼Œé€™è£¡çš„ strategy.type æœ‰å…©ç¨®è¨­å®šï¼š RollingUpdate æ­¤ç‚ºé è¨­å€¼ï¼Œå…ˆå»ºç«‹æ–°çš„ ReplicaSet ä¸¦æ§åˆ¶æ–°å…§å®¹çš„ Podï¼Œå¾…æ–° Pod ä¹Ÿå¯ä»¥æ­£å¸¸é‹ä½œå¾Œï¼Œæ‰æœƒé€šçŸ¥ ReplicaSet å°‡åŸæœ‰çš„ Pod çµ¦ç§»é™¤ï¼Œç”±æ–¼éç¨‹ä¸­æœƒæœ‰æ–°èˆŠå…©ç¨® Pod åŒæ™‚ä¸Šç·šï¼Œå› æ­¤æœƒæœ‰ä¸€æ®µæ™‚é–“æ˜¯æ–°èˆŠå…§å®¹æœƒéš¨æ©Ÿå‡ºç¾çš„æƒ…å½¢ç™¼ç”Ÿã€‚ é€™é‚Šå¯ä»¥çœ‹åˆ°é™¤äº† type ä»¥å¤–é‚„å¯«äº† maxSurage ä»¥åŠ maxUnavailablleï¼Œé€™å…©å€‹è¨­å®šå€¼ç‚º RollingUpdate éç¨‹çš„è¨­å®šï¼Œæ¥ä¸‹ä¾†ä¸€æ¨£èªªæ˜ä¸€ä¸‹å…©å€‹è¨­å®šçš„åŠŸèƒ½ï¼š macSurgeï¼šä»£è¡¨ ReplicaSet å¯ä»¥ç”¢ç”Ÿæ¯” Deployment è¨­å®šä¸­çš„ replica æ‰€è¨­å®šçš„æ•¸é‡é‚„å¤šå¹¾å€‹å‡ºä¾†ï¼Œå¤šæ–°å¢ Pod çš„å¥½è™•æ˜¯åœ¨ RollingUpdate éç¨‹ä¸­å¯ä»¥æ¸›å°‘èˆŠå…§å®¹é¡¯ç¤ºåœ¨é é¢çš„æ©Ÿç‡ã€‚ macUnavailableï¼šä»£è¡¨åœ¨ RollingUpdate éç¨‹ä¸­ï¼Œå¯ä»¥å…è¨±å¤šå°‘çš„ Pod ç„¡æ³•ä½¿ç”¨ï¼Œå‡è¨­ macSurge è¨­å®šé 0ï¼ŒmaxUnavailable ä¹Ÿè¦è¨­å®šé 0ã€‚ Recreate å…ˆé€šçŸ¥ç•¶å‰ ReplicaSet æŠŠèˆŠçš„ Pod ç æ‰å†ç”¢ç”Ÿæ–°çš„ ReplicaSet ä¸¦æ§åˆ¶æ–°å…§å®¹çš„ Podï¼Œç”±æ–¼å…ˆç æ‰ Pod æ‰å»ºç«‹æ–°çš„ Pod ï¼Œæ‰€ä»¥ä¸­é–“æœ‰ä¸€æ®µæ™‚é–“ä¼ºæœå™¨æœƒç„¡æ³•é€£ç·šã€‚ ä¹Ÿå› ç‚º Recreate æœƒç æ‰é‡å»ºï¼Œå› æ­¤ Recreate ç„¡æ³•åƒ RollingUpdate è¨­å®š maxSurge ä»¥åŠ macUnavailableã€‚ è¬›å®Œ Deployment çš„æ›´æ–°æµç¨‹è¨­å®šå¾Œï¼Œæ¥ä¸‹ä¾†è¦è¬› Deployment å®Œæˆæ›´æ–°å¾Œçš„è¨­å®šï¼Œé€™é‚Šæœ‰å…©ç¨®è¨­å®šï¼š minReadySeconds minReadySeconds ä»£è¡¨ç•¶æ–°çš„ Pod å»ºç«‹å¥½ä¸¦ä¸”é‹è¡Œçš„ container æ²’æœ‰ crash çš„æƒ…æ³ä¸‹ï¼Œæœ€å°‘éœ€è¦å¤šå°‘æ™‚é–“å¯ä»¥é–‹å§‹æ¥å— Requestï¼Œé è¨­ç‚º 0 ç§’ï¼Œä»£è¡¨ç•¶ Pod ä¸€è¢«å»ºç«‹èµ·ä¾†ï¼Œå°±å¯ä»¥é¦¬ä¸Šé–‹å§‹æ¥å— Requestï¼Œå‡è¨­ä»Šå¤© container åœ¨å‰›é‹è¡Œçš„æ™‚å¾Œéœ€è¦èŠ±æ™‚é–“åšåˆå§‹åŒ–ï¼Œé€™æ™‚å€™å°±å¯ä»¥åˆ©ç”¨ minReadySeconds è®“æ­¤ Pod ä¸æœƒé¦¬ä¸Šæ¥å—åˆ° Request ï¼Œé€™å€‹æ˜¯é¸å¡«çš„è¨­å®šã€‚ revisionHistoryLimit æ¯æ¬¡ Deployment åœ¨é€²è¡Œæ›´æ–°çš„æ™‚å€™ï¼Œéƒ½æœƒç”¢ç”Ÿä¸€å€‹æ–°çš„ ReplicaSet ç”¨ä¾†é€²è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œåœ¨ Deployment ä¸­é€™å€‹å°ˆæœ‰åç¨±ç‚º revisionï¼Œæ‰€ä»¥é€™å€‹è¨­å®šå°±æ˜¯è¦è¨­å®šæœ€å¤šåªæœƒæœ‰å¤šå°‘å€‹ revisionï¼Œé€™å€‹ä¹Ÿæ˜¯é¸å¡«çš„è¨­å®šã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:6:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Deployment å»ºç«‹ è€æ¨£å­ï¼Œä½¿ç”¨ apply ä¾†å»ºç«‹ Deploymentï¼Œæˆ‘å€‘å¯ä½¿ç”¨ kubectl get deploy ä¾†æŸ¥çœ‹æ˜¯å¦å»ºç«‹æˆåŠŸï¼š $ kubectl get deploy NAME READY UP-TO-DATE AVAILABLE AGE kubernetes-deployment 3/3 3 3 8m31s ç”±æ–¼ Deployment ç›´æ¥ç®¡ç† ReplcaSetï¼Œå› æ­¤æˆ‘å€‘å¯ä»¥æŸ¥çœ‹ ReplcaSet æ˜¯å¦ä¹Ÿæœ‰è¢«å»ºç«‹èµ·ä¾†ï¼š $ kubectl get rs NAME DESIRED CURRENT READY AGE kubernetes-deployment-dc5c59fdb 3 3 3 10m å¯ä»¥çœ‹åˆ° ReplcaSet å¾Œé¢æœƒè‡ªå‹•åŠ ä¸Šä¸€å°æ®µäº‚æ•¸ï¼Œé€™é‚Šæ˜¯ Deployment åœ¨å»ºç«‹ ReplicaSet çš„æ™‚å€™åŠ é€²å»çš„ï¼Œé€™æ¨£ä¹‹å¾Œå¯ä»¥æ›´æ–¹ä¾¿çš„åˆ©ç”¨ ReplcaSet é€²è¡Œ rollback çš„å‹•ä½œã€‚ ç”±æ–¼ ReplicaSet æœƒç›´æ¥ç®¡ç† Podï¼Œå› æ­¤æˆ‘å€‘ä¹Ÿå¯ä»¥æŸ¥çœ‹ Pod æ˜¯å¦æœ‰è¢«å»ºç«‹èµ·ä¾†ï¼š $ kubectl get po NAME READY STATUS RESTARTS AGE kubernetes-deployment-dc5c59fdb-cjbz6 1/1 Running 0 12m kubernetes-deployment-dc5c59fdb-mjvd7 1/1 Running 0 12m kubernetes-deployment-dc5c59fdb-r92zt 1/1 Running 0 11m é‚£æˆ‘å€‘ç”¨ minikube dashboard ä¾†æŸ¥çœ‹ä¸€ä¸‹ï¼š minikube dashboard æŸ¥çœ‹ Deployment èˆ‡ ReplicaSet\" minikube dashboard æŸ¥çœ‹ Deployment èˆ‡ ReplicaSet Deployment çš„æœ€å¾Œè¦ä¾†èªªçš„æ˜¯è¦å¦‚ä½•æ›´æ–°åº•ä¸‹çš„ Pod å‘¢ï¼Œå¤§å®¶å°±æ¥è‘—å¾€ä¸‹çœ‹å›‰ï¼ ","date":"2022-05-03","objectID":"/k8s-advanced/:6:3","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"å¦‚ä½•æ›´æ–° Deployment å…§éƒ¨çš„ Pod å¤§å®¶éƒ½çŸ¥é“ Pod æ˜¯ Kubernetes æœ€å°çš„é‹è¡Œå–®ä½ï¼Œæ‰€ä»¥æ›´æ–° Pod çš„æ„æ€å°±æ˜¯æŠŠå…§éƒ¨é‹è¡Œçš„ container é€²è¡Œæ›´æ–°ï¼Œä¹Ÿå°±æ˜¯èªªæˆ‘å€‘åªè¦æ›´æ–° Pod çš„ image å°±å¯ä»¥é †åˆ©çš„è®“ Pod é‹è¡Œæœ€æ–°çš„å…§å®¹ï¼ŒDeployment å°±æ˜¯é‹ç”¨é€™å€‹åŸç†æ‰é€²è¡Œ Pod çš„å…§å®¹æ›´æ–°ï¼Œæ–¹æ³•ä¹Ÿå¾ˆç°¡å–®åªè¦åˆ©ç”¨ Set é€™å€‹åƒæ•¸å°±å¯ä»¥äº†ï¼Œå¯ä»¥ä½¿ç”¨ kubectl set -h å¯ä»¥çœ‹ set é€™å€‹åƒæ•¸çœŸæ­£çš„ç”¨æ³•ã€‚ kubectl set\" kubectl set å¯ä»¥çœ‹åˆ° set å¾Œé¢é‚„è¦æ¥ SUBCOMMANDï¼Œè€Œ SUBCOMMAND å°±æ˜¯ Available Commands çš„å…§å®¹ï¼Œç”±æ–¼æˆ‘å€‘è¦æ›´æ–°çš„æ˜¯ image æ‰€ä»¥é€™é‚Šçš„ SUBCOMMAND æœƒæ˜¯ imageï¼Œå®Œæ•´æŒ‡ä»¤æ˜¯ï¼š $ kubectl set image deployment/kubernetes-deployment kubernetes-demo-container=880831ian/kubernetes-demo:v1 --record deployment.apps/kubernetes-deployment image updated ä½¿ç”¨ set ä¾†æ›´æ–° Podï¼Œæ ¼å¼æ˜¯ kubectl set image deployment/\u003cdeployment name\u003e \u003cpod name\u003e=\u003cè¦æ›´æ–°çš„ image\u003eï¼Œå¾Œé¢åŠ ä¸Š --record åƒæ•¸ï¼Œé€™æ¨£æœƒç´€éŒ„æ¯æ¬¡æ›´æ–°çš„æ™‚å€™åˆ°åº•æ›´æ–°å“ªäº›å…§å®¹ï¼Œé€™æ¨£æ—¥å¾Œè¦é€²è¡Œ rollback ä¹Ÿæœƒæ¯”è¼ƒå®¹æ˜“çŸ¥é“è¦ rollback å›å“ªå€‹ revisionï¼Œç”±æ–¼è¦é¡¯ç¤ºå·®ç•°ï¼Œæ‰€ä»¥åœ¨ dockerhub ä¸Šåˆå¤šæ¨ä¸€å€‹ç‰ˆæœ¬ v1ï¼Œå°‡åŸæœ¬æŸ´çŠ¬çš„åœ–ç‰‡æ”¹æˆ kubernetes logoï¼Œç­‰æ–¼æˆ‘å€‘æ›´æ–°æ˜¯å¾ kubernetes-demo:latest æ›´æ–°è‡³ kubernetes-demo:v1ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å®ƒçš„è®ŠåŒ–å§ï¼ é€™æ˜¯é‚„æ²’æ›´æ–° Pod å‰çš„ Deployment èˆ‡ ReplicaSetï¼š Deployment èˆ‡ ReplicaSet\" Deployment èˆ‡ ReplicaSet æˆ‘å€‘ç”¨ set ä¸‹å®Œæ›´æ–°æŒ‡ä»¤å¾Œï¼Œå¯ä»¥æŸ¥çœ‹ ReplicaSet ä»¥åŠ Pod åœ¨æ›´æ–°éç¨‹ä¸­çš„è®ŠåŒ–ï¼š ReplicaSet ä»¥åŠ Pod åœ¨æ›´æ–°éç¨‹ä¸­çš„è®ŠåŒ–\" ReplicaSet ä»¥åŠ Pod åœ¨æ›´æ–°éç¨‹ä¸­çš„è®ŠåŒ– å¯ä»¥ç™¼ç¾ strategy ç‚º RollingUpdate çš„æ™‚å€™ä¸¦ä¸æœƒæŠŠèˆŠæœ‰çš„ Pod ç§»é™¤åè€Œæœƒè®“æ–°èˆŠ Pod åŒæ™‚ä¸Šç·šï¼Œä»¥é”åˆ°ç„¡åœæ©Ÿæœå‹™çš„ä½œç”¨ï¼Œä½†é€™æ¨£åœ¨ç¶²é ä¸­å°±æœ‰å¯èƒ½æœƒåŒæ™‚å‡ºç¾æ–°èˆŠå…§å®¹ã€‚ å› ç‚º strategy ç‚º RollingUpdateï¼Œæ‰€ä»¥æœƒåŒæ™‚å‡ºç¾æ–°èˆŠå…§å®¹\" å› ç‚º strategy ç‚º RollingUpdateï¼Œæ‰€ä»¥æœƒåŒæ™‚å‡ºç¾æ–°èˆŠå…§å®¹ æœ€å¾Œç­‰åˆ°æ–°çš„ Pod å·²ç¶“å»ºç«‹å®Œæˆï¼Œä¸”æ­£å¸¸é‹ä½œï¼ŒReplicaSet å°±æœƒæŠŠèˆŠçš„ Pod çµ¦ç§»æ‰ï¼š æ–°çš„ Pod å»ºç«‹æˆåŠŸï¼Œä¸¦åˆªé™¤èˆŠ Pod\" æ–°çš„ Pod å»ºç«‹æˆåŠŸï¼Œä¸¦åˆªé™¤èˆŠ Pod å†æ¬¡ç€è¦½å°±å¯ä»¥ç™¼ç¾å·²ç¶“è®Šæˆæ–°çš„å…§å®¹äº†ï¼ä»£è¡¨æˆ‘å€‘å®Œæˆæ›´æ–°å‹•ä½œï½ æ›´æ–°è‡³ kubernetes-demo:v1\" æ›´æ–°è‡³ kubernetes-demo:v1 ","date":"2022-05-03","objectID":"/k8s-advanced/:6:4","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Deployment å›æœ”ç‰ˆæœ¬ æˆ‘å€‘è¬›å®Œæ›´æ–°å¾Œï¼Œæ¥è‘—è¦è¬›å¦‚ä½• rollback å›ä»¥å‰çš„ç‰ˆæœ¬ï¼Œé¦–å…ˆæˆ‘å€‘å¿…é ˆä½¿ç”¨ rollout é€™å€‹åƒæ•¸ï¼Œä¸€æ¨£ä½¿ç”¨ kubectl rollout -h å¯ä»¥æŸ¥çœ‹ rollout çš„ç”¨æ³•ï¼Œè·Ÿ set ååˆ†ç›¸ä¼¼ã€‚ æ›´æ–°è‡³ kubernetes-demo:v1\" æ›´æ–°è‡³ kubernetes-demo:v1 ç”±æ–¼æˆ‘å€‘é€™é‚Šè¦ rollback ï¼Œæ‰€ä»¥ SUBCOMMAND æœƒä½¿ç”¨ undoï¼Œæˆ‘å€‘ä¸Šé¢æœ‰ç”¨ --record å¯ä»¥æŸ¥çœ‹è¦ rollback çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘å€‘é€™é‚Šå¯«æ³•æœƒé•·åƒé€™æ¨£ï¼š $ kubectl rollout undo deployment/kubernetes-deployment --to-revision=1 deployment.apps/kubernetes-deployment rolled back æ ¼å¼æ˜¯ kubectl rollout undo deployment/\u003cdeployment name\u003e --to-revision=\u003c--record ç‰ˆæœ¬\u003e å°±å¯ä»¥çœ‹åˆ°åˆå›å¾©æˆä»¥å‰çš„æŸ´çŠ¬å›‰ \u003e\u003c æˆåŠŸé‚„åŸæŸ´çŠ¬\" æˆåŠŸé‚„åŸæŸ´çŠ¬ ","date":"2022-05-03","objectID":"/k8s-advanced/:6:5","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ç‚ºç”šéº¼ä¸ç”¨ Replication Controller æœ€å¾Œè¦è¨è«–çš„æ˜¯ç‚ºä»€éº¼è¦ä¸ç”¨ Replication Controller è€Œæ˜¯æ”¹ç”¨ ReplicaSet + Deploymentï¼Ÿ ç”±æ–¼å¯¦éš›å†ä½¿ç”¨ Kubernetes æ™‚æ¶æ§‹æœƒæ¯”ç¾åœ¨ç·´ç¿’çš„é‚„è¦è¤‡é›œï¼Œæ‰€ä»¥ç”¨ ReplicaSet è®“ selector ç”¨æ›´å½ˆæ€§çš„æ–¹å¼é¸å– Pod æœƒæ˜¯æ¯”è¼ƒå¥½çš„åšæ³•ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:6:6","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Stateless å’Œ Stateful ","date":"2022-05-03","objectID":"/k8s-advanced/:7:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Stateless Stateless é¡§åæ€ç¾©å°±æ˜¯ç„¡ç‹€æ…‹ï¼Œæˆ‘å€‘å¯ä»¥æƒ³æˆæˆ‘å€‘æ¯æ¬¡èˆ‡ä¼ºæœå™¨è¦è³‡æ–™çš„éç¨‹ä¸­éƒ½ä¸æœƒè¢«ä¼ºæœå™¨è¨˜éŒ„ç‹€æ…‹ï¼Œæ¯ä¸€æ¬¡çš„ Request éƒ½æ˜¯ç¨ç«‹çš„ï¼Œå½¼æ­¤æ˜¯æ²’æœ‰é—œè¯æ€§çš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘å€‘ç•¶ä¸‹ç²å¾—çš„è³‡æ–™åªèƒ½ç•¶ä¸‹ä½¿ç”¨æ²’æœ‰è¾¦æ³•ä¿å­˜ï¼Œéœæ…‹ç¶²é é€šå¸¸éƒ½æ˜¯ä¸€ç¨® Stateless çš„æ‡‰ç”¨ã€‚ èˆ‰å€‹ä¾‹å­ä¾†èªªï¼šä»Šå¤©æˆ‘æƒ³è¦æŸ¥è©¢ç«è»Šæ™‚åˆ»è¡¨ï¼Œæˆ‘å¯ä»¥è—‰ç”± Google æœå°‹ç«è»Šæ™‚åˆ»è¡¨ï¼Œä¸¦é»é¸é€£çµï¼Œæˆ–æ˜¯ç›´æ¥åœ¨ç€è¦½å™¨è¼¸å…¥ https://tip.railway.gov.tw/ ï¼Œé€™å…©ç¨®çµæœæœ€å¾Œéƒ½æœƒä¸€è‡´ï¼Œä¸¦ä¸æœƒå› ç‚ºæˆ‘çš„æ“ä½œä¸åŒè€Œç”¢ç”Ÿä¸åŒçµæœï¼Œé€™å°±æ˜¯ä¸€ç¨® Stateless çš„è¡¨ç¾ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:7:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Stateful Stateful å°±æ˜¯ Stateless çš„ç›¸åï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡çš„ Request éƒ½æœƒè¢«è¨˜éŒ„ä¸‹ä¾†ï¼Œæ—¥å¾Œéƒ½å¯ä»¥é€²è¡Œå­˜å–ï¼ŒStateful æœ€å¸¸è¦‹çš„ä¾‹å­æ˜¯è³‡æ–™åº«ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ç†è§£æˆ Stateful èƒŒå¾Œä¸€å®šæœƒæœ‰ä¸€å€‹è² è²¬æ›´æ–°å…§å®¹çš„å„²å­˜ç©ºé–“ã€‚ å¹¾å€‹ä¾‹å­ä¾†èªªï¼šä»Šå¤©æˆ‘å€‘æƒ³è¦æŸ¥çœ‹ Google é›²ç«¯ç¡¬ç¢Ÿçš„å…§å®¹ï¼Œæˆ‘å€‘å¿…é ˆå…ˆç™»å…¥è‡ªå·±çš„å¸³è™Ÿæ‰å¯ä»¥æŸ¥çœ‹å…§å®¹ï¼Œé€™ç¨®æœ‰æ“ä½œå…ˆå¾Œé †åºæ‰æœƒæœ‰çµæœçš„å°±æ˜¯ä¸€ç¨® Stateful çš„è¡¨ç¾ã€‚ Stateless vs Stateful\" Stateless vs Stateful é‚£ç‚ºä»€éº¼è¦æåˆ° Stateless è·Ÿ Stateful å‘¢ï¼Ÿ å› ç‚ºè·Ÿ Pod æœ‰å¾ˆå¤§çš„é—œä¿‚ï¼Œåœ¨ Kubernetes ä¸­ Pod å°±å±¬æ–¼ Stateless çš„ï¼Œæˆ‘å€‘å‰é¢æœ‰æåˆ° Stateless çš„ç‰¹æ€§å°±æ˜¯æ¯æ¬¡çš„ Request éƒ½æ˜¯ç¨ç«‹çš„ï¼Œé€™æ¨£æœ‰ä¸€å€‹å¥½è™•æ˜¯å¯ä»¥å¿«é€Ÿçš„æ“´å……ã€‚ åœ¨ Kubernetes - åŸºæœ¬ç¯‡ä¸­çš„ Pod æœ‰æåˆ°ï¼šPod æ˜¯ Kubernetes ä¸­æœ€å°çš„å–®ä½ï¼Œç”±æ–¼ Pod æ˜¯å±¬æ–¼ Stateless çš„ï¼Œå³ä¾¿ä»Šå¤©åŒä¸€ç¨®å…§å®¹çš„ Pod æœ‰å¾ˆå¤šå€‹ä¹Ÿæ²’æœ‰é—œä¿‚ï¼Œå› ç‚ºæ¯æ¬¡çš„ Request éƒ½æ˜¯ç¨ç«‹çš„ï¼Œå¤šå€‹ Pod å°±å¤šå€‹é€£ç·šçš„ç«¯é»è€Œå·²ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:7:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Kubernetes çš„ Stateful ä¸Šé¢æœ‰èªªåˆ° Kubernetes çš„ Pod æ˜¯ Stateless çš„ï¼Œé‚£é›£é“ Kubernetes æ²’æœ‰è¾¦æ³•åš Stateful æ‡‰ç”¨å—ï¼Ÿå…¶å¯¦æ˜¯å¯ä»¥çš„ï¼ŒKubernetes ç‚ºäº† Stateful æœ‰ç‰¹åˆ¥é–‹å•Ÿä¸€å€‹é¡åˆ¥å«ï¼šStatefulSet é€™é‚Šæœƒç°¡å–®èªªæ˜ä¸€ä¸‹ StatefulSet çš„æ¶æ§‹ï¼š ","date":"2022-05-03","objectID":"/k8s-advanced/:7:3","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"StatefulSet StatefulSet ä¸€å…±æœ‰å…©å€‹é‡è¦çš„éƒ¨åˆ†ï¼š Persistent Volume Claim å‰é¢æœ‰èªªåˆ° Stateful èƒŒå¾Œæœ‰ä¸€å€‹æ›´æ–°å…§å®¹çš„å„²å­˜ç©ºé–“ï¼Œåœ¨ Kubernetes ä¸­è² è²¬ç®¡ç†å„²å­˜çš„ç©ºé–“æ˜¯ Volumeï¼Œä½œç”¨èˆ‡ Docker çš„ Volume å¹¾ä¹ä¸€æ¨¡ä¸€æ¨£ï¼Œä½† Kuberntes çš„ Volume åªæ˜¯åœ¨ Pod ä¸­æš«æ™‚å­˜æ”¾çš„å„²å­˜ç©ºé–“ï¼Œç•¶ Pod ç§»é™¤ä¹‹å¾Œé€™å€‹å„²å­˜ç©ºé–“å°±æœƒæ¶ˆå¤±ï¼Œç‚ºäº†è¦åœ¨ Kubernetes ä¸­å»ºç«‹ä¸€å€‹åƒæ˜¯è³‡æ–™åº«å¯ä»¥æ°¸ä¹…å„²å­˜çš„ç©ºé–“ï¼Œé€™å€‹ Volume ä¸èƒ½è¢«åŒ…å«åœ¨ Pod ä¸­ï¼Œè€Œé€™å€‹å°±æ˜¯ Persistent Volume (PV)ã€‚ Persistent Volume Claim (PVC) å°±æ˜¯è² è²¬é€£æ¥ Persistent Volume (PV) çš„ç‰©ä»¶ï¼Œæ‰€ä»¥å¯ä»¥æƒ³åƒä¸€ä¸‹ä»Šå¤©æœ‰å¤šå°‘çš„ Persistent Volume å°±æœƒæœ‰å¤šå°‘çš„ Persistent Volume Claimã€‚ Headless Service é‚„è¨˜å¾—åœ¨ Service æœ‰æåˆ° ClusterIP å—ï¼Ÿå…¶å¯¦æ¯å€‹ Service éƒ½æœƒæœ‰è‡ªå·±ä¸€çµ„çš„ ClusterIP (ExternalName å½¢å¼çš„é™¤å¤–)ï¼Œæ‰€ä»¥ Headless çš„æ„æ€å…¶å¯¦å°±æ˜¯ä¸è¦æœ‰ ClusterIPï¼Œæ–¹æ³•ä¹Ÿå¾ˆç°¡å–®ï¼Œç›´æ¥åœ¨è¨­å®šæª”ä¸­åŠ å…¥ ClusterIP: None å°±å¯ä»¥äº†ï¼ é€™éº¼åšæœ‰ä»€éº¼å¥½è™•ï¼Ÿç”±æ–¼ Headless Service ä¸¦æ²’æœ‰ç›´æ¥è·Ÿ Pod æœ‰å°æ‡‰é—œä¿‚ï¼Œå› æ­¤ Service æœ¬èº«æ²’æœ‰ ClusterIPï¼Œæ‰€ä»¥ Kubernetes å…§éƒ¨åœ¨æºé€šæ™‚å°±æ²’æœ‰è¾¦æ³•æŠŠæˆ‘å€‘è¨­å®šå¥½çš„ Service åç¨±é€²è¡Œ IP è½‰æ›ï¼Œä¸é Headless Service æœƒå°‡å…§éƒ¨çš„ Pod çš„éƒ½å»ºç«‹å±¬æ–¼è‡ªå·±çš„ domainï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥è‡ªç”±çš„é¸æ“‡è¦é€£æ¥åˆ°å“ªä¸€å€‹ Podã€‚ é€™æ™‚å€™ä½ æœƒèªªå¯ä»¥ç”¨æ‰‹å‹•ä¾†é€£æ¥å‘€ï¼Ÿä½†å› ç‚º Service ä¸€èˆ¬æ˜¯è·Ÿè‘— Pod çš„ Label ï¼Œæ‰€ä»¥ä¸€å€‹ Service éƒ½æœƒé€£æ¥è¨±å¤šå€‹ Podï¼Œé€™æ¨£æˆ‘å€‘å°±æ²’æœ‰è¾¦æ³•é‡å°æŸå€‹ Pod ä¾†åšäº‹æƒ…ï¼Œæ‰€ä»¥ Headless Service åœ¨ Stateful ä¸­ä¹Ÿæœƒè¢«å»ºç«‹ã€‚ æˆ‘å€‘ä¸€ç›´å¼·èª¿èªª Kubernetes æœ€å°çš„å–®ä½æ˜¯ Podï¼Œå³ä¾¿æ˜¯ StatefulSet ä¹Ÿæœƒæœ‰ Podï¼Œåªæ˜¯é€™å€‹ Pod æœƒæ­¸ StatefulSet ç®¡ç†ï¼Œç¶œåˆä¸Šé¢æ‰€è¿°å¯ä»¥çŸ¥é“ä¸€å€‹ StatefulSet è£¡é¢é™¤äº†åŸ·è¡Œçš„ Pod å¤–é‚„æœƒæœ‰è² è²¬è·Ÿ Persistent Volume é€£æ¥çš„ Persistent Volume Claimï¼Œæ•´é«”çš„ StatefulSet æ¶æ§‹æœƒé•·å¾—åƒé€™æ¨£ï¼š Kubernetes StatefulSet æ¶æ§‹\" Kubernetes StatefulSet æ¶æ§‹ åŸºæœ¬ä¸Š StatefulSet ä¸­åœ¨ Pod çš„ç®¡ç†ä¸Šéƒ½æ˜¯èˆ‡ Deployment ç›¸åŒï¼ŒåŸºæ–¼ç›¸åŒçš„ container spec ä¾†é€²è¡Œ; è€Œå…¶ä¸­çš„å·®åˆ¥åœ¨æ–¼ StatefulSet controller æœƒç‚ºæ¯ä¸€å€‹ Pod ç”¢ç”Ÿä¸€å€‹å›ºå®šè­˜åˆ¥è³‡è¨Šï¼Œä¸æœƒå› ç‚º Pod æ”¹è®Šå¾Œè€Œæœ‰æ‰€è®Šå‹•ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:7:4","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ™‚å€™éœ€è¦ä½¿ç”¨ StatefulSet ? å¦‚ä½•ç ”åˆ¤å“ªäº› Application éœ€è¦ä½¿ç”¨ StatefulSet ä¾†éƒ¨ç½²ï¼Ÿåªè¦ç¬¦åˆä»¥ä¸‹æ¢ä»¶ï¼Œå°±éœ€è¦ä½¿ç”¨ StatefulSet ä¾†é€²è¡Œéƒ¨ç½² éœ€è¦ç©©å®š \u0026 å”¯ä¸€çš„ç¶²è·¯è­˜åˆ¥ (pod æ”¹è®Šå¾Œçš„ pod name \u0026 hostname éƒ½ä¸æœƒè®Šå‹•) éœ€è¦ç©©å®šçš„ Persistent storage (pod æ”¹è®Šå¾Œé‚„æ˜¯èƒ½å­˜å–ç›¸åŒçš„è³‡æ–™ï¼ŒåŸºæœ¬ä¸Šç”¨ PVC å°±å¯ä»¥è§£æ±º) éƒ¨ç½² \u0026 æ“´å±•çš„æ™‚å€™ï¼Œæ¯å€‹ Pod çš„ç”¢ç”Ÿéƒ½æ˜¯æœ‰å…¶é †åºä¸”é€ä¸€æ…¢æ…¢å®Œæˆçš„ é€²è¡Œæ›´æ–°æ“ä½œæ™‚ï¼Œä¹Ÿæ˜¯èˆ‡ä¸Šé¢çš„éœ€æ±‚ç›¸åŒ ","date":"2022-05-03","objectID":"/k8s-advanced/:7:5","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"StatefulSet æœ‰ä»€éº¼é™åˆ¶ï¼Ÿ v1.5 ä»¥å‰ç‰ˆæœ¬ä¸æ”¯æ´ï¼Œv1.5 ~ v1.9 ä¹‹é–“æ˜¯ betaï¼Œv1.9 å¾Œæ­£å¼æ”¯æ´ storage çš„éƒ¨åˆ†ä¸€å®šè¦ç¶å®š PVCï¼Œä¸¦ç¶å®šåˆ°ç‰¹å®šçš„ StorageClass or é å…ˆé…ç½®å¥½çš„ Persistent Volumeï¼Œç¢ºä¿ Pod è¢«åˆªé™¤å¾Œè³‡æ–™ä¾ç„¶å­˜åœ¨ã€‚ éœ€è¦é¡å¤–å®šç¾©ä¸€å€‹ Headless Service èˆ‡ StatefulSet æ­é…ï¼Œç¢ºä¿ Pod æœ‰å›ºå®šçš„ network identityã€‚ network identity ä»£è¡¨å¯ä»¥ç›´æ¥é€é domain name ç›´æ¥å–çš„ Pod IP; å¯¦ç¾çš„æ–¹æ³•å‰‡æ˜¯éƒ¨ç½²ä¸€å€‹ ClusterIP=None çš„ Serviceï¼Œè®“ Cluster å…§éƒ¨å­˜å– Service æ™‚ï¼Œå¯ä»¥ç›´æ¥é€£åˆ° Pod è€Œä¸æ˜¯ Service IPã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:7:6","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"StatefulSet å¯«æ³• è¦å¯«ä¸€å€‹ StatefulSet ï¼Œæœ‰å¹¾å€‹é‡è¦çš„éƒ¨åˆ†å¿…é ˆæ¶µè“‹ï¼š Application \u0026 Persistent Volume Claim Headless Service .spec.selector æ‰€å®šç¾©çš„å…§å®¹ (matchLabels) å¿…é ˆèˆ‡ .spec.template.metadata.labels ç›¸åŒã€‚ å…¶ä»–éƒ¨åˆ†éƒ½èˆ‡ Deployment å¹¾ä¹ç›¸åŒ ~ æˆ‘å€‘å…ˆä¾†çœ‹çœ‹è¦æ€éº¼å®šç¾© Application \u0026 Persistent Volume Claim (æŠŠ Service è·Ÿ StatefulSet å¯«åœ¨ä¸€èµ·) (Github ç¨‹å¼ç¢¼é€£çµ) apiVersion:v1kind:Servicemetadata:name:nginxlabels:app:nginxspec:ports:- port:80name:webclusterIP:Noneselector:app:nginx---apiVersion:apps/v1kind:StatefulSetmetadata:name:webspec:serviceName:\"nginx\"replicas:2selector:matchLabels:app:nginxtemplate:metadata:labels:app:nginxspec:containers:- name:nginximage:k8s.gcr.io/nginx-slim:0.8ports:- containerPort:80name:webvolumeMounts:- name:wwwmountPath:/usr/share/nginx/htmlvolumeClaimTemplates:- metadata:name:wwwspec:accessModes:[\"ReadWriteOnce\"]resources:requests:storage:1Gi æˆ‘å€‘å…ˆæ‰“é–‹ä¸€å€‹ Terminal ä¾†è§€å¯Ÿ StatefulSet å‰µå»º Pod çš„éç¨‹ï¼š $ kubectl get pods -w -l app=nginx æˆ‘å€‘ä¸€æ¨£ä½¿ç”¨ kubectl apply ä¾†å‰µå»ºå®šç¾©åœ¨ web.yaml ä¸­çš„ Headless Service å’Œ StatefulSetã€‚ $ kubectl apply -f web.yaml æˆ‘å€‘çœ‹ä¸€ä¸‹å‰›å‰›çš„ StatefulSet å‰µå»º Pod çš„éç¨‹ï¼Œå¯ä»¥ç™¼ç¾æˆ‘å€‘æ“æœ‰ N çš„å‰¯æœ¬çš„ StatefulSet ï¼Œ Pod éƒ¨ç½²æ™‚æœƒæŒ‰ç…§ {0 â€¦. N-1} çš„åºè™Ÿä¾åºå‰µå»ºã€‚ NAME READY STATUS RESTARTS AGE web-0 0/1 Pending 0 0s web-0 0/1 Pending 0 0s web-0 0/1 ContainerCreating 0 0s web-0 1/1 Running 0 2s web-1 0/1 Pending 0 0s web-1 0/1 Pending 0 0s web-1 0/1 ContainerCreating 0 0s web-1 1/1 Running 0 3s å¯ä»¥ç™¼ç¾ web-1 Pod æ˜¯åœ¨ web-0 Pod è™•åœ¨ Running ç‹€æ…‹æ‰æœƒè¢«å•Ÿå‹•ã€‚æ­¤å¤–ï¼Œå¯ä»¥ç™¼ç¾å°±è·Ÿæˆ‘å€‘ä¸Šé¢è¬›çš„ä¸€æ¨£ï¼ŒStatefulSet ä¸­çš„ Pod æ“æœ‰ä¸€å€‹ç¨ä¸€ç„¡äºŒçš„èº«ä»½æ¨™è¨˜ï¼ŒåŸºæ–¼ StatefulSet æ§åˆ¶å™¨åˆ†é…çµ¦æ¯å€‹ Pod çš„å”¯ä¸€é †åºç´¢å¼•ã€‚ Pod åç¨±çš„æ ¼å¼æ˜¯ \u003c statefulset name \u003e-\u003c ordinal index \u003eï¼Œåƒæˆ‘å€‘ web é€™å€‹ StatefulSet æœ‰å…©å€‹å‰¯æœ¬ï¼Œæ‰€ä»¥å®ƒå‰µå»ºäº†å…©å€‹ Podï¼šweb-0ã€web-1ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:7:7","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"StatefulSet æ¸¬è©¦ æˆ‘å€‘çŸ¥é“ StatefulSet å®ƒæœ‰ä½¿ç”¨ç©©å®šçš„ç¶²è·¯èº«ä»½ä»¥åŠ PV çš„æ°¸ä¹…å„²å­˜ï¼Œé‚£æˆ‘å€‘å°±åˆ†åˆ¥ä¾†æ¸¬è©¦çœ‹çœ‹ï¼š StatefulSet ç©©å®šçš„ç¶²è·¯èº«ä»½ æˆ‘å€‘å…ˆä½¿ç”¨ kubectl exec åœ¨æ¯å€‹ Pod ä¸­åŸ·è¡Œ hostname $ for i in 0 1; do kubectl exec \"web-$i\" -- sh -c 'hostname'; done web-0 web-1 å†ä½¿ç”¨ kubectl run ä¾†é‹è¡Œä¸€å€‹æä¾› nslookup å‘½ä»¤çš„å®¹å™¨ï¼Œé€šéå° Pod çš„ä¸»æ©ŸååŸ·è¡Œ nslookupï¼Œæˆ‘å€‘å¯ä»¥æª¢æŸ¥ä»–åœ¨é›†ç¾¤å…§éƒ¨çš„ DNS ä½ç½®ã€‚ $ kubectl run -i --tty --image busybox:1.28 dns-test --restart=Never --rm /bin/sh å•Ÿå‹•ä¸€å€‹æ–°çš„ shell ï¼Œä¸¦é‹è¡Œ nslookup web-0.nginx è·Ÿ nslookup web-1.nginxï¼š / # nslookup web-0.nginx Server: 10.96.0.10 Address 1: 10.96.0.10 kube-dns.kube-system.svc.cluster.local Name: web-0.nginx Address 1: 172.17.0.5 web-0.nginx.default.svc.cluster.local / # nslookup web-1.nginx Server: 10.96.0.10 Address 1: 10.96.0.10 kube-dns.kube-system.svc.cluster.local Name: web-1.nginx Address 1: 172.17.0.6 web-1.nginx.default.svc.cluster.local å¯ä»¥çœ‹åˆ° Headless Service çš„ CHANCE æŒ‡å‘ SRV è¨˜éŒ„ (è¨˜éŒ„æ¯å€‹ Running çš„ Pod)ã€‚SRV ç´€éŒ„æŒ‡å‘ä¸€å€‹åŒ…å« Pod IP ä½å€çš„è¨˜éŒ„è¡¨ã€‚ æˆ‘å€‘ä½¿ç”¨ kubectl delete pod -l app=nginx åˆªé™¤ Pod å¾Œï¼Œæœƒç™¼ç¾ Pod çš„åºè™Ÿã€ä¸»æ©Ÿåã€SRV æ¢ç›®å’Œè¨˜éŒ„åç¨±éƒ½æ²’æœ‰æ”¹è®Šï¼ StatefulSet æ°¸ä¹…å„²å­˜ æˆ‘å€‘å…ˆæŸ¥çœ‹ web-0 è·Ÿ web-1 çš„ PersistentVolumeClaimsï¼š $ kubectl get pvc -l app=nginx NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE www-web-0 Bound pvc-e9a23104-d018-4d73-8cd9-89e5ea67f96c 1Gi RWO standard 39m www-web-1 Bound pvc-00dd6c87-6d95-4d04-9c1b-49b43441f4a1 1Gi RWO standard 38m StatefulSet æ§åˆ¶å™¨å‰µå»ºå…©å€‹ PersistentVolumeClaimsï¼Œç¶å®šå…©å€‹ PersistentVolumesï¼Œå› ç‚ºæˆ‘å€‘é…ç½®æ˜¯å‹•æ…‹æä¾›PersistentVolumeï¼Œæ‰€æœ‰çš„PersistentVolume éƒ½æ˜¯è‡ªå‹•å‰µå»ºå’Œç¶å®šçš„ã€‚ Nginx web æœå‹™å™¨é»˜èªæœƒåŠ è¼‰ä½æ–¼ /usr/share/nginx/html/index.html çš„ index æ–‡ä»¶ã€‚å› æ­¤æˆ‘å€‘åœ¨ spec ä¸­çš„ volumeMounts å°‡ /usr/share/nginx/html è³‡æ–™å¤¾ç”±ä¸€å€‹ PersistentVolume æ”¯æŒã€‚ é‚£æˆ‘å€‘å°‡ Pod ä¸»æ©Ÿåç¨±å¯«å…¥ index.html ï¼Œå†åˆªæ‰ Pod çœ‹çœ‹å¯«å…¥å…§å®¹æ˜¯å¦é‚„æœƒå­˜åœ¨ï¼š $ for i in 0 1; do kubectl exec \"web-$i\" -- sh -c 'echo \"$(hostname)\" \u003e /usr/share/nginx/html/index.html'; done $ for i in 0 1; do kubectl exec -i -t \"web-$i\" -- curl http://localhost/; done web-0 web-1 ç•¶æˆ‘å€‘åˆªé™¤ Pod å¾Œï¼Œå¦‚æœæ²’æœ‰ä½¿ç”¨ PersistentVolumeClaims å»ç¶å®š PersistentVolumes çš„è©±ï¼Œè³‡æ–™å°±æœƒæ¶ˆå¤±ï¼Œé‚£æˆ‘å€‘ä¾†çœ‹çœ‹æœ‰ç¶å®šçš„çµæœï¼š ä½¿ç”¨ kubectl delete pod -l app=nginx åˆªé™¤ Podï¼š pod \"web-0\" deleted pod \"web-1\" deleted å†æ¬¡ä½¿ç”¨ kubectl get pod -w -l app=nginx ä¾†æª¢æŸ¥ Pod çš„ç‹€æ…‹ï¼š web-0 0/1 ContainerCreating 0 0s web-0 1/1 Running 0 2s web-1 0/1 Pending 0 0s web-1 0/1 Pending 0 0s web-1 0/1 ContainerCreating 0 0s web-1 1/1 Running 0 1s ä¸€æ¨£ä½¿ç”¨ for i in 0 1; do kubectl exec -i -t \"web-$i\" -- curl http://localhost/; done ä¾†æŸ¥çœ‹ï¼š web-0 web-1 å¯ä»¥ç™¼ç¾ web-0ã€web-1 é›–ç„¶é‡æ–°å•Ÿå‹•ï¼Œä½†ä¾èˆŠæœƒç›£è½å®ƒå€‘ä¸»æ©Ÿåï¼Œå› ç‚ºå’Œå®ƒå€‘çš„ PersistentVolumeClaim ç›¸é—œè¯çš„ PersistentVolume è¢«é‡æ–°æ›è¼‰åˆ°äº†å„è‡ªçš„ volumeMount ä¸Šã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:7:8","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ ConfigMap ? çœ‹åˆ° Config æ‡‰è©²æœƒè¯æƒ³åˆ°èˆ‡è¨­å®šæª”æœ‰é—œï¼Œæ²’éŒ¯ ConfigMap é€šå¸¸éƒ½æ˜¯ç”¨ä¾†å­˜æ”¾è¨­å®šæª”ç”¨çš„ï¼Œæ›å¥è©±ä¾†èªªé€™å€‹ç‰©ä»¶æœƒç›´æ¥é€£çµä¸€å€‹æˆ–å¤šå€‹æª”æ¡ˆï¼Œè€Œ ConfigMap é€šå¸¸éƒ½æ˜¯ç”¨ä¾†å­˜æ”¾åå‘éƒ¨ç½²é¢çš„è¨­å®šæª”ï¼Œåƒæ˜¯è³‡æ–™åº«çš„åˆå§‹åŒ–è¨­å®šã€nginx è¨­å®šæª”ç­‰ç­‰ï¼Œé€™ç¨®ä¸ç”¨è¢«åŒ…é€²å» image å…§ï¼Œä½†éœ€è¦è®“ container å¯ä»¥ä½¿ç”¨çš„æª”æ¡ˆã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:8:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ConfigMap ç‰¹æ€§ ä¸€å€‹ ConfigMap ç‰©ä»¶å¯ä»¥æ”¾ä¸€å€‹æˆ–å¤šå€‹è¨­å®šæª”ï¼šæˆ‘å€‘ä¸Šé¢æœ‰æåˆ°å®ƒæ˜¯ç”¨ä¾†å­˜æ”¾è¨­å®šæª”ç”¨çš„ï¼Œæœƒç›´æ¥é€£æ¥è©²è¨­å®šæª”ã€‚ ç„¡éœ€ä¿®æ”¹ç¨‹å¼ç¢¼ï¼Œå¯ä»¥æ›¿æ›ä¸åŒç’°å¢ƒçš„è¨­å®šæª”ï¼šç”±æ–¼è¨­å®šæª”éƒ½äº¤ç”± ConfigMap ç®¡ç†ï¼Œä¸¦ä¸æ˜¯åŒ…åœ¨ image å…§ï¼Œå› æ­¤å¯ä»¥è—‰ç”±ä¿®æ”¹ ConfigMap çš„æ–¹å¼ä¾†é”åˆ°ä¸ç”¨æ›´æ–° Pod å…§å®¹å°±å¯ä»¥æ›´æ›è¨­å®šæª”çš„ä½œç”¨ã€‚ çµ±ä¸€å­˜æ”¾æ‰€æœ‰çš„è¨­å®šæª”ï¼šä¸€å€‹ ConfigMap å¯ä»¥é€£çµä¸€å€‹ä»¥ä¸Šçš„è¨­å®šæª”ï¼Œå› æ­¤ä¹Ÿå¯ä»¥å°‡è©²å°ˆæ¡ˆæœƒç”¨åˆ°çš„æ‰€æœ‰è¨­å®šæª”é€šé€šå­˜æ”¾åœ¨åŒä¸€å€‹ ConfigMap ç‰©ä»¶ä¸­é€²è¡Œç®¡ç†ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:8:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"å¦‚ä½•å»ºç«‹ ConfigMapï¼Ÿ ç”±æ–¼ ConfigMap å¯ä»¥ç›´æ¥å­˜å…¥è¨­å®šæª”ï¼Œæ‰€ä»¥æˆ‘å€‘ä»¥ç¾æœ‰è¨­å®šæª”ç‚ºåŸºæº–ï¼Œæ¥ä¸‹ä¾†è¦ç”¨ create é€™å€‹åƒæ•¸ä¾†å»ºç«‹ ConfipMap ç‰©ä»¶å‡ºä¾†ï¼Œé€™æ™‚å¯èƒ½æœƒæƒ³ï¼Œä¹‹å‰éƒ½æ˜¯ä½¿ç”¨ apply æ€éº¼é€™æ¬¡è¦æ”¹ç”¨ createå‘¢ï¼ï¼Ÿ é›–ç„¶å…©è€…éƒ½æœ‰å»ºç«‹çš„æ„æ€ï¼Œä½†èƒŒå¾Œå¯¦ä½œçš„æŠ€è¡“å®Œå…¨ä¸åŒï¼š create ä½¿ç”¨çš„æ˜¯ Imperative Managementï¼ŒImperative Management æœƒå‘Šè¨´ Kubernetes æˆ‘ç›®å‰çš„å‹•ä½œè¦åšä»€éº¼ï¼Œä¾‹å¦‚ï¼šcreateã€deleteã€replace æŸå€‹ç‰©ä»¶ã€‚ apply æ˜¯ä½¿ç”¨ Declarative Managementï¼ŒDeclarative Management æ˜¯ç”¨å®£å‘Šçš„æ–¹å¼ä¾†å»ºç«‹ç‰©ä»¶ï¼Œæ›´ç™½è©±ä¸€é»å°±æ˜¯æˆ‘å¸Œæœ›é€™å€‹ç‰©ä»¶è¦é•·æ€éº¼æ¨£ï¼Œæ‰€ä»¥ apply é€šå¸¸éƒ½æœƒæ­é… yaml æª”ï¼Œè€Œé€™ä»½ yaml æª”å°±æœƒåœ¨ kind é€™å€‹è¨­å®šå€¼å‘Šè¨´ Kubernetes é€™å€‹ç‰©ä»¶è¦é•·æˆä»€éº¼æ¨£å­ã€‚ å› ç‚ºæˆ‘å€‘é€™æ¬¡è¦ç›´æ¥ä½¿ç”¨ç¾æœ‰çš„è¨­å®šæª”ä¾†å»ºç«‹ ConfigMapï¼Œæ‰€ä»¥é€™æ™‚å€™ä¸èƒ½ä½¿ç”¨ apply çš„æ–¹å¼ï¼Œåªèƒ½ä½¿ç”¨ create ä¾†å»ºç«‹ï¼ŒæŒ‡ä»¤ä¹Ÿå¾ˆç°¡å–®ï¼š $ kubectl create configmap \u003cconfigmapName\u003e --from-file=\u003cfilePath\u003e å»ºç«‹ ConfigMap\" å»ºç«‹ ConfigMap å»ºç«‹å®Œæˆä½¿ç”¨ get ä¾†æŸ¥è©¢æ˜¯å¦æ­£ç¢ºå»ºç«‹ ConfigMapï¼š ä½¿ç”¨ get æŸ¥è©¢æ˜¯å¦æ­£ç¢º ConfigMap\" ä½¿ç”¨ get æŸ¥è©¢æ˜¯å¦æ­£ç¢º ConfigMap æœ€å¾Œå¯ä»¥ä¸‹ describe é€™å€‹åƒæ•¸ä¾†æŸ¥çœ‹ ConfigMap çš„å…§å®¹ï¼Œæœƒç™¼ç¾è£¡é¢å°±æ˜¯æˆ‘å€‘è¨­å®šæª”çš„å®Œæ•´å…§å®¹ï¼š ä½¿ç”¨ describe æŸ¥çœ‹ ConfigMap çš„å…§å®¹\" ä½¿ç”¨ describe æŸ¥çœ‹ ConfigMap çš„å…§å®¹ ","date":"2022-05-03","objectID":"/k8s-advanced/:8:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Secrets ? çœ‹åˆ° Secrets é€™å€‹åå­—å°±çŸ¥é“é€™æ˜¯éå¸¸æ©Ÿå¯†çš„ç‰©ä»¶ï¼Œç›¸è¼ƒæ–¼ ConfigMap æ˜¯ç”¨ä¾†å­˜æ”¾éƒ¨ç½²é¢çš„æª”æ¡ˆï¼ŒSecrets é€šå¸¸éƒ½æ˜¯ç”¨ä¾†å­˜æ©Ÿå¯†çš„è³‡æ–™ï¼Œåƒæ˜¯ä½¿ç”¨è€…å¸³è™Ÿã€SSL æ†‘è­‰ç­‰ã€‚ ","date":"2022-05-03","objectID":"/k8s-advanced/:9:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"Secrets ç‰¹æ€§ ä¸Šé¢ ConfigMap æåˆ°çš„ç‰¹æ€§ Secrets ä¸€æ¨£ï¼Œæ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯ Secrets æœƒå°‡å…§éƒ¨çš„è³‡æ–™é€²è¡Œ base64 ç·¨ç¢¼ã€‚å› ç‚ºé‡æ–°ç·¨ç¢¼æ‰€ä»¥å¯ä»¥ç¢ºä¿è³‡æ–™ç›¸è¼ƒæ–¼ ConfigMap ä¸‹å®‰å…¨ä¸€äº›ï¼Œæ‰€ä»¥å»ºè­°å¦‚æœæ˜¯æ©Ÿå¯†æ€§çš„è³‡æ–™å°±å­˜åœ¨ Secrets è£¡é¢å§ï¼ ","date":"2022-05-03","objectID":"/k8s-advanced/:9:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"å¦‚ä½•å»ºç«‹ Secretsï¼Ÿ æˆ‘å€‘ä¸€æ¨£ç”¨ç¾æœ‰çš„æª”æ¡ˆä¾†åšåŸºæº–ä½œç‚ºç¤ºç¯„ï¼Œç”±æ–¼ä¸Šé¢ ConfigMap åªå­˜å…¥ä¸€å€‹æª”æ¡ˆè€Œå·²ï¼Œæ‰€ä»¥é€™é‚Š Secrets æˆ‘å€‘æ”¹æˆå­˜å…¥å¤šå€‹æª”æ¡ˆï¼š ä¸€æ¨£ç”¨ create çš„åƒæ•¸é€²è¡Œ Secrets å»ºç«‹ï¼Œä½†é€™é‚Šè¦å¤šåŠ ä¸€å€‹ SUBCOMMAND å« genericï¼Œgeneric ä»£è¡¨æ„æ€æ˜¯å¾æœ¬æ©Ÿæª”æ¡ˆã€ç›®éŒ„å»ºç«‹ Secretsï¼Œæ¥ä¸‹ä¾†åªè¦ä¸‹ï¼š kubectl create secret generic \u003csecretName\u003e --from-file=\u003cfilePath\u003e å»ºç«‹ Secrets\" å»ºç«‹ Secrets å»ºç«‹å®Œæˆä½¿ç”¨ get ä¾†æŸ¥è©¢æ˜¯å¦æ­£ç¢ºå»ºç«‹ Secretsï¼š ä½¿ç”¨ get æŸ¥è©¢æ˜¯å¦æ­£ç¢º Secrets\" ä½¿ç”¨ get æŸ¥è©¢æ˜¯å¦æ­£ç¢º Secrets æœ€å¾Œä¸€æ¨£å¯ä»¥ä¸‹ describe é€™å€‹åƒæ•¸ä¾†æŸ¥çœ‹ Secrets çš„å…§å®¹ï¼Œä½†å› ç‚ºåŠ å¯†æ‰€ä»¥ä¸æœƒé¡¯ç¤ºåŸæœ¬å…§å®¹ï¼Œåªæœƒçœ‹åˆ°çš„ç¢ºæœ‰å…©å€‹æª”æ¡ˆï¼š ä½¿ç”¨ describe æŸ¥çœ‹ Secrets çš„å…§å®¹\" ä½¿ç”¨ describe æŸ¥çœ‹ Secrets çš„å…§å®¹ ","date":"2022-05-03","objectID":"/k8s-advanced/:9:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Kubernetes é‚£äº›äº‹ â€” Service ç¯‡ Kubernetes é‚£äº›äº‹ â€” Ingress ç¯‡ï¼ˆä¸€ï¼‰ Kubernetes é‚£äº›äº‹ â€” Ingress ç¯‡ï¼ˆäºŒï¼‰ Kubernetes é‚£äº›äº‹ â€” Stateless èˆ‡Stateful kubernetes ReplicationController Kubernetes é‚£äº›äº‹ â€” Replication Controller Kubernetes é‚£äº›äº‹ â€” Deployment èˆ‡ ReplicaSetï¼ˆä¸€ï¼‰ Kubernetes é‚£äº›äº‹ â€” Deployment èˆ‡ ReplicaSetï¼ˆäºŒï¼‰ Kubernetes é‚£äº›äº‹ â€” Deployment èˆ‡ ReplicaSetï¼ˆä¸‰ï¼‰ kubernetes Deployments [Kubernetes] StatefulSet Overview ","date":"2022-05-03","objectID":"/k8s-advanced/:10:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - é€²éš (Serviceã€Ingressã€StatefulSetã€Deploymentã€ReplicaSetã€ConfigMap)","uri":"/k8s-advanced/"},{"categories":["codenotes"],"content":"æ­¤æ–‡ç« æ˜¯ä»‹ç´¹ Kubernetes ä»¥åŠå¦‚ä½•å»ºç«‹ç¬¬ä¸€å€‹ Podï¼Œæ–‡ç« å…§å®¹å¤§å¤šåƒè€ƒå…¶ä»–ç¶²è·¯å¤§ç¥ï¼Œä¸¦åŠ å…¥è‡ªå·±äº†è§£çš„æ€è·¯èˆ‡èªæ°£ï¼Œæ–‡ç« ç´”å±¬å€‹äººç­†è¨˜æ€§è³ªï¼Œç„¡ç‡Ÿåˆ©ä¹‹ç”¨é€”ï¼Œåƒè€ƒè³‡æ–™ä¹Ÿé™„åœ¨æ–‡ç« æœ€å¾Œï¼Œæœ‰èˆˆè¶£çš„æœ‹å‹ä¹Ÿå¯ä»¥å…ˆå»äº†è§£çœ‹çœ‹æ­ ğŸ˜","date":"2022-04-28","objectID":"/k8s/","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Kubernetes (K8s)? Kubernetes ä¹Ÿå¯ä»¥å« K8sï¼Œé€™å€‹åç¨±ä¾†æºå¸Œè‡˜èªï¼Œæ„æ€æ˜¯èˆµæ‰‹æˆ–æ˜¯é£›è¡Œå“¡ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥çœ‹åˆ°å®ƒçš„ logo æ˜¯ä¸€å€‹èˆ¹èˆµçš„æ¨™èªŒï¼Œä¹‹æ‰€ä»¥å« K8s æ˜¯å› ç‚º Kubernetes çš„ k åˆ° s ä¸­é–“æœ‰ 8 çš„è‹±æ–‡å­—æ¯ï¼Œç‚ºäº†æ–¹ä¾¿ï¼Œå¤§å®¶å¸¸ä»¥é€™å€‹åç¨±ä¾†ç¨±å‘¼ä»–ï¼ kubernetes logo\" kubernetes logo Kubernetes æ˜¯ä¸€ç¨®é–‹æºå¯ç”¨ä¾†è‡ªå‹•åŒ–éƒ¨å±¬ã€æ“´å±•ä»¥åŠç®¡ç†å¤šå€‹å®¹å™¨çš„ç³»çµ±ï¼Œé©ç”¨æ–¼ç•¶å®¹å™¨æ•¸é‡å¢åŠ ï¼Œéœ€è¦ç©©å®šå®¹å™¨ç’°å¢ƒï¼Œä»¥åŠç®¡ç†è³‡æºæˆ–æ¬Šé™åˆ†é…çš„ç‹€æ³ã€‚ æˆ‘å€‘ä¹‹å‰åœ¨ Docker ä»‹ç´¹ æ–‡ç« ä¸­ï¼Œå·²ç¶“æœ‰ä»‹ç´¹ä»¥å¾€å‚³çµ±è™›æ“¬æ©Ÿä»¥åŠå®¹å™¨åŒ–çš„ Docker å·®ç•°ä»¥åŠå„ªé»ï¼Œé‚£ç•¶æˆ‘å€‘åœ¨ç®¡ç†å®¹å™¨æ™‚ï¼Œå…¶ä¸­ä¸€å€‹å®¹å™¨å‡ºç¾æ•…éšœï¼Œå‰‡éœ€è¦å•Ÿå‹•å¦ä¸€å€‹å®¹å™¨ï¼Œå¦‚æœè¦ç”¨æ‰‹å‹•ï¼Œæœƒååˆ†éº»ç…©ï¼Œæ‰€ä»¥é€™æ™‚å°±æ˜¯ Kubernetes çš„å²å®³çš„åœ°æ–¹äº†ï¼ŒKubernetes æä¾›ï¼š æœå‹™ç™¼ç¾å’Œè² è¼‰å¹³è¡¡ï¼šK8s å¯ä»¥ä½¿ç”¨ DNS åç¨±æˆ–æ˜¯è‡ªå·±çš„ IP ä½å€ä¾†å…¬é–‹å®¹å™¨ã€‚å¦‚æœå®¹å™¨æµé‡éé«˜ï¼ŒKubernetes èƒ½å¤ ä½¿ç”¨è² è¼‰å¹³è¡¡å’Œåˆ†é…ç¶²è·¯æµé‡ï¼Œèƒ½ä½¿éƒ¨ç½²æ›´ç©©å®šã€‚ ç·¨æ’å„²å­˜ï¼šKubernetes å…è¨±ä½¿ç”¨è‡ªå‹•æ›è¼‰ä¾†é¸æ“‡å„²å­˜ç³»çµ±ï¼Œä¾‹å¦‚ä½¿ç”¨æœ¬åœ°å„²å­˜ï¼Œæˆ–æ˜¯å…¬å…±é›²ç­‰ã€‚ è‡ªå‹•éƒ¨ç½²ã€åˆªé™¤ï¼šå¯ä»¥ä½¿ç”¨ Kubernetes ä¾†å¹«æˆ‘å€‘è‡ªå‹•åŒ–éƒ¨å±¬æ–°çš„å®¹å™¨ã€åˆªé™¤ç¾æœ‰çš„å®¹å™¨ä¸¦å°‡å…¶è³‡æºç”¨æ–¼æ–°å®¹å™¨ã€‚ è‡ªå‹•æ‰“åŒ…ï¼šç•¶æˆ‘å€‘ç‚º Kubernetes æä¾›ä¸€å€‹ç¯€é»å¢é›†ï¼Œå®ƒå¯ä»¥ç”¨ä¾†é‹è¡Œå®¹å™¨åŒ–çš„ä»»å‹™ï¼Œå‘Šè¨´ Kubernetes æ¯å€‹å®¹å™¨éœ€è¦å¤šå°‘ CPU å’Œ RAMã€‚Kubernetes å¯ä»¥å°‡å®¹å™¨å®‰è£åˆ°ç¯€é»ä¸Šï¼Œå……åˆ†åˆ©ç”¨è³‡æºã€‚ è‡ªå‹•ä¿®å¾©ï¼šKubernetes æœƒé‡æ–°å•Ÿå‹•å¤±æ•—çš„å®¹å™¨ã€æ›¿æ›å®¹å™¨ã€åˆªé™¤ä¸å›æ‡‰ç”¨æˆ¶çš„ä¸å¥åº·å®¹å™¨ï¼Œä¸¦ä¸”åœ¨å®¹å™¨æº–å‚™å¥½æœå‹™ä¹‹å‰ä¸æœƒé€šçŸ¥å®¢æˆ¶ç«¯ã€‚ æ©Ÿå¯†å’Œé…ç½®ç®¡ç†ï¼šKubernetes å…è¨±å„²å­˜å’Œç®¡ç†æ•æ„Ÿè¨Šæ¯ï¼Œä¾‹å¦‚å¯†ç¢¼ã€OAuth token å’Œ SSH é‡‘é‘°ã€‚å¯ä»¥éƒ¨ç½²å’Œæ›´æ–°æ©Ÿå¯†çš„æ‡‰ç”¨ç¨‹åºé…ç½®ã€‚ kubernetes å®˜ç¶²\" kubernetes å®˜ç¶² Kubernetes å¾ˆå¸¸è¢«æ‹¿ä¾†èˆ‡ Docker Swarm åšæ¯”è¼ƒï¼Œå…©è€…ä¸åŒçš„æ˜¯ï¼ŒDocker Swarm å¿…é ˆå»ºæ§‹åœ¨ Docker çš„æ¶æ§‹ä¸‹ï¼ŒåŠŸèƒ½ä¾·é™ã€ç„¡æ³•è·³è„«ã€‚ Kubernetes å‰‡å› ç‚ºåŠŸèƒ½è¼ƒç‚ºå»£æ³›ï¼Œè€Œé€æ¼¸å–ä»£ Docker Swarm åœ¨å¸‚å ´ä¸Šçš„åœ°ä½ã€‚ä¸‹æ–¹æœ‰ç°¡æ˜“çš„æ¯”è¼ƒè¡¨æ ¼ï¼š æ¯”è¼ƒ Kubernetes Docker Swarm èªªæ˜ Kubernetes æ˜¯ä¸€å€‹é–‹æºå®¹å™¨çš„ç·¨æ’å¹³å°ï¼ŒKubernetes çš„å¢é›†çµæ§‹æ¯” Docker Swarm æ›´ç‚ºè¤‡é›œã€‚ Kubernetes é€šå¸¸æœ‰å»ºæ§‹å™¨å’Œå·¥ä½œç¯€é»ï¼Œé‚„å¯é€²ä¸€æ­¥åˆ†ç‚º Podã€å‘½åç©ºé–“ã€é…ç½®æ˜ å°„ç­‰ã€‚ Docker Swarm æ˜¯ä¸€å€‹ç”± Docker æ§‹å»ºå’Œç¶­è­·çš„é–‹æºå®¹å™¨ç·¨æ’å¹³å°ã€‚ ä¸€å€‹ Docker Swarm å¢é›†é€šå¸¸åŒ…å«ä¸‰å€‹é …ç›®ï¼šNodesã€Services and tasksã€Load balancersã€‚ å„ªé» å®ƒæœ‰é¾å¤§çš„é–‹æºç¤¾ç¾¤ï¼Œç”± Google æ”¯æŒã€‚ å®ƒå¯ä»¥ç¶­æŒå’Œç®¡ç†å¤§å‹æ¶æ§‹å’Œè¤‡é›œçš„å·¥ä½œè² è¼‰ã€‚ å®ƒæ˜¯è‡ªå‹•åŒ–ï¼Œä¸¦æ”¯æŒè‡ªå‹•åŒ–æ“´å±•çš„è‡ªæˆ‘ä¿®è­·èƒ½åŠ›ã€‚ å®ƒæœ‰å…§å»ºç›£æ§å’Œå»£æ³›çš„å¯ç”¨é›†æˆã€‚ Docker Swarm å®‰è£ç°¡å–®ï¼Œå®ƒè¼•é‡åŒ–ä¸”å®¹æ˜“å­¸ç¿’ä½¿ç”¨ã€‚ Docker Swarm èˆ‡ Docker CLI ä¸€èµ·é‹ä½œï¼Œå› æ­¤ä¸éœ€è¦å¤šé‹è¡Œæˆ–æ˜¯å®‰è£æ–°çš„ CLI ç¼ºé» å®ƒè¤‡é›œçš„å®‰è£éç¨‹ä»¥åŠè¼ƒé›£å­¸ç¿’ å®ƒéœ€è¦å®‰è£å–®ç¨çš„ CLI å·¥å…·ä¸¦ä¸”å­¸ç¿’æ¯ä¸€é …åŠŸèƒ½ å®ƒæ˜¯è¼•é‡ç´šä¸”èˆ‡ Docker API ç›¸é—œè¯ï¼Œèˆ‡ Kubernetes ç›¸æ¯”ï¼ŒDocker Swarm è¢«é™åˆ¶å¾ˆå¤šåŠŸèƒ½ï¼Œä¸”è‡ªå‹•åŒ–ä¹Ÿæ²’æœ‰ Kubernetes å¼·å¤§ã€‚ ","date":"2022-04-28","objectID":"/k8s/:1:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"Kubernetes å…ƒä»¶ä»‹ç´¹èˆ‡èªªæ˜ Kubernetes æ˜¯å¦‚ä½•å¹«æˆ‘å€‘ç®¡ç†ä»¥åŠéƒ¨ç½² Container ? è¦äº†è§£ Kubernetes å¦‚ä½•é‹ä½œï¼Œå°±è¦å…ˆäº†è§£å®ƒçš„å…ƒä»¶ä»¥åŠæ¶æ§‹ï¼š é‚£æˆ‘å€‘ç”±å°çš„å¾€å¤§çš„ä¾†åšä»‹ç´¹ï¼šä¾åºæ˜¯ Podã€Worker Nodeã€Master Nodeã€Cluster ","date":"2022-04-28","objectID":"/k8s/:2:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"Pod Kubernetes é‹ä½œä¸­æœ€å°çš„å–®ä½ï¼Œä¸€å€‹ Pod æœƒå°æ‡‰åˆ°ä¸€å€‹æ‡‰ç”¨æœå‹™ (Application)ï¼Œèˆ‰ä¾‹ä¾†èªªä¸€å€‹ Pod å¯èƒ½æœƒå°æ‡‰åˆ°ä¸€å€‹ NginxServerã€‚ æ¯å€‹ Pod éƒ½æœ‰ä¸€å€‹å®šç¾©æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å±¬æ–¼é€™å€‹ Pod çš„ yaml æª”ã€‚ ä¸€å€‹ Pod è£¡é¢å¯ä»¥æœ‰ä¸€å€‹æˆ–å¤šå€‹ Containerï¼Œä½†ä¸€èˆ¬æƒ…æ³ä¸€å€‹ Pod æœ€å¥½åªæœ‰ä¸€å€‹ Containerã€‚ åŒä¸€å€‹ Pod ä¸­çš„ Containers å…±äº«ç›¸åŒçš„è³‡æºä»¥åŠç¶²è·¯ï¼Œå½¼æ­¤é€é local port number æºé€šã€‚ ","date":"2022-04-28","objectID":"/k8s/:2:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"Worker Node Kubernetes é‹ä½œçš„æœ€å°ç¡¬é«”å–®ä½ï¼Œä¸€å€‹ Worker Node (ç°¡ç¨± Node) å°æ‡‰åˆ°ä¸€å°æ©Ÿå™¨ï¼Œå¯ä»¥æ˜¯å¯¦é«”ä¾‹å¦‚ä½ çš„ç­†é›»ã€æˆ–æ˜¯è™›æ“¬æ©Ÿä¾‹å¦‚ GCP ä¸Šçš„ä¸€å° Computer Engineã€‚ æ¯ä¸€å€‹ Node éƒ½æœ‰ä¸‰å€‹çµ„ä»¶æ‰€çµ„æˆï¼škubeletã€kube-proxyã€Container Runtime kubelet è©² Node çš„ç®¡ç†å“¡ï¼Œè² è²¬ç®¡ç†è©² Node ä¸Šçš„æ‰€æœ‰ Pods çš„ç‹€æ…‹ä¸¦è² è²¬èˆ‡ Master Node æºé€šã€‚ kube-proxy è©² Node çš„å‚³è¨Šå“¡ï¼Œè² è²¬æ›´æ–° Node çš„ iptablesï¼Œè®“ Kubernetes ä¸­ä¸åœ¨è©² Node çš„å…¶ä»–ç‰©ä»¶å¯ä»¥å¾—çŸ¥è©² Node ä¸Šçš„æ‰€æœ‰ Pods çš„æœ€æ–°ç‹€æ…‹ã€‚ Container Runtime è©² Node çœŸæ­£è² è²¬å®¹å™¨åŸ·è¡Œçš„ç¨‹å¼ï¼ŒK8s é è¨­æ˜¯ Dockerï¼Œä½†ä¹Ÿæ”¯æ´å…¶ä»– Runtime Engineï¼Œä¾‹å¦‚ Mirantis Container Runtimeã€CRI-Oã€containerd å¸¸è¦‹èª¤è§£ å¾ˆå¤šäººèªç‚º Kubernetes æ˜¯ docker container çš„ç®¡ç†å·¥å…·ï¼ŒåŒ…å«æˆ‘ä¸€é–‹å§‹ä¹Ÿæ˜¯é€™æ¨£èªç‚ºï¼Œä½†å…¶å¯¦ Kubernetes æ˜¯ç”¨ä¾†ç®¡ç†å®¹å™¨åŒ– (containerized applications) ä¸¦ä¸æ˜¯å°ˆå±¬æ–¼ docker ç¨äº«ï¼Œä½œç‚ºä¸€å€‹ container orchestrator çš„è§’è‰²ï¼ŒKubernetes å¸Œæœ›èƒ½å¤ ç®¡ç†æ‰€æœ‰å®¹å™¨åŒ–çš„æ‡‰ç”¨ç¨‹å¼ ","date":"2022-04-28","objectID":"/k8s/:2:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"Master Node Kubernetes é‹ä½œçš„æŒ‡æ®ä¸­å¿ƒï¼Œå¯ä»¥ç°¡åŒ–çœ‹æˆä¸€å€‹ç‰¹æ®ŠåŒ–çš„ Node ä¾†è² è²¬ç®¡ç†æ‰€æœ‰å…¶ä»–çš„ Nodeã€‚ ä¸€å€‹ Master Node (ç°¡ç¨± Master) ä¸­æœ‰å››å€‹çµ„ä»¶çµ„æˆï¼škube-apiserverã€etcdã€kube-schedulerã€kube-controller-manager kube-apiserver ç®¡ç†æ•´å€‹ Kubernetes æ‰€éœ€ API çš„æ¥å£ (Endpoint)ï¼Œä¾‹å¦‚å¾ Command Line ä¸‹ kubectl æŒ‡ä»¤å°±æœƒæŠŠæŒ‡ä»¤é€åˆ°é€™è£¡ã€‚ è² è²¬ Node ä¹‹é–“çš„æ§‹é€šæ©‹æ¨‘ï¼Œæ¯å€‹ Node å½¼æ­¤ä¸èƒ½ç›´æ¥æºé€šï¼Œå¿…é ˆè¦é€é apiserver è½‰ä»‹ã€‚ è² è²¬ Kubernetes ä¸­çš„è«‹æ±‚çš„èº«ä»½èªè­‰èˆ‡æˆæ¬Šã€‚ etcd etcd æ˜¯å…¼å…·ä¸€åˆ¶æ€§å’Œé«˜å¯ç”¨æ€§çš„åˆ†æ•£å¼éµå€¼æ•¸æ“šåº«ï¼Œå¯ä»¥ä¿å­˜ Kubernetes æ‰€æœ‰ Cluster çš„å¾Œå°æ•¸æ“šåº«ã€‚ kube-scheduler æ•´å€‹ Kubernetes çš„ Pods èª¿åº¦å“¡ï¼Œscheduler æœƒç›£è¦–æ–°å»ºç«‹ä½†é‚„æ²’æœ‰è¢«æŒ‡å®šè¦è·‘åœ¨å“ªå€‹ Node ä¸Šçš„ Pod ï¼Œä¸¦æ ¹æ“šæ¯å€‹ Node ä¸Šé¢è³‡æºè¦å®šï¼Œç¡¬é«”é™åˆ¶ç­‰æ¢ä»¶å»å”èª¿å‡ºä¸€å€‹æœ€é©åˆæ”¾ç½® Node ä¾†è®“è©² Pod é‹è¡Œã€‚ kube-controller-manager è² è²¬ç®¡ç†ä¸¦é‹è¡Œ Kubernetes controller çš„çµ„ä»¶ï¼Œç°¡å–®ä¾†èªª controller å°±æ˜¯ Kubernetes è£¡ä¸€å€‹è² è²¬ç›£è¦– Cluster ç‹€æ…‹çš„ Processï¼Œä¾‹å¦‚ï¼šNode Controllerã€Replication Controllerã€‚ é€™äº› Process æœƒåœ¨ Cluster èˆ‡é æœŸç‹€æ…‹ (desire state) ä¸ç¬¦æ™‚å˜—è©¦æ›´æ–°ç¾æœ‰ç‹€æ…‹ (current state)ã€‚ä¾‹å¦‚ï¼šç¾åœ¨è¦å¤šé–‹ä¸€å°æ©Ÿå™¨ä»¥æ‡‰ä»˜çªç„¶å¢åŠ çš„æµé‡ï¼Œé‚£æˆ‘çš„é æœŸç‹€æ…‹å°±æœƒæ›´æ–°æˆ N+1ï¼Œç¾æœ‰ç‹€æ…‹æ˜¯ Nï¼Œé€™æ™‚ç›¸å°æ‡‰çš„ controller å°±æœƒæƒ³è¾¦æ³•å¤šé–‹ä¸€å°æ©Ÿå™¨ã€‚ controller-manager çš„ç›£è¦–èˆ‡å˜—è©¦æ›´æ–°ä¹Ÿéƒ½éœ€è¦é€éè¨ªå• kube-apiserver é”æˆã€‚ ","date":"2022-04-28","objectID":"/k8s/:2:3","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"Cluster Cluster ä¹Ÿå«å¢é›†ï¼Œå¯ä»¥ç®¡ç†çœ¾å¤šæ©Ÿå™¨çš„å­˜åœ¨ï¼Œåœ¨ä¸€èˆ¬çš„ç³»çµ±æ¶è¨­ä¸­æˆ‘å€‘ä¸æœƒåªæœ‰ä¸€å°æ©Ÿå™¨è€Œå·²ï¼Œé€šå¸¸éƒ½æ˜¯å¤šå€‹æ©Ÿå™¨ä¸€èµ·é‹è¡ŒåŒä¸€ç¨®å…§å®¹ï¼Œåœ¨æ²’æœ‰ Kubernetes çš„æ™‚å€™å°±å¿…é ˆè¦åœŸæ³•ç…‰é‹¼çš„ä¸€å°ä¸€å°æ©Ÿå™¨å»æ›´æ–°ï¼Œä½†æœ‰äº† Kubernetes æˆ‘å€‘å°±å¯ä»¥é€é Cluster é€²è¡Œæ§ç®¡ï¼Œåªè¦æ›´æ–° Master æ——ä¸‹çš„æ©Ÿå™¨ï¼Œä¹Ÿæœƒä¸€ä½µå°‡æ›´æ–°çš„å…§å®¹æ”¾ä¸Šå»ï¼Œååˆ†æ–¹ä¾¿ã€‚åœ¨ Kubernetes ä¸­å¤šå€‹ Worker Node èˆ‡ Master Node çš„é›†åˆã€‚ ","date":"2022-04-28","objectID":"/k8s/:2:4","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"åŸºæœ¬é‹ä½œ kubernetes çµ„ä»¶ Kubernetes åŸºç¤æ•™å­¸ï¼ˆä¸€ï¼‰åŸç†ä»‹ç´¹\" kubernetes çµ„ä»¶ Kubernetes åŸºç¤æ•™å­¸ï¼ˆä¸€ï¼‰åŸç†ä»‹ç´¹ æ¥ä¸‹ä¾†æˆ‘å€‘ç”¨ ã€ŒKuberntes æ˜¯å¦‚ä½•å»ºç«‹ä¸€å€‹ Pod ï¼Ÿã€ä¾†è¤‡ç¿’ä¸€ä¸‹æ•´å€‹ Kubernetes çš„æ¶æ§‹ã€‚ (ä¸Šåœ–æ˜¯ä¸€å€‹ç°¡æ˜“çš„ Kubernetes Cluster ï¼Œé€šå¸¸ Cluster ç‚ºäº†é«˜ç©©å®šæ€§éƒ½æœƒæœ‰å¤šå€‹ Master ä½œç‚ºå‚™æ´ï¼Œä½†ç‚ºäº†ç°¡åŒ–æˆ‘å€‘åªé¡¯ç¤ºä¸€å€‹ã€‚) ç•¶ä½¿ç”¨è€…è¦éƒ¨ç½²ä¸€å€‹æ–°çš„ Pod åˆ° Kubernetes Cluster æ™‚ï¼Œä½¿ç”¨è€…è¦å…ˆé€é User Command (kubectl) è¼¸å…¥å»ºç«‹ Pod å°æ‡‰çš„æŒ‡ä»¤ (å¾Œé¢æœƒèªªæ˜è¦å¦‚ä½•å¯¦éš›çš„å‹•æ‰‹å»ºç«‹ä¸€å€‹ Pod)ã€‚æ­¤æ™‚æŒ‡ä»¤æœƒç¶“éä¸€å±¤ç¢ºèªä½¿ç”¨è€…èº«ä»½å¾Œï¼Œå‚³éåˆ° Master Node ä¸­çš„ API Serverï¼ŒAPI Server æœƒæŠŠæŒ‡ä»¤å‚™ä»½åˆ° etcdã€‚ controller-manager æœƒå¾ API Server æ”¶åˆ°éœ€è¦å‰µå»ºä¸€å€‹æ–°çš„ Pod çš„è¨Šæ¯ï¼Œä¸¦æª¢æŸ¥å¦‚æœè³‡æºè¨±å¯ï¼Œå°±æœƒå»ºç«‹ä¸€å€‹æ–°çš„ Podã€‚æœ€å¾Œ Scheduler åœ¨å®šæœŸè¨ªå• API Server æ™‚ï¼Œæœƒè©¢å• controller-manager æ˜¯å¦æœ‰å»ºç½®æ–°çš„ Podï¼Œå¦‚æœç™¼ç¾æ–°å»ºç«‹çš„ Pod æ™‚ï¼ŒScheduler å°±æœƒè² è²¬æŠŠ Pod é…é€åˆ°æœ€é©åˆçš„ Node ä¸Šé¢ã€‚ é›–ç„¶ä¸Šé¢åŸºæœ¬çš„é‹ä½œçœ‹èµ·ä¾†ååˆ†è¤‡é›œï¼Œä½†å…¶å¯¦æˆ‘å€‘åœ¨å¯¦éš›æ“ä½œæ™‚ï¼Œåªæ˜¯éœ€å…¥ä¸€è¡ŒæŒ‡ä»¤å¾Œï¼Œå‰©ä¸‹çš„éƒ½æ˜¯ Kubernetes æœƒè‡ªå‹•å¹«æˆ‘å€‘å®Œæˆå¾ŒçºŒçš„å‹•ä½œã€‚ ","date":"2022-04-28","objectID":"/k8s/:3:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"å®‰è£ Kubernetes åœ¨æˆ‘å€‘é–‹å§‹æ“ä½œ Kubernetes ä¹‹å‰ï¼Œéœ€è¦å…ˆä¸‹è¼‰ Minikubeã€Hyperkitã€Kubectl å¥—ä»¶ï¼š Minikube ä¸€å€‹ Google ç™¼ä½ˆçš„è¼•é‡ç´šå·¥å…·ï¼Œè®“é–‹ç™¼è€…å¯ä»¥è¼•é¬†é«”é©—ä¸€å€‹ Kubernetes Clusterã€‚(åƒ…é™é–‹ç™¼æ¸¬è©¦ç’°å¢ƒ) å®‰è£ minikube\" å®‰è£ minikube (Macå°ˆç”¨) Hyperkit Hyperkit æ˜¯ MacOS ç³»çµ±ç´°éƒ¨è¨­å®šçš„é©…å‹•ç¨‹å¼ã€‚ å®‰è£ Hyperkit\" å®‰è£ Hyperkit Kubectl Kubectl æ˜¯ Kubernetes çš„ Command Line å·¥å…·ï¼Œæˆ‘å€‘ä¹‹å¾Œæœƒé€é Kubectl å»æ“ä½œæˆ‘å€‘çš„ Kubernetes Clusterã€‚ å®‰è£ kubectl\" å®‰è£ kubectl ","date":"2022-04-28","objectID":"/k8s/:4:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"å¦‚ä½•å»ºç«‹ä¸€å€‹ Pod ç‰ˆæœ¬è³‡è¨Š Minikubeï¼šv1.25.2 hyperkitï¼š0.20200908 Kubectlï¼šClient Versionï¼šv1.22.5ã€Server Versionï¼šv1.23.3 ä¸‹è¼‰å®Œ Minikube å¾Œï¼Œæˆ‘å€‘å¯ä»¥å…ˆé€é Minikube ä¾†æŸ¥è©¢å…¨éƒ¨çš„æŒ‡ä»¤ï¼Œç”±æ–¼æˆ‘å€‘å‰é¢æœ‰å®‰è£ Hyperkit é€™å€‹é©…å‹•ç¨‹å¼ï¼Œå•Ÿå‹• Minikube é è¨­æ˜¯ä½¿ç”¨ Dockerï¼Œæˆ‘å€‘é€™é‚Šè¦åˆ©ç”¨ Hyperkit ä¾†å•Ÿå‹•ï¼Œæ‰€ä»¥ä½¿ç”¨ Minikube start --vm-driver=hyperkit ä¾†å•Ÿå‹• Minikubeã€‚ Minikube å…¶ä»–æŒ‡ä»¤ä»‹ç´¹ é¡¯ç¤º minikube ç‹€æ…‹ minikube status åœæ­¢ minikube é‹è¡Œ minikube stop ssh é€²å…¥ minikube ä¸­ minikube ssh æŸ¥è©¢ minikube å°å¤–çš„ ip minikube ip ä½¿ç”¨ minikube æ‰€æä¾›çš„ç€è¦½å™¨ GUI minikube dashboard (å¯ä»¥åŠ  - - url çœ‹ç¶²å€æ­) æˆ‘å€‘å•Ÿå‹• minikube å¾Œï¼Œæˆ‘å€‘è¦æ‰“åšä¸€å€‹å¯ä»¥åœ¨ Pod é‹è¡Œçš„å°ç¨‹å¼ã€‚é€™å€‹å°ç¨‹å¼æ˜¯ä¸€å€‹ Node.js çš„ Web ç¨‹å¼ï¼Œä»–æœƒå»ºç«‹ä¸€å€‹ Server ä¾†ç›£è½ 3000 Portï¼Œæ”¶åˆ° request é€²ä¾†å¾Œæœƒæ¸²æŸ“ index.html é€™å€‹æª”æ¡ˆï¼Œé€™å€‹æª”æ¡ˆè£¡é¢æœƒæœ‰ä¸€éš»å¯æ„›çš„å°æŸ´çŠ¬ã€‚ å› ç‚ºæœ¬æ–‡ç« æ˜¯åœ¨ä»‹ç´¹ kubernetes æ‰€ä»¥åœ¨ç¨‹å¼éƒ¨åˆ†å°±ä¸å¤šåšèªªæ˜ï¼Œæˆ‘æŠŠç¨‹å¼ç¢¼æ”¾åœ¨ Githubï¼Œä»¥åŠé™„ä¸Š Dockerhub çš„ Repository å¯ä»¥ç›´æ¥ä½¿ç”¨åŒ…å¥½çš„ image ä¾†åšæ¸¬è©¦ï¼ ","date":"2022-04-28","objectID":"/k8s/:5:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"Pod yaml æª”æ¡ˆèªªæ˜ æ¥ä¸‹ä¾†æˆ‘å€‘è¦å…ˆæ’°å¯«ä¸€å€‹ Pod çš„å®šç¾©æ–‡ä»¶ (.yaml) æª”ï¼Œé€™å€‹ .yaml æª”å°±å¯ä»¥å»ºç«‹å‡º Pod äº†ï¼ kubernetes-demo.yaml (ç¨‹å¼ç¸®æ’è¦æ­£ç¢ºï¼Œä¸ç„¶æœƒç„¡æ³•åŸ·è¡Œæ­ï¼) apiVersion:v1kind:Podmetadata:name:kubernetes-demo-podlabels:app:demospec:containers:- name:kubernetes-demo-containerimage:880831ian/kubernetes-demoports:- containerPort:3000 apiVersion è©²å…ƒä»¶çš„ç‰ˆæœ¬è™Ÿï¼Œå¿…é ˆä¾ç…§ Server ä¸Š K8s ç‰ˆæœ¬ä¾†åšè¨­å®š (æƒ³è¦çŸ¥é“k8s ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ kubectl version æŒ‡ä»¤ä¾†æŸ¥è©¢ï¼Œæœƒé¡¯ç¤º client è·Ÿ server çš„ç‰ˆæœ¬è¨Šæ¯ï¼Œclient ä»£è¡¨ kubectl ç‰ˆæœ¬è¨Šæ¯ï¼Œserver ä»£è¡¨çš„æ˜¯ master node çš„ k8s ç‰ˆæœ¬è¨Šæ¯)ï¼Œç›®å‰ k8s éƒ½ä½¿ç”¨ 1.23 ç‰ˆæœ¬ä»¥ä¸Šï¼Œæ‰€ä»¥ apiVersion ç›´æ¥å¯« v1 å³å¯ã€‚ kind è©²å…ƒä»¶çš„å±¬æ€§ï¼Œç”¨ä¾†æ±ºå®šæ­¤è¨­å®šæª”çš„é¡å‹ï¼Œå¸¸è¦‹çš„æœ‰ Podã€Nodeã€Serviceã€Namespaceã€ReplicationController ç­‰ç­‰ metadata ç”¨ä¾†æ“ºæ”¾æè¿°æ€§è³‡æ–™çš„åœ°æ–¹ï¼Œåƒæ˜¯ Pod åç¨±æˆ–æ˜¯æ¨™ç±¤ç­‰ç­‰éƒ½æœƒæ”¾åœ¨æ­¤è™•ã€‚ nameï¼šæŒ‡å®šè©² Pod çš„åç¨± labelsï¼šæŒ‡å®šè©² Pod çš„æ¨™ç±¤ spec ç”¨ä¾†æè¿°ç‰©ä»¶ç”Ÿæˆçš„ç´°ç¯€ï¼Œåƒæ˜¯ Pod å…§å…¶å¯¦æ˜¯è·‘ Dokcer containerï¼Œæ‰€ä»¥åœ¨ Pod çš„ spec å…§å°±æœƒæè¿° container çš„ç´°ç¯€ã€‚ container.nameï¼šæŒ‡å®šé‹è¡Œçš„ Container çš„åç¨± container.imageï¼šæŒ‡å®š Container è¦ä½¿ç”¨å“ªå€‹ Imageï¼Œé€™è£¡æœƒå¾ DockerHub ä¸Šæœå°‹ container.portsï¼šæŒ‡å®šè©² Container æœ‰å“ªäº› Port number æ˜¯å…è¨±å¤–éƒ¨å­˜å–çš„ ","date":"2022-04-28","objectID":"/k8s/:5:1","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"ä½¿ç”¨ kubectl å»ºç«‹ Pod ç•¶æˆ‘å€‘æœ‰äº†å®šç¾©æ–‡ä»¶å¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨ kubectl çš„æŒ‡ä»¤ä¾†å»ºç«‹ Pod kubectl create -f kubernetes-demo.yaml kubectl apply -f kubernetes-demo.yaml å¯ä»¥ä½¿ç”¨ create or apply ä¾†å»ºç«‹ Pod ï¼Œé‚£é€™å…©å€‹çš„å·®ç•°æ˜¯ä»€éº¼å‘¢ï¼Ÿ kubectl create kubectl create æ˜¯æ‰€è¬‚çš„ â€œå‘½ä»¤å¼ç®¡ç†â€ (Imperative Management)ã€‚é€šéé€™ç¨®æ–¹å¼ï¼Œå¯ä»¥å‘Šè¨´ Kubernets API ä½ è¦å»ºç«‹ã€æ›´æ–°ã€åˆªé™¤çš„å…§å®¹ã€‚ kubectl create å‘½ä»¤æ˜¯å…ˆåˆªé™¤æ‰€æœ‰ç¾æœ‰çš„æ±è¥¿ï¼Œé‡æ–°æ ¹æ“š YAML æ–‡ä»¶ç”Ÿæˆæ–°çš„ Podã€‚æ‰€ä»¥è¦æ±‚ YAML æ–‡ä»¶ä¸­çš„é…ç½®å¿…é ˆå®Œæ•´ã€‚ kubectl create å‘½ä»¤ï¼Œä½¿ç”¨åŒä¸€å€‹ YAML æ–‡ä»¶é‡è¤‡å»ºç«‹æœƒå¤±æ•—ã€‚ kubectl apply kubectl apply æ˜¯ â€œè²æ˜å¼ç®¡ç†â€ (Declarative Management)æ–¹æ³•çš„ä¸€éƒ¨åˆ†ã€‚åœ¨è©²æ–¹æ³•ä¸­ï¼Œå³ä½¿å°ç›®æ¨™ç”¨äº†å…¶ä»–æ›´æ–°ï¼Œä¹Ÿå¯ä»¥ä¿æŒä½ å°ç›®æ¨™æ‡‰ç”¨çš„æ›´æ–°ã€‚ kubectl apply å‘½ä»¤ï¼Œæ ¹æ“šé…ç½®æ–‡ä»¶è£¡é¢å‡ºä¾†çš„å…§å®¹ï¼Œç”Ÿæˆå°±æœ‰çš„ã€‚æ‰€ä»¥ YAML æ–‡ä»¶çš„å…§å®¹å¯ä»¥åªå¯«éœ€è¦å‡ç´šçš„æ¬„ä½ã€‚ å¦‚æœçœ‹åˆ° pod/kubernetes-demo-pod created å°±ä»£è¡¨æˆ‘å€‘æˆåŠŸå»ºç«‹ç¬¬ä¸€å€‹ Pod äº†ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘å¯ä»¥ä½¿ç”¨ï¼š kubectl get pods å¯ä»¥æŸ¥çœ‹æˆ‘å€‘é‹è¡Œä¸­çš„ Podï¼š NAME READY STATUS RESTARTS AGE kubernetes-demo-pod 1/1 Running 0 3m5s Pod æŒ‡ä»¤ä»‹ç´¹ æŸ¥è©¢ç¾æœ‰ Pod ç‹€æ…‹ kubectl get po/pod/pods æŸ¥çœ‹è©² Pod è©³ç´°è³‡è¨Š kubectl describe pods \u003cpod-name\u003e åˆªé™¤ Pod kubectl delete pods æŸ¥çœ‹ Pod log kubectl logs \u003cpod-name\u003e ä¹Ÿå¯ä»¥ä½¿ç”¨ minikube åœ–å½¢åŒ–é é¢ä¾†çœ‹ä¸€ä¸‹æ˜¯å¦æˆåŠŸï¼ minikube dashboard --url ğŸ¤” Verifying dashboard health ... ğŸš€ Launching proxy ... ğŸ¤” Verifying proxy health ... http://127.0.0.1:55991/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ minikube dashboard\" minikube dashboard ","date":"2022-04-28","objectID":"/k8s/:5:2","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"é€£ç·šåˆ° Pod çš„æœå‹™ ç•¶æˆ‘å€‘å»ºç«‹å¥½ Pod ä¹‹å¾Œï¼Œæ‰“é–‹ç€è¦½å™¨ localhost:3000 æœƒç™¼ç¾ï¼Œä»€éº¼éƒ½æ²’æœ‰ï¼Œæ˜¯å› ç‚ºæˆ‘å€‘å‰›å‰›åœ¨ .yaml è£¡é¢è¨­å®šçš„æ˜¯ Pod çš„ Port ï¼Œå®ƒèˆ‡æœ¬æ©Ÿçš„ Port æ˜¯ä¸ç›¸é€šçš„ï¼Œå› æ­¤æˆ‘å€‘éœ€è¦ä½¿ç”¨ kubectl port-forward \u003cpod\u003e \u003cexternal-port\u003e:\u003cpod-port\u003e ï¼Œä¾†å°‡ Pod èˆ‡æœ¬æ©Ÿç«¯åš mappingã€‚ kubectl port-forward kubernetes-demo-pod 3000:3000 Forwarding from 127.0.0.1:3000 -\u003e 3000 Forwarding from [::1]:3000 -\u003e 3000 Handling connection for 3000 æˆ‘å€‘åœ¨æ­¤ç€è¦½ localhost:3000ï¼Œå°±æœƒçœ‹åˆ°å¯æ„›çš„æŸ´çŠ¬å›‰ï¼ æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬\" æˆåŠŸé¡¯ç¤ºæŸ´çŠ¬ å‰é¢æˆ‘å€‘å·²ç¶“å‰µå»ºå±¬æ–¼æˆ‘å€‘ç¬¬ä¸€å€‹ Pod äº†ï¼Œä½†ç•¶æˆ‘å€‘ Pod è¶Šå»ºè¶Šå¤šæ™‚ï¼Œè¦æ€éº¼å¿«é€Ÿçš„å¾—çŸ¥æ¯å€‹ Pod åœ¨åšä»€éº¼äº‹æƒ…ï¼Ÿé™¤äº†ç”¨ Pod çš„ metadata name ä¾†å‘½åå¤–ï¼Œé‚„æœ‰å¦ä¸€ç¨®æ–¹å¼ï¼š ","date":"2022-04-28","objectID":"/k8s/:5:3","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Label ? Label é¡§åæ€ç¾©å°±æ˜¯æ¨™ç±¤ï¼Œå¯ä»¥ç‚ºæ¯ä¸€å€‹ Pod è²¼ä¸Šæ¨™ç±¤ï¼Œè®“ Kubernetes æ›´æ–¹ä¾¿çš„ç®¡æ§é€™äº› Podã€‚ Label çš„å¯«æ³•å¾ˆç°¡å–®ï¼Œå¯ä»¥è‡ªå·±è‡ªè¨‚ä¸€å°å…·æœ‰è¾¨è­˜åº¦çš„ key/valueï¼Œèˆ‰æˆ‘å€‘ä¸Šé¢çš„ä¾‹å­ä¾†èªªï¼šæˆ‘å€‘å¯ä»¥åœ¨ labels å…§åŠ å…¥ app: demoï¼Œé‚£ Label æœ‰ä»€éº¼å¥½è™•å‘¢? é€™é‚Šè¦ç¨å¾®æä¸€ä¸‹ Selectorï¼Œå®ƒçš„åŠŸç”¨æ˜¯é¸å–å°æ‡‰çš„ç‰©ä»¶ã€‚ç‚ºäº†è¦æ–¹ä¾¿é¸å–åˆ°æˆ‘å€‘è¨­å®šå¥½çš„ Podï¼Œé€™æ™‚å€™ Label å°±æ´¾ä¸Šç”¨å ´äº†ï¼ Selector çš„å¯«æ³•ä¹Ÿå¾ˆç°¡å–®ï¼Œåªè¦æŠŠæˆ‘å€‘åœ¨ Label å®šç¾©çš„ key/value ç›´æ¥å®Œæ•´çš„è²¼éä¾†å°±å¯ä»¥äº†ï½ å°±åƒé€™æ¨£ï¼š selectors:app:demo é‚£é¸å–å¾Œæœ‰ä»€éº¼åŠŸç”¨å‘¢ï¼è«‹çœ‹ Kubernetes - é€²éš - Service è¬›å®Œ Label å¾Œï¼Œé †é‚Šæä¸€ä¸‹è·Ÿ Label æœ‰ç›¸ä¼¼çš„ï¼š ","date":"2022-04-28","objectID":"/k8s/:6:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Annotation ? å‰é¢æåˆ°çš„ Label åŠŸç”¨å…¶ç›®çš„æ˜¯è¦è®“ Kubernetes çŸ¥é“å¯ä»¥å»æ›´æ–¹ä¾¿ç®¡ç†çš„ï¼Œé‚£æˆ‘å€‘å¦‚æœæƒ³è¦è²¼æ¨™ç±¤ä½†ä¸æƒ³è®“ Kubernetes çŸ¥é“ï¼Œè¦æ€éº¼åšå‘¢ï¼Ÿ é€™æ™‚æˆ‘å€‘å°±å¯ä»¥ç”¨ Annotationï¼Œé€é Annotation å¯ä»¥å°‡æ¨™ç±¤å–®ç´”çµ¦é–‹ç™¼äººå“¡æŸ¥çœ‹ï¼Œé‚£è½èµ·ä¾† Annotation å¥½åƒæ²’æœ‰ä»€éº¼å¯¦è³ªä¸Šçš„ç”¨é€”ï¼Œå› ç‚º Kubernetes ä¸æœƒæ¡ç”¨é€™äº›æ¨™ç±¤ï¼Œä½†å…¶å¯¦ Annotation é‚„æ˜¯æœ‰ç”¨çš„æ­ï¼å¾ŒçºŒæ–‡ç« æœƒå†æåˆ° \u003e\u003c é‚£æ—¢ç„¶ Label è·Ÿ Annotation æœ‰ç›¸ä¼¼ï¼Œæ‰€ä»¥å¯«æ³•æƒ³å¿…ä¹Ÿæ˜¯å·®ä¸å¤šå§ï¼š annotations:author:Pin-YIcontact:880831ian@gmail.com ä¸€æ¨£ä¹Ÿæ˜¯å®šç¾©ä¸€çµ„å…·æœ‰è¾¨è­˜åº¦çš„ key/value ï¼Œæˆ‘å€‘é€™é‚Šå°±å…ˆæ”¾ authorã€contact é‚£ Label èˆ‡ Annotation è¦æ”¾åœ¨ Pod çš„å“ªä¸€è™•å‘¢ï¼Ÿ é‚„è¨˜å¾—æˆ‘å€‘ä¸Šé¢èªª metadata æ˜¯ç”¨ä¾†æ“ºæè¿°æ€§è³‡æ–™çš„åœ°æ–¹å—ï¼Œæ‰€ä»¥ä¸ç®¡æ˜¯ Label æˆ–æ˜¯ Annotation éƒ½æ˜¯æ”¾åœ¨ metadata ä¸­æ­ï¼ metadata:name:kubernetes-demo-podlabels:app:demoannotations:author:Pin-YIcontact:880831ian@gmail.com ","date":"2022-04-28","objectID":"/k8s/:7:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ kubernetes å®˜ç¶² Kubernetesï¼ˆK8sï¼‰æ˜¯ä»€éº¼ï¼ŸåŸºç¤ä»‹ç´¹+3å¤§å„ªé»è§£æ Docker Swarm vs Kubernetes: how to choose a container orchestration tool Kubernetes åŸºç¤æ•™å­¸ï¼ˆä¸€ï¼‰åŸç†ä»‹ç´¹ Kubernetesé‚£äº›äº‹ â€” åŸºç¤è§€å¿µèˆ‡æ“ä½œ Kubernetes é‚£äº›äº‹ â€” Pod ç¯‡ Kubernetes é‚£äº›äº‹ â€” Label ç¯‡ ","date":"2022-04-28","objectID":"/k8s/:8:0","tags":["Kubernetes","K8s","Docker","ä»‹ç´¹","å¯¦ä½œ"],"title":"Kubernetes (K8s) ä»‹ç´¹ - åŸºæœ¬","uri":"/k8s/"},{"categories":["codenotes"],"content":"å‰æƒ…æè¦ï¼šæœ¬ç¯‡æ˜¯ ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose) ä»¥åŠ Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker-compose å¯¦ä½œ çš„å¾ŒçºŒæ–‡ç« ï¼Œä¸»è¦æœƒå„ªåŒ–åŸæœ¬çš„ç¨‹å¼ç¢¼ï¼Œä¸¦ä½¿ç”¨ EFK ä¾†æ”¶é›†LOGï¼ ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:0:0","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ EFK ? éš¨è‘—ç¾åœ¨å„ç¨®ç¨‹å¼ç³»çµ±è¤‡é›œåº¦è¶Šä¾†è¶Šé«˜ï¼Œç‰¹åˆ¥æ˜¯ç¾åœ¨éƒ½å¾€é›²ä¸Šé–‹å§‹ä½œéƒ¨ç½²ï¼Œç•¶æˆ‘å€‘æƒ³è¦æŸ¥çœ‹ log çš„æ™‚å€™ï¼Œä¸å¯èƒ½ä¸€å€‹ä¸€å€‹å»ç™»å…¥å„ç¯€é»å»æŸ¥çœ‹ logï¼Œä¸åƒ…æ•ˆç‡ä½ï¼Œä¹Ÿæœƒæœ‰å®‰å…¨æ€§çš„å•é¡Œï¼Œæ‰€ä»¥ä¸å¯èƒ½è®“å·¥ç¨‹å¸«ç›´æ¥å»è¨ªå•æ¯ä¸€å€‹ç¯€é»ã€‚ è€Œä¸”ç¾åœ¨å¤§è¦æ¨¡çš„ç³»çµ±åŸºæœ¬ä¸Šéƒ½æ¡ç”¨å¢é›†çš„éƒ¨ç½²æ–¹å¼ï¼Œæ„å‘³è‘—å°æ¯å€‹ serviceï¼Œæœƒå•Ÿå‹•å¤šå€‹å®Œå…¨ä¸€æ¨£çš„ POD å°å¤–æä¾›æœå‹™ï¼Œæ¯å€‹ container éƒ½æœƒç”¢ç”Ÿè‡ªå·±çš„ logï¼Œå¾ç”¢ç”Ÿ log ä¾†çœ‹ï¼Œä½ æ ¹æœ¬ä¸çŸ¥é“æ˜¯ç”±å“ªå€‹ POD ç”¢ç”Ÿçš„ï¼Œé€™æ¨£å°æŸ¥çœ‹åˆ†ä½ˆå¼çš„æ—¥èªŒæ›´åŠ å›°é›£ã€‚ æ‰€ä»¥åœ¨é›²æ™‚ä»£ï¼Œéœ€è¦ä¸€å€‹æ”¶é›†ä¸¦åˆ†æ log çš„è§£æ±ºæ–¹æ¡ˆã€‚é¦–å…ˆéœ€è¦å°‡åˆ†ä½ˆåœ¨å„å€‹è§’è½çš„ log çµ±ä¸€æ”¶é›†åˆ°ä¸€å€‹é›†ä¸­çš„åœ°æ–¹ï¼Œæ–¹ä¾¿æŸ¥çœ‹ã€‚æ”¶é›†ä¹‹å¾Œï¼Œé‚„å¯ä»¥é€²è¡Œå„ç¨®çµ±è¨ˆä»¥åŠåˆ†æï¼Œç”šè‡³ç”¨æµè¡Œçš„å¤§æ•¸æ“šæˆ–æ©Ÿå™¨å­¸ç¿’çš„æ–¹æ³•ä¾†é€²è¡Œåˆ†æã€‚ æ‰€ä»¥èª•ç”Ÿäº† ELK æˆ–æ˜¯ EFK çš„è§£æ±ºæ–¹å¼ï¼š ELK æ˜¯ç”± Elasticsearchã€Logstashã€Kibana æ‰€çµ„æˆï¼Œ EFK æ˜¯ç”± Elasticsearchã€(Filebeats or Fluentd)ã€Kibana æ‰€çµ„æˆï¼Œå…©è€…çš„å·®ç•°åœ¨ä¸­é–“ä½¿ç”¨çš„é–‹æºç¨‹å¼ï¼Œæˆ‘æœƒåˆ†åˆ¥ä»‹ç´¹ä¸€ä¸‹æ¯ä¸€å€‹ç¨‹å¼ä¸»è¦çš„ç”¨é€”ï¼š Elasticsearchï¼šå®ƒæ˜¯ä¸€å€‹é›†ä¸­å„²å­˜ log çš„åœ°æ–¹ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒæ˜¯ä¸€å€‹å…¨æ–‡æª¢ç´¢ä»¥åŠåˆ†æçš„å¼•æ“ï¼Œå®ƒèƒ½è®“ç”¨æˆ¶ä»¥è¿‘ä¹å¯¦æ™‚çš„æ–¹å¼ä¾†æŸ¥çœ‹ã€åˆ†ææµ·é‡çš„æ•¸æ“šã€‚ Logstashã€Filebeatsã€Fluentdï¼šå®ƒå€‘ä¸»è¦æ˜¯æ”¶é›†åˆ†ä½ˆåœ¨å„è™•çš„ log ä¸¦é€²è¡Œè™•ç†(Filebeats åƒ…æ”¶é›†)ã€‚ Kibanaï¼šå®ƒæ˜¯ç‚º Elasticsearch é–‹ç™¼çš„å‰ç«¯ GUIï¼Œå¯ä»¥è®“ç”¨æˆ¶å¾ˆæ–¹ä¾¿çš„ä»¥åœ–å½¢åŒ–é€²è¡ŒæŸ¥è©¢ Elasticsearch ä¸­å„²å­˜çš„æ•¸æ“šï¼ŒåŒæ™‚ä¹Ÿæä¾›å„å¼å„æ¨£çš„æ¨¡çµ„å¯ä»¥ä½¿ç”¨ã€‚ Logstashã€Filebeatsã€Fluentd é—œä¿‚ï¼š Filebeats æ˜¯ä¸€å€‹è¼•é‡ç´šæ”¶é›†æœ¬åœ° log æ•¸æ“šçš„æ–¹æ¡ˆï¼Œå®ƒåƒ…èƒ½æ”¶é›†æœ¬åœ°çš„ logï¼Œä¸èƒ½å° log åšè™•ç†ï¼Œæ‰€ä»¥ Filebeats é€šå¸¸æœƒå°‡ log é€åˆ° Logstash åšé€²ä¸€æ­¥çš„è™•ç†ã€‚ é‚£ç‚ºä»€éº¼ä¸ç›´æ¥ä½¿ç”¨ Logstash ä¾†æ”¶é›†æ”¶é›†ä¸¦è™•ç† log å‘¢ï¼Ÿ å› ç‚º Logstash æœƒæ¶ˆè€—è¨±å¤šçš„è¨˜æ†¶é«”ï¼Œæ‰€ä»¥æ‰æœƒå…ˆé€é Filebeats æ”¶é›†è³‡æ–™å†å‚³çµ¦ Logstash åšè™•ç†ã€‚ å¦å¤– Filebeatsã€Logstashã€Elasticsearch å’Œ Kibana éƒ½æ˜¯å±¬æ–¼åŒä¸€å®¶å…¬å¸çš„é–‹æºé …ç›®ï¼šhttps://www.elastic.co/guide/ è€Œ Fluentd å‰‡æ˜¯å¦ä¸€å®¶å…¬å¸çš„é–‹æºé …ç›®ï¼šhttps://docs.fluentd.org/ é‚£æˆ‘å€‘åœ¨é€™é‚Šå°±ä½¿ç”¨ Fluentd ä¾†åšæˆ‘å€‘çš„ EFK ç¤ºç¯„ï¼š EFK ç¤ºæ„åœ– EFK Stack: Elasticsearch, Fluentd and Kibana on Docker\" EFK ç¤ºæ„åœ– EFK Stack: Elasticsearch, Fluentd and Kibana on Docker ä¸Šé¢é€™å¼µåœ–ä»£è¡¨æˆ‘å€‘æœƒæœ‰å¾ˆå¤š Docker å®¹å™¨çš„ log (ä¹Ÿå°±æ˜¯ä¹‹å‰çš„ redis ä»¥åŠå…¶ä»– nginx ç­‰çš„å®¹å™¨)ï¼Œæœƒå…ˆé€é Fluentd æ”¶é›†ä¸¦è™•ç†å„å®¹å™¨çš„ log åœ¨å‚³é€åˆ° Elasticsearch é›†ä¸­å„²å­˜ï¼Œå†ä½¿ç”¨ Kibana åœ–å½¢åŒ–ä»‹é¢ä¾†æŸ¥è©¢æˆ–æª¢ç´¢å„²åœ¨ Elasticsearch çš„ logã€‚ ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:1:0","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"å¯¦ä½œ é‚£æ¥ä¸‹ä¾†æœƒä½¿ç”¨ Docker-compose å¯¦ä½œ EFK çš„ LOG åˆ†æï¼Œç¯„ä¾‹ç¨‹å¼é€£çµ é»æˆ‘ ğŸ˜˜ ç‰ˆæœ¬è³‡è¨Š macOSï¼š11.6 Dockerï¼šDocker version 20.10.12, build e91ed57 Nginxï¼š1.20 PHPï¼š7.4-fpm Redisï¼š6.2.6 HAProxyï¼šHAProxy version 2.5.5-384c5c5 2022/03/14 - https://haproxy.org/ Elasticsearchï¼š8.1.3 Fluentdï¼šv1.14 Kibanaï¼š8.1.3 ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:2:0","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"æª”æ¡ˆçµæ§‹ . â”œâ”€â”€ docker-volume â”‚Â â”œâ”€â”€ fluentd â”‚Â â”‚Â â””â”€â”€ fluent.conf â”‚Â â”œâ”€â”€ haproxy â”‚Â â”‚Â â””â”€â”€ haproxy.cfg â”‚Â â”œâ”€â”€ nginx â”‚Â â”‚Â â””â”€â”€ nginx.conf â”‚Â â”œâ”€â”€ php â”‚Â â”‚Â â”œâ”€â”€ info.php â”‚Â â”‚Â â”œâ”€â”€ r.php â”‚Â â”‚Â â””â”€â”€ rw.php â”‚Â â””â”€â”€ redis â”‚Â â”œâ”€â”€ redis.conf â”‚Â â”œâ”€â”€ redis1 â”‚Â â”œâ”€â”€ redis2 â”‚Â â””â”€â”€ redis3 â”œâ”€â”€ docker.sh â”œâ”€â”€ efk â”‚Â â””â”€â”€ Docker-compose.yaml â”œâ”€â”€ fluentd â”‚Â â””â”€â”€ Dockerfile â”œâ”€â”€ haproxy_sentinel â”‚Â â”œâ”€â”€ Docker-compose.yaml â”‚Â â”œâ”€â”€ sentinel1 â”‚Â â”‚Â â””â”€â”€ sentinel.conf â”‚Â â”œâ”€â”€ sentinel2 â”‚Â â”‚Â â””â”€â”€ sentinel.conf â”‚Â â””â”€â”€ sentinel3 â”‚Â â””â”€â”€ sentinel.conf â”œâ”€â”€ nginx_php_redis â”‚Â â””â”€â”€ Docker-compose.yaml â””â”€â”€ php â””â”€â”€ Dockerfile é€™æ˜¯ä¸»è¦çš„çµæ§‹ï¼Œç°¡å–®èªªæ˜ä¸€ä¸‹ï¼š(æª”æ¡ˆè¶Šä¾†è¶Šå¤šäº†XDï¼Œé€™æ¬¡æŠŠæ¯ä¸€å€‹éƒ½æœ‰åˆ†é¡ï¼Œæ‰€ä»¥çµæ§‹æœƒèˆ‡ä¹‹å‰ä¸å¤ªç›¸åŒ) docker-volume/fluentd/fluent.confï¼šfluentd çš„è¨­å®šæª”ã€‚ docker-volume/haproxy/haproxy.cfgï¼šhaproxy çš„è¨­å®šæª”ã€‚ docker-volume/nginx/nginx.confï¼šnginx çš„è¨­å®šæª”ã€‚ docker-volume/php/(r.phpã€rw.php)ï¼šæ¸¬è©¦ç”¨æª”æ¡ˆã€‚ docker-volume/redis/redis.confï¼šredis çš„è¨­å®šæª”ã€‚ docker-volume/redis/(redis1ã€redis2ã€redis3)ï¼šæ”¾ redis çš„è³‡æ–™ã€‚ docker.shï¼šæ˜¯æˆ‘å¦å¤–å¤šå¯«çš„è…³æœ¬ï¼Œå¯ä»¥æŸ¥çœ‹ç›¸å°æ‡‰çš„è§’è‰²ã€‚ efk/Docker-compose.yamlï¼šæœƒæ”¾ç½®è¦ç”¢ç”Ÿçš„ elasticsearchã€kibanaã€fluentd çš„å®¹å™¨è¨­å®šæª”ã€‚ fluentd/Dockerfileï¼šå› ç‚º fluentd éœ€è¦å¦å¤–å®‰è£ fluent-plugin-elasticsearch æ‰èƒ½ä½¿ç”¨ï¼Œæ‰€ä»¥ç”¨ Dockerfile å¦å¤–å¯« fluent çš„æ˜ åƒæª”ã€‚ haproxy_sentinel/Docker-compose.yamlï¼šæœƒæ”¾ç½®è¦ç”¢ç”Ÿçš„ haproxyã€sentinel1ã€sentinel2ã€sentinel3 çš„å®¹å™¨è¨­å®šæª”ã€‚ haproxy_sentinel/(sentinel1ã€sentinel2ã€sentinel3)/.confï¼šå“¨å…µçš„è¨­å®šæª”ã€‚ nginx_php_redis/Docker-compose.yamlï¼šæœƒæ”¾ç½®è¦ç”¢ç”Ÿçš„ nginxã€phpã€redis1ã€redis2ã€redis3 çš„å®¹å™¨è¨­å®šæª”ã€‚ php/Dokcerfileï¼šå› ç‚ºåœ¨ php è¦ä½¿ç”¨ redis éœ€è¦å¤šå®‰è£ä¸€äº›è¨­å®šï¼Œæ‰€ä»¥ç”¨ Dockerfile å¦å¤–å¯« PHP çš„æ˜ åƒæª”ã€‚ é‚£æˆ‘å€‘å°±ä¾ç…§å®‰è£çš„è¨­å®šé–‹å§‹èªªæ˜ï¼š(é€™é‚Šåªèªªæ˜èˆ‡ä¸Šä¸€ç¯‡ä¸åŒåœ°æ–¹ï¼Œé‡è¤‡çš„å°±è«‹å¤§å®¶å›å»çœ‹ä¹‹å‰çš„æ–‡ç« ) ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:2:1","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"docker-volume/fluentd/fluent.conf \u003csource\u003e @type forward bind 0.0.0.0 port 24224 \u003c/source\u003e \u003cmatch *.**\u003e @type copy \u003cstore\u003e @type elasticsearch host elasticsearch port 9200 logstash_format true logstash_prefix fluentd logstash_dateformat %Y%m%d include_tag_key true type_name access_log tag_key @log_name flush_interval 1s \u003c/store\u003e \u003cstore\u003e @type stdout \u003c/store\u003e \u003c/match\u003e é€™æ˜¯ fluent çš„è¨­å®šæª”ï¼Œå¯ä»¥åœ¨é€™é‚Šåšè‡ªè¨‚çš„è¨­å®šï¼Œä¾‹å¦‚ hostã€portã€é è¨­æ—¥æœŸã€tag_key ç­‰ç­‰ã€‚ ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:2:2","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"fluentd/Dockerfile FROMfluent/fluentd:v1.14USERrootRUN [\"gem\", \"install\", \"fluent-plugin-elasticsearch\"] å› ç‚ºæˆ‘å€‘éœ€è¦å…ˆå®‰è£ fluent-plugin-elasticsearch æ‰å¯ä»¥è®“ fluentd ä¾†ä½¿ç”¨ elasticsearchï¼Œæ‰€ä»¥å¤šå¯«ä¸€å€‹ Dockerfile ä¾†è¨­å®šã€‚ ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:2:3","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"efk/Docker-compose.yaml version:'3.8'services:elasticsearch:image:elasticsearch:8.1.3container_name:elasticsearchenvironment:- discovery.type=single-node- xpack.security.enabled=false# elasticsearch 8.xç‰ˆæœ¬å¾Œæœƒè‡ªå‹•é–‹å•ŸSSLnetworks:efk_network:ipv4_address:172.20.0.3ports:- 9200:9200kibana:image:kibana:8.1.3container_name:kibanaenvironment:- ELASTICSEARCH_HOSTS=http://elasticsearch:9200# - I18N_LOCALE=zh-CNnetworks:efk_network:ipv4_address:172.20.0.4ports:- 5601:5601depends_on:- elasticsearchfluentd:build:../fluentdcontainer_name:fluentdvolumes:- ../docker-volume/fluentd:/fluentd/etcdepends_on:- elasticsearchports:- \"24224:24224\"- \"24224:24224/udp\"networks:efk_network:ipv4_address:172.20.0.5networks:efk_network:driver:bridgename:efk_networkipam:config:- subnet:172.20.0.0/16gateway:172.20.0.1 é€™é‚Šæ˜¯è¨­å®š EFK ä¸‰å€‹å®¹å™¨çš„æª”æ¡ˆï¼Œæ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯ elasticsearch åœ¨ 8.x ç‰ˆæœ¬å¾Œæœƒè‡ªå‹•é–‹å•Ÿ SSL é€£ç·šï¼Œæ‰€ä»¥æ²’æœ‰ä½¿ç”¨çš„æˆ–æ˜¯åœ¨æ¸¬è©¦ä¸­çš„è¦å…ˆæŠŠå®ƒé—œæ‰ï¼Œä¸ç„¶æœƒé€£ä¸ä¸Šï¼ï¼Œkibana å®ƒæ”¯æ´ I18N å¤šèªç³»ï¼Œä½†ç›®å‰æ²’æœ‰ç¹é«”ä¸­æ–‡ï¼Œæ‰€ä»¥æƒ³è¦çœ‹ä¸­æ–‡çš„å¯ä»¥åˆ‡æˆ zh-CH çš„ç°¡é«”ä¸­æ–‡ä¾†ä½¿ç”¨ï¼Œå…¶ä»–å°±æ˜¯åŸºæœ¬çš„è¨­å®š Posts ä»¥åŠæˆ‘å€‘å…¨éƒ¨è¨­å®šå¥½ IPï¼Œåœ¨å¾ŒçºŒæ¸¬è©¦æœƒæ¯”è¼ƒæ–¹ä¾¿ï½ ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:2:4","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"nginx_php_redis/Docker-compose.yaml version:\"3.8\"services:nginx:image:nginxcontainer_name:nginxnetworks:efk_network:ports:- 8080:80volumes:- ../docker-volume/nginx/:/etc/nginx/conf.d/environment:- TZ=Asia/Taipeilogging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:nginxphp:build:../phpcontainer_name:phpnetworks:efk_network:expose:- 9000volumes:- ../docker-volume/php/:/var/www/htmlenvironment:- TZ=Asia/Taipeilogging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:phpredis1:image:rediscontainer_name:redis1command:redis-server /usr/local/etc/redis/redis.conf --appendonly yesvolumes:- ../docker-volume/redis/redis1/:/data- ../docker-volume/redis/:/usr/local/etc/redis/environment:- TZ=Asia/Taipeinetworks:efk_network:ipv4_address:172.20.0.11ports:- 6379:6379logging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:redis1redis2:image:rediscontainer_name:redis2command:redis-server /usr/local/etc/redis/redis.conf --slaveof redis1 6379 --appendonly yesvolumes:- ../docker-volume/redis/redis2/:/data- ../docker-volume/redis/:/usr/local/etc/redis/environment:- TZ=Asia/Taipeinetworks:efk_network:ipv4_address:172.20.0.12ports:- 6380:6379depends_on:- redis1logging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:redis2redis3:image:rediscontainer_name:redis3command:redis-server /usr/local/etc/redis/redis.conf --slaveof redis1 6379 --appendonly yesvolumes:- ../docker-volume/redis/redis3/:/data- ../docker-volume/redis/:/usr/local/etc/redis/environment:- TZ=Asia/Taipeinetworks:efk_network:ipv4_address:172.20.0.13ports:- 6381:6379depends_on:- redis1- redis2logging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:redis3networks:efk_network:external:name:efk_network é‚£é€™é‚ŠåŸºæœ¬ä¸Šéƒ½èˆ‡ä¸Šä¸€ç¯‡ä¸€æ¨£ï¼Œæ²’æœ‰ä¿®æ”¹ç‰¹åˆ¥çš„åœ°æ–¹ï¼Œåªæœ‰ä¿®æ”¹ç¶²è·¯åç¨±ä»¥åŠï¼š logging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:nginx æˆ‘å€‘è¦æŠŠæ¯ä¸€å€‹å®¹å™¨çš„ log é€²è¡Œæ”¶é›†èˆ‡è™•ç†ï¼Œæ‰€ä»¥æˆ‘å€‘ä½¿ç”¨ logging ç„¶å¾Œ driver é¸æ“‡ fluentdï¼Œä¸¦ä¸”è¦è¨­å®š fluentd çš„ IP ä½ç½®ä»¥åŠæ¯ä¸€å€‹å®¹å™¨å¯è¨­å®šä¸åŒçš„ tag æ–¹ä¾¿æˆ‘å€‘æŸ¥è©¢ã€‚ ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:2:5","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"haproxy_sentinel/Docker-compose.yaml version:'3.8'services:haproxy:image:haproxycontainer_name:haproxyvolumes:- ../docker-volume/haproxy/:/usr/local/etc/haproxyenvironment:- TZ=Asia/Taipeinetworks:efk_network:ipv4_address:172.20.0.20ports:- 16379:6379- 8404:8404logging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:haproxysentinel1:image:rediscontainer_name:redis-sentinel-1networks:efk_network:ports:- 26379:26379command:redis-server /usr/local/etc/redis/sentinel.conf --sentinelvolumes:- ./sentinel1:/usr/local/etc/redis/environment:- TZ=Asia/Taipeilogging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:sentinel1sentinel2:image:rediscontainer_name:redis-sentinel-2networks:efk_network:ports:- 26380:26379command:redis-server /usr/local/etc/redis/sentinel.conf --sentinelvolumes:- ./sentinel2:/usr/local/etc/redis/environment:- TZ=Asia/Taipeilogging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:sentinel2sentinel3:image:rediscontainer_name:redis-sentinel-3networks:efk_network:ports:- 26381:26379command:redis-server /usr/local/etc/redis/sentinel.conf --sentinelvolumes:- ./sentinel3:/usr/local/etc/redis/environment:- TZ=Asia/Taipeilogging:driver:\"fluentd\"options:fluentd-address:172.20.0.5:24224tag:sentinel3networks:efk_network:external:name:efk_network èˆ‡å‰é¢ä¸€æ¨£ï¼Œå¤šäº†ä¸€å€‹ logging ä¾†è¨­å®š fluentd ä½ç½®ä»¥åŠ tagã€‚ ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:2:6","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"æ¸¬è©¦ æˆ‘å€‘å…ˆç”¨ docker-compose up ä¾†å•Ÿå‹• efk/Docker-compose.yamlï¼Œæ¥è‘—å†å•Ÿå‹• nginx_php_redis/Docker-compose.yamlï¼Œæœ€å¾Œå•Ÿå‹• haproxy_sentinel/Docker-compose.yamlï¼š å•Ÿå‹• efk/Docker-compose.yaml\" å•Ÿå‹• efk/Docker-compose.yaml å•Ÿå‹• nginx_php_redis/Docker-compose.yaml\" å•Ÿå‹• nginx_php_redis/Docker-compose.yaml å•Ÿå‹• haproxy_sentinel/Docker-compose.yaml\" å•Ÿå‹• haproxy_sentinel/Docker-compose.yaml (å•Ÿå‹• efk æ™‚è¦ç­‰ä»–è·‘å®Œï¼Œå› ç‚ºä»–éœ€è¦å•Ÿå‹•ä¸€é™£å­ï¼Œå¦‚æœé‚„æ²’ç­‰ä»–å•Ÿå‹•å®Œç•¢å°±å•Ÿå‹•ä¸‹ä¸€å€‹ï¼Œæœƒå°è‡´ fluentd çš„ fluentd-address å°šæœªè¨­å®šå¥½ï¼Œå°è‡´å•Ÿå‹•éŒ¯èª¤) é€™æ™‚å€™å¯ä»¥ä½¿ç”¨ç€è¦½å™¨æœå°‹ä»¥ä¸‹ç¶²å€ï¼š test.com:5601ï¼šKibana GUI é é¢ã€‚ kibana è¨­å®š\" kibana è¨­å®š å¦‚æœé€£ç·šæˆåŠŸé€²ä¾†ï¼Œå°±ä»£è¡¨æˆ‘å€‘æœ‰å®‰è£å¥½ Elasticsearch ä»¥åŠ kibanaï¼Œé‚£æˆ‘å€‘ä¾†åšä¸€äº›è¨­å®šï¼Œè®“æˆ‘å€‘å¯ä»¥åœ¨ kibana ä¸Šé¢çœ‹åˆ° logã€‚ å…ˆé»é¸å·¦é‚Šçš„æ¬„ä½ï¼Œé»é¸ â€œStack Managementâ€ ï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰çš„ kibana çš„ç‰ˆæœ¬ï¼Œå†é»é¸å·¦é‚Šçš„ â€œKibana \u003e Date Viewsâ€ï¼š kibana è¨­å®š\" kibana è¨­å®š ç„¶å¾Œæœƒè·³å‡ºä¸€å€‹è¦–çª—é»é¸ â€œCreate data viewâ€ï¼Œåœ¨ name æ¬„ä½è¼¸å…¥ fluentd* (å³å´æœ‰ fluentd åŠ æ™‚é–“ï¼Œä»£è¡¨æˆ‘å€‘æ¥ fluentd æœ‰æˆåŠŸ)ï¼ŒæŒ‰ä¸‹ â€œCreate data viewâ€ kibana è¨­å®š\" kibana è¨­å®š æ¥è‘—é»é¸å·¦å´çš„æ¬„ä½ï¼Œé»é¸ â€œAnalytics \u003e Discoverâ€ ï¼Œå°±å¯ä»¥çœ‹åˆ°æˆ‘å€‘ç›®å‰æ‰€æœ‰çš„ log å›‰ï¼ kibana è¨­å®š\" kibana è¨­å®š kibana Analytics \u003e Discover\" kibana Analytics \u003e Discover ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:3:0","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ elastic å®˜ç¶² fluentd å®˜ç¶² Build the EFK system used for simulating logging server on Docker é–‹æºæ—¥èªŒç®¡ç†æ–¹æ¡ˆELK å’ŒEFK çš„å€åˆ¥ ","date":"2022-04-28","objectID":"/docker-compose-redis-sentinel-haproxy-efk/:4:0","tags":["EFK","HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ EFK æ”¶é›†å®¹å™¨æ—¥èªŒ (HAProxyã€Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy-efk/"},{"categories":["youtube"],"content":"èˆ‡è¨±ä¹…ä¸è¦‹çš„æœ‹å‹ï¼Œç›¸ç´„å»å®œè˜­éœ²ç‡Ÿï¼Œå¸Œæœ›ç–«æƒ…èƒ½å¤ è¶•å¿«çµæŸï¼Œæ‰å¯ä»¥ä¸€èµ·å»æ›´å¤šåœ°æ–¹éŠç©ï¼ å…¶ä¸­ç‰‡æ®µå› ç‚ºGoProæœ‰é»å°å•é¡Œï¼Œæ‰€ä»¥å°è‡´ç•«é¢æœƒå¡å¡çš„ï¼Œè«‹å¤§å®¶è¦‹è«’ ğŸ¥² è¨­å‚™/å‰ªè¼¯/BGM è¨­å‚™ï¼š ä¸»æ”å½±ï¼šGoPro 9 æ‹ç…§ï¼šIphone 12 Pro å‰ªè¼¯ï¼š Final Cut Pro ç…§ç‰‡å¾Œè£½ï¼š Canva BGMï¼š Sunshine by Roa https://soundcloud.com/roa_music1031 Creative Commons â€” Attribution 3.0 Unported â€” CC BY 3.0 Free Download / Stream: https://bit.ly/3DewYEU Music promoted by Audio Library https://youtu.be/A_d217KItFg One Day by Roa https://soundcloud.com/roa_music1031 Creative Commons â€” Attribution 3.0 Unported â€” CC BY 3.0 Free Download / Stream: https://bit.ly/3J4gEZf Music promoted by Audio Library https://youtu.be/P8CCI0o1yUo ç›¸é—œé€£çµ å½±ç‰‡ğŸ¬ï¼šä¸‹æ–¹è«‹æ”¶çœ‹ ğŸ‘‡ ","date":"2022-04-24","objectID":"/glamping/:0:0","tags":["éœ²ç‡Ÿ","æœ‹å‹","æ—…éŠ","YouTube"],"title":"ã€è±ªè¯éœ²ç‡Ÿã€‘å®œèµ·å»éœ²ç‡ŸVLOG","uri":"/glamping/"},{"categories":["codenotes"],"content":"å‰æƒ…æè¦ï¼šæœ¬ç¯‡æ˜¯ Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker-compose å¯¦ä½œ çš„å¾ŒçºŒæ–‡ç« ï¼Œä¸»è¦æœƒå„ªåŒ–åŸæœ¬çš„ç¨‹å¼ç¢¼ï¼Œä¸¦åŠ ä¸Š HAProxy ä¾†åšè² è¼‰å¹³è¡¡ï¼ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:0:0","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ HAProxy ä»¥åŠè² è¼‰å‡è¡¡ ? HAProxy æ˜¯ä¸€å€‹ä½¿ç”¨ C èªè¨€ç·¨å¯«çš„è‡ªç”±åŠé–‹æ”¾åŸå§‹ç¢¼è»Ÿé«”ï¼Œå…¶æä¾›é«˜å¯ç”¨æ€§ã€è² è¼‰å‡è¡¡ï¼Œä»¥åŠåŸºæ–¼ TCP å’Œ HTTP çš„æ‡‰ç”¨ç¨‹å¼ä»£ç†ã€‚ è² è¼‰å¹³è¡¡ (Load Balance)ï¼š ç¾åœ¨å¾ˆå¤šç¶²è·¯æœå‹™éƒ½éœ€è¦æœå‹™å¤§é‡ä½¿ç”¨è€…ï¼Œä»¥å‰å¯ä»¥ç ¸éŒ¢æ“´å……æ©Ÿå™¨ç¡¬é«”è¨­æ–½ï¼Œä½†éš¨è‘—ç¶²è·¯æœå‹™çš„ç”¨é‡æš´å¢ï¼Œå¢åŠ ä¼ºæœå™¨ç¡¬é«”è¨­å‚™å·²ç¶“ç„¡æ³•è§£æ±ºå•é¡Œã€‚ ç‚ºäº†å¯ä»¥æ“´å……æœå‹™ï¼Œè² è¼‰å¹³è¡¡æˆç‚ºä¸»æµçš„æŠ€è¡“ï¼Œé€™å¹¾å¹´é›–ç„¶é›²ç«¯èˆ‡åˆ†æ•£å¼å„²å­˜é‹ç®—æŠ€è¡“ç«ç´…ï¼Œé™¤éæœ‰ç‰¹åˆ¥çš„ä½¿ç”¨éœ€æ±‚ï¼Œä¸ç„¶åœ¨æŠ€è¡“ä¸Šè² è¼‰å‡è¡¡ç®—æ˜¯æ¯”è¼ƒå®¹æ˜“é”æˆèˆ‡æŒæ¡çš„æŠ€è¡“ã€‚ è² è¼‰å¹³è¡¡é™¤äº†åˆ†æµèƒ½åŠ›ä¹‹å¤–ï¼Œæœ‰å¦ä¸€å€‹å¾ˆå¤§çš„å¥½è™•å°±æ˜¯å¯ä»¥æä¾› High Availabilityï¼Œä¹Ÿå°±æ˜¯å‚³èªªä¸­çš„ HA æ¶æ§‹ï¼Œå¥½è®“ä½ ä¸€å°æ©Ÿå™¨æ›äº†å…¶ä»–ä¼ºæœå™¨å¯ä»¥ç¹¼çºŒæœå‹™ï¼Œé™ä½æ–·ç·šç‡ã€‚ HAProxy èˆ‡ Reids Sentinel ç¤ºæ„åœ– selcukusta/redis-sentinel-with-haproxy\" HAProxy èˆ‡ Reids Sentinel ç¤ºæ„åœ– selcukusta/redis-sentinel-with-haproxy ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:1:0","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"å¯¦ä½œ é‚£æ¥ä¸‹ä¾†æœƒä½¿ç”¨ Docker-compose å¯¦ä½œ Redis å“¨å…µæ¨¡å¼ + HAProxyï¼Œç¯„ä¾‹ç¨‹å¼é€£çµ é»æˆ‘ ğŸ˜˜ ç‰ˆæœ¬è³‡è¨Š macOSï¼š11.6 Dockerï¼šDocker version 20.10.12, build e91ed57 Nginxï¼š1.20 PHPï¼š7.4-fpm Redisï¼š6.2.6 HAProxyï¼šHAProxy version 2.5.5-384c5c5 2022/03/14 - https://haproxy.org/ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:0","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"æª”æ¡ˆçµæ§‹ . â”œâ”€â”€ Docker-compose.yaml â”œâ”€â”€ docker-volume â”‚Â â”œâ”€â”€ haproxy â”‚Â â”‚Â â””â”€â”€ haproxy.cfg â”‚Â â”œâ”€â”€ nginx â”‚Â â”‚Â â””â”€â”€ nginx.conf â”‚Â â”œâ”€â”€ php â”‚Â â”‚Â â”œâ”€â”€ info.php â”‚Â â”‚Â â”œâ”€â”€ r.php â”‚Â â”‚Â â””â”€â”€ rw.php â”‚Â â””â”€â”€ redis â”‚Â â”œâ”€â”€ redis.conf â”‚Â â”œâ”€â”€ redis1 â”‚Â â”œâ”€â”€ redis2 â”‚Â â””â”€â”€ redis3 â”œâ”€â”€ php â”‚Â â””â”€â”€ Dockerfile â”œâ”€â”€ redis.sh â””â”€â”€ sentinel â”œâ”€â”€ Docker-compose.yaml â”œâ”€â”€ sentinel1 â”‚Â â””â”€â”€ sentinel.conf â”œâ”€â”€ sentinel2 â”‚Â â””â”€â”€ sentinel.conf â””â”€â”€ sentinel3 â””â”€â”€ sentinel.conf é€™æ˜¯ä¸»è¦çš„çµæ§‹ï¼Œç°¡å–®èªªæ˜ä¸€ä¸‹ï¼š Docker-compose.yamlï¼šæœƒæ”¾ç½®è¦ç”¢ç”Ÿçš„ Nginxã€PHPã€redis1ã€redis2ã€redis3 å®¹å™¨è¨­å®šæª”ã€‚ docker-volume/haproxy/haproxy.cfgï¼šhaproxy çš„è¨­å®šæª”ã€‚ docker-volume/nginx/nginx.confï¼šnginx çš„è¨­å®šæª”ã€‚ docker-volume/php/(r.phpã€rw.php)ï¼šæ¸¬è©¦ç”¨æª”æ¡ˆã€‚ docker-volume/redis/redis.confï¼šredis çš„è¨­å®šæª”ã€‚ docker-volume/redis/(redis1ã€redis2ã€redis3)ï¼šæ”¾ redis çš„è³‡æ–™ã€‚ php/Dokcerfileï¼šå› ç‚ºåœ¨ php è¦ä½¿ç”¨ redis éœ€è¦å¤šå®‰è£ä¸€äº›è¨­å®šï¼Œæ‰€ä»¥ç”¨ Dockerfile å¦å¤–å¯« PHP çš„æ˜ åƒæª”ã€‚ redis.shï¼šæ˜¯æˆ‘å¦å¤–å¤šå¯«çš„è…³æœ¬ï¼Œå¯ä»¥æŸ¥çœ‹ç›¸å°æ‡‰çš„è§’è‰²ã€‚ sentinel/Docker-compose.yamlï¼šæœƒæ”¾ç½®è¦ç”¢ç”Ÿçš„ haproxyã€sentinel1ã€sentinel2ã€sentinel3 çš„å®¹å™¨è¨­å®šæª”ã€‚ sentinel/(sentinel1ã€sentinel2ã€sentinel3)/.confï¼šå“¨å…µçš„è¨­å®šæª”ã€‚ é‚£æˆ‘å€‘å°±ä¾ç…§å®‰è£çš„è¨­å®šé–‹å§‹èªªæ˜ï¼š ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:1","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"Docker-compose.yaml version:'3.8'services:nginx:image:nginx:1.20container_name:nginxnetworks:HAProxy_Redis:ports:- \"8888:80\"volumes:- ./docker-volume/nginx/:/etc/nginx/conf.d/- ./log/nginx/:/var/log/nginx/environment:- TZ=Asia/Taipeiphp:build:./phpcontainer_name:phpnetworks:HAProxy_Redis:expose:- 9000volumes:- ./docker-volume/php/:/var/www/htmlredis1:image:rediscontainer_name:redis1command:redis-server /usr/local/etc/redis/redis.conf --appendonly yesvolumes:- ./docker-volume/redis/redis1/:/data- ./docker-volume/redis/:/usr/local/etc/redis/- ./log/redis1:/var/log/redis/environment:- TZ=Asia/Taipeinetworks:HAProxy_Redis:ipv4_address:172.20.0.11ports:- 6379:6379redis2:image:rediscontainer_name:redis2command:redis-server /usr/local/etc/redis/redis.conf --slaveof redis1 6379 --appendonly yesvolumes:- ./docker-volume/redis/redis2/:/data- ./docker-volume/redis/:/usr/local/etc/redis/- ./log/redis2:/var/log/redis/environment:- TZ=Asia/Taipeinetworks:HAProxy_Redis:ipv4_address:172.20.0.12ports:- 6380:6379depends_on:- redis1redis3:image:rediscontainer_name:redis3command:redis-server /usr/local/etc/redis/redis.conf --slaveof redis1 6379 --appendonly yesvolumes:- ./docker-volume/redis/redis3/:/data- ./docker-volume/redis/:/usr/local/etc/redis/- ./log/redis3:/var/log/redis/environment:- TZ=Asia/Taipeinetworks:HAProxy_Redis:ipv4_address:172.20.0.13ports:- 6381:6379depends_on:- redis1- redis2networks:HAProxy_Redis:driver:bridgename:HAProxy_Redisipam:config:- subnet:172.20.0.0/16gateway:172.20.0.1 ä¸€æ¨£è©³ç´°çš„ Docker è¨­å®šèªªæ˜ï¼Œå¯ä»¥åƒè€ƒ Docker ä»‹ç´¹ å…§æœ‰è©³ç´°è¨­å®šèªªæ˜ã€‚å…¶ä»–æ¯”è¼ƒç‰¹åˆ¥çš„åœ°æ–¹æ˜¯ï¼š å¹«æ¯ä¸€å€‹å®¹å™¨éƒ½è¨­å®šå¥½ IP ï¼Œæ–¹ä¾¿å¾ŒçºŒæ¸¬è©¦ä½¿ç”¨ã€‚ æœ‰æ›è¼‰ log ç›®éŒ„ï¼Œå¯ä»¥å°‡æˆ‘å€‘è¨­å®šå¥½çš„ log åšæ”¶é›†ã€‚ å‘ˆä¸Šï¼Œæœ‰åŠ å…¥ environment æ™‚å€ï¼Œé€™æ¨£åœ¨çœ‹ log çš„æ™‚å€™æ‰çŸ¥é“æ­£ç¢ºæ™‚é–“ã€‚ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:2","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"docker-volume/haproxy/haproxy.cfg global log stdout format raw local0 info defaults mode http # é»˜èªæ¨¡å¼ { tcp | http | health }ï¼Œtcp æ˜¯4å±¤ï¼Œhttp æ˜¯7å±¤ï¼Œhealth åªæœƒè¿”å› OK timeout client 10s # å®¢æˆ¶ç«¯è¶…æ™‚ timeout connect 5s # é€£æ¥è¶…æ™‚ timeout server 10s # ä¼ºæœå™¨è¶…æ™‚ timeout http-request 10s log global listen admin_status bind 0.0.0.0:8404 mode http stats enable stats uri /redis stats realm Global\\ statistics stats refresh 1s listen rw-redis # åˆ¤æ–·æ˜¯å¦ç‚º master ä¸¦å¯è®€å¯å¯« bind 0.0.0.0:16379 mode tcp balance roundrobin option tcp-check # redis å¥åº·æ£€æŸ¥ï¼Œç¢ºä¿æ˜¯ master tcp-check connect tcp-check send PING\\r\\n tcp-check expect string +PONG tcp-check send info\\ replication\\r\\n tcp-check expect string role:master tcp-check send QUIT\\r\\n tcp-check expect string +OK server redis1 redis1:6379 check inter 2000 server redis2 redis2:6379 check inter 2000 server redis3 redis3:6379 check inter 2000 listen r-redis # åˆ¤æ–·æ˜¯å¦ç‚º masterã€slave ä¸¦å¯è®€ bind 0.0.0.0:16380 mode tcp balance roundrobin server redis1 redis1:6379 check inter 2000 server redis2 redis2:6379 check inter 2000 server redis3 redis3:6379 check inter 2000 é€™è£¡æ˜¯æœ¬ç« çš„é‡é»ï¼Œæˆ‘å€‘æœƒåœ¨é€™é‚Šè¨­å®šå¥½ haproxyï¼Œè©³ç´°èªªæ˜è«‹çœ‹ï¼š defaultsï¼š ä¸€äº›åˆå§‹å€¼ï¼Œåƒæ˜¯ mode æˆ‘å€‘é è¨­ httpï¼Œå®ƒä¸»è¦æœ‰ä¸‰ç¨®æ¨¡å¼ { tcp | http | health }ï¼Œtcp æ˜¯4å±¤ï¼Œhttp æ˜¯7å±¤ï¼Œhealth åªæœƒè¿”å› OKï¼Œä»¥åŠå®¢æˆ¶ç«¯ã€é€£æ¥ã€ä¼ºæœå™¨ã€http è«‹æ±‚è¶…æ™‚æ™‚é–“è¨­å®šã€‚ listen admin_statusï¼š bindï¼šæˆ‘å€‘è¦é–‹å•Ÿ HAProxy ç›£æ§å¹³å°çš„ portã€‚ modeï¼šæ¨¡å¼ï¼Œæˆ‘å€‘ä½¿ç”¨ http æ¨¡å¼ã€‚ stats ï¼šæ˜¯å¦è¦å•Ÿå‹•å¹³å°ã€‚ stats uriï¼šå¹³å°ç¶²å€ï¼Œæˆ‘å€‘ä½¿ç”¨ redisã€‚ stats refreshï¼šå¹³å°è‡ªå‹•æ›´æ–°æ™‚é–“ï¼Œæˆ‘å€‘è¨­å®š 1 ç§’ã€‚ listen rw-redisï¼š bind ï¼šrw ä½¿ç”¨ 16379 Port ä¾†ç•¶è¼¸å‡ºã€‚ balanceï¼šä½¿ç”¨è² è¼‰å¹³è¡¡ã€‚ option tcp-check # redis å¥åº·æ£€æŸ¥ï¼Œç¢ºä¿æ˜¯ master tcp-check connect tcp-check send PING\\r\\n tcp-check expect string +PONG tcp-check send info\\ replication\\r\\n tcp-check expect string role:master tcp-check send QUIT\\r\\n tcp-check expect string +OK ä¸Šé¢é€™äº›æ˜¯ç”¨ä¾†åˆ¤æ–·è§’è‰²æ˜¯ä¸æ˜¯ masterã€‚ æœ€å¾Œæ”¾æˆ‘å€‘ 3 å€‹ redis æœå‹™ï¼š server redis1 redis1:6379 check inter 2000 server redis2 redis2:6379 check inter 2000 server redis3 redis3:6379 check inter 2000 checkï¼šé–‹å•Ÿå¥åº·åµæ¸¬ã€‚ interï¼šåƒæ•¸æ›´æ”¹æª¢æŸ¥é–“éš”ï¼Œé è¨­æ˜¯ 2 ç§’ã€‚ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:3","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"docker-volume/nginx/nginx.conf server { listen 80; server_name default_server; return 404; } server { listen 80; server_name test.com; index index.php index.html; error_log /var/log/nginx/error.log warn; access_log /var/log/nginx/access.log; root /var/www/html; location / { try_files $uri $uri/ /index.php?$query_string; } location ~ \\.php$ { fastcgi_pass php:9000; fastcgi_index index.php; include fastcgi_params; fastcgi_param SCRIPT_FILENAME /var/www/html$fastcgi_script_name; } } Nginx è¨­å®šæª”æ¡ˆã€‚ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:4","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"docker-volume/php/rw.php \u003c?php $redis = new Redis(); $redis-\u003econnect('172.20.0.20', 16379); $r = $redis-\u003einfo(); echo $r['run_id'] . '\u003cbr\u003e' . $r['role'] . '\u003cbr\u003e\u003cbr\u003e'; echo '\u003cpre\u003e', print_r($r), '\u003c/pre\u003e'; è·Ÿ r.php æ¯”è¼ƒä¸åŒçš„æ˜¯ï¼Œä½¿ç”¨ 16379 Portï¼Œæˆ‘å€‘åœ¨ haproxy.cfg æœ‰è¨­å®š rw-redisï¼Œä¾†åˆ¤æ–·æ˜¯ä¸æ˜¯ master ä¸¦ä¸”æ˜¯å¯è®€å¯å¯«ã€‚ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:5","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"docker-volume/php/r.php \u003c?php $redis = new Redis(); $redis-\u003econnect('172.20.0.20', 16380); $r = $redis-\u003einfo(); echo $r['run_id'] . '\u003cbr\u003e' . $r['role'] . '\u003cbr\u003e\u003cbr\u003e'; echo '\u003cpre\u003e', print_r($r), '\u003c/pre\u003e'; ä½¿ç”¨ 16380 Portï¼Œåœ¨ haproxy.cfg æœ‰è¨­å®š r-redisï¼Œä¾†é¡¯ç¤ºæ˜¯ä¸æ˜¯ masterã€slave ä¸”å¯è®€ã€‚ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:6","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"php/Dockerfile FROMphp:7.4-fpmRUN pecl install -o -f redis \\ \u0026\u0026 rm -rf /tmp/pear \\ \u0026\u0026 echo \"extension=redis.so\" \u003e /usr/local/etc/php/conf.d/redis.ini \\ \u0026\u0026 echo \"session.save_handler = redis\" \u003e\u003e /usr/local/etc/php/conf.d/redis.ini \\ \u0026\u0026 echo \"session.save_path = tcp://redis:6379\" \u003e\u003e /usr/local/etc/php/conf.d/redis.ini å› ç‚º PHP è¦ä½¿ç”¨ Redisï¼Œæœƒéœ€è¦å®‰è£ä¸€äº›å¥—ä»¶ï¼Œæ‰€ä»¥æˆ‘å€‘å°‡ PHP åˆ†é–‹ä¾†ï¼Œä½¿ç”¨ Dockerfile ä¾†è¨­å®šæ˜ åƒæª”ã€‚ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:7","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"redis.sh #!/bin/bash green=\"\\033[1;32m\";white=\"\\033[1;0m\";red=\"\\033[1;31m\"; echo \"redis1 IPAddress:\" redis1_ip=`docker inspect redis1 | grep \"IPv4\" | egrep -o \"[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\"` echo $redis1_ip; echo \"------------------------------\" echo \"redis2 IPAddress:\" redis2_ip=`docker inspect redis2 | grep \"IPv4\" | egrep -o \"[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\"` echo $redis2_ip; echo \"------------------------------\" echo \"redis3 IPAddress:\" redis3_ip=`docker inspect redis3 | grep \"IPv4\" | egrep -o \"[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\"` echo $redis3_ip; echo \"------------------------------\" echo \"haproxy IPAddress:\" haproxy_ip=`docker inspect haproxy | grep \"IPv4\" | egrep -o \"[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\"` echo $haproxy_ip; echo \"------------------------------\" echo \"redis1:\" docker exec -it redis1 redis-cli info Replication | grep role echo \"redis2:\" docker exec -it redis2 redis-cli info Replication | grep role echo \"redis3:\" docker exec -it redis3 redis-cli info Replication | grep role é€™å€‹æ˜¯æˆ‘è‡ªå·±æ‰€å¯«çš„è…³æœ¬ï¼Œå¯ä»¥è©³ç´°çŸ¥é“ç›®å‰æœå‹™çš„è§’è‰²è½‰ç§»ç‹€æ³ã€‚ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:8","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"sentinel/Docker-compose.yaml version:'3.8'services:haproxy:image:haproxycontainer_name:haproxyvolumes:- ../docker-volume/haproxy/:/usr/local/etc/haproxyenvironment:- TZ=Asia/Taipeinetworks:HAProxy_Redis:ipv4_address:172.20.0.20ports:- 16379:6379- 8404:8404sentinel1:image:rediscontainer_name:redis-sentinel-1networks:HAProxy_Redis:ports:- 26379:26379command:redis-server /usr/local/etc/redis/sentinel.conf --sentinelvolumes:- ./sentinel1:/usr/local/etc/redis/- ../log/sentinel1:/var/log/redis/environment:- TZ=Asia/Taipeisentinel2:image:rediscontainer_name:redis-sentinel-2networks:HAProxy_Redis:ports:- 26380:26379command:redis-server /usr/local/etc/redis/sentinel.conf --sentinelvolumes:- ./sentinel2:/usr/local/etc/redis/- ../log/sentinel2:/var/log/redis/environment:- TZ=Asia/Taipeisentinel3:image:rediscontainer_name:redis-sentinel-3networks:HAProxy_Redis:ports:- 26381:26379command:redis-server /usr/local/etc/redis/sentinel.conf --sentinelvolumes:- ./sentinel3:/usr/local/etc/redis/- ../log/sentinel3:/var/log/redis/environment:- TZ=Asia/Taipeinetworks:HAProxy_Redis:external:name:HAProxy_Redis ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:9","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"sentinel/sentine.conf å› ç‚º sentine å…§å®¹éƒ½åŸºæœ¬ä¸Šç›¸åŒï¼Œæ‰€ä»¥èˆ‰ä¸€å€‹ä¾†èªªæ˜ï¼š port 26379 logfile \"/var/log/redis/redis-sentinel.log\" protected-mode no #è¨­å®šè¦ç›£æ§çš„ Masterï¼Œæœ€å¾Œçš„ 2 ä»£è¡¨åˆ¤å®šå®¢è§€ä¸‹ç·šæ‰€éœ€çš„å“¨å…µæ•¸ sentinel monitor mymaster 172.20.0.11 6379 2 #å“¨å…µ Ping ä¸åˆ° Master è¶…éæ­¤æ¯«ç§’æ•¸æœƒèªå®šä¸»è§€ä¸‹ç·š sentinel down-after-milliseconds mymaster 5000 è¦è¨­å®šæŒ‡å®šçš„ Port sentine1 æ˜¯ 26379ã€sentine2 æ˜¯ 26380ã€sentine3 æ˜¯ 26381ã€‚æ¥ä¸‹ä¾†è¦è¨­å®šè¦ç›£æ§çš„ Masterï¼Œæœ€å¾Œçš„æ•¸å­—ä»£è¡¨æˆ‘å€‘å‰é¢æœ‰æåˆ°å®¢è§€ä¸‹ç·šéœ€è¦é”åˆ°çš„å“¨å…µæ•¸ã€‚ä»¥åŠä¸»è§€ä¸‹ç·šçš„æ™‚é–“è·Ÿ failover è¶…éçš„æ™‚é–“ã€‚ ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:2:10","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"æ¸¬è©¦ æˆ‘å€‘å…ˆç”¨ docker-compose up ä¾†å•Ÿå‹• Docker-compose.yamlï¼Œæ¥è‘—å†å•Ÿå‹• sentinel/Docker-compose.yamlï¼š å•Ÿå‹• Docker-compose.yaml\" å•Ÿå‹• Docker-compose.yaml å•Ÿå‹• sentinel/Docker-compose.yaml\" å•Ÿå‹• sentinel/Docker-compose.yaml ç”±æ–¼ç‚ºäº†æ¸¬è©¦ï¼Œæœ‰å…ˆå°‡æ‰€æœ‰å®¹å™¨è¨­å®šå¥½ IPï¼Œå°±ä¸æœƒåƒä¸Šä¸€ç¯‡æ–‡ç« ä¸€æ¨£è¦å»æŠ“ IP ï¼Œæ‰èƒ½å•Ÿå‹• Sentinelã€‚ é€™æ™‚å€™å¯ä»¥ä½¿ç”¨ç€è¦½å™¨æœå°‹ä»¥ä¸‹ç¶²å€ï¼š test.com:8404/redisï¼šHAProxy ç›£çœ‹å¹³å°(åªå–ç‰‡æ®µ)ã€‚ HAProxy ç›£æ§å¹³å°\" HAProxy ç›£æ§å¹³å° test.com:8888/rw.phpï¼šåªæœƒé¡¯ç¤º masterï¼Œä¸¦ä¸”å¯è®€å¯å¯«ã€‚ master (redis1)\" master (redis1) test.com:8888/r.phpï¼šæœƒé¡¯ç¤º masterã€slaveï¼Œä¸”å¯è®€ã€‚ master (redis1)\" master (redis1) slave (redis2)\" slave (redis2) slave (redis3)\" slave (redis3) æ¥ä¸‹ä¾†å¯ä»¥åŸ·è¡Œï¼š $ sh redis.sh redis1 IPAddress: 172.20.0.11 ------------------------------ redis2 IPAddress: 172.20.0.12 ------------------------------ redis3 IPAddress: 172.20.0.13 ------------------------------ haproxy IPAddress: 172.20.0.20 ------------------------------ redis1: role:master redis2: role:slave redis3: role:slave å°±æœƒé¡¯ç¤ºä¸‰å€‹ redis çš„ IP ä»¥åŠ haproxy çš„ IPï¼Œé€™äº›éƒ½æ˜¯å·²ç¶“å¯«åœ¨ Docker-compose.yaml æª”æ¡ˆå…§çš„ï¼Œå¦‚æœå¿˜è¨˜çš„å¯ä»¥å†å¾€å‰çœ‹ â†‘ æ¥ä¸‹ä¾†æˆ‘å€‘å¯ä»¥å…ˆä¸€ç›´ F5 test.com:8888/r.phpï¼Œä¾†æ¨¡æ“¬å¤§é‡çš„è®€å–è«‹æ±‚ï¼Œå¦‚æœç™¼ç¾ç¶²ç«™å…§å®¹ä¸€ç›´åœ¨æ›´æ›ï¼Œå°±ä»£è¡¨æˆ‘å€‘æˆåŠŸé€é HAProxy åšåˆ°è² è¼‰å¹³è¡¡äº†ï¼Œå¯ä»¥å°‡è®€å–çš„éœ€æ±‚åˆ†çµ¦ä¸‰å€‹æœå‹™åšè™•ç†ï¼é‚£å› ç‚º test.com:8888/rw.php ä»–åªæœƒæŠ“ masterï¼Œæ‰€ä»¥åˆ·æ–°é‚„æ˜¯åŒä¸€å€‹ masterã€‚ é‚„è¨˜å¾—æˆ‘å€‘ä¸Šæ¬¡ç”¨ Redis çš„å“¨å…µæ¨¡å¼å—ï¼Ÿé‚£æˆ‘å€‘ç”¨å®ƒä¾†æ­é… Haproxy æœƒæœ‰ä»€éº¼çµæœå‘¢ï¼Ÿ æˆ‘å€‘å…ˆä½¿ç”¨ docker stop ä¾†æ¨¡æ“¬æœå‹™ä¸­æ–·ï¼š $ docker stop redis1 redis1 å¯ä»¥çœ‹åˆ° test.com:8404/redis åŸæœ¬ç¶ è‰²çš„ redis1 é–‹å§‹è®Šæˆé»ƒè‰²ï¼Œæœ€å¾Œè®Šæˆç´…è‰²ï¼š æ¨¡æ“¬ä¸­æ–·æœå‹™ HAProxy ç›£æ§å¹³å°\" æ¨¡æ“¬ä¸­æ–·æœå‹™ HAProxy ç›£æ§å¹³å° æœ€å¾Œå¯ä»¥çœ‹åˆ° Redis Sentinel ä½œå‹•ï¼Œå°‡ master è½‰ç§»åˆ° redis3ï¼š æ¨¡æ“¬ä¸­æ–·æœå‹™ HAProxy ç›£æ§å¹³å°\" æ¨¡æ“¬ä¸­æ–·æœå‹™ HAProxy ç›£æ§å¹³å° é€™æ™‚å€™æˆ‘å€‘å†å»çœ‹ test.com:8888/rw.php ï¼Œå°±æœƒç™¼ç¾èˆ‡å‰›å‰›çš„ master ä¸å¤ªä¸€æ¨£å›‰ï¼Œå› ç‚ºå·²ç¶“è®Šæˆ redis2 äº†ï¼ master (redis2)\" master (redis2) ä»£è¡¨æˆ‘å€‘ HAProxy ä¹Ÿæœ‰æˆåŠŸå°‡ master çµ¦é¡¯ç¤ºå‡ºä¾†ï¼ æˆ‘å€‘å†å»çœ‹ test.com:8888/r.php ï¼Œå°±å¯ä»¥ç™¼ç¾å‰©ä¸‹ redis2 ä»¥åŠ redis 3 äº†ï¼Œå› ç‚º redis1 è¢«æˆ‘å€‘çµ¦æš«åœæœå‹™äº†ï¼Œè€Œä¸” redis2 è®Šæˆ masterï¼ master (redis2)\" master (redis2) slave (redis3)\" slave (redis3) ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:3:0","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ HAProxy é¦–é  HAproxyçš„å®‰è£è¨­å®šåŠç¯„ä¾‹ redis sentinelé›†ç¾¤é…ç½®åŠhaproxyé…ç½® å¯Œäººç”¨ L4 Switchï¼Œçª®äººç”¨ Linux HAProxyï¼ selcukusta/redis-sentinel-with-haproxy How to Enable Health Checks in HAProxy ","date":"2022-04-22","objectID":"/docker-compose-redis-sentinel-haproxy/:4:0","tags":["HAProxy","Redis","Docker","Sentinel","è² è¼‰å¹³è¡¡","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"ç”¨ HAProxy å° Redis åšè² è¼‰å¹³è¡¡ (Redis Sentinelã€Docker-compose)","uri":"/docker-compose-redis-sentinel-haproxy/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Redis å“¨å…µæ¨¡å¼ (Sentinel) ? æœ‰é—œ Redis ä¹‹å‰æœ‰å¯«ä¸€ç¯‡ Redis çš„ä»‹ç´¹æ–‡ï¼Œæœ‰èˆˆè¶£å¯ä»¥å»çœ‹çœ‹ï¼ Redis æä¾›éå¸¸å¯¦ç”¨çš„åŠŸèƒ½ä¾†è®“æˆ‘å€‘å¯¦ç¾å¤šæ©Ÿçš„ in-memory è³‡æ–™åº«ï¼š ä¸»å¾è¤‡è£½æ¨¡å¼ (Master-Slave Replication) å“¨å…µæ¨¡å¼ (Sentinel) å¢é›†æ¨¡å¼ (Cluster) æˆ‘å€‘é€™é‚Šä¸»è¦ä»‹ç´¹å“¨å…µæ¨¡å¼ (Sentinel)ï¼Œä½†ä¸»è¦ä¹Ÿæ˜¯ç”±ä¸»å¾è¤‡è£½æ¨¡å¼ (Master-Slave Replication) ä¿®æ”¹è€Œä¾†ï¼š å“¨å…µæ¨¡å¼å°±æ˜¯ç”¨ä¾†ç›£è¦– Redis ç³»çµ±ï¼Œå“¨å…µæœƒç›£æ§ Master æ˜¯å¦æ­£å¸¸é‹ä½œã€‚å¦‚æœé‡åˆ° Master å‡ºç¾æ•…éšœæˆ–æ˜¯é›¢ç·šæ™‚ï¼Œå“¨å…µä¹‹é–“æœƒé–‹å§‹åˆ¤æ–·ï¼Œç›´åˆ°æˆ‘å€‘æ‰€è¨­å®šéœ€é”åˆ°çš„åˆ¤æ–·æ•¸é‡å¾Œï¼Œå“¨å…µæœƒå°‡å…¶æ‰€å±¬çš„ Slave è®Šæˆ Masterï¼Œä¸¦å†å°‡å…¶ä»–çš„ Slave æŒ‡å‘æ–°çš„ Masterã€‚ å“¨å…µæ¨¡å¼ (Sentinel)\" å“¨å…µæ¨¡å¼ (Sentinel) ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:1:0","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"ç›£æ§ å“¨å…µæœƒå’Œè¦ç›£æ§çš„ Master å»ºç«‹å…©æ¢é€£æ¥ï¼ŒCmd å’Œ Pub/Subï¼š Cmd æ˜¯å“¨å…µç”¨ä¾†å®šæœŸå‘ Master ç™¼é€ Info å‘½ä»¤ä»¥å–å¾— Master çš„è¨Šæ¯ï¼Œè¨Šæ¯ä¸­æœƒåŒ…å« Master æœ‰å“ªäº› Slaveã€‚ç•¶èˆ‡ Master ç²å¾— Slave è¨Šæ¯å¾Œï¼Œå“¨å…µä¹Ÿæœƒå’Œ Slave å»ºç«‹é€£æ¥ã€‚ å“¨å…µä¹Ÿæœƒå®šæœŸé€é Cmd å‘ Masterã€Slave å’Œå…¶ä»–å“¨å…µç™¼é€ Ping æŒ‡ä»¤ä¾†æª¢æŸ¥æ˜¯å¦å­˜åœ¨ï¼Œç¢ºèªç¯€é»ç‹€æ…‹ç­‰ã€‚ Pub/Sub è®“å“¨å…µå¯ä»¥é€éè¨‚é–± Master å’Œ Slave çš„ __Sentinel__:hello é€™å€‹é »é“ä¾†å’Œå…¶ä»–å“¨å…µå®šæœŸçš„é€²è¡Œè³‡è¨Šäº¤æ›ã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:1:1","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"ä¸»è§€ä¸‹ç·š (SDOWN) ä¸»è§€ä¸‹ç·šæ˜¯æŒ‡å–®å€‹å“¨å…µèªç‚º Master å·²ç¶“åœæ­¢æœå‹™äº†ï¼Œæœ‰å¯èƒ½æ˜¯ç¶²è·¯ä¸é€šæˆ–æ˜¯æ¥æ”¶ä¸åˆ°è¨‚é–±ç­‰ï¼Œè€Œå“¨å…µçš„åˆ¤æ–·æ˜¯ä¾æ“šå‚³é€ Ping æŒ‡ä»¤ä¹‹å¾Œä¸€å®šæ™‚é–“å…§æ˜¯å¦æ”¶åˆ°å›è¦†æˆ–æ˜¯éŒ¯èª¤è¨Šæ¯ï¼Œå¦‚æœæœ‰å“¨å…µå°±æœƒä¸»è§€èªç‚ºé€™å€‹ Master å·²ç¶“ä¸‹ç·šåœæ­¢æœå‹™äº†ã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:1:2","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"å®¢è§€ä¸‹ç·š (ODOWN) å®¢è§€ä¸‹ç·šæ˜¯æŒ‡ç”±å¤šå€‹å“¨å…µå°åŒä¸€å€‹ Master å„è‡ªé€²è¡Œä¸»è§€ä¸‹ç·šçš„åˆ¤æ–·å¾Œï¼Œå†ç¶œåˆæ‰€æœ‰å“¨å…µçš„åˆ¤æ–·ã€‚è‹¥æ˜¯èªç‚ºä¸»è§€ä¸‹ç·šçš„å“¨å…µåˆ°é”æˆ‘å€‘æ‰€é…ç½®çš„æ•¸é‡å¾Œï¼Œå³ç‚ºå®¢è§€ä¸‹ç·šã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:1:3","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"æ•…éšœè½‰ç§» (Failover) ç•¶ Master å·²ç¶“è¢«æ¨™è¨˜ç‚ºå®¢è§€ä¸‹ç·šæ™‚ï¼Œèµ·åˆç™¼ç¾ Master ä¸‹ç·šçš„å“¨å…µæœƒç™¼èµ·ä¸€å€‹é¸èˆ‰ (æ¡ç”¨çš„æ˜¯ Raft æ¼”ç®—æ³•)ï¼Œä¸¦è¦æ±‚å…¶ä»–å“¨å…µé¸ä»–åšç‚ºé ˜é ­å“¨å…µï¼Œé ˜é ­å“¨å…µæœƒè² è²¬é€²è¡Œæ•…éšœçš„æ¢å¾©ã€‚ç•¶é¸çš„æ¨™æº–æ˜¯è¦æœ‰è¶…éä¸€åŠçš„å“¨å…µåŒæ„ï¼Œæ‰€ä»¥å“¨å…µçš„æ•¸é‡å»ºè­°è¨­å®šæˆå¥‡æ•¸å€‹ã€‚ æ­¤æ™‚è‹¥æœ‰å¤šå€‹å“¨å…µåŒæ™‚åƒé¸é ˜é ­å“¨å…µï¼Œå‰‡æœ‰å¯èƒ½æœƒç™¼ç”Ÿä¸€è¼ªå¾Œæ²’æœ‰ç”¢ç”Ÿå‹é¸è€…ï¼Œå‰‡æ‰€æœ‰çš„å“¨å…µæœƒå†ç­‰éš¨æ©Ÿä¸€å€‹æ™‚é–“å†æ¬¡ç™¼èµ·åƒé¸çš„è«‹æ±‚ï¼Œé€²è¡Œä¸‹ä¸€è¼ªçš„é¸èˆ‰ï¼Œä¸€ç›´åˆ°é¸å‡ºé ˜é ­ç‚ºæ­¢ã€‚æ‰€ä»¥è‹¥å“¨å…µæ•¸é‡ç‚ºå¶æ•¸å°±å¾ˆæœ‰å¯èƒ½ä¸€ç›´ç„¡æ³•é¸å‡ºé ˜é ­å“¨å…µã€‚ é¸å‡ºé ˜é ­å“¨å…µå¾Œï¼Œé ˜é ­å“¨å…µæœƒé–‹å§‹å¾ä¸‹ç·šçš„ Master æ‰€å±¬ Slave ä¸­è·³é¸å‡ºä¸€å€‹ä¾†è®Šæˆæ–°çš„ Masterï¼ŒæŒ‘é¸çš„ä¾æ“šå¦‚ä¸‹ï¼š æ‰€æœ‰åœ¨ç·šçš„ Slave æ“æœ‰æœ€é«˜å„ªå…ˆæ¬Šçš„ï¼Œå„ªå…ˆæ¬Šå¯ä»¥é€é slave-priority ä¾†åšè¨­å®šã€‚ å¦‚æœæœ‰å¤šå€‹åŒç‚ºæœ€é«˜å„ªå…ˆæ¬Šçš„ Slaveï¼Œå‰‡æœƒé¸æ“‡è¤‡è£½æœ€å®Œæ•´çš„ã€‚ è‹¥é‚„æ˜¯æœ‰å¤šå€‹ Slave çš†ç¬¦åˆä¸Šè¿°æ¢ä»¶ï¼Œå‰‡é¸æ“‡ id æœ€å°çš„ã€‚ æ¥è‘—é ˜é ­å“¨å…µæœƒå°‡èˆŠçš„ Master æ›´æ–°æˆæ–°çš„ Master çš„ Slave ï¼Œè®“å…¶æ¢å¾©æœå‹™å¾Œä»¥ Slave çš„èº«ä»½ç¹¼çºŒé‹ä½œã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:1:4","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"ç”¨ Docker å¯¦ä½œ Redis å“¨å…µæ¨¡å¼ é‚£æ¥ä¸‹ä¾†æœƒä½¿ç”¨ Docker ä¾†å¯¦ä½œ Redis çš„å“¨å…µæ¨¡å¼ï¼Œç¯„ä¾‹ç¨‹å¼é€£çµ é»æˆ‘ ğŸ˜˜ ç‰ˆæœ¬è³‡è¨Š macOSï¼š11.6 Dockerï¼šDocker version 20.10.12, build e91ed57 Nginxï¼š1.20 PHPï¼š7.4-fpm Redisï¼šlatest ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:0","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"æª”æ¡ˆçµæ§‹ . â”œâ”€â”€ Docker-compose.yaml â”œâ”€â”€ docker-volume â”‚Â â”œâ”€â”€ log â”‚Â â”‚Â â””â”€â”€ nginx â”‚Â â”‚Â â”œâ”€â”€ access.log â”‚Â â”‚Â â””â”€â”€ error.log â”‚Â â”œâ”€â”€ nginx â”‚Â â”‚Â â””â”€â”€ nginx.conf â”‚Â â”œâ”€â”€ php â”‚Â â”‚Â â””â”€â”€ index.php â”‚Â â”œâ”€â”€ redis-master â”‚Â â”œâ”€â”€ redis-slave1 â”‚Â â””â”€â”€ redis-slave2 â”œâ”€â”€ redis.sh â”œâ”€â”€ php â”‚Â â””â”€â”€ Dockerfile â””â”€â”€ sentinel â”œâ”€â”€ Docker-compose.yaml â”œâ”€â”€ sentinel1.conf â”œâ”€â”€ sentinel2.conf â””â”€â”€ sentinel3.conf é€™æ˜¯ä¸»è¦çš„çµæ§‹ï¼Œç°¡å–®èªªæ˜ä¸€ä¸‹ï¼š Docker-compose.yamlï¼šæœƒæ”¾ç½®è¦ç”¢ç”Ÿçš„ Nginxã€PHPã€redis-masterã€redis-slave1ã€redis-slave2 å®¹å™¨è¨­å®šæª”ã€‚ docker-volumeï¼šæ˜¯æˆ‘å€‘è¦æ›è¼‰é€²å»åˆ°å®¹å™¨å…§çš„æª”æ¡ˆï¼ŒåŒ…å«åƒæ˜¯ nginx.conf æˆ–æ˜¯ log/nginx ä»¥åŠ redis è¨˜æ†¶é«”å„²å­˜å…§å®¹ã€‚ redis.shï¼šæ˜¯æˆ‘å¦å¤–å¤šå¯«çš„è…³æœ¬ï¼Œå¯ä»¥åœ¨æœ€å¾Œæ–¹é¢æˆ‘å€‘æ¸¬è©¦ Redis sentinel æ˜¯å¦æˆåŠŸã€‚ php/Dokcerfileï¼šå› ç‚ºåœ¨ php è¦ä½¿ç”¨ redis éœ€è¦å¤šå®‰è£ä¸€äº›è¨­å®šï¼Œæ‰€ä»¥ç”¨ Dockerfile å¦å¤–å¯« PHP çš„æ˜ åƒæª”ã€‚ sentinel/Docker-compose.yamlï¼šæœƒæ”¾ç½®è¦ç”¢ç”Ÿçš„ sentinel1ã€sentinel2ã€sentinel3 çš„å®¹å™¨è¨­å®šæª”ã€‚ sentinel(1ã€2ã€3).confï¼šå“¨å…µçš„è¨­å®šæª”ã€‚ é‚£æˆ‘å€‘å°±ä¾ç…§å®‰è£çš„è¨­å®šé–‹å§‹èªªæ˜ï¼š ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:1","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"Docker-compose.yaml version:'3.8'services:nginx:image:nginx:1.20container_name:nginxports:- \"8888:80\"volumes:- ./docker-volume/nginx/:/etc/nginx/conf.d/- ./docker-volume/log/nginx/:/var/log/nginx/php:build:./phpcontainer_name:phpexpose:- 9000volumes:- ./docker-volume/php/:/var/www/htmlredis-master:image:rediscontainer_name:redis-mastervolumes:- ./docker-volume/redis-master/:/data ports:- 6379:6379command:redis-server --appendonly yesredis-slave1:image:rediscontainer_name:redis-slave1volumes:- ./docker-volume/redis-slave1/:/dataports:- 6380:6379command:redis-server --slaveof redis-master 6379 --appendonly yesdepends_on:- redis-masterredis-slave2:image:rediscontainer_name:redis-slave2volumes:- ./docker-volume/redis-slave2/:/dataports:- 6381:6379command:redis-server --slaveof redis-master 6379 --appendonly yesdepends_on:- redis-master- redis-slave1 è©³ç´°çš„ Docker è¨­å®šèªªæ˜ï¼Œå¯ä»¥åƒè€ƒ Docker ä»‹ç´¹ å…§æœ‰è©³ç´°è¨­å®šèªªæ˜ã€‚æ¯”è¼ƒç‰¹åˆ¥çš„åœ°æ–¹æ˜¯ï¼š redis-(masterã€slave1ã€slave2) volumesï¼šå°‡ redis çš„è³‡æ–™æ›è¼‰åˆ° docker-volume/redis-(masterã€slave1ã€slave2)ã€‚ commandï¼šä½¿ç”¨ redis-server å•Ÿå‹•ï¼Œä¸¦ä¸”å°‡è©²æœå‹™å™¨è½‰è®ŠæˆæŒ‡å®šæœå‹™å™¨çš„å¾å±¬æœå‹™å™¨ (slave server)ã€‚(å¦‚æœæƒ³è¦ä¿å­˜ redis çš„è³‡æ–™ï¼Œè¦è¨˜å¾—åœ¨ å¾Œé¢åŠ ä¸Š â€“appendonly yes) ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:2","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"docker-volume/nginx/nginx.conf server { listen 80; server_name default_server; return 404; } server { listen 80; server_name test.com; index index.php index.html; error_log /var/log/nginx/error.log warn; access_log /var/log/nginx/access.log; root /var/www/html; location / { try_files $uri $uri/ /index.php?$query_string; } location ~ \\.php$ { fastcgi_pass php:9000; fastcgi_index index.php; include fastcgi_params; fastcgi_param SCRIPT_FILENAME /var/www/html$fastcgi_script_name; } } Nginx è¨­å®šæª”æ¡ˆã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:3","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"php/Dockerfile FROMphp:7.4-fpmRUN pecl install -o -f redis \\ \u0026\u0026 rm -rf /tmp/pear \\ \u0026\u0026 echo \"extension=redis.so\" \u003e /usr/local/etc/php/conf.d/redis.ini \\ \u0026\u0026 echo \"session.save_handler = redis\" \u003e\u003e /usr/local/etc/php/conf.d/redis.ini \\ \u0026\u0026 echo \"session.save_path = tcp://redis:6379\" \u003e\u003e /usr/local/etc/php/conf.d/redis.ini å› ç‚º PHP è¦ä½¿ç”¨ Redisï¼Œæœƒéœ€è¦å®‰è£ä¸€äº›å¥—ä»¶ï¼Œæ‰€ä»¥æˆ‘å€‘å°‡ PHP åˆ†é–‹ä¾†ï¼Œä½¿ç”¨ Dockerfile ä¾†è¨­å®šæ˜ åƒæª”ã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:4","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"sentinel/sentine.conf å› ç‚º sentine å…§å®¹éƒ½åŸºæœ¬ä¸Šç›¸åŒï¼Œæ‰€ä»¥èˆ‰ä¸€å€‹ä¾†èªªæ˜ï¼š port 26379 #è¨­å®šè¦ç›£æ§çš„ Masterï¼Œæœ€å¾Œçš„ 2 ä»£è¡¨åˆ¤å®šå®¢è§€ä¸‹ç·šæ‰€éœ€çš„å“¨å…µæ•¸ sentinel monitor mymaster 192.168.176.4 6379 2 #å“¨å…µ Ping ä¸åˆ° Master è¶…éæ­¤æ¯«ç§’æ•¸æœƒèªå®šä¸»è§€ä¸‹ç·š sentinel down-after-milliseconds mymaster 5000 #failover è¶…éæ¬¡æ¯«ç§’æ•¸å³ä»£è¡¨ failover å¤±æ•— sentinel failover-timeout mymaster 180000 è¦è¨­å®šæŒ‡å®šçš„ Port sentine1 æ˜¯ 26379ã€sentine2 æ˜¯ 26380ã€sentine3 æ˜¯ 26381ã€‚æ¥ä¸‹ä¾†è¦è¨­å®šè¦ç›£æ§çš„ Masterï¼Œæœ€å¾Œçš„æ•¸å­—ä»£è¡¨æˆ‘å€‘å‰é¢æœ‰æåˆ°å®¢è§€ä¸‹ç·šéœ€è¦é”åˆ°çš„å“¨å…µæ•¸ã€‚ä»¥åŠä¸»è§€ä¸‹ç·šçš„æ™‚é–“è·Ÿ failover è¶…éçš„æ™‚é–“ã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:5","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"sentinel/Docker-compose.yaml version:'3.8'services:sentinel1:image:rediscontainer_name:redis-sentinel-1ports:- 26379:26379command:redis-sentinel /usr/local/etc/redis/sentinel.confvolumes:- ./sentinel1.conf:/usr/local/etc/redis/sentinel.confsentinel2:image:rediscontainer_name:redis-sentinel-2ports:- 26380:26379command:redis-sentinel /usr/local/etc/redis/sentinel.confvolumes:- ./sentinel2.conf:/usr/local/etc/redis/sentinel.confsentinel3:image:rediscontainer_name:redis-sentinel-3ports:- 26381:26379command:redis-sentinel /usr/local/etc/redis/sentinel.confvolumes:- ./sentinel3.conf:/usr/local/etc/redis/sentinel.confnetworks:default:external:name:redis_default ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:6","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"docker-volume/php/index.php \u003c?php $redis = new Redis(); $sentinel = array( array( 'host' =\u003e '192.168.176.4', 'port' =\u003e 6379, 'role' =\u003e 'master', ), array( 'host' =\u003e '192.168.176.5', 'port' =\u003e 6379, 'role' =\u003e 'slave1', ), array( 'host' =\u003e '192.168.176.6', 'port' =\u003e 6379, 'role' =\u003e 'slave2', ), ); foreach ($sentinel as $value) { try { $redis-\u003econnect($value['host'], $value['port']); $redis-\u003eset('foo', 'bar'); echo \"é€£ç·šæˆåŠŸ \" . $value['host'] . \"\u003cbr\u003eç›®å‰ masterï¼š\" . $value['role'] . \"\u003cbr\u003e\"; } catch (\\Exception $e) { continue; } } ç‚ºäº†è¦è®“ PHP å¯ä»¥çŸ¥é“ç›®å‰çš„ Master æ˜¯å“ªä¸€å€‹æœå‹™å™¨ï¼Œæ‰€ä»¥å¯«äº†ä¸€å€‹ tryâ€¦catch ä¾†åšåˆ¤æ–·ï¼Œä¸¦ä¸”æŠŠ3å€‹æœå‹™å…§å®¹éƒ½æ”¾åˆ°é™£åˆ—ä¸­ï¼Œå¾ŒçºŒå†æ¸¬è©¦ä¸­æœƒå†èªªæ˜ã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:7","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"redis.sh #!/bin/bash green=\"\\033[1;32m\";white=\"\\033[1;0m\";red=\"\\033[1;31m\"; echo \"master IPAddress:\" master_ip=`docker inspect redis-master | grep \"IP\" | egrep -o \"[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\"` echo $master_ip; echo \"------------------------------\" echo \"slave1 IPAddress:\" slave1_ip=`docker inspect redis-slave1 | grep \"IP\" | egrep -o \"[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\"` echo $slave1_ip; echo \"------------------------------\" echo \"slave2 IPAddress:\" slave2_ip=`docker inspect redis-slave2 | grep \"IP\" | egrep -o \"[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\"` echo $slave2_ip; echo \"------------------------------\" echo \"master:\" docker exec -it redis-master redis-cli info Replication | grep role echo \"slave1:\" docker exec -it redis-slave1 redis-cli info Replication | grep role echo \"slave2:\" docker exec -it redis-slave2 redis-cli info Replication | grep role é€™å€‹æ˜¯æˆ‘è‡ªå·±æ‰€å¯«çš„è…³æœ¬ï¼Œå†ç­‰ç­‰æ¸¬è©¦æ™‚ï¼Œå¯ä»¥è©³ç´°çŸ¥é“ç›®å‰æœå‹™çš„è§’è‰²è½‰ç§»ç‹€æ³ã€‚ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:2:8","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"æ¸¬è©¦ æˆ‘å€‘å…ˆç”¨ docker-compose up ä¾†å•Ÿå‹• Docker-compose.yaml ï¼Œæ¥è‘—ä¸‹ sh redis.sh æŒ‡ä»¤ä¾†æŸ¥çœ‹å„æœå‹™çš„ IP ä½ç½®ä»¥åŠç›®å‰è§’è‰²ï¼š å•Ÿå‹• Docker-compose.yaml\" å•Ÿå‹• Docker-compose.yaml ä½¿ç”¨ redis.sh æª¢æŸ¥ç›®å‰ IP åŠè§’è‰²\" ä½¿ç”¨ redis.sh æª¢æŸ¥ç›®å‰ IP åŠè§’è‰² æ¥ä¸‹ä¾†å…ˆä¿®æ”¹ docker-volume/php/index.php $sentinel = array( array( 'host' =\u003e '192.168.208.4', 'port' =\u003e 6379, 'role' =\u003e 'master', ), array( 'host' =\u003e '192.168.208.5', 'port' =\u003e 6379, 'role' =\u003e 'slave1', ), array( 'host' =\u003e '192.168.208.6', 'port' =\u003e 6379, 'role' =\u003e 'slave2', ), ); å°‡å„è‡ªçš„ IP å¸¶å…¥æ¸¬è©¦çš„ç¶²ç«™ä¸­ã€‚ å¯ä»¥ç€è¦½ test.com:8888 æ˜¯å¦æœ‰æ­£å¸¸æŠ“åˆ° redis çš„ master test.com:8888 æ¸¬è©¦ç¶²ç«™\" test.com:8888 æ¸¬è©¦ç¶²ç«™ å†ä¾†ä¿®æ”¹ sentinel å…§çš„ sentinel(1ã€2ã€3).conf æª”æ¡ˆ port 26379 #è¨­å®šè¦ç›£æ§çš„ Masterï¼Œæœ€å¾Œçš„ 2 ä»£è¡¨åˆ¤å®šå®¢è§€ä¸‹ç·šæ‰€éœ€çš„å“¨å…µæ•¸ sentinel monitor mymaster 192.168.208.4 6379 2 #å“¨å…µ Ping ä¸åˆ° Master è¶…éæ­¤æ¯«ç§’æ•¸æœƒèªå®šä¸»è§€ä¸‹ç·š sentinel down-after-milliseconds mymaster 5000 #failover è¶…éæ¬¡æ¯«ç§’æ•¸å³ä»£è¡¨ failover å¤±æ•— sentinel failover-timeout mymaster 180000 å°‡è¦ç›£æ§çš„ Master IP å¸¶å…¥ sentinel monitor mymasterã€‚ å†å•Ÿå‹• sentinel/Docker-compose.yaml å•Ÿå‹• Docker-compose.yaml\" å•Ÿå‹• Docker-compose.yaml æ¥ä¸‹ä¾†æˆ‘å€‘ä¾†æ¨¡æ“¬å‡è¨­ Master æœå‹™ä¸­æ–·å¾Œï¼Œsentinel æœƒç™¼ç”Ÿä»€éº¼äº‹æƒ…ï¼š $ docker stop redis-master ä¸‹å®ŒæŒ‡ä»¤å¾Œï¼Œå†ä½¿ç”¨ sh redis.sh ä¾†çœ‹çœ‹ç›®å‰çš„ role ç‹€æ…‹ï¼š ä½¿ç”¨ redis.sh æª¢æŸ¥ç›®å‰ IP åŠè§’è‰²\" ä½¿ç”¨ redis.sh æª¢æŸ¥ç›®å‰ IP åŠè§’è‰² ç™¼ç¾å·²ç¶“æŠ“ä¸åˆ° master IP ä»¥åŠä»–çš„è§’è‰²ã€‚ ç­‰å¾…ä¸€ä¸‹å­å¾Œï¼Œé‡æ–°ä¸‹ sh redis.sh ä¾†çœ‹ç›®å‰çš„ role ç‹€æ…‹ï¼š ä½¿ç”¨ redis.sh æª¢æŸ¥ç›®å‰ IP åŠè§’è‰²\" ä½¿ç”¨ redis.sh æª¢æŸ¥ç›®å‰ IP åŠè§’è‰² å°±æœƒç™¼ç¾å·²ç¶“å°‡ master è½‰ç§»åˆ°åŸ slave1ã€‚ é‚£æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ sentinel åœ¨èƒŒå¾Œåšäº†å“ªäº›äº‹æƒ…ï¼š åˆ¤æ–·æ˜¯å¦ä¸»è§€ä¸‹ç·šåŠå®¢è§€ä¸‹ç·šï¼Œä¸¦ç™¼èµ·æŠ•ç¥¨\" åˆ¤æ–·æ˜¯å¦ä¸»è§€ä¸‹ç·šåŠå®¢è§€ä¸‹ç·šï¼Œä¸¦ç™¼èµ·æŠ•ç¥¨ å¯ä»¥çœ‹åˆ°ä¸‰å€‹å“¨å…µéƒ½èªç‚º master ç‚º ä¸»è§€ä¸‹ç·š (sdown)ï¼Œé€™æ™‚ sentinel-2 å°±èªå®šç‚º å®¢è§€ä¸‹ç·š (odown)ï¼Œä¸¦ç™¼èµ·æŠ•ç¥¨è¦æ±‚æˆç‚ºé ˜é ­å“¨å…µã€‚ é€²è¡Œé€ç¥¨ï¼Œç¢ºèªèª°ç•¶é¸\" é€²è¡Œé€ç¥¨ï¼Œç¢ºèªèª°ç•¶é¸ æˆ‘å€‘å¯ä»¥çœ‹åˆ° Sentinel2 å’Œ Sentinel3 éƒ½æŠ•çµ¦ Sentinel2ï¼Œæ‰€ä»¥æœ€å¾Œ Sentinel2 ç•¶é¸ã€‚ é ˜é ­å“¨å…µé¸å®šæ–° master\" é ˜é ­å“¨å…µé¸å®šæ–° master æ¥è‘— sentinel2 é¸å‡º redis-slave1 (192.168.208.5:6379) ä½œç‚º Master ï¼Œä¸¦ä¸”ä½¿ç”¨ failover-state-send-slaveof-noone ä¾†å°‡ redis-slave1 è§£é™¤ Slave ç‹€æ…‹è®Šæˆç¨ç«‹çš„ masterï¼Œéš¨å¾Œå°‡ redis-slave1 å‡æˆ masterã€‚ è¨­å®š master ä¸¦ä¿®æ”¹åŸ master è®Šæˆ slave\" è¨­å®š master ä¸¦ä¿®æ”¹åŸ master è®Šæˆ slave è¨­å®šå®Œæ–°çš„ Master å¾Œï¼ŒSentinel2 è®“åŸæœ¬çš„ Master è½‰ç‚º Slaveï¼Œä¸¦ä¸”è®“ redis-slave2(192.168.208.6:6379) æŒ‡å‘æ–°çš„ Masterã€‚æœ€å¾Œ Sentinel1 å’Œ Sentinel3 é–‹å§‹å¾ Sentinel2 å–å¾—è¨­å®šç„¶å¾Œæ›´æ–°è‡ªå·±çš„è¨­å®šï¼Œè‡³æ­¤æ•´å€‹æ•…éšœè½‰ç§»å°±å®Œæˆäº†ã€‚ æœ€å¾Œæˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹æˆ‘å€‘ç”¨ PHP é€£ç·šçš„æ¸¬è©¦ï¼š é€£ç·š master\" é€£ç·š master å°±æœƒç™¼ç¾ï¼Œå·²ç¶“ slave1 è®Šæˆç¾åœ¨çš„ masterã€‚ é‚£æˆ‘å€‘æœ€å¾ŒæŠŠåŸæœ¬çš„ master æ¢å¾©ï¼Œçœ‹çœ‹æœƒç™¼ç”Ÿä»€éº¼äº‹æƒ…ï¼š é€£ç·š master\" é€£ç·š master æœƒç™¼ç¾å› ç‚ºè©²å•Ÿå‹• masterï¼Œæ‰€ä»¥ä»–é‚„èªç‚ºä»–æ˜¯ masterï¼Œä½†éä¸€ä¸‹ä¸‹ï¼Œåœ¨æŸ¥çœ‹å°±æ­£å¸¸é¡¯ç¤º slave1 ç‚º masterï¼ŒèˆŠçš„ master å°±è®Šæˆ slaveã€‚ Redis å¸¸è¦‹éŒ¯èª¤å•é¡Œ åœ¨å­¸ç¿’çš„æ™‚å€™ï¼Œæœ‰ç™¼ç¾å•Ÿå‹• sentinel çš„æ™‚å€™ï¼Œæœƒè·³å‡º WARNING: Sentinel was not able to save the new configuration on disk!!!: Permission denied éŒ¯èª¤è¨Šæ¯ï¼Œå¾Œä¾†å†å»ç¿» redis github çš„ issus æ‰ç™¼ç¾ä½œè€…ä¹Ÿæœ‰ç™¼ç¾é€™å€‹å•é¡Œï¼Œä¸”å·²ç¶“ä¿®å¾©äº†ï¼Œä¸»è¦æ˜¯æ¬Šé™çš„å•é¡Œï¼Œä»¥åŠè¦æ›è¼‰ç›®éŒ„è€Œé conf æª”æ¡ˆã€‚ redis WARNING éŒ¯èª¤è¨Šæ¯ github issus\" redis WARNING éŒ¯èª¤è¨Šæ¯ github issus ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:3:0","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Redis (å…­) - ä¸»å¾è¤‡è£½ã€å“¨å…µèˆ‡å¢é›†æ¨¡å¼ ","date":"2022-04-19","objectID":"/docker-compose-redis-sentinel/:4:0","tags":["Redis","Docker","Sentinel","å“¨å…µæ¨¡å¼","å¯¦ä½œ"],"title":"Redis å“¨å…µæ¨¡å¼ (Sentinel) æ­é… Docker å¯¦ä½œ","uri":"/docker-compose-redis-sentinel/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Git ? ä¸ç®¡æ˜¯ä¸æ˜¯å·¥ç¨‹å¸«ï¼Œåªè¦å¸¸å¸¸éœ€è¦ä½¿ç”¨é›»è…¦å·¥ä½œï¼Œæ¯å¤©ä¸€å®šéƒ½æœƒæ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤è¨±å¤šæª”æ¡ˆï¼Œæˆ‘å€‘çœ‹åˆ°é€™å¼µåœ–ï¼š å¾ˆå¤šäººçš„é›»è…¦è£¡é¢éƒ½æœ‰é€™æ¨£çš„å…§å®¹\" å¾ˆå¤šäººçš„é›»è…¦è£¡é¢éƒ½æœ‰é€™æ¨£çš„å…§å®¹ é€™å¼µåœ–æ˜¯ä¸€å€‹èœé³¥å·¥ç¨‹å¸«åœ¨æ•´ç†æª”æ¡ˆæ™‚çš„æ–¹æ³•ï¼Œå› ç‚ºæ¯ä¸€å¤©éƒ½æœƒå°é€™ä»½æª”æ¡ˆåšä¸åŒçš„è™•ç†ï¼Œä½†ç‚ºäº†ä¿ç•™ä»¥å‰çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¹Ÿä¸æœƒåˆªé™¤èˆŠçš„æª”æ¡ˆï¼Œåªå¥½ç”¨æ—¥æœŸæˆ–æ˜¯ç‰ˆæœ¬ä¾†åšåˆ†é¡ï¼Œæ™‚é–“è¶Šä¹…ï¼Œæª”æ¡ˆå°±ç´¯ç©è¶Šå¤šï¼Œå‡å¦‚ä¸å°å¿ƒåˆªé™¤ï¼Œä¹Ÿæ‰¾ä¸å›ä¾†ç´€éŒ„ï¼Œä¹Ÿä¸æ¸…æ¥šä¸åŒæª”æ¡ˆçš„å·®ç•°ï¼Œæ‰€ä»¥æœ‰äº† Git é€™é …å·¥å…·ã€‚ Git ç‚ºåˆ†æ•£å¼ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ï¼Œæ˜¯ç‚ºäº†æ›´å¥½ç®¡ç†Linuxå…§æ ¸è€Œé–‹ç™¼çš„ã€‚ Git çš„å„ªé»ï¼šå…è²»é–‹æºã€é€Ÿåº¦å¿«ã€æª”æ¡ˆé«”ç©å°ã€åˆ†æ•£å¼ç³»çµ±ã€‚ Git çš„ç¼ºé»ï¼šæŒ‡ä»¤ç¹é›œï¼Œä½†å¯ä»¥é€é GUI å·¥å…·è§£æ±ºã€‚ Git æœƒç´€éŒ„å“ªäº›è³‡æ–™ï¼šæ›´å‹•å‰ vs æ›´å‹•å¾Œçš„ç¨‹å¼ç¢¼ã€ä¿®æ”¹è€…ã€ä¿®æ”¹æ™‚é–“ã€ä¿®æ”¹åŸå› ï¼ˆä¿®æ”¹è€…éœ€è¦è‡ªè¡Œæ’°å¯« commit messageï¼‰ã€‚ æˆ‘å€‘ä¹Ÿå¸¸å¸¸è½åˆ° GitHub or GitLab é‚£è·Ÿ Git æ˜¯ä¸€æ¨£çš„æ±è¥¿å—ï¼Ÿ Ansï¼šGitHub(GitLab) æ˜¯åŸºæ–¼ Web çš„å¹³å°ï¼Œçµåˆäº† Git çš„ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ï¼Œç‚ºé–‹ç™¼åœ˜éšŠæä¾›äº†å„²å­˜ã€åˆ†äº«ã€ç™¼å¸ƒå’Œåˆä½œé–‹ç™¼é …ç›®çš„ä¸­å¿ƒåŒ–é›²å­˜å„²çš„å ´æ‰€ã€‚ ","date":"2022-04-15","objectID":"/git/:1:0","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"Git æ“ä½œæŒ‡ä»¤ Git çš„æ“ä½œæŒ‡ä»¤ç¹å¤šï¼ŒåŒ…å«ç’°å¢ƒé¡ã€æŸ¥çœ‹é¡ã€æäº¤é¡ã€åˆ†æ”¯é¡ã€é ç«¯é¡ã€åˆä½µé¡ã€é‚„åŸé¡ç­‰ç­‰ï¼Œæ‰€ä»¥æ‰æœ‰äº† Git GUI å·¥å…·ï¼Œç­†è€…å¾ˆæ¨è–¦ Gitkrakenï¼Œé›–ç„¶éœ€è¦ä»˜è²»ï¼Œä½†çœŸçš„å¾ˆæ–¹ä¾¿ï¼Œç•«é¢ä¹Ÿå¾ˆä¹¾æ·¨ç°¡æ½”ã€‚å¦‚æœæ˜¯å­¸ç”Ÿçš„è©±ï¼Œé‚„å¯ä»¥ä½¿ç”¨ GitHub Student Developer Pack å…è²»ä½¿ç”¨æ­ï¼ Git GUI å·¥å…· (Gitkraken)\" Git GUI å·¥å…· (Gitkraken) æ¥ä¸‹ä¾†æˆ‘å€‘æœƒä¾ç…§ç’°å¢ƒé¡ã€æŸ¥çœ‹é¡ã€æäº¤é¡ã€åˆ†æ”¯é¡ã€é ç«¯é¡ã€åˆä½µé¡ã€é‚„åŸé¡ä¾åºä¸‹å»ä»‹ç´¹ï½ ","date":"2022-04-15","objectID":"/git/:2:0","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"ç’°å¢ƒé¡ ä½¿ç”¨æ¯ä¸€å€‹ç¨‹å¼æˆ–å·¥å…·ï¼Œå¿…é ˆå…ˆæŠŠå®ƒå®‰è£åˆ°è‡ªå·±é›»è…¦ä¸Šå°å§ï¼ä½†å› ç‚ºå¤§å®¶ä½¿ç”¨çš„ç³»çµ±éƒ½ä¸ä¸€æ¨£ï¼Œæ‰€ä»¥é€™é‚Šå°±ä¸åˆ—å‡ºè¦æ€éº¼é€²è¡Œå®‰è£ï¼Œå¯ä»¥åƒè€ƒ Git å®‰è£æ•™å­¸ ç•¶æˆ‘å€‘å®‰è£å¥½å¾Œï¼Œæˆ‘å€‘å°±å¯ä»¥ä¸€èµ·é€²å…¥ Git çš„ä¸–ç•Œå›‰ï¼ init é¦–å…ˆï¼Œæ‰¾ä¸€å€‹ä½ è¦é–‹å§‹é€²è¡Œç‰ˆæœ¬æ§åˆ¶ (Git) çš„è³‡æ–™å¤¾ï¼Œ ä½¿ç”¨ï¼š $ git init è¦è¨˜å¾—è¦åˆ°ç‰ˆæœ¬æ§åˆ¶çš„è³‡æ–™å¤¾ç›®éŒ„ä¸‹æ‰ä½¿ç”¨é€™å€‹æŒ‡ä»¤æ­ï¼ ä½¿ç”¨å®Œå¾Œï¼Œæœƒçœ‹åˆ°è·‘å‡ºä¸‹é¢é€™äº›æ–‡å­—ï¼š Git init\" Git init æ­¤å¤–è³‡æ–™å¤¾å…§ä¹Ÿæœƒå¤šä¸€å€‹éš±è—æª”æ¡ˆ .git ï¼Œä»–æ˜¯ç”¨ä¾†å­˜æ”¾ git çš„ç´€éŒ„ï¼Œæ‰€ä»¥ä¸è¦äº‚åˆªé™¤æ­ï¼š $ tree -a -d . â””â”€â”€ .git â”œâ”€â”€ hooks â”œâ”€â”€ info â”œâ”€â”€ objects â”‚Â â”œâ”€â”€ info â”‚Â â””â”€â”€ pack â””â”€â”€ refs â”œâ”€â”€ heads â””â”€â”€ tags å›åˆ°å‰›å‰›åœ–ç‰‡ï¼Œå®ƒèªªæ˜é»˜èªæœƒä½¿ç”¨ master é€™å€‹ä¾†ä½œç‚ºåˆå§‹åˆ†æ”¯ï¼Œä¸¦è¨˜å¾—è¦ä½¿ç”¨ git config ä¾†åšè¨­å®šï¼Œé‚£ git config æ˜¯è¦åšä»€éº¼ç”¨çš„å‘¢ï¼ï¼Ÿ config åœ¨æ¨é€ Commit çš„æ™‚å€™ï¼Œæœƒé¡¯ç¤ºä½¿ç”¨è€…åç¨±ä»¥åŠé›»å­éƒµä»¶ï¼Œæ‰€ä»¥è¦å…ˆåœ¨æ¨é€å‰è¨­å®šå¥½ï¼Œé€™æ™‚å°±ä½¿ç”¨ï¼š $ git config --global user.name \"your name\" $ git config --global user.email \"your email\" åˆ†åˆ¥è¨­å®šä½¿ç”¨è€…åç¨±ä»¥åŠé›»å­éƒµä»¶ï¼Œé€™æ¨£å…±åŒä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶çš„äººï¼Œæ‰åˆ†çš„å‡ºä¾†èª°æ˜¯èª°ï¼ (è‹¥åªè¦åœ¨å–®å€‹å°ˆæ¡ˆä¸‹è¨­å®šä½¿ç”¨è€…åç¨±åŠé›»å­éƒµä»¶ï¼Œå°±ä¸éœ€è¦è¨­å®š â€“global åƒæ•¸) ","date":"2022-04-15","objectID":"/git/:2:1","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"æŸ¥çœ‹é¡ status æˆ‘å€‘å‰›å‰›å·²ç¶“è¨­å®šå¥½ config ï¼Œå¦‚æœæƒ³æŸ¥çœ‹æª”æ¡ˆçš„ git ç‹€æ…‹ï¼Œå°±ä½¿ç”¨ï¼š $ git status å¯ä»¥æŸ¥çœ‹ç¾åœ¨è³‡æ–™å¤¾å…§æœ‰å“ªäº›æª”æ¡ˆé‚„æ²’åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œæˆ–æ˜¯å·²ç¶“åŠ å…¥ä½†é‚„æ²’ Commit è®Šæˆæ–°ç‰ˆæœ¬ã€‚ Git status\" Git status ç¶ è‰²ä»£è¡¨å·²ç¶“åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ä½†é‚„æ²’æœ‰ Commit ï¼Œç´…è‰²ä»£è¡¨å°šæœªåŠ å…¥è¿½è¹¤ã€‚ log ç•¶æˆ‘å€‘æƒ³è¦æŸ¥çœ‹ Commit çš„å¹¾å€‹ç‰ˆæœ¬ï¼Œæˆ–æ˜¯æ˜¯èª° Commit çš„ç­‰ç­‰è³‡è¨Šï¼Œå¯ä»¥ä½¿ç”¨ï¼š $ git log Git log\" Git log å¯ä»¥çœ‹åˆ°ä¸€ä¸²è‹±æ–‡åŠ æ•¸å­—ï¼Œå®ƒæ˜¯SHA-1 æ ¡é©—ç¢¼ä¹Ÿä»£è¡¨ä½ æ¨çš„é€™ä¸€å€‹ç‰ˆæœ¬çš„è­˜åˆ¥ IDï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°æ˜¯ç”±èª°æ¨é€è·Ÿæ™‚é–“èˆ‡æ¨é€çš„æ–‡å­—èªªæ˜ã€‚ diff ç•¶æˆ‘å€‘å‡è¨­å·²ç¶“ Commit å¾Œï¼Œæƒ³è¦æ¯”è¼ƒä¸åŒç‰ˆæœ¬å…§å®¹çš„å·®ç•°ï¼Œå°±ä½¿ç”¨ï¼š $ git diff 116e 442c 116e ä»£è¡¨æœ€æ–°çš„ç‰ˆæœ¬ï¼Œ442c ä»£è¡¨ä¸Šä¸€å€‹ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹ä¸Šé¢ log çš„è¾¨è­˜ IDï¼Œå› ç‚ºæ ¡é©—ç¢¼å¾ˆé•·ï¼Œæœ€å°‘éœ€è¦å‰4å€‹æ•¸å­—è·Ÿè‹±æ–‡ï¼Œæ‰å¯ä»¥çŸ¥é“æ˜¯å“ªä¸€å€‹ç‰ˆæœ¬ã€‚ Git diff\" Git diff ç´…è‰²ä»£è¡¨æœ€æ–°ç‰ˆæœ¬å› ç‚ºæˆ‘å€‘æ˜¯ç”¨ 116e æœ€æ–°ç‰ˆæœ¬ä¾†è·Ÿç¶ è‰²ä¸Šä¸€å€‹ç‰ˆæœ¬ 442c ä¾†åšæ¯”è¼ƒã€‚ reflog å¦‚æœæˆ‘å€‘åœ¨æ“ä½œ Git çš„æ™‚å€™åŸ·è¡ŒéŒ¯èª¤ï¼Œéœ€è¦å›å¾©åˆ°å‰å¹¾å€‹ç‰ˆæœ¬ï¼Œä½†é‚„æƒ³è¦æŸ¥çœ‹æ­·å²ç´€éŒ„ï¼Œå¦‚æœæˆ‘å€‘ä½¿ç”¨å‰é¢èªªçš„ git log æ˜¯çœ‹ä¸åˆ°å·²ç¶“èˆŠçš„ç´€éŒ„ï¼Œé€™æ™‚è¦ä½¿ç”¨ï¼š $ git reflog Git reflog (åœ–ä¸€)\" Git reflog (åœ–ä¸€) Git log (åœ–äºŒ)\" Git log (åœ–äºŒ) å¯ä»¥çœ‹åˆ°åœ–ä¸€æ˜¯ä½¿ç”¨ reflog å°±å¯ä»¥çŸ¥é“æˆ‘å€‘é‚„åŸçš„ç´€éŒ„ï¼Œä½†ä½¿ç”¨ log æŸ¥çœ‹ï¼Œæœƒç™¼ç¾æ²’æœ‰è¾¦æ³•çœ‹åˆ° test-2 çš„ç´€éŒ„ã€‚ ","date":"2022-04-15","objectID":"/git/:2:2","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"æäº¤é¡ add ç•¶æˆ‘å€‘ä¸Šé¢ä½¿ç”¨ git init åˆå§‹åŒ–è³‡æ–™å¤¾å¾Œï¼Œé‚„æ²’æœ‰é–‹å§‹é€²è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œéœ€è¦ä½¿ç”¨ï¼š $ git add . $ git add test.txt å°‡æª”æ¡ˆåŠ å…¥ç‰ˆæœ¬æ§åˆ¶çš„æš«å­˜å€ã€‚å®ƒçš„æ ¼å¼æ˜¯ git add [æª”æ¡ˆåç¨±] ï¼Œå¦‚æœæƒ³è¦æŠŠè³‡æ–™å¤¾å…¨éƒ¨æª”æ¡ˆéƒ½åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ . ä¾†åŠ å…¥ã€‚ commit ç•¶æˆ‘å€‘æ–°å¢å®Œå¾Œï¼Œè¦å°‡å®ƒæäº¤å‡ºå»ï¼Œå°±è¦ä½¿ç”¨ï¼š $ git commit -m \"å…§å®¹æ‰“é€™\" Git commit\" Git commit æˆ‘å€‘å¯ä»¥åœ¨é›™å¼•è™Ÿå…§è¼¸å…¥æˆ‘å€‘ä¿®æ”¹çš„å…§å®¹ï¼Œæ–¹ä¾¿å…¶ä»–äººäº†è§£è©²ç‰ˆæœ¬çš„å·®ç•°ã€‚ ","date":"2022-04-15","objectID":"/git/:2:3","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"åˆ†æ”¯é¡ branch æˆ‘å€‘å°ˆæ¡ˆåˆå§‹åŒ–å¾Œï¼Œä¸€é–‹å§‹éƒ½åªæœƒæœ‰ä¸€å€‹ master åˆ†æ”¯ï¼Œå¦‚æœæƒ³è¦æ–°å¢åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ï¼š $ git branch \"åˆ†æ”¯åç¨±\" æœƒå°‡æ‰€åœ¨åˆ†æ”¯çš„æª”æ¡ˆç‹€æ…‹è¤‡è£½åˆ°æ–°å¢çš„åˆ†æ”¯ä¸Šï¼Œç•¶è©²åˆ†æ”¯æ”¹å‹•æ™‚ï¼Œä¸æœƒå½±éŸ¿åˆ°åŸæœ¬çš„åˆ†æ”¯ã€‚ Git branch\" Git branch checkout å¦‚æœæƒ³è¦åˆ‡æ›ä¸åŒç‰ˆæœ¬æˆ–æ˜¯åˆ†æ”¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git checkout \"åˆ†æ”¯åç¨±/åˆ†æ”¯ID\" ä¾†åˆ‡æ›ä¸åŒçš„åˆ†æ”¯æˆ–æ˜¯ä»¥å‰çš„ç‰ˆæœ¬ã€‚ Git checkout\" Git checkout å¦‚æœæƒ³è¦åŒæ™‚å»ºç«‹åˆ†æ”¯ä¸¦åˆ‡æ›ï¼Œå¯ä»¥ä½¿ç”¨ï¼š $ git chechout -b \"åˆ†æ”¯åç¨±\" -b é€™å€‹åƒæ•¸å°±ç­‰æ–¼æ˜¯ git branch \"åˆ†æ”¯\" \u0026 git checkout \"åˆ†æ”¯\"ã€‚ Git checkout -b\" Git checkout -b ","date":"2022-04-15","objectID":"/git/:2:4","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"é ç«¯é¡ clone å¦‚æœæˆ‘å€‘é ç«¯ä¸Šå·²ç¶“æœ‰ç‰ˆæœ¬åº«ï¼Œæƒ³è¦ä¸‹è¼‰åˆ°æœ¬åœ°ç«¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git clone [é ç«¯ç¶²å€] æœƒåœ¨ä¸‹æŒ‡ä»¤çš„ç•¶å‰è·¯å¾‘ä¸‹ï¼Œä¸‹è¼‰æ•´å€‹é ç«¯çš„å°ˆæ¡ˆã€‚ remote å¦‚æœè¦æ–°å¢é ç«¯ç‰ˆæœ¬åº«ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git remote add [ç°¡ç¨±] [é ç«¯ç¶²å€] å–ä¸€å€‹å¯ä»¥ä»£è¡¨è¦æ–°å¢çš„é ç«¯ Git ç‰ˆæœ¬åº«ç°¡ç¨±ã€‚ Git remote\" Git remote å¦‚æœæƒ³è¦æª¢è¦–å·²ç¶“è¨­å®šå¥½çš„é ç«¯ç‰ˆæœ¬åº«ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git remote ä»–æœƒåˆ—å‡ºæ¯å€‹é ç«¯æœ¬ç‰ˆæœ¬åº«çš„ç°¡ç¨±ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨ git remote -v æŒ‡ä»¤ï¼Œæœƒé¡¯ç¤º Git ç”¨ä¾†è®€å¯«é ç«¯ç°¡ç¨±æ™‚æ‰€ç”¨çš„ç¶²å€ï¼š Git remote -v\" Git remote -v push ç•¶æˆ‘å€‘å·²ç¶“è¨­å®šå¥½é ç«¯ç‰ˆæœ¬åº«çš„ä½å€ï¼Œæˆ‘å€‘å¦‚æœæƒ³è¦å°‡æœ¬åœ°ç«¯çš„å°ˆæ¡ˆç‰ˆæœ¬åº«æ”¾åˆ°é ç«¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git push [ç°¡ç¨±] [åˆ†æ”¯åç¨±] å°‡æœ¬åœ°ç«¯ç‰ˆæœ¬åº«æ¨åˆ°é ç«¯çš„ç‰ˆæœ¬åº«ã€‚ Git push\" Git push ä¸Šé¢é€™å¼µåœ–ç‰‡ï¼Œå°±æ˜¯æŠŠæœ¬åœ°ç«¯çš„ master åˆ†æ”¯å…§å®¹ï¼Œæ¨ä¸€ä»½åˆ° origin é€™å€‹åœ°æ–¹ (å¯èƒ½æ˜¯ GitHub æˆ–å…¬å¸å…§éƒ¨ Git ä¼ºæœå™¨)ï¼Œä¸¦ä¸”åœ¨ origin é€™å€‹åœ°æ–¹å½¢æˆåŒåçš„ master åˆ†æ”¯ã€‚ ä½†å¾ˆå¤šäººä¸çŸ¥é“çš„æ˜¯ï¼Œå…¶å¯¦ push æŒ‡ä»¤çš„å®Œæ•´å‹æ…‹é•·é€™æ¨£ï¼š $ git push origin master:master æ„æ€å°±æ˜¯ã€ŒæŠŠæœ¬åœ°çš„ master åˆ†æ”¯å…§å®¹ï¼Œæ¨ä¸€ä»½åˆ° origin ä¸Šï¼Œä¸¦ä¸”åœ¨ origin ä¸Šå»ºç«‹ä¸€å€‹ master åˆ†æ”¯ã€ å¦‚æœæˆ‘å€‘æŠŠæŒ‡ä»¤æ”¹ç‚ºï¼š $ git push origin master:dog æ„æ€å°±æœƒè®Šæˆã€ŒæŠŠæœ¬åœ°çš„ master åˆ†æ”¯å…§å®¹ï¼Œæ¨ä¸€ä»½åˆ° origin ä¸Šï¼Œä¸¦ä¸”åœ¨ origin ä¸Šå»ºç«‹ä¸€å€‹ dog åˆ†æ”¯ã€ pull å¦‚æœæˆ‘å€‘æƒ³è¦å°‡é ç«¯çš„å°ˆæ¡ˆ ä¸‹è¼‰ä¸¦åˆä½µ è‡³æœ¬åœ°ç«¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git pull [ç°¡ç¨±] [åˆ†æ”¯åç¨±] å°‡é ç«¯å°ˆæ¡ˆè³‡æ–™ä¸‹è¼‰ä¸¦åˆä½µåˆ°æœ¬åœ°ç«¯ã€‚ Git pull\" Git pull fetch å¦‚æœæˆ‘å€‘å–®ç´”åªæƒ³è¦å°‡é ç«¯çš„å°ˆæ¡ˆ ä¸‹è¼‰ è‡³æœ¬åœ°ç«¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git fetch [ç°¡ç¨±] [åˆ†æ”¯åç¨±] å°‡é ç«¯å°ˆæ¡ˆè³‡æ–™ä¸‹è¼‰åˆ°æœ¬åœ°ç«¯ã€‚ Git pull\" Git pull cloneã€pullã€fetch å·®ç•° å·®ç•° clone fetch pull åŠŸèƒ½ æœƒæŠŠé ç«¯æ•´ä»½å°ˆæ¡ˆéƒ½ä¸‹è¼‰åˆ°æœ¬åœ°ç«¯ åªæœƒä¸‹è¼‰ï¼Œä¸¦ä¸æœƒåˆä½µ æœƒä¸‹è¼‰ä¸”åˆä½µæª”æ¡ˆ è£œå……èªªæ˜ é©ç”¨æ–¼å°ˆæ¡ˆä¸€é–‹å§‹æ™‚ä½¿ç”¨ï¼Œå¦‚æœ clone ä¹‹å¾Œè¦å†æ›´æ–°ï¼Œé€šå¸¸æ˜¯åŸ·è¡Œ git fetch or git pull å‡è¨­æˆ‘é ç«¯å« orginï¼Œç•¶åŸ·è¡Œæ™‚ï¼ŒGit æœƒæ¯”å°æœ¬åœ°ç«¯èˆ‡é ç«¯ï¼Œæœƒã€Œä¸‹è¼‰ origin ä¸Šæœ‰ä½†æœ¬åœ°ç«¯æ²’æœ‰çš„æª”æ¡ˆä¸‹ä¾†ã€ pull èˆ‡ fetch åšçš„äº‹æƒ…å·®ä¸å¤šï¼Œå¤šäº†ä¸€å€‹é€²è¡Œåˆä½µçš„åŠŸèƒ½ ","date":"2022-04-15","objectID":"/git/:2:5","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"åˆä½µé¡ merge å¦‚æœæƒ³è¦å°‡ä¸åŒåˆ†æ”¯å…§å®¹åˆä½µï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git merge [åˆ†æ”¯åç¨±] åƒä¸‹é¢é€™å¼µåœ–ï¼Œæˆ‘å€‘å°‡åˆ†æ”¯ 123 åˆä½µåˆ°åˆ†æ”¯ masterã€‚(è¦è¨˜å¾—å…ˆåˆ‡æ›åˆ°è¦åˆä½µçš„ä¸»åˆ†æ”¯ï¼Œæ‰å¯ä»¥åˆä½µå…¶ä»–çš„åˆ†æ”¯é€²ä¾†) Git pull\" Git pull merge (fast-fastward) merge æœ‰ä¸€å€‹åƒæ•¸å«åš fast-fastwardï¼Œæˆ‘å€‘å…ˆçœ‹åœ–ç‰‡å†ä¾†èªªæ˜ï¼š Git merge fast-fastward åœ–ä¸€ (CS Visualized: Useful Git Commands)\" Git merge fast-fastward åœ–ä¸€ (CS Visualized: Useful Git Commands) Git merge no fast-fastward åœ–äºŒ (CS Visualized: Useful Git Commands)\" Git merge no fast-fastward åœ–äºŒ (CS Visualized: Useful Git Commands) åœ–ä¸€æ˜¯æˆ‘å€‘çš„ fast-fastwardï¼Œä¹Ÿæ˜¯ Git é è¨­çš„åˆä½µæ–¹å¼ï¼Œç•¶æˆ‘å€‘è¦å°‡ dev åˆä½µåˆ° masterï¼Œfast-fastward æœƒå°‡ dev åˆ†æ”¯çš„ commit ç´€éŒ„åˆä½µåˆ° master ä¸Šï¼Œç„¶è€Œåœ–äºŒæ˜¯ä¸ä½¿ç”¨ fast-fastward æ–¹å¼ï¼Œæœƒä¿ç•™ dev åˆ†æ”¯ä¸Šçš„ commit ç´€éŒ„ï¼Œä¸¦åœ¨ master ä¸Šæ–°å¢ä¸€å€‹ã€‚ no fast-fastward å¥½è™•æ˜¯å¯ä»¥å®Œæ•´ä¿ç•™æ¯å€‹åˆ†æ”¯çš„ commit ç´€éŒ„ï¼Œå£è™•æ˜¯å‡å¦‚ commit ç´€éŒ„åªæœ‰ä¸€å€‹ï¼Œåˆä½µå¤šæ¬¡å°±æœƒå‡ºç¾å¾ˆå¤šå°å‰è·¯ã€‚è¦æ€éº½ä½¿ç”¨ no fast-fastwardï¼š $ git merge --no-ff [åˆ†æ”¯åç¨±] rebase (åˆä½µ) å¦‚æœæƒ³è¦é‡æ–°ä¿®æ”¹ç‰¹å®šåˆ†æ”¯çš„ã€Œ åŸºç¤ç‰ˆæœ¬ ã€ï¼Œè¦æŠŠå¦ä¸€å€‹åˆ†æ”¯çš„è®Šæ›´ï¼Œç•¶æˆæˆ‘é€™éš»åˆ†æ”¯çš„åŸºç¤ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git rebase [åˆ†æ”¯åç¨±] Git rebase (åˆä½µ) (CS Visualized: Useful Git Commands)\" Git rebase (åˆä½µ) (CS Visualized: Useful Git Commands) rebase (ä¿®æ”¹) å¦‚æœæƒ³è¦ä¿®æ”¹ç‰¹å®šåˆ†æ”¯ä¸Šä»»ä½•ä¸€å€‹ç‰ˆæœ¬è³‡è¨Šï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git rebase -i [HEAD~?] ä½†è¦è¨˜å¾—ï¼Œå¦‚æœå†ä½¿ç”¨å‰ï¼Œè¦å…ˆè©¢å•æ˜¯å¦æœ‰äººæ­£åœ¨ä½¿ç”¨æ­¤åˆ†æ”¯ï¼Œå› ç‚º rebase æœƒæ”¹è®Šæ­·å²ç´€éŒ„ã€‚ Git rebase (ä¿®æ”¹) (CS Visualized: Useful Git Commands)\" Git rebase (ä¿®æ”¹) (CS Visualized: Useful Git Commands) cherry-pick å¦‚æœæƒ³è¦å¾æŸå€‹åˆ†æ”¯ï¼Œæ‹‰å¹¾å€‹ Commit é€²ä¾†è©²åˆ†æ”¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git cherry-pick [åˆ†æ”¯ID] ä½†åšæ­¤å‹•ä½œï¼Œéœ€è¦è§£æ±ºä¿®æ”¹å¾Œçš„ç‰ˆæœ¬è¡çªã€‚ ","date":"2022-04-15","objectID":"/git/:2:6","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"é‚„åŸé¡ reset å¦‚æœæƒ³è¦é‚„åŸä»»æ„ Commitï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git reset [HEAD~?] æœƒé‚„åŸé¸æ“‡çš„ Commitï¼Œä¸”æª”æ¡ˆé‚„æ˜¯ç¶­æŒæœ€æ–°ç‰ˆæœ¬ã€‚ reset æŒ‡ä»¤å¯ä»¥æ­é…åƒæ•¸ä½¿ç”¨ï¼Œå¸¸è¦‹åˆ°çš„ä¸‰ç¨®åƒæ•¸ï¼Œæ–¹åˆ¥æ˜¯ --mixedã€--softã€--hardï¼Œä¸åŒçš„åƒæ•¸åŸ·è¡Œä¹‹å¾Œæœƒæœ‰ç¨å¾®ä¸å¤ªä¸€æ¨£çš„çµæœã€‚ mixed æ¨¡å¼ï¼š--mixed æ˜¯é è¨­çš„åƒæ•¸ï¼Œå¦‚æœæ²’æœ‰ç‰¹åˆ¥åŠ å…¶ä»–åƒæ•¸ï¼Œgot reset æœƒä½¿ç”¨ --mix æ¨¡å¼ã€‚é€™å€‹æ¨¡å¼æœƒæŠŠæš«å­˜å€çš„æª”æ¡ˆä¸Ÿæ‰ï¼Œä½†ä¸æœƒå½±éŸ¿åˆ°å·¥ä½œç›®éŒ„çš„æª”æ¡ˆï¼Œä¹Ÿå°±æ˜¯èªª Commit æ‹†å‡ºä¾†çš„æª”æ¡ˆæœƒç•™åœ¨å·¥ä½œç›®éŒ„(å¯¦é«”çš„æª”æ¡ˆ)ï¼Œä½†ä¸æœƒç•™åœ¨æš«å­˜å€ã€‚ soft æ¨¡å¼ï¼šé€™å€‹æ¨¡å¼ä¸‹çš„ resetï¼Œå·¥ä½œç›®éŒ„è·Ÿæš«å­˜å€æª”æ¡ˆéƒ½ä¸æœƒè¢«ä¸Ÿæ‰ï¼Œæ‰€ä»¥çœ‹èµ·ä¾†åªæœ‰ HEAD çš„ç§»å‹•è€Œå·²ã€‚ä¹Ÿå› æ­¤ï¼ŒCommit æ‹†å‡ºä¾†çš„æª”æ¡ˆæœƒç›´æ¥æ”¾åœ¨æš«å­˜å€ã€‚ hard æ¨¡å¼ï¼šåœ¨é€™å€‹æ¨¡å¼ä¸‹ï¼Œä¸ç®¡æ˜¯å·¥ä½œç›®éŒ„ä»¥åŠæš«å­˜å€çš„æª”æ¡ˆéƒ½æœƒä¸Ÿæ‰ã€‚ ä»¥ä¸‹ç”¨è¡¨æ ¼åœ¨æ•´ç†ä¸€æ¬¡ï¼š æ¨¡å¼ mixed æ¨¡å¼ soft æ¨¡å¼ hard æ¨¡å¼ å·¥ä½œç›®éŒ„(å¯¦é«”çš„æª”æ¡ˆ) ä¸è®Š ä¸è®Š ä¸Ÿæ‰ æš«å­˜å€ ä¸Ÿæ‰ ä¸è®Š ä¸Ÿæ‰ æ–‡å­—èªªæ˜ä¹Ÿä¸å¤ªæ‡‚å°å§ï¼æ²’éŒ¯æˆ‘ä¹Ÿæ˜¯ ğŸ˜‚ï¼Œæ‰€ä»¥æˆ‘æ•´ç†äº†ä¸‰ç¨®ä¸åŒçš„ç¯„ä¾‹ï¼Œæˆ‘å€‘ä¸€èµ·åšçœ‹çœ‹å§ï¼ æˆ‘å€‘å…ˆé–‹ä¸€å€‹æ–°å°ˆæ¡ˆï¼Œåœ¨ master ä¸Šé¢ commit 2 æ¬¡ï¼Œå¯ä»¥åƒè€ƒä¸‹æ–¹åœ–ç‰‡ï¼š Git reset ç¤ºç¯„\" Git reset ç¤ºç¯„ æˆ‘å€‘ç”¨ git log ä¾†çœ‹ä¸€ä¸‹è¨˜éŒ„ï¼š Git reset ç¤ºç¯„ log ç´€éŒ„\" Git reset ç¤ºç¯„ log ç´€éŒ„ éƒ½è¨­å®šå¥½å¾Œï¼Œæˆ‘å€‘è¦ä¾†æ¸¬è©¦æ¯å€‹åƒæ•¸çš„ä¸åŒä¹‹è™•ï¼Œå…ˆä»¥é è¨­çš„ --mixed ä¾†æ¸¬è©¦ï¼š reset - mixed æˆ‘å€‘ä¸‹ git reset --minxed æŒ‰ Tab å¯ä»¥çœ‹è¦é‚„åŸçš„ commitï¼Œæˆ‘å€‘ä¹‹å¾Œçš„æ¸¬è©¦éƒ½æ˜¯é‚„åŸåˆ° 24aeb0d -- [HEAD^] add a.txt é€™å€‹ï¼Œä¾†è§€å¯Ÿ add b.txt é€™å€‹ commit çš„è®ŠåŒ–ã€‚ Git reset mixed æ¨¡å¼\" Git reset mixed æ¨¡å¼ æ‰€ä»¥æˆ‘å€‘çš„æŒ‡ä»¤æ˜¯ git reset --mixed 24aebo4ï¼Œæˆ‘å€‘å†ä¾†è§€çœ‹çœ‹çœ‹ï¼Œæª”æ¡ˆç‹€æ…‹ä¹Ÿå°±æ˜¯ b.txt ä»¥åŠæš«å­˜å€ç‹€æ…‹ã€‚ Git reset mixed æ¨¡å¼\" Git reset mixed æ¨¡å¼ å¯ä»¥çœ‹åˆ°ä½¿ç”¨ --mixed æ¨¡å¼ï¼Œæª”æ¡ˆ b.txt é‚„æœƒå­˜åœ¨ï¼Œåªæ˜¯ç§»é™¤æš«å­˜å€ã€‚ reset - soft æˆ‘å€‘æŒ‡ä»¤æ˜¯ git reset --soft 24aebo4ï¼š Git reset soft æ¨¡å¼\" Git reset soft æ¨¡å¼ å¯ä»¥çœ‹åˆ°ä½¿ç”¨ --soft æ¨¡å¼ï¼Œæª”æ¡ˆ b.txt é‚„æœƒå­˜åœ¨ï¼Œä¸”æœƒåœ¨æš«å­˜å€ã€‚ reset - hard æˆ‘å€‘æŒ‡ä»¤æ˜¯ git reset --hard 24aebo4ï¼š Git reset hard æ¨¡å¼\" Git reset hard æ¨¡å¼ å¯ä»¥çœ‹åˆ°ä½¿ç”¨ --hard æ¨¡å¼ï¼Œæª”æ¡ˆ b.txt ä¸è¦‹äº†ï¼Œæ‰€ä»¥ä¹Ÿä¸æœƒåœ¨æš«å­˜å€ã€‚ revert å¦‚æœæƒ³è¦é‚„åŸä»»æ„ Commitï¼Œä½†åˆæƒ³ä¿ç•™åœ¨æ­·å²ç´€éŒ„ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š $ git revert [HEAD~?] æœƒé‚„åŸé¸æ“‡çš„ Commitï¼Œæª”æ¡ˆä¹Ÿæœƒé‚„åŸåˆ°èˆŠçš„ç‰ˆæœ¬ reset èˆ‡ revert å·®ç•° æŒ‡ä»¤ reset revert æ”¹è®Šæ­·å²ç‹€æ…‹ æ˜¯ å¦ èªªæ˜ æŠŠç›®å‰ç‹€æ…‹è¨­å®šæˆæŸå€‹æŒ‡å®šçš„ Commit ç‹€æ…‹ï¼Œé€šå¸¸é©ç”¨æ–¼å°šæœªæ¨åˆ°é ç«¯çš„ Commit æ–°å¢ä¸€å€‹ Commit ä¾†å–æ¶ˆå¦ä¸€å€‹ Commit çš„å…§å®¹ï¼ŒåŸæœ¬çš„ Commit ä¾èˆŠæœƒä¿ç•™åœ¨æ­·å²ç´€éŒ„ä¸­ã€‚é€šå¸¸é©ç”¨æ–¼å·²ç¶“æ¨åˆ°é ç«¯çš„ Commit ","date":"2022-04-15","objectID":"/git/:2:7","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"å…¶ä»– tag æ¨™ç±¤æ˜¯ç”¨æ–¼æ¨™è¨˜ç‰¹å®šçš„é»æˆ–æ˜¯æäº¤çš„æ­·å²ï¼Œé€šå¸¸æœƒç”¨ä¾†æ¨™è¨˜ç™¼ä½ˆç‰ˆæœ¬çš„åç¨±æˆ–æ˜¯ç·¨è™Ÿï¼Œä¾‹å¦‚ï¼šv1.0ã€‚æ¨™ç±¤çœ‹èµ·ä¾†æœ‰é»åƒæ˜¯åˆ†æ”¯ï¼Œä½†æ‰“ä¸Šæ¨™ç±¤çš„æäº¤æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½éš¨æ„çš„è®Šæ›´ä½ç½®ã€‚ Git ä¸­æœ‰å…©ç¨®æ¨™ç±¤é¡å‹ï¼šè¼•é‡æ¨™ç±¤(lightweight tag)å’Œæ¨™ç¤ºæ¨™ç±¤(annotated tag)ï¼Œä»–å€‘æœ‰ä»€éº¼å€åˆ¥å‘¢ï¼Ÿæˆ‘å€‘åˆ†åˆ¥åˆ—å‡ºä»–å€‘ä¸åŒä¹‹è™•ã€‚ è¼•é‡æ¨™ç±¤(lightweight tag) ä¸å¯ä»¥è®Šæ›´çš„æš«æ™‚æ¨™ç±¤ å¯ä»¥æ·»åŠ åç¨± æ¨™ç¤ºæ¨™ç±¤(annotated tag) å¯ä»¥æ·»åŠ æ‰“æ¨™ç±¤è€…çš„åç¨±ã€emailã€æ—¥æœŸ å¯ä»¥æ·»åŠ åç¨± å¯ä»¥æ·»åŠ è¨»è§£ å¯ä»¥æ·»åŠ ç°½å ä¸€èˆ¬æƒ…æ³ä¸‹ï¼Œæ¨™ç¤ºæ¨™ç±¤éƒ½æœƒç”¨åœ¨è¼ƒç‚ºé‡è¦çš„æäº¤ä¸Šï¼Œå¦‚ç™¼å¸ƒæäº¤å¯ä»¥ä½¿ç”¨æ¨™ç¤ºæ¨™ç±¤ä¾†æ–°å¢è¨»è§£æˆ–ç°½åï¼Œå¦ä¸€æ–¹é¢ï¼Œè¼•é‡æ¨™ç±¤é€šå¸¸ä½¿ç”¨åœ¨æœ¬æ©Ÿç«¯æœ€ç‚ºæš«æ™‚æ€§çš„ä½¿ç”¨æˆ–æ˜¯ä¸€æ¬¡æ€§ä½¿ç”¨ã€‚ æˆ‘å€‘åˆ†åˆ¥ä¾†çœ‹ä¸€ä¸‹è¦å¦‚ä½•æ–°å¢è¼•é‡æ¨™ç±¤(lightweight tag)ä»¥åŠæ¨™ç¤ºæ¨™ç±¤(annotated tag)å§ï¼ æˆ‘å€‘å…ˆéš¨æ„åœ¨åˆ†æ”¯ä¸Šæ¨ä¸€æ¬¡ commit ï¼Œå¦‚ä¸‹åœ–ï¼Œè®“æˆ‘å€‘ç­‰ç­‰æœ‰ commit å¯ä»¥ä¾†æ–°å¢æ¨™ç±¤ï¼š åœ¨éš¨æ„çš„åˆ†æ”¯æ¨ä¸€å€‹ commit\" åœ¨éš¨æ„çš„åˆ†æ”¯æ¨ä¸€å€‹ commit è¼•é‡æ¨™ç±¤ ä½¿ç”¨ tag ä¸”ä¸å¸¶å…¶ä»–çš„åƒæ•¸ä¾†ä¸‹æŒ‡ä»¤ï¼š $ git tag lightweight bc4c597 lightweight æ˜¯æˆ‘å€‘ tag åç¨±ï¼Œbc4c597 æ˜¯å‰›å‰› commit çš„ SHA-1 æ¥è‘—æˆ‘å€‘ä½¿ç”¨ git show lightweight ä¾†æŸ¥çœ‹æ¨™ç±¤ï¼š è¼•é‡æ¨™ç±¤ lightweight\" è¼•é‡æ¨™ç±¤ lightweight å¯ä»¥ç™¼ç¾å› ç‚ºæˆ‘å€‘ä½¿ç”¨ã€Œè¼•é‡æ¨™ç±¤ã€ï¼Œæ‰€ä»¥æ²’æœ‰å­˜ä»»ä½•è³‡è¨Šï¼Œä½†å¯ä»¥åœ¨åœ–ç‰‡ç¬¬ä¸€è¡Œæœ€å¾Œé¢çœ‹åˆ°æˆ‘å€‘ä½¿ç”¨çš„ tagã€‚ æ¨™ç¤ºæ¨™ç±¤ æˆ‘å€‘ä¸€æ¨£ä½¿ç”¨ tagï¼Œä½†å¾Œé¢å¯ä»¥åŠ ä¸Š -a -m åƒæ•¸ï¼š $ git tag annotated bc4c597 -a -m \"å¯ä»¥å‚™è¨»\" -a åƒæ•¸æ˜¯è«‹ Git å¹«æˆ‘å€‘å»ºç«‹æœ‰é™„è¨»çš„æ¨™ç±¤ï¼Œå¾Œé¢çš„ -m å‰‡æ˜¯è·Ÿæˆ‘å€‘ commit ä¸€æ¨£å¯ä»¥ä¾†è¼¸å…¥è¨Šæ¯ æ¥è‘—æˆ‘å€‘ä½¿ç”¨ git show annotated ä¾†æŸ¥çœ‹æ¨™ç±¤ï¼š æ¨™ç¤ºæ¨™ç±¤ annotated\" æ¨™ç¤ºæ¨™ç±¤ annotated å¯ä»¥çœ‹åˆ°æˆ‘å€‘ä½¿ç”¨æ¨™ç¤ºæ¨™ç±¤ï¼Œæ‰€ä»¥å¯ä»¥æŸ¥çœ‹æ¨™ç±¤æ˜¯èª°å¡«å¯«ã€ä»–çš„ä¿¡ç®±ã€å¡«å¯«æ™‚é–“ä»¥åŠä»–çš„å‚™è¨»å…§å®¹ã€‚ å®˜æ–¹æ–‡ä»¶å°æ–¼é€™å…©ç¨®æ¨™ç±¤çš„èªªæ˜ï¼š æœ‰æ¨™ç¤ºæ¨™ç±¤ä¸»è¦ç”¨ä¾†åšåƒæ˜¯è»Ÿé«”ç‰ˆè™Ÿä¹‹é¡çš„ç”¨é€”ï¼Œè€Œè¼•é‡æ¨™ç±¤å‰‡æ˜¯ä¾†æ–¼å€‹äººä½¿ç”¨æˆ–æš«æ™‚çš„æ¨™è¨˜ç”¨é€”ã€‚ç°¡å–®ä¾†èªªï¼Œæœ‰æ¨™ç¤ºæ¨™ç±¤çš„å¥½è™•æ˜¯æœ‰æ›´å¤šé—œæ–¼é€™å¼µæ¨™ç±¤çš„è³‡è¨Šï¼Œå‡è¨­ä¸æ˜¯å¾ˆåœ¨ä¹é€™äº›è³‡è¨Šï¼Œä½¿ç”¨ä¸€èˆ¬çš„è¼•é‡æ¨™ç±¤ä¹Ÿæ˜¯æ²’æœ‰å•é¡Œçš„ï¼ ","date":"2022-04-15","objectID":"/git/:2:8","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"Git å¸¸è¦‹å•é¡Œ Git è£¡çš„ HEAD æ˜¯ä»€éº¼ï¼Ÿ HEAD æœ¬èº«æ˜¯ä¸€å€‹æŒ‡æ¨™ï¼Œé€šå¸¸æœƒæŒ‡å‘æŸå€‹æœ¬åœ°ç«¯åˆ†æ”¯æˆ–æ˜¯å…¶ä»– Commitï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥æŠŠ HEAD ç•¶ä½œç›®å‰æ‰€åœ¨çš„åˆ†æ”¯ã€‚ åˆªé™¤åˆä½µå¾Œçš„åˆ†æ”¯æœƒç™¼ç”Ÿä»€éº¼äº‹æƒ…å—ï¼Ÿ åˆ†æ”¯æœ¬èº«å°±åƒæŒ‡æ¨™æˆ–æ˜¯è²¼ç´™ä¸€æ¨£ï¼Œè²¼åœ¨æŸå€‹ Commit ä¸Šé¢ï¼Œåˆ†æ”¯ä¸¦ä¸æ˜¯ç›®éŒ„æˆ–æ˜¯æª”æ¡ˆï¼Œæ‰€ä»¥ç•¶æˆ‘å€‘åˆªé™¤å·²ç¶“åˆä½µéçš„åˆ†æ”¯ï¼Œä¸æœƒé€ æˆæª”æ¡ˆæˆ–ç›®éŒ„è·Ÿè‘—è¢«åˆªé™¤ã€‚ ","date":"2022-04-15","objectID":"/git/:3:0","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ ä»€éº¼æ˜¯ Gitï¼Ÿç‚ºä»€éº¼è¦å­¸ç¿’å®ƒï¼Ÿ Gitï¼šåŸºæœ¬æ¦‚å¿µä»‹ç´¹èˆ‡æŒ‡ä»¤ [Git] åˆå§‹è¨­å®š é€£çŒ´å­éƒ½èƒ½æ‡‚çš„Gitå…¥é–€æŒ‡å— Gitæ•™å­¸ã€‘åˆ†æ”¯åˆä½µ: merge èˆ‡ rebase å·®ç•° Git é¢è©¦é¡Œ Resetã€Revert è·Ÿ Rebase æŒ‡ä»¤æœ‰ä»€éº¼å·®åˆ¥ï¼Ÿ ","date":"2022-04-15","objectID":"/git/:4:0","tags":["Git","æ“ä½œæŒ‡ä»¤","ä»‹ç´¹"],"title":"Git ä»‹ç´¹","uri":"/git/"},{"categories":null,"content":"æœ¬æ–‡ç« æ˜¯ä½¿ç”¨ Node.js ä¾†å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ï¼Œä¸¦ä¸”æœƒä½¿ç”¨ express ä»¥åŠ sequelize (ä½¿ç”¨ Mysql)å¥—ä»¶ã€‚ å»ºè­°å¯ä»¥å…ˆè§€çœ‹ Node.js ä»‹ç´¹ æ–‡ç« ä¾†ç°¡å–®å­¸ç¿’ Node èªè¨€ã€‚ ç¯„ä¾‹ç¨‹å¼é€£çµ é»æˆ‘ ğŸ˜˜ ç‰ˆæœ¬è³‡è¨Š macOSï¼š11.6 nodeï¼šv16.14.2 npmï¼š8.5.0 Mysqlï¼šmysql Ver 8.0.28 for macos11.6 on x86_64 (Homebrew) ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:0:0","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"å¯¦ä½œ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:0","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æª”æ¡ˆçµæ§‹ . â”œâ”€â”€ app.js â”œâ”€â”€ config â”‚Â â””â”€â”€ config.json â”œâ”€â”€ controllers â”‚Â â”œâ”€â”€ auth.js â”‚Â â”œâ”€â”€ message.js â”‚Â â””â”€â”€ reply.js â”œâ”€â”€ middleware â”‚Â â””â”€â”€ index.js â”œâ”€â”€ migrations â”‚Â â”œâ”€â”€ 20220331054531-create-user.js â”‚Â â”œâ”€â”€ 20220401093019-create-message.js â”‚Â â””â”€â”€ 20220404041905-create-reply.js â”œâ”€â”€ models â”‚Â â”œâ”€â”€ index.js â”‚Â â”œâ”€â”€ message.js â”‚Â â”œâ”€â”€ reply.js â”‚Â â””â”€â”€ user.js â”œâ”€â”€ node_modules(ä»¥ä¸‹æª”æ¡ˆçœç•¥) â”œâ”€â”€ package-lock.json â”œâ”€â”€ package.json â”œâ”€â”€ repositories â”‚Â â”œâ”€â”€ auth.js â”‚Â â”œâ”€â”€ message.js â”‚Â â””â”€â”€ reply.js â””â”€â”€ router â””â”€â”€ index.js æˆ‘å€‘ä¾†èªªæ˜ä¸€ä¸‹ä¸Šé¢çš„è³‡æ–™å¤¾ä»¥åŠæª”æ¡ˆå„åˆ¥åŠŸèƒ½èˆ‡ä½œç”¨ app.jsï¼šç¨‹å¼çš„å•Ÿå‹•å…¥å£ï¼Œè£¡é¢æœƒæ”¾ç½®æœ‰é—œç¨‹å¼ç³»çµ±éœ€è¦å‘¼å«å“ªäº›å¥—ä»¶ç­‰ç­‰ã€‚ configï¼šæ”¾ç½®è³‡æ–™åº«é€£ç·šè³‡æ–™ (ä½¿ç”¨ sequelize-cli å¥—ä»¶è‡ªå‹•ç”¢ç”Ÿ)ã€‚ controllersï¼šå•†ç”¨é‚è¼¯æ§åˆ¶ã€‚ middlewareï¼šç”¨ä¾†æª¢æŸ¥ç™»å…¥æ¬Šé™ã€‚ migrationsï¼šæ”¾ç½®ç”¢ç”Ÿä¸åŒ Model è³‡æ–™è¡¨ (ä½¿ç”¨ sequelize-cli å¥—ä»¶è‡ªå‹•ç”¢ç”Ÿ)ã€‚ modelsï¼šå®šç¾©è³‡æ–™è¡¨è³‡æ–™å‹æ…‹ (ä½¿ç”¨ sequelize-cli å¥—ä»¶è‡ªå‹•ç”¢ç”Ÿ)ã€‚ node_modulesï¼šæ”¾ç½®ä¸‹è¼‰ä½¿ç”¨çš„å¥—ä»¶ä½ç½®ã€‚ package.json/package-lock.jsonï¼šå°ˆæ¡ˆè³‡è¨Šçš„é‡è¦æª”æ¡ˆ (ä½¿ç”¨ npm init è‡ªå‹•ç”¢ç”Ÿ)ã€‚ repositoriesï¼šè™•ç†èˆ‡è³‡æ–™åº«é€²è¡Œäº¤æ¡ã€‚ routerï¼šè¨­å®šç¶²ç«™ç¶²å€è·¯ç”±ã€‚ ä»¥ä¸‹è©³ç´°èªªæ˜éƒ¨åˆ†ï¼Œåªæœƒèªªæ˜ app.jsã€configã€controllersã€middlewareã€migrationsã€modelsã€repositoriesã€router (ä»‹ç´¹æœƒä¾ç…§ç¨‹å¼æµç¨‹ä¾†ä»‹ç´¹)ã€‚ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:1","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"config { \"development\": { \"username\": \"root\", \"password\": \"\", \"database\": \"node\", \"host\": \"127.0.0.1\", \"dialect\": \"mysql\", \"dialectOptions\": { \"dateStrings\": true, \"typeCast\": true }, \"timezone\": \"+08:00\" }, \"test\": { \"username\": \"root\", \"password\": \"\", \"database\": \"node\", \"host\": \"127.0.0.1\", \"dialect\": \"mysql\", \"dialectOptions\": { \"dateStrings\": true, \"typeCast\": true }, \"timezone\": \"+08:00\" }, \"production\": { \"username\": \"root\", \"password\": \"\", \"database\": \"node\", \"host\": \"127.0.0.1\", \"dialect\": \"mysql\", \"dialectOptions\": { \"dateStrings\": true, \"typeCast\": true }, \"timezone\": \"+08:00\" } } ç”± sequelize-cli å¥—ä»¶è‡ªå‹•ç”¢ç”Ÿï¼Œå¯ä»¥ä¾ç…§ä¸åŒç¨‹å¼ç‹€æ…‹(é–‹ç™¼ developmentã€æ¸¬è©¦ testã€ä¸Šç·š production)ä¾†ä¿®æ”¹é€£ç·šæ™‚çš„åƒæ•¸ã€‚ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:2","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"migrations æª”æ¡ˆåŸºæœ¬ä¸Šéƒ½é›·åŒï¼Œèˆ‰å…¶ä¸­ä¸€å€‹ç‚ºèªªæ˜ã€‚migrations ä¹Ÿæ˜¯ç”± sequelize-cli å¥—ä»¶è‡ªå‹•ç”¢ç”Ÿï¼Œç›¸é—œæŒ‡ä»¤æœƒçµ±ä¸€æ”¾åœ¨æœ€å¾Œã€‚ 20220401093019-create-message.js \"use strict\";module.exports = {async up(queryInterface, Sequelize) {await queryInterface.createTable(\"message\", {id:{allowNull:false,autoIncrement:true,primaryKey:true,type:Sequelize.INTEGER,},user_id:{allowNull:false,type:Sequelize.INTEGER,references:{model:\"user\",key:\"id\",},},content:{allowNull:false,type:Sequelize.STRING,},version:{type:Sequelize.INTEGER,defaultValue:0,},createdAt:{allowNull:false,type:Sequelize.DATE,},updatedAt:{allowNull:true,type:Sequelize.DATE,},deletedAt:{allowNull:true,type:Sequelize.DATE,},});},async down(queryInterface, Sequelize) {await queryInterface.dropTable(\"message\");},}; é€™å€‹æª”æ¡ˆçš„æ ¼å¼ä¹Ÿæ˜¯é€éæŒ‡ä»¤ç”¢ç”Ÿï¼Œæœƒæœ‰ up è·Ÿ downï¼Œup å°±æ˜¯åŸ·è¡ŒæŒ‡ä»¤å¾Œæœƒç”¢ç”Ÿä»€éº¼ï¼Œä¸»è¦éƒ½æœƒæ˜¯æ–°å¢è³‡æ–™è¡¨æˆ–æ˜¯ä¿®æ”¹è³‡æ–™è¡¨ï¼Œdown å‰‡æ˜¯å›å¾©çš„åŠŸèƒ½ï¼Œå¯ä»¥å°‡è³‡æ–™è¡¨çµ¦ dropTable ã€‚æˆ‘å€‘ä¸»è¦æœƒä¿®æ”¹çš„åœ°æ–¹æ˜¯ createTable å…§çš„è³‡æ–™ï¼Œè£¡é¢çš„è³‡æ–™ä»£è¡¨è³‡æ–™è¡¨çš„æ¬„ä½ï¼Œä»¥ä¸‹åˆ—å‡ºå¸¸ç”¨çš„æ ¼å¼ï¼š allowNullï¼šæ˜¯å¦ç‚ºç©ºå€¼ autoIncrementï¼šè‡ªå‹•ç´¯åŠ  primaryKeyï¼šä¸»éµ typeï¼šè£¡é¢å°±æ”¾æ¬„ä½é¡å‹ï¼Œä¾‹å¦‚ INTEGERã€STRINGã€DATEç­‰ç­‰ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:3","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"app.js \"use strict\"; const express = require(\"express\"); const sessions = require(\"express-session\"); const app = express(); const port = 8888; // è¨­å®š Session const oneDay = 1000 * 60 * 60 * 1; app.use( sessions({ secret: \"mySecret\", name: \"user\", saveUninitialized: false, rolling: true, cookie: { maxAge: oneDay }, resave: false, }) ); // è¨»å†Šè·¯ç”± app.use(\"/api/v1\", require(\"./router\")); // æª¢æŸ¥æ˜¯å¦æœ‰tableï¼Œæ²’æœ‰å°±å»ºç«‹ // const Message = require(\"./models\").message; // const User = require(\"./models\").user; // Message.sync(); // User.sync(); // é–‹å•Ÿç›£è½ app.listen(port, console.log(\"å•Ÿå‹• Server,Port:\" + port)); å…ˆå¼•å…¥æœƒä½¿ç”¨çš„å¥—ä»¶ (expressï¼šnode web æ¡†æ¶ã€express-sessionï¼šsession å¥—ä»¶) è¨­å®š app ç‚º express() å¯¦ä¾‹ï¼Œport ç‚º 8888ã€‚ è¨­å®š session å¤±æ•ˆæ™‚é–“ã€åç¨±ç­‰è¨­å®šã€‚ secret(å¿…è¦)ï¼šç”¨ä¾†ç°½ç«  sessionID çš„cookie, å¯ä»¥æ˜¯ä¸€secretå­—ä¸²æˆ–æ˜¯å¤šå€‹secretçµ„æˆçš„ä¸€å€‹é™£åˆ—ã€‚ nameï¼šåœ¨responseä¸­ï¼Œè¨­å®šçš„ sessionID cookie åå­—ã€‚é è¨­æ˜¯ connect.sidã€‚ saveUninitializedï¼šå¼·åˆ¶å°‡æœªåˆå§‹åŒ–çš„sessionå­˜å› session storeï¼Œæœªåˆå§‹åŒ–çš„æ„æ€æ˜¯å®ƒæ˜¯æ–°çš„è€Œä¸”æœªè¢«ä¿®æ”¹ã€‚ rollingï¼šå¼·åˆ¶åœ¨æ¯ä¸€æ¬¡å›æ‡‰æ™‚ï¼Œé‡æ–°è¨­ç½®ä¸€å€‹sessionID cookieã€‚ cookieï¼šè¨­å®šsessionID çš„cookieç›¸é—œé¸é …ã€‚ resaveï¼šå¼·åˆ¶å°‡sessionå­˜å› session store, å³ä½¿å®ƒæ²’æœ‰è¢«ä¿®æ”¹ã€‚ è¨»å†Šè·¯ç”±ï¼Œé€£ç·š http://127.0.0.1/api/v1 å¾Œé¢æœƒå°å‘ router æª”æ¡ˆã€‚ è¨»è§£éƒ¨åˆ†ç‚ºå¯ä»¥æ¯æ¬¡å•Ÿå‹•å¾Œå…ˆæª¢æŸ¥æ˜¯å¦æœ‰tableï¼Œæ²’æœ‰å°±å»ºç«‹ã€‚ é–‹å•Ÿ port(8888) ç›£è½ã€‚ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:4","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"router \"use strict\"; const express = require(\"express\"); const middleware = require(\"../middleware\"); const router = express(); const { register, login, lojsut } = require(\"../controllers/auth\"); const { getAllMessage, getMessage, createMessage, updateMessage, deleteMessage, } = require(\"../controllers/message\"); const { createReply, updateReply, deleteReply, } = require(\"../controllers/reply\"); // è¨»å†Šã€ç™»å…¥ã€ç™»å‡º router.post(\"/register\", express.json(), register); router.post(\"/login\", express.json(), login); router.post(\"/lojsut\", lojsut); // æŸ¥è©¢ç•™è¨€ router.get(\"/message\", getAllMessage); router.get(\"/message/:message_id\", getMessage); //éœ€è¦é©—è­‰æ‰å¯ä»¥ä½¿ç”¨ï¼ˆæ–°å¢ç•™è¨€ã€ä¿®æ”¹ç•™è¨€ã€åˆªé™¤ç•™è¨€ã€æ–°å¢ç•™è¨€å›è¦†ã€ä¿®æ”¹ç•™è¨€å›è¦†ã€åˆªé™¤ç•™è¨€å›è¦†ï¼‰ router.use(middleware); router.post(\"/message\", express.json(), createMessage); router.patch(\"/message/:message_id\", express.json(), updateMessage); router.delete(\"/message/:message_id\", deleteMessage); router.post(\"/message/:message_id\", express.json(), createReply); router.patch(\"/message/:message_id/:reply_id\", express.json(), updateReply); router.delete(\"/message/:message_id/:reply_id\", deleteReply); module.exports = router; è¨­å®šè·¯ç”±ï¼Œåˆ†åˆ¥æ˜¯è¨»å†Šã€ç™»å…¥ã€ç™»å‡ºã€æ–°å¢ç•™è¨€ã€æŸ¥è©¢å…¨éƒ¨ç•™è¨€ã€æŸ¥è©¢ {id} ç•™è¨€ã€ä¿®æ”¹ {id} ç•™è¨€ã€åˆªé™¤ {id} ç•™è¨€ï¼Œé€£æ¥åˆ°ä¸åŒçš„ controller functionã€‚express.json() å‡½æ•¸æ˜¯ç‚ºäº†è¦è®“ body-parser è§£æå¸¶æœ‰ JSON å‚³å…¥å¾Œé¢çš„ controllerï¼Œå…¶ä¸­æ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯å› ç‚ºæ–°å¢ç•™è¨€ã€ä¿®æ”¹ç•™è¨€ã€åˆªé™¤ç•™è¨€ã€æ–°å¢ç•™è¨€å›è¦†ã€ä¿®æ”¹ç•™è¨€å›è¦†ã€åˆªé™¤ç•™è¨€å›è¦†éœ€è¦ç™»å…¥å¾Œæ‰å¯ä»¥ä½¿ç”¨ï¼Œæ‰€ä»¥å¤šä¸€å€‹ middleware ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ã€‚ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:5","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"middleware \"use strict\"; module.exports = (req, res, next) =\u003e { if (!req.session.userid) { return res.status(401).json({ message: \"ç”¨æˆ¶éœ€è¦èªè­‰\" }); } next(); }; ä½¿ç”¨ session ä¾†é©—è­‰æ˜¯å¦æœ‰ç™»å…¥ã€‚ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:6","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"models æœƒæ”¾ç½®èˆ‡è³‡æ–™è¡¨è³‡æ–™å‹æ…‹æœ‰é—œçš„è³‡è¨Šï¼Œå…¶ä¸­ index.js æ˜¯ç”± sequelize-cli å¥—ä»¶è‡ªå‹•ç”¢ç”Ÿï¼Œç”¨ä¾†è®€å–ç›®å‰å¯«åœ¨ config çš„é€£ç·šè¨­å®šæª”ç­‰è³‡è¨Šã€‚ index.js \"use strict\"; const fs = require(\"fs\"); const path = require(\"path\"); const Sequelize = require(\"sequelize\"); const basename = path.basename(__filename); const env = process.env.NODE_ENV || \"development\"; const config = require(__dirname + \"/../config/config.json\")[env]; const db = {}; let sequelize; if (config.use_env_variable) { sequelize = new Sequelize(process.env[config.use_env_variable], config); } else { sequelize = new Sequelize( config.database, config.username, config.password, config ); } fs.readdirSync(__dirname) .filter((file) =\u003e { return ( file.indexOf(\".\") !== 0 \u0026\u0026 file !== basename \u0026\u0026 file.slice(-3) === \".js\" ); }) .forEach((file) =\u003e { const model = require(path.join(__dirname, file))( sequelize, Sequelize.DataTypes ); db[model.name] = model; }); Object.keys(db).forEach((modelName) =\u003e { if (db[modelName].associate) { db[modelName].associate(db); } }); db.sequelize = sequelize; db.Sequelize = Sequelize; module.exports = db; user.js \"use strict\"; const { Model } = require(\"sequelize\"); module.exports = (sequelize, DataTypes) =\u003e { class user extends Model { static associate(models) { user.hasMany(models.message, { foreignKey: \"user_id\", }); } } user.init( { username: { type: DataTypes.STRING, unique: true, }, password: { type: DataTypes.STRING, }, }, { sequelize, paranoid: true, freezeTableName: true, modelName: \"user\", } ); return user; }; æ­¤ç‚º user è³‡æ–™è¡¨çš„æ¬„ä½è³‡æ–™ï¼Œæœ‰é è¨­çš„ init åˆå§‹åŒ–ï¼Œæ¯”è¼ƒç‰¹åˆ¥çš„æ˜¯å¦‚æœæœ‰ç”¨åˆ°é—œè¯æ€§çš„å¤–éµç­‰ç­‰è¦è¨˜å¾—åœ¨ associate åšè¨­å®šï¼Œuser.hasMany(models.message,{foreignKey: \"user_id\",}) ä»£è¡¨ user é€™å¼µè¡¨å¯ä»¥æœ‰å¾ˆå¤šå€‹ messageï¼Œå…¶ message å¤–éµæ˜¯ user_idã€‚ paranoidï¼šä»£è¡¨æœƒåŸ·è¡Œè»Ÿåˆªé™¤è€Œä¸æ˜¯ç¡¬åˆªé™¤ï¼Œä½†å¿…é ˆè¦å¤šä¸€å€‹ deletedAt ä¾†å­˜æ”¾è»Ÿåˆªé™¤æ™‚é–“ã€‚ freezeTableNameï¼šå› ç‚º sequelize æœƒè‡ªå‹•å†ç”¢ç”Ÿè³‡æ–™è¡¨æ™‚åŠ ä¸Šè¤‡æ•¸ï¼Œå¦‚æœä¸æƒ³è¦å°±å¿…é ˆä½¿ç”¨å®ƒè®“ sequelize ä¸æœƒè‡ªå‹•åŠ å…¥ s (è¤‡æ•¸)ã€‚ modelNameï¼šæ­¤ model åç¨±ã€‚ message.js \"use strict\"; const { Model } = require(\"sequelize\"); module.exports = (sequelize, DataTypes) =\u003e { class message extends Model { static associate(models) { message.hasMany(models.reply, { foreignKey: \"message_id\", }); message.belongsTo(models.user, { foreignKey: \"user_id\", }); } } message.init( { user_id: { type: DataTypes.INTEGER, allowNull: false, }, content: { type: DataTypes.STRING, allowNull: false, }, version: { type: DataTypes.STRING, }, }, { sequelize, paranoid: true, freezeTableName: true, modelName: \"message\", } ); return message; }; æ­¤ç‚º message è³‡æ–™è¡¨çš„æ¬„ä½è³‡æ–™ï¼Œassociate è¨­å®šæœ‰ message.hasMany(models.reply,{foreignKey: \"message_id\",}) ä»£è¡¨ message é€™å¼µè¡¨å¯ä»¥æœ‰å¾ˆå¤šå€‹ replyï¼Œå…¶ reply å¤–éµæ˜¯ message_idã€‚ä»¥åŠ message.belongsTo(models.user, {foreignKey: \"user_id\",}); ä»£è¡¨ message å­˜åœ¨ä¸€å°ä¸€çš„é—œä¿‚ï¼Œå¤–éµæ˜¯ user_idã€‚ reply.js \"use strict\"; const { Model } = require(\"sequelize\"); module.exports = (sequelize, DataTypes) =\u003e { class reply extends Model { static associate(models) { reply.belongsTo(models.message, { foreignKey: \"message_id\", }); reply.belongsTo(models.user, { foreignKey: \"user_id\", }); } } reply.init( { message_id: { type: DataTypes.INTEGER, allowNull: false, }, user_id: { type: DataTypes.INTEGER, allowNull: false, }, content: { type: DataTypes.STRING, allowNull: false, }, version: { type: DataTypes.STRING, }, }, { sequelize, paranoid: true, freezeTableName: true, modelName: \"reply\", } ); return reply; }; æ­¤ç‚º reply è³‡æ–™è¡¨çš„æ¬„ä½è³‡æ–™ï¼Œassociate è¨­å®šæœ‰reply.belongsTo(models.message, {foreignKey: \"message_id\",}); ä»£è¡¨ reply å­˜åœ¨ä¸€å°ä¸€çš„é—œä¿‚ï¼Œå¤–éµæ˜¯ message_idï¼Œä»¥åŠ reply.belongsTo(models.user, {foreignKey: \"user_id\",}); ä»£è¡¨ reply å­˜åœ¨ä¸€å°ä¸€çš„é—œä¿‚ï¼Œå¤–éµæ˜¯ user_idã€‚ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:7","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"controllers æˆ‘å€‘éµå¾ª MVC çš„è¨­è¨ˆè¦ç¯„ï¼Œæ‰€æœ‰çš„å•†ç”¨é‚è¼¯éƒ½æœƒæ”¾åœ¨ controller å…§ï¼Œrepository åªè² è²¬èˆ‡è³‡æ–™åº«é€²è¡Œäº¤æ¡ã€‚ auth.js const Auth = require(\"../repositories/auth\"); const bcrypt = require(\"bcrypt\"); // è¨»å†Š const register = async (req, res) =\u003e { if (!req.body.username || !req.body.password) { return res.status(400).json({ user: \"æ²’æœ‰æ­£ç¢ºè¼¸å…¥å¸³è™Ÿæˆ–å¯†ç¢¼\" }); } const salt = await bcrypt.genSalt(10); const bcrypt_password = await bcrypt.hash(req.body.password, salt); user = await Auth.register(req.body.username, bcrypt_password); if (!user[1]) { return res.status(400).json({ user: \"usernameå·²å­˜åœ¨\" }); } return res.status(201).json({ user: user }); }; // ç™»å…¥ const login = async (req, res) =\u003e { if (!req.body.username || !req.body.password) { return res.status(400).json({ user: \"æ²’æœ‰æ­£ç¢ºè¼¸å…¥å¸³è™Ÿæˆ–å¯†ç¢¼\" }); } user = await Auth.login(req.body.username, req.body.password); if (!user) { return res.status(400).json({ user: \"å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤\" }); } session = req.session; session.userid = user.id; return res.status(200).json({ user: \"ç™»å…¥æˆåŠŸ\" }); }; // ç™»å‡º const logout = async (req, res) =\u003e { session = req.session; session.destroy(); return res.status(200).json({ user: \"ç™»å‡ºæˆåŠŸ\" }); }; module.exports = { register, login, logout, }; ä¸»è¦æœ‰3 å€‹éƒ¨ä»½ï¼Œè¨»å†Šã€ç™»å…¥ã€ç™»å‡ºï¼š è¨»å†Šï¼šæœƒå…ˆé©—è­‰æ˜¯å¦æ­£ç¢ºè¼¸å…¥è³‡æ–™(åŒ…å«æ¬„ä½æ˜¯å¦éŒ¯èª¤ç­‰)ï¼Œå¦‚æœæœ‰éŒ¯ï¼Œå°±æœƒå›æ‡‰ 400 ä»¥åŠæ²’æœ‰æ­£ç¢ºè¼¸å…¥å¸³è™Ÿæˆ–å¯†ç¢¼ã€‚æ¥ä¸‹ä¾†æœƒä½¿ç”¨åˆ° bcrypt ä¾†å¹«å¯†ç¢¼é€²è¡ŒåŠ å¯†è™•ç†ï¼Œå†æŠŠåŠ å¯†å¾Œçš„å¯†ç¢¼ä»¥åŠå¸³è™Ÿä¸Ÿåˆ° Auth.register repository ä¾†é€²è¡Œè³‡æ–™åº«çš„å­˜å–ï¼Œå¦‚æœéŒ¯èª¤æœƒå›æ‡‰ 400 ä»¥åŠ username å·²å­˜åœ¨ï¼ŒæˆåŠŸæœƒå›æ‡‰ 201 ä»¥åŠæ–°å¢çš„å¸³è™Ÿè³‡è¨Šã€‚ ç™»å…¥ï¼šä¸€æ¨£æœƒå…ˆæª¢æŸ¥è¼¸å…¥è³‡æ–™ï¼Œæ¥è‘—æŠŠè³‡æ–™ä¸Ÿåˆ° Auth.login repository ä¾†é€²è¡Œè³‡æ–™åº«çš„é©—è­‰ï¼Œå¦‚æœéŒ¯èª¤æœƒå›æ‡‰ 400 ä»¥åŠå¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤ï¼ŒæˆåŠŸæœƒå›æ‡‰ 200 ä»¥åŠç™»å‡ºæˆåŠŸã€‚ ç™»å‡ºï¼šå°‡ session çµ¦æ¸…é™¤ï¼Œç„¶å¾Œå›æ‡‰ 200 ä»¥åŠç™»å‡ºæˆåŠŸã€‚ message.js (ç”±æ–¼å…§å®¹è¼ƒå¤šï¼Œæ‰€ä»¥ä¾ç…§åŠŸèƒ½æ‹†åˆ†å¾Œèªªæ˜) æŸ¥è©¢ç•™è¨€åŠŸèƒ½ const Message = require(\"../repositories/message\"); const Reply = require(\"../repositories/reply\"); // æŸ¥è©¢æ‰€æœ‰ç•™è¨€ const getAllMessage = async (req, res) =\u003e { message = await Message.getAll(); return res.status(200).json({ message: message }); }; //æŸ¥è©¢{id}ç•™è¨€ const getMessage = async (req, res) =\u003e { if (!(message = await Message.get(req.params.message_id))) { return res.status(404).json({ message: \"æ‰¾ä¸åˆ°ç•™è¨€\" }); } return res.status(200).json({ message: message }); }; å…ˆè¼‰å…¥è¦ä½¿ç”¨çš„ repository ï¼ŒæŸ¥è©¢æ‰€æœ‰ç•™è¨€æœƒä½¿ç”¨ Message.getAll() repository ä¾†é€²è¡Œè³‡æ–™åº«çš„è®€å–ï¼Œæœƒå›æ‡‰ 200 ä»¥åŠæŸ¥è©¢å…§å®¹ï¼Œè‹¥æ˜¯å°šæœªæœ‰ç•™è¨€å‰‡æœƒé¡¯ç¤ºç©ºé™£åˆ—ã€‚æŸ¥è©¢{id}ç•™è¨€æœƒå°‡ req.params.message_id ä¸Ÿåˆ° Message.get repository ä¾†é€²è¡Œè³‡æ–™åº«çš„è®€å–ï¼Œå¦‚æœéŒ¯èª¤æœƒå›æ‡‰ 404 ä»¥åŠ æ‰¾ä¸åˆ°ç•™è¨€ï¼ŒæˆåŠŸæœƒå›æ‡‰ 200 ä»¥åŠæŸ¥è©¢å…§å®¹ã€‚ æ–°å¢ç•™è¨€åŠŸèƒ½ //æ–°å¢ç•™è¨€ const createMessage = async (req, res) =\u003e { if (!req.body.content || req.body.content.length \u003e 20) { return res.status(400).json({ message: \"æ²’æœ‰è¼¸å…¥å…§å®¹æˆ–é•·åº¦è¶…é20å€‹å­—å…ƒ\" }); } message = await Message.create(req.session.userid, req.body.content); return res.status(201).json({ message: message }); }; æ–°å¢ç•™è¨€æœƒå…ˆæª¢æŸ¥è¼¸å…¥å…§å®¹æ˜¯å¦ç‚ºç©ºä»¥åŠä¸èƒ½å¤§æ–¼20å€‹å­—å…ƒï¼Œå¦‚æœéŒ¯èª¤å°±å›æ‡‰ 400 ä»¥åŠæ²’æœ‰è¼¸å…¥å…§å®¹æˆ–é•·åº¦è¶…é20å€‹å­—å…ƒï¼Œå†å°‡ req.session.useridã€req.body.content ä¸Ÿåˆ° Message.create repository ä¾†é€²è¡Œè³‡æ–™åº«çš„å­˜å–ï¼ŒæˆåŠŸæœƒå›æ‡‰ 201 ä»¥åŠæ–°å¢çš„ç•™è¨€ã€‚ ä¿®æ”¹ç•™è¨€åŠŸèƒ½ //ä¿®æ”¹ç•™è¨€ const updateMessage = async (req, res) =\u003e { if (!(message = await Message.get(req.params.message_id))) { return res.status(404).json({ message: \"æ‰¾ä¸åˆ°ç•™è¨€\" }); } if (!req.body.content || req.body.content.length \u003e 20) { return res.status(400).json({ message: \"æ²’æœ‰è¼¸å…¥å…§å®¹æˆ–é•·åº¦è¶…é20å€‹å­—å…ƒ\" }); } if ( (await Message.update( req.params.message_id, req.session.userid, req.body.content, message[\"version\"] )) == \"0\" ) { return res.status(400).json({ message: \"ä¿®æ”¹ç•™è¨€å¤±æ•—\" }); } return res.status(200).json({ message: \"ä¿®æ”¹ç•™è¨€æˆåŠŸ\" }); }; ä¿®æ”¹ç•™è¨€å› ç‚ºéœ€è¦å…ˆå¾è³‡æ–™ä¸­å–å¾— version ä¾†æª¢æŸ¥æ¨‚è§€é–ï¼Œæ‰€ä»¥æœƒå…ˆå°‡ req.params.message_id ä¸Ÿåˆ° Message.get repository ä¾†é€²è¡Œè³‡æ–™åº«çš„æŸ¥è©¢ï¼ŒéŒ¯èª¤æœƒå›æ‡‰ 404 ä»¥åŠæ‰¾ä¸åˆ°ç•™è¨€ã€‚ å…ˆæª¢æŸ¥è¼¸å…¥å…§å®¹æ˜¯å¦ç‚ºç©ºä»¥åŠä¸èƒ½å¤§æ–¼20å€‹å­—å…ƒï¼Œå¦‚æœéŒ¯èª¤å°±å›æ‡‰ 400 ä»¥åŠæ²’æœ‰è¼¸å…¥å…§å®¹æˆ–é•·åº¦è¶…é20å€‹å­—å…ƒï¼Œå†å°‡ req.params.message_idã€req.session.useridã€req.body.contentã€message[\"version\"] ä¸Ÿåˆ° Message.update repository ä¾†é€²è¡Œè³‡æ–™åº«çš„æ›´æ–°ï¼ŒéŒ¯èª¤æœƒå›æ‡‰ 400 ä»¥åŠä¿®æ”¹ç•™è¨€å¤±æ•—ï¼ŒæˆåŠŸæœƒå›æ‡‰ 200 ä»¥åŠä¿®æ”¹ç•™è¨€æˆåŠŸã€‚ åˆªé™¤ç•™è¨€åŠŸèƒ½ //åˆªé™¤ç•™è¨€ const deleteMessage = async (req, res) =\u003e { if (!(await Message.delete(req.params.message_id, req.session.userid))) { return res.status(400).json({ message: \"åˆªé™¤ç•™è¨€å¤±æ•—\" }); } // åˆªé™¤ç•™è¨€æ™‚åŒæ­¥åˆªé™¤æ‰€æœ‰å›è¦† await Reply.deleteMessage(req.params.message_id); return res.status(204).json({ message: \"åˆªé™¤ç•™è¨€æˆåŠŸ\" }); }; åˆªé™¤ç•™è¨€æœƒå°‡ req.params.message_idã€req.session.userid ä¸Ÿåˆ° Message.delete repository ä¾†é€²è¡Œè³‡æ–™åº«çš„è»Ÿåˆªé™¤ï¼ŒéŒ¯èª¤æœƒå›æ‡‰ 400 ä»¥åŠåˆªé™¤ç•™è¨€å¤±æ•—ï¼Œå› ç‚ºæˆ‘å€‘åˆªé™¤ç•™è¨€å¾Œï¼Œä¸èƒ½åœ¨å°è©²ç•™è¨€é€²è¡Œå›è¦†çš„ä»»ä½•åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸€åŒè»Ÿåˆªé™¤æ‰€æœ‰çš„å›è¦†ï¼ŒæˆåŠŸå¾Œæœƒå›æ‡‰ 204 ä»¥åŠåˆªé™¤ç•™è¨€æˆåŠŸã€‚ reply.js (ç”±æ–¼å…§å®¹è¼ƒå¤šï¼Œæ‰€ä»¥ä¾ç…§åŠŸ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:8","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"repositories æ­¤æœƒæ”¾ç½®èˆ‡è³‡æ–™åº«é€²è¡Œäº¤æ¡çš„ç¨‹å¼ã€‚ auth.js const User = require(\"../models\").user; const bcrypt = require(\"bcrypt\"); const auth = { // è¨»å†Š async register(username, bcrypt_password) { return await User.findOrCreate({ where: { username: username }, defaults: { username: username, password: bcrypt_password }, }); }, // ç™»å…¥ async login(username, password) { const user = await User.findOne({ where: { username: username } }); if (user) { return (await bcrypt.compare(password, user.password)) ? user : false; } }, }; module.exports = auth; auth å…§ä¸»è¦æœ‰å…©å€‹èˆ‡è³‡æ–™åº«é€²è¡Œäº’å‹•ï¼Œåˆ†åˆ¥æ˜¯ï¼Œè¨»å†Šä»¥åŠç™»å…¥ï¼Œè¨»å†Šæœƒå°‡å‚³å…¥çš„å¸³è™Ÿä»¥åŠåŠ å¯†éå¾Œå¯†ç¢¼ä½¿ç”¨ User.findOrCreate ä¾†é€²è¡ŒæŸ¥è©¢æˆ–æ–°å¢ï¼Œå¦‚æœå¸³è™Ÿä¸å­˜åœ¨æ‰æœƒé€²è¡Œæ–°å¢å‹•ä½œã€‚ç™»å…¥æœƒå°‡å‚³å…¥çš„å¸³è™ŸåŠå¯†ç¢¼ä½¿ç”¨ User.findOne ä¾†æª¢æŸ¥æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨å†æª¢æŸ¥å¯†ç¢¼èˆ‡è³‡æ–™åº«æ˜¯å¦æ­£ç¢ºã€‚ message.js const Message = require(\"../models\").message; const Reply = require(\"../models\").reply; const repository = { async getAll() { return await Message.findAll({ include: { model: Reply } }); }, async get(message_id) { return await Message.findOne({ include: { model: Reply, }, where: { id: message_id }, }); }, async create(user_id, content) { return await Message.create({ user_id: user_id, content: content }); }, async update(message_id, user_id, content, version) { return await Message.update( { content: content, version: version + 1, }, { where: { id: message_id, user_id: user_id, version: version, }, } ); }, async delete(message_id, user_id) { return await Message.destroy({ where: { id: message_id, user_id: user_id }, }); }, }; module.exports = repository; message.js è£¡é¢æœ‰æœƒæŸ¥è©¢å…¨éƒ¨ç•™è¨€ã€æŸ¥è©¢{id}ç•™è¨€ã€æ–°å¢ç•™è¨€ã€ä¿®æ”¹{id}ç•™è¨€ã€åˆªé™¤{id}ç•™è¨€ç­‰ï¼Œä»¥ä¸‹æœƒèªªæ˜å„åˆ¥è² è²¬åŠŸç”¨ï¼š æŸ¥è©¢å…¨éƒ¨ç•™è¨€ getAll()ï¼šä½¿ç”¨ Message.findAll ä¾†é¡¯ç¤ºæŸ¥è©¢çµæœï¼Œä¸¦ä¸” include model Reply å›è¦†å…§å®¹ã€‚ æŸ¥è©¢{id}ç•™è¨€ get()ï¼šä½¿ç”¨ Message.findOne æŸ¥è©¢ message.id ç­‰æ–¼ message_id çš„çµæœï¼Œä¸¦ä¸” include model Reply å›è¦†å…§å®¹ã€‚ æ–°å¢ç•™è¨€ create()ï¼šä½¿ç”¨ Message.create æ–°å¢ message.user_id ä»¥åŠ message.contentã€‚ ä¿®æ”¹{id}ç•™è¨€ update()ï¼šä½¿ç”¨ Message.update æ›´æ–° content ä»¥åŠ versionï¼Œä¸” message.id è¦ç­‰æ–¼ message_id åŠ message.user_id ç­‰æ–¼ user_id åŠ message.version ç­‰æ–¼ versionã€‚ åˆªé™¤{id}ç•™è¨€ delete()ï¼šä½¿ç”¨ Message.destroy åˆªé™¤ç¬¦åˆ message.id ç­‰æ–¼ message_id åŠ message.user_id ç­‰æ–¼ user_idã€‚ reply.js const Message = require(\"../models\").message; const Reply = require(\"../models\").reply; const reply = { async get(reply_id, message_id) { return await Reply.findOne({ where: { id: reply_id, message_id: message_id }, }); }, async create(message_id, user_id, content) { is_exist = await Message.findOne({ where: { id: message_id }, }); if (is_exist) { return await Reply.create({ message_id: message_id, user_id: user_id, content: content, }); } }, async update(reply_id, message_id, user_id, content, version) { return await Reply.update( { content: content, version: version + 1, }, { where: { id: reply_id, message_id: message_id, user_id: user_id, version: version, }, } ); }, async delete(reply_id, message_id, user_id) { return await Reply.destroy({ where: { id: reply_id, message_id: message_id, user_id: user_id, }, }); }, async deleteMessage(message_id) { return await Reply.destroy({ where: { message_id: message_id, }, }); }, }; module.exports = reply; reply.js è£¡é¢æœ‰æœƒæ–°å¢å›è¦†ã€ä¿®æ”¹{id}å›è¦†ã€åˆªé™¤{id}å›è¦†ç­‰ï¼Œé™¤æ­¤ä¹‹å¤–é‚„å¤šäº†å…©å€‹ getã€deleteMessage ç”¨ä¾†å–å¾— version æ¨‚è§€é–ä»¥åŠåŒæ­¥åˆªé™¤å›è¦†åŠŸèƒ½ï¼Œé‚£ä»¥ä¸‹æœƒèªªæ˜å„åˆ¥è² è²¬åŠŸç”¨ï¼š æ–°å¢å›è¦† create()ï¼šå› ç‚ºè¦å…ˆç¢ºèªç•™è¨€æ˜¯å¦è¢«åˆªé™¤ï¼Œæ‰€ä»¥å…ˆä½¿ç”¨ Message.findOne æª¢æŸ¥ç•™è¨€æ˜¯å¦è¢«åˆªé™¤ï¼Œåœ¨ç”¨ Reply.create æ–°å¢ reply.message_id è·Ÿ reply.user_id ä»¥åŠ reply.contentã€‚ ä¿®æ”¹{id}å›è¦† update()ï¼šä½¿ç”¨ Reply.update æ›´æ–° content ä»¥åŠ versionï¼Œä¸” reply.id è¦ç­‰æ–¼ reply_id åŠ reply.message_id ç­‰æ–¼ message_id åŠ reply.user_id ç­‰æ–¼ user_id åŠ reply.version ç­‰æ–¼ versionã€‚ åˆªé™¤{id}å›è¦† delete()ï¼šä½¿ç”¨ Reply.destroy åˆªé™¤ç¬¦åˆ reply.id ç­‰æ–¼ reply_id è·Ÿ reply.message_id ç­‰æ–¼ message_id åŠ reply.user_id ç­‰æ–¼ user_idã€‚ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:1:9","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"å¸¸ç”¨æŒ‡ä»¤ (sequelize-cli) sequelize db:migrateï¼šå°‡è³‡æ–™è¡¨ä¾ç…§ up å…§å®¹åŸ·è¡Œ(migrate æª”æ¡ˆ)ã€‚ sequelize db:migrate:undo:allï¼šå°‡è³‡æ–™è¡¨ä¾ç…§ down å…§å®¹åŸ·è¡Œ(migrate æª”æ¡ˆ)ã€‚ sequelize db:seedï¼šç”¢ç”Ÿå‡è³‡æ–™ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:2:0","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"Postman æ¸¬è©¦ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:0","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"è¨»å†Š - æˆåŠŸ è¨»å†Š æˆåŠŸ\" è¨»å†Š æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:1","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"è¨»å†Š - å¤±æ•—(ç„¡è¼¸å…¥) è¨»å†Š å¤±æ•—(ç„¡è¼¸å…¥)\" è¨»å†Š å¤±æ•—(ç„¡è¼¸å…¥) ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:2","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"è¨»å†Š - å¤±æ•—(å·²ç¶“è¨»å†Šé) è¨»å†Š å¤±æ•—(å·²ç¶“è¨»å†Šé)\" è¨»å†Š å¤±æ•—(å·²ç¶“è¨»å†Šé) ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:3","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"ç™»å…¥ - æˆåŠŸ ç™»å…¥ æˆåŠŸ\" ç™»å…¥ æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:4","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"ç™»å…¥ - å¤±æ•— ç™»å…¥ å¤±æ•—\" ç™»å…¥ å¤±æ•— ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:5","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æŸ¥è©¢å…¨éƒ¨ç•™è¨€ - æˆåŠŸ(ç„¡è³‡æ–™) æŸ¥è©¢ç•™è¨€ æˆåŠŸ(ç„¡è³‡æ–™)\" æŸ¥è©¢ç•™è¨€ æˆåŠŸ(ç„¡è³‡æ–™) ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:6","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æŸ¥è©¢å…¨éƒ¨ç•™è¨€ - æˆåŠŸ(æœ‰è³‡æ–™) æŸ¥è©¢ç•™è¨€ æˆåŠŸ(æœ‰è³‡æ–™)\" æŸ¥è©¢ç•™è¨€ æˆåŠŸ(æœ‰è³‡æ–™) ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:7","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æŸ¥è©¢{id}ç•™è¨€ - æˆåŠŸ æŸ¥è©¢{id}ç•™è¨€ æˆåŠŸ\" æŸ¥è©¢{id}ç•™è¨€ æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:8","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æŸ¥è©¢{id}ç•™è¨€ - å¤±æ•— æŸ¥è©¢{id}ç•™è¨€ å¤±æ•—\" æŸ¥è©¢{id}ç•™è¨€ å¤±æ•— ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:9","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æ–°å¢ç•™è¨€ - æˆåŠŸ æ–°å¢ç•™è¨€ æˆåŠŸ\" æ–°å¢ç•™è¨€ æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:10","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æ–°å¢ç•™è¨€ - å¤±æ•— æ–°å¢ç•™è¨€ å¤±æ•—\" æ–°å¢ç•™è¨€ å¤±æ•— ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:11","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"ä¿®æ”¹{id}ç•™è¨€ - æˆåŠŸ ä¿®æ”¹ {id}ç•™è¨€ æˆåŠŸ\" ä¿®æ”¹ {id}ç•™è¨€ æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:12","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"ä¿®æ”¹{id}ç•™è¨€ - å¤±æ•— ä¿®æ”¹ {id}ç•™è¨€ å¤±æ•—\" ä¿®æ”¹ {id}ç•™è¨€ å¤±æ•— ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:13","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"åˆªé™¤{id}ç•™è¨€ - æˆåŠŸ åˆªé™¤ {id}ç•™è¨€ æˆåŠŸ\" åˆªé™¤ {id}ç•™è¨€ æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:14","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"åˆªé™¤{id}ç•™è¨€ - å¤±æ•— åˆªé™¤ {id}ç•™è¨€ å¤±æ•—\" åˆªé™¤ {id}ç•™è¨€ å¤±æ•— ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:15","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æ–°å¢å›è¦† - æˆåŠŸ æ–°å¢å›è¦† æˆåŠŸ\" æ–°å¢å›è¦† æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:16","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"æ–°å¢å›è¦† - å¤±æ•— æ–°å¢å›è¦† å¤±æ•—\" æ–°å¢å›è¦† å¤±æ•— ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:17","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"ä¿®æ”¹{id}å›è¦† - æˆåŠŸ ä¿®æ”¹ {id}å›è¦† æˆåŠŸ\" ä¿®æ”¹ {id}å›è¦† æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:18","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"ä¿®æ”¹{id}å›è¦† - å¤±æ•— ä¿®æ”¹ {id}å›è¦† å¤±æ•—\" ä¿®æ”¹ {id}å›è¦† å¤±æ•— ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:19","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"åˆªé™¤{id}å›è¦† - æˆåŠŸ åˆªé™¤ {id}å›è¦† æˆåŠŸ\" åˆªé™¤ {id}å›è¦† æˆåŠŸ ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:20","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"åˆªé™¤{id}å›è¦† - å¤±æ•— åˆªé™¤ {id}å›è¦† å¤±æ•—\" åˆªé™¤ {id}å›è¦† å¤±æ•— ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:3:21","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":null,"content":"åƒè€ƒè³‡æ–™ Node.js å®˜ç¶² Sequelize é€é sequelize ä¾†é”æˆ DB Schema Migration How to create JOIN queries with Sequelize ","date":"2022-04-11","objectID":"/node-restful-api-repository-messageboard/:4:0","tags":["Node.js","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Node.jså¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (expressã€sequelize å¥—ä»¶)","uri":"/node-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Node.js ? Node.js æ˜¯èƒ½å¤ åœ¨ä¼ºæœå™¨ç«¯é‹è¡Œ JavaScript çš„é–‹æ”¾åŸå§‹ç¢¼ã€è·¨å¹³å°åŸ·è¡Œç’°å¢ƒã€‚ Node.js çš„å‡ºç¾ï¼Œè®“å‰ç«¯ç¶²ç«™é–‹ç™¼äººå“¡å¯ä»¥ä½¿ç”¨ JaveScript ä¾†åšå¾Œç«¯æˆ–æ˜¯ç³»çµ±å±¤é¢çš„å·¥ä½œã€‚è®“å‰ç«¯é–‹ç™¼ç¶²ç«™é–‹ç™¼äººå“¡ä½¿ç”¨å·²æ‡‚çš„ JavaScript èªè¨€å°±å¯ä»¥è‡ªè¡Œè¨­å®šç¶²ç«™ä¼ºæœå™¨ã€‚ Node.js æ¡ç”¨ Google é–‹ç™¼çš„ Chrome V8 JavaScript å¼•æ“å’Œ libuv å‡½å¼åº«ï¼Œå¯ä»¥ç”¨æŒ‡ä»¤å»åŸ·è¡Œ JavaScriptï¼Œä½¿ç”¨éé˜»å¡è¼¸å…¥è¼¸å‡ºã€éåŒæ­¥ã€äº‹ä»¶é©…å‹•ç­‰æŠ€è¡“ä¾†æé«˜æ•ˆèƒ½ï¼Œå¯æœ€ä½³åŒ–æ‡‰ç”¨ç¨‹å¼çš„å‚³è¼¸é‡å’Œè¦æ¨¡ã€‚é€™äº›æŠ€è¡“é€šå¸¸ç”¨æ–¼è³‡æ–™å¯†é›†çš„å³æ™‚æ‡‰ç”¨ç¨‹å¼ã€‚ ä¸»è¦çš„ Node.js çµ„ä»¶ (An Intro to Node.js That You May Have Missed)\" ä¸»è¦çš„ Node.js çµ„ä»¶ (An Intro to Node.js That You May Have Missed) å…¶ä»–é–‹æºã€ä½ç´šçµ„ä»¶ï¼Œä¸»è¦ç”¨ C/C++ ç·¨å¯«ï¼š c-ares : ç”¨æ–¼éåŒæ­¥ DNS è«‹æ±‚çš„ C å‡½å¼åº«ï¼Œç”¨æ–¼ Node.js ä¸­çš„ä¸€äº› DNS è«‹æ±‚ã€‚ http-parserï¼šä¸€å€‹è¼•é‡ç´šçš„ HTTP è«‹æ±‚/å›æ‡‰è§£æå™¨ã€‚ OpenSSLï¼šä¸€å€‹è‘—åçš„é€šç”¨å¯†ç¢¼åº«ã€‚ç”¨æ–¼ tls å’Œ cryto æ¨¡çµ„ã€‚ zlibï¼šç„¡ææ•¸æ“šå£“ç¸®åº«ã€‚ Node.js èƒ½å¿«é€Ÿçš„åŸå› æ˜¯å› ç‚ºä»–å°è³‡æºçš„èª¿æ ¡ä¸åŒï¼Œç•¶ç¨‹å¼æ”¶åˆ°ä¸€ç­†é€£ç·šï¼Œ ç›¸è¼ƒæ–¼ PHP çš„æ¯æ¬¡é€£ç·šéƒ½æœƒæ–°ç”Ÿæˆä¸€å€‹åŸ·è¡Œç·’ï¼Œç•¶é€£ç·šæ•¸é‡æš´å¢æ™‚å¾ˆå¿«å°±æœƒæ¶ˆè€—æ‰ç³»çµ±çš„è³‡æºï¼Œä¸¦ä¸”å®¹æ˜“ç”¢ç”Ÿé˜»å¡ (block)ï¼Œ è€Œ Node.js å‰‡æ˜¯æœƒé€šçŸ¥ä½œæ¥­ç³»çµ±é€é epollã€kqueueã€/dev/pollã€select ç­‰å°‡é€£ç·šä¿ç•™ï¼Œä¸¦æ”¾å…¥ heap ä¸­é…ç½®ï¼Œå…ˆè®“é€£ç·šé€²å…¥ä¼‘çœ  (Sleep) ç‹€æ…‹ï¼Œç­‰ç³»çµ±é€šçŸ¥æ‰è§¸ç™¼é€£ç·šçš„ callbackã€‚ é€™ç¨®è™•ç†æ–¹å¼åªæœƒä½”ç”¨è¨˜æ†¶é«”ï¼Œä¸¦ä¸æœƒä½¿ç”¨åˆ° CPU è³‡æºã€‚å¦å¤–å› ç‚º JavaScript èªè¨€çš„ç‰¹æ€§ï¼Œæ¯ä¸€å€‹ request éƒ½æœƒæœ‰ä¸€å€‹ callbackï¼Œå¯ä»¥é¿å…ç™¼ç”Ÿé˜»å¡çš„ç‹€æ³ç™¼ç”Ÿã€‚ ä»¥ä¸‹æœƒå…ˆå¾éé˜»å¡è¼¸å…¥è¼¸å‡ºã€éåŒæ­¥ï¼Œå†è«‡åˆ°äº‹ä»¶é©…å‹•ã€‚ ","date":"2022-03-30","objectID":"/node/:1:0","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"éé˜»å¡ (non-blocking) è¼¸å…¥è¼¸å‡º(I/O) æ˜¯ç¨‹å¼è·Ÿç³»çµ±è¨˜æ†¶é«”æˆ–ç¶²è·¯çš„äº’å‹•ï¼Œä¾‹å¦‚ç™¼é€ HTTP è«‹æ±‚ã€å°è³‡æ–™åº«CRUD æ“ä½œç­‰ç­‰ã€‚ ä»¥ç¶²ç«™é–‹ç™¼è€…è§’åº¦ä¾†çœ‹ï¼Œå¤§éƒ¨åˆ†çš„ç¶²ç«™ç¨‹å¼éƒ½ä¸éœ€è¦å¤ªå¤šçš„ CPU è¨ˆç®—ï¼Œåè€Œæ˜¯åœ¨ç­‰å¾…å¤§é‡çš„ I/O è™•ç†å®Œç•¢ (HTTP è«‹æ±‚ã€è³‡æ–™åº«çš„å–å¾—è³‡æ–™æˆ–æ˜¯æ›´æ–°è³‡æ–™ç­‰)ï¼Œæ‰€ä»¥è™•ç† I/O çš„é€Ÿåº¦æœƒæ˜¯ç¶²é ç¨‹å¼æ•ˆèƒ½çš„é—œéµã€‚ é‚£è¦æ€éº¼æ‰èƒ½è®“ç­‰å¾… I/O çš„æ™‚é–“ï¼Œä¸è¦å¡ä½å¾ŒçºŒçš„ç¨‹å¼ç¢¼å‘¢ï¼Ÿå¯ä»¥è®“ç¨‹å¼ä¸€é‚Šç­‰ I/O è™•ç†ï¼Œä¸€é‚Šç¹¼çºŒåŸ·è¡Œå…¶ä»–éƒ¨åˆ†çš„ç¨‹å¼ç¢¼ï¼Œä¸»è¦æœ‰å…©ç¨®æ–¹æ³•ï¼š å¤šåŸ·è¡Œç·’ (multi-threaded)ï¼šä½¿ç”¨é˜»å¡ (blocking) I/O çš„è¨­è¨ˆã€‚ å–®åŸ·è¡Œç·’ (single-threaded)ï¼šä½¿ç”¨éé˜»å¡ (non-blocking) I/O çš„è¨­è¨ˆ + éåŒæ­¥ (asynchronous) è™•ç†ã€‚ é˜»å¡å°±æ˜¯ I/O çš„è™•ç†é˜»æ“‹äº†å…¶ä»–å¾ŒçºŒç¨‹å¼ç¢¼çš„åŸ·è¡Œã€‚èˆ‰å€‹ä¾‹å­ï¼š é˜»å¡ (blocking) éé˜»å¡ (non-blocking) é˜»å¡å¾ŒçºŒç¨‹å¼ç¢¼çš„åŸ·è¡Œï¼Œå°±å¥½åƒæ˜¯æˆ‘å€‘å»é™„è¿‘è²·çƒ¤è‚‰ï¼Œäº¤çµ¦è€é—†å¾Œï¼Œç‚ºäº†æƒ³åƒåˆ°ç†±é¨°é¨°çš„é£Ÿç‰©ï¼Œæ‰€ä»¥åªèƒ½ç•™åœ¨åŸåœ°ï¼Œä¸èƒ½å…ˆå»å…¶ä»–åœ°æ–¹ éé˜»å¡ä¸æœƒé˜»æ“‹å¾ŒçºŒç¨‹å¼ç¢¼çš„åŸ·è¡Œï¼Œå°±å¥½åƒæ˜¯æˆ‘å€‘å»ç™¾è²¨å…¬å¸ç¾é£Ÿè¡—é»é¤ï¼Œé»å®Œé¤å¾Œæœƒæ‹¿åˆ°ä¸€å€‹å‘¼å«å™¨ï¼Œå°±å¯ä»¥å…ˆé›¢é–‹ï¼Œç­‰åˆ°å‘¼å«å™¨éŸ¿äº†å†å›å»æ‹¿å³å¯ åƒæ˜¯ Pythonã€Ruby ç­‰èªè¨€æ˜¯ä½¿ç”¨å¤šåŸ·è¡Œç·’ (multi-threaded)ï¼Œä½¿ç”¨é˜»å¡ I/O ï¼š ç¨‹å¼æœƒç­‰ç¶²è·¯æˆ–æ˜¯è¨˜æ†¶é«”çš„ä½œæ¥­çµæŸå¾Œæ‰æœƒç¹¼çºŒå¾€ä¸‹ï¼Œç­‰å¾…æ™‚é–“é€™å€‹ä½œæ¥­ä¸­çš„åŸ·è¡Œç·’ä¸æœƒå»åšå…¶ä»–äº‹æƒ…ã€‚ å¦‚æœæƒ³è¦é”åˆ°ã€ç­‰å¾… I/O æœŸé–“ä¸è¦å¡ä½å…¶ä»–ç¨‹å¼ç¢¼ã€ï¼Œçš„åšæ³•å°±æ˜¯æ–°é–‹ä¸€å€‹åŸ·è¡Œç·’ï¼Œç›´åˆ°ä»»å‹™å®Œæˆï¼Œå†å‘Šè¨´ä¸»åŸ·è¡Œç·’èªª( æˆ‘å®Œæˆå›‰ï¼) å³å¯ã€‚ Node.js ä½¿ç”¨å–®åŸ·è¡Œç·’ (single-threaded) ï¼Œéé˜»å¡ I/O + éåŒæ­¥å‡½å¼ï¼š Node.js ä½¿ç”¨éé˜»å¡è¨­è¨ˆï¼Œé‚£è¦æ€éº¼å»æ“ä½œè³‡æ–™åº«æˆ–æ˜¯ HTTP è«‹æ±‚çš„è¼¸å…¥è¼¸å‡ºå‘¢ï¼Ÿå°±è¦é€ééåŒæ­¥ (asynchronous) ä¾†è™•ç†å›‰ï¼ ","date":"2022-03-30","objectID":"/node/:1:1","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"éåŒæ­¥ (asynchronous) éåŒæ­¥ä¹Ÿå¯ä»¥ç¨±ç‚ºç•°æ­¥ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è®“ç¨‹å¼ä¸è¦è¢«é˜»æ“‹ç­‰ I/O è™•ç†å®Œï¼Œæ‰å¯ä»¥è·‘ä¸‹ä¸€è¡Œç¨‹å¼ç¢¼ï¼Œæ˜¯ç›´åˆ°å‡½å¼ä¸­çš„ callback è¢«å‘¼å«çš„æ™‚å€™å†åŸ·è¡Œå¾ŒçºŒè¦åšçš„äº‹æƒ…ã€‚ åŒæ­¥ vs. éåŒæ­¥ éåŒæ­¥ (asynchronous) å¯ä»¥æƒ³åƒä¸€ä¸‹ä½ å»å’–å•¡å»³è²·æ‹¿éµè·Ÿé»‘å’–å•¡ï¼Œå¯èƒ½æœƒç™¼ç”Ÿçš„æƒ…æ³æ˜¯ï¼š ä½ é»äº†æ‹¿éµè·Ÿé»‘å’–å•¡ åº—å“¡åœ¨æ”¶éŠ€æ©Ÿä¸Šè¼¸å…¥é»é¤å…§å®¹ åº—å“¡è«‹åŒäº‹ A æº–å‚™æ‹¿éµã€è«‹åŒäº‹ B æº–å‚™é»‘å’–å•¡ï¼Œä¸¦å‘ŠçŸ¥åšå®Œå¾Œï¼Œè¦æé†’åº—å“¡ é»‘å’–å•¡è£½ä½œæœƒæ¯”è¼ƒå¿«ï¼ŒB åŒäº‹æœƒå…ˆå®Œæˆï¼Œè€Œå‰›å¥½åº—å“¡å‰›å¹«ä½ çµå¸³å®Œæ²’äº‹ï¼Œæ‰€ä»¥æŠŠé»‘å’–å•¡æ‹¿çµ¦ä½  æ‹¿éµè£½ä½œåŒ…å«è¼ƒå¤šæ­¥é©Ÿï¼ŒèŠ±è²»æ™‚é–“è¼ƒä¹…ï¼Œç­‰ A åŒäº‹å®Œæˆå¾Œï¼Œåº—å“¡å‰›å¥½æ²’äº‹ï¼Œæ‰€ä»¥æŠŠæ‹¿éµæ‹¿çµ¦ä½  å¯ä»¥çœ‹åˆ°ï¼Œæ«ƒæª¯åº—å“¡ä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹æƒ…ï¼Œä½†ç‚ºäº†ç¯€çœæ™‚é–“ï¼Œåº—å“¡å°‡å·¥ä½œåˆ†é…çµ¦å…¶ä»–åŒäº‹ï¼Œåœ¨ä¸‹å®ŒæŒ‡ä»¤å¾Œï¼Œåº—å“¡æœƒç¹¼çºŒå¹«ä½ çµå¸³ï¼Œç­‰åŒäº‹å€‘å„è‡ªå®Œæˆå¾Œæœƒå‘ŠçŸ¥åº—å“¡ï¼Œåº—å“¡åœ¨ä¾åºæŠŠé£²æ–™äº¤çµ¦ä½  - æœ€çµ‚ç­‰å¾…æ™‚é–“æ¸›å°‘ï¼Œä¹Ÿä¸æœƒæµªè²»é–’ç½®çš„è³‡æºï¼Œé€™å°±æ˜¯ç¾å¯¦ç”Ÿæ´»ä¸­éåŒæ­¥çš„æƒ…æ³ã€‚ åŒæ­¥ (synchronous) ä¸€æ¨£æˆ‘å€‘é»äº†æ‹¿éµè·Ÿé»‘å’–å•¡ï¼Œæ›æˆåŒæ­¥çš„è©±ï¼š åº—å“¡åœ¨æ”¶éŠ€æ©Ÿä¸Šè¼¸å…¥é»é¤å…§å®¹ åº—å“¡è«‹åŒäº‹ A é–‹å§‹æº–å‚™æ‹¿éµ A åŒäº‹æº–å‚™å®Œæ‹¿éµï¼Œåº—å“¡è½‰äº¤çµ¦ä½  åº—å“¡è«‹åŒäº‹ B é–‹å§‹æº–å‚™é»‘å’–å•¡ B åŒäº‹æº–å‚™å®Œé»‘å’–å•¡ï¼Œåº—å“¡äº¤çµ¦ä½  åº—å“¡å¹«ä½ åˆ·è¼‰å…·ã€æ‰“çµ±ç·¨ã€æ‰¾éŒ¢ç­‰ç­‰ åŒæ¨£çš„é¤é»å…§å®¹ï¼Œå¦‚æœæ˜¯åŒæ­¥è™•ç†ï¼Œä»£è¡¨è¦ç­‰æ¯ä¸€ä»¶äº‹æƒ…åšå®Œï¼Œæ‰å¯ä»¥åšä¸‹ä¸€æ­¥ã€‚ä¹Ÿå°±æ˜¯èªªåŒäº‹ A å®Œæˆæ‹¿éµå¾Œï¼Œåº—å“¡æ‰è«‹ B åŒäº‹æº–å‚™é»‘å’–å•¡ã€‚ç›¸å°æ–¼éåŒæ­¥ä¾†èªªï¼ŒæœƒèŠ±è²»ä¸å°‘æ™‚é–“ä»¥åŠæµªè²»ä¸å°‘é–’ç½®è³‡æºã€‚ å¾å’–å•¡åº—çš„ä¾‹å­ä¸­å¯ä»¥ç™¼ç¾ï¼š æ«ƒæª¯åº—å“¡æ‰‹ä¸Šä¸€æ¬¡èƒ½åšçš„äº‹æƒ…åªæœ‰ä¸€ä»¶ (Single thread å–®åŸ·è¡Œç·’)ï¼Œåªæ˜¯åœ¨éåŒæ­¥çš„ä¾‹å­ä¸­ï¼Œå°‡è£½ä½œå’–å•¡çš„äº‹æƒ…å§”æ´¾çµ¦å…¶ä»–åŒäº‹è™•ç†ï¼Œè®“è‡ªå·±å¯ä»¥ç¹¼çºŒå¹«ä½ çµå¸³ï¼Œä¾†æé«˜æ•ˆç‡ â€” JavaScript æ˜¯ Single threadï¼Œä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹æƒ…ã€‚ åœ¨éåŒæ­¥çš„ä¾‹å­ä¸­ï¼Œæ«ƒæª¯åº—å“¡å°‡è£½ä½œå’–å•¡çš„äº‹æƒ…å§”æ´¾å‡ºå»ï¼Œå…¶å¯¦åº—å“¡ä¹Ÿä¸çŸ¥é“å“ªä¸€å€‹ä»»å‹™æœƒå…ˆè¢«å®Œæˆï¼Œä½†åº—å“¡é‚„æ˜¯å¯ä»¥ç¹¼çºŒå®Œæˆçµå¸³çš„ä»»å‹™ï¼Œä¸æœƒå› ç‚ºåŒäº‹ Aã€B é‚„åœ¨è£½ä½œå’–å•¡ï¼Œå°±ä¸èƒ½æ¥ä¸‹å»å‹•ä½œ (non-blocking) â€” JavaScript ä¸€æ¬¡åªèƒ½åšä¸€ä»¶äº‹ï¼Œä½†è—‰ç”± Node æä¾›çš„ API å”åŠ©ï¼Œåœ¨èƒŒå¾Œè™•ç†é€™äº›äº‹ä»¶ (åŒäº‹åœ¨èƒŒå¾Œè£½ä½œå’–å•¡)ï¼Œå¯ä»¥ç­‰å¾…è£½ä½œåŒæ™‚ï¼Œä¸æœƒè¢«é˜»å¡ (blocking) åˆ°ä¸‹ä¸€ä»¶äº‹æƒ…çš„åŸ·è¡Œã€‚ éåŒæ­¥çš„ä¾‹å­ä¸­ï¼Œåº—å“¡å§”æ´¾äº‹æƒ…çš„æµç¨‹å¾ˆç°¡å–®ï¼šå°±æ˜¯è«‹åŒäº‹å®Œæˆè£½ä½œå’–å•¡ (event) + åœ¨æ”¶åˆ°åŒäº‹é€šçŸ¥å®Œæˆå¾Œæ¥æ‰‹å’–å•¡ï¼Œä¸¦è½‰äº¤çµ¦ä½  (callback function) â€” è‹¥æ˜¯æ¡ç”¨éåŒæ­¥è™•ç†ï¼Œæœƒæœ‰ callback function ä¾†æŒ‡å®šäº‹ä»¶å®Œæˆå¾Œè¦æ¥çºŒåšä»€éº¼ï¼šå®ƒä¸æœƒç«‹å³è¢«åŸ·è¡Œï¼Œè€Œæ˜¯ç­‰å¾…å§”è¨—çš„äº‹æƒ…è¢«å®Œæˆå¾Œæ‰è§¸ç™¼ã€‚ ç•¶åŒäº‹ Aã€B åˆ†åˆ¥é€šçŸ¥å®Œæˆå¾Œï¼Œå°±æœƒä¾åºæŠŠå’–å•¡æ”¾åœ¨åº—å“¡çš„æ—é‚Šæ’æˆä¸€æ’ (event queue)ã€‚æƒ³å‘åº—å“¡æœ‰ä¸€å€‹å°åŠ©æ‰‹ (event loop) ï¼Œä»–çš„å·¥ä½œå…§å®¹æ˜¯ç¢ºèªåº—å“¡çµå¸³å®Œäº†æ²’æœ‰ï¼šå¦‚æœçµå¸³å®Œäº†ï¼Œå°±æœƒæŠŠéšŠä¼ä¸­ç¬¬ä¸€æ¯å’–å•¡å«çµ¦åº—å“¡ï¼Œè®“åº—å“¡äº¤çµ¦ä½  (è§¸ç™¼ callback function) ; å¦‚æœåº—å“¡é‚„åœ¨çµå¸³ï¼Œå°±æœƒè®“éšŠä¼ä¸­çš„å’–å•¡æ“ºåœ¨æ—é‚Šç¹¼çºŒç­‰å¾…ã€‚ JaveScript å¯¦ç¾éåŒæ­¥çš„æ–¹æ³•ä¸æ–·æ¼”é€²è‘—ï¼šå¾ callbackã€promise åˆ°æœ€æ–°çš„ async-await å‡½å¼ã€‚ Callback ä»€éº¼æ˜¯ Callback å‡è¨­æœ‰ Aã€Bã€C ä¸‰ä»¶å·¥ä½œï¼Œå…¶ä¸­ B å¿…é ˆç­‰å¾… C åšå®Œæ‰èƒ½åŸ·è¡Œã€‚å¤§éƒ¨ä»½çš„äººå¹¾ä¹éƒ½æ˜¯åš Aï¼Œå†åš Cï¼Œç­‰å¾… C åšå®Œä»¥å¾Œæœ€å¾Œåš Bã€‚ä½†å°æ–¼å¯å¤šå·¥çš„äººä¾†èªªï¼Œå»å¯èƒ½æ˜¯åŒæ™‚åš A èˆ‡ Cï¼ˆå¤šå·¥ï¼‰ï¼Œç­‰å¾… C å®Œæˆå¾Œåš Bã€‚ Callback function æ˜¯ä¸€å€‹è¢«ä½œç‚ºåƒæ•¸å¸¶å…¥å¦ä¸€å€‹å‡½å¼ä¸­çš„ã€Œå‡½å¼ã€ï¼Œé€™å€‹è¢«ä½œç‚ºåƒæ•¸å¸¶å…¥çš„å‡½å¼å°‡åœ¨ã€Œæœªä¾†æŸå€‹æ™‚é–“é»ã€è¢«å‘¼å«å’ŒåŸ·è¡Œ â€” é€™æ˜¯è™•ç†éåŒæ­¥äº‹ä»¶çš„ä¸€ç¨®æ–¹å¼ã€‚ å†æ¬¡èˆ‰ Aã€Bã€C ä¸‰ä»¶å·¥ä½œçš„ä¾‹å­ï¼Œå…¶ä¸­ B å¿…é ˆç­‰å¾… C åšå®Œæ‰èƒ½åŸ·è¡Œï¼Œæ–¼æ˜¯æˆ‘å€‘å°‡ B æ”¾åˆ° C çš„ callback ä¸­ï¼Œè®“å®¿ä¸»ç’°å¢ƒåœ¨æ”¶åˆ° C å®Œæˆçš„å›æ‡‰æ™‚å¾Œ B æ”¾åˆ°ä½‡åˆ—ä¸­æº–å‚™åŸ·è¡Œã€‚ doA(); doC(function() { doB(); }); å¸¸è¦‹çš„ä¾‹å­ï¼š ä½¿ç”¨ç€è¦½å™¨æ‰€æä¾›çš„ setTimeout()æˆ–æ˜¯ setInterval() setTimeout(() =\u003e { console.log('é€™å€‹è¨Šæ¯å°‡åœ¨ä¸‰ç§’å¾Œè¢«å°å‡ºä¾†') }, 3000) æä¾›ä¸€å€‹åŒ¿åå‡½å¼ä½œç‚ºåƒæ•¸å¸¶å…¥ setTimeout() å‡½å¼ä¸­ï¼Œç›®çš„å°±æ˜¯è«‹ setTimeout() åœ¨æœªä¾†æŸå€‹æ™‚é–“é»ï¼ˆä¸‰ç§’å¾Œï¼‰å‘¼å«å’ŒåŸ·è¡Œé€™å€‹åŒ¿åå‡½å¼ã€‚ DOM çš„äº‹ä»¶ç›£è½ const btn = document.querySelector('button') btn.addEventListener('click', callbackFunctionName) callbackFunctionName åšç‚ºåƒæ•¸è¢«å¸¶å…¥ addEventListener() ä¸­ï¼ŒcallbackFunctionName ä¸æœƒç«‹å³è¢«åŸ·è¡Œï¼Œè€Œæ˜¯æœªä¾†æŒ‰éˆ•è¢«é»æ“Šæ™‚æ‰æœƒåŸ·è¡Œã€‚ Callback ä¸»è¦æœ‰ä¸€å€‹ç¼ºé»ï¼šå›å‘¼åœ°ç„ å›å‘¼åœ°ç„ (Callback Hell) å›å‘¼åœ°ç„ (Callback Hell) åˆç¨±ç‚ºã€Œæ¯€æ»…é‡‘å­—å¡”ã€ï¼ŒæŒ‡çš„æ˜¯å±¤æ¬¡å¤ªæ·±çš„å·¢ç‹€ Callbackï¼Œè®“ç¨‹å¼è®Šçš„æ›´è¤‡é›œä¸”é›£ä»¥é æ¸¬æˆ–æ˜¯è¿½è¹¤ã€‚ å‘é ç«¯ä¼ºæœå™¨ç™¼å‡ºè«‹æ±‚ä¸¦ç²å¾—è³‡è¨Šå¾Œï¼ŒåŸ·è¡Œ Callbackï¼Œå†ç™¼å‡ºè«‹æ±‚ï¼Œç²å¾—è³‡è¨Šå¾ŒåŸ·è¡Œ Callbackï¼Œå†ç™¼å‡ºè«‹æ±‚ï¼Œç²å¾—è³‡è¨Šå¾ŒåŸ·è¡Œ Callbackï¼Œå°±æœƒä¸å°å¿ƒä¸€å±¤åŒ…ä¸€å±¤ï¼Œè®Šæˆæ‰€è¬‚çš„ Callback Hellã€‚ doA(function() { doB(); doC(function() { doD(); }); doE(); }); doF(); ç¼ºé»ï¼š å¯è®€æ€§ä½ï¼šå¦‚æœç¨‹å¼ç¢¼å‡ºéŒ¯ï¼Œè¦å›é ­æ…¢æ…¢æ‰¾éŒ¯èª¤çš„åœ°æ–¹ å¯ç¶­è­·æ€§ä½ï¼šå¦‚æœè¦ä¿®æ”¹å…¶ä¸­ä¸€çµ„å‡½å¼ï¼Œç‰½ä¸€é«®è€Œå‹•å…¨èº« é‚£åœ¨åŒæ­¥åŸ·è¡Œæƒ…æ³ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ try...catch ä¾†æ•æ‰éŒ¯èª¤è¨Šæ¯ï¼Œä½†å¦‚æœæ˜¯åœ¨éåŒæ­¥æƒ…æ³ä¸‹ï¼Œè¦æ€éº¼è™•ç†éŒ¯èª¤æˆ–æ˜¯ä¾‹å¤–è¨Šæ¯å‘¢ï¼ï¼Ÿ ä¸»è¦æœ‰å…©ç¨®æ–¹å¼ï¼š åˆ†åˆ¥å›å‘¼ (Split Callback) åˆ†åˆ¥çš„å›å‘¼è¦è¨­å®šå…©å€‹ Callbackï¼Œä¸€å€‹ç”¨æ–¼æˆåŠŸé€šçŸ¥ï¼Œå¦ä¸€å€‹å‰‡ç”¨æ–¼éŒ¯èª¤é€šçŸ¥ã€‚å¦‚ä¸‹ï¼Œç¬¬ä¸€å€‹åƒæ•¸æ˜¯ç”¨æ–¼æˆåŠŸçš„ Callbackï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯ç”¨æ–¼å¤±æ•—çš„ Callbackï¼š function success(data) { console.log(data); } function failure(err) { console.error(error); } ajax('http://sample.url', success, failure); é‚£å¦‚æœåœ¨ Callback ä¸­ç™¼ç”ŸéŒ¯èª¤ï¼Œè¦æ€éº¼è¾¦å‘¢!? function success(data) { console.log(x); } function failure(err) { console.error(error); } ajax('http://sample.url', success, failure); // Uncaught (in promise) ReferenceError: x is not defined æœƒç›´æ¥å ±éŒ¯ï¼Œä¸¦ä¸æœƒé€²å…¥åˆ° failure é€™å€‹ Callback è£¡é¢ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œå¦‚æœæ˜¯åœ¨ Callback å…§ç™¼ç”ŸéŒ¯èª¤ï¼Œæ˜¯ä¸æœƒè¢«æ•æ‰åˆ°çš„ã€‚ éŒ¯èª¤å„ªå…ˆè™•ç† (Error-First Style) Node.js çš„ API å¸¸è¦‹é€™æ¨£çš„è¨­è¨ˆæ–¹å¼ï¼Œç¬¬ä¸€å€‹åƒæ•¸æ˜¯ error ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯å›æ‡‰çš„è³‡æ–™ (data)ã€‚æª¢æŸ¥ error æ˜¯å¦æœ‰å€¼æˆ–æ˜¯ trueï¼Œå¦å‰‡å°±æ¥çºŒè™•ç† dataã€‚ function response(err, data) { if(err) { console.error(err); } else { console.log(data); } } ajax('http://sample.url', response); æ¥ä¸‹ä¾†æˆ‘å€‘ä¾†çœ‹ Promiseï¼Œå¯ä»¥è§£æ±º callback å¯è®€æ€§ä½çš„ Callback Hell å•é¡Œã€‚ Promise Promiseï¼šCallback ä»¥å¤–çš„å¦ä¸€ç¨®æ–¹å¼ä¾†è™•ç†éåŒæ­¥äº‹ä»¶ï¼Œä¸”å¯è®€æ€§èˆ‡å¯ç¶­è­·æ€§æ¯” Callback å¥½å¾ˆå¤šã€‚ Promise æ˜¯ä¸€å€‹ç‰©ä»¶ï¼Œä»£è¡¨è‘—ä¸€å€‹å°šæœªå®Œæˆï¼Œä½†æœ€çµ‚æœƒå®Œæˆçš„ä¸€å€‹å‹•ä½œ - åœ¨ä¸€å€‹éåŒæ­¥è™•ç†æµç¨‹ä¸­ï¼Œå®ƒåªæ˜¯ä¸€å€‹æš«å­˜çš„å€¼ã€‚ æˆ‘å€‘ä¸€æ¨£ä¾†èªªå‰›å‰›å’–å•¡åº—çš„ä¾‹å­ï¼š ç•¶æˆ‘å€‘é»å®Œæ‹¿éµè·Ÿé»‘å’–å•¡å¾Œï¼Œåº—å“¡æœƒçµ¦ä½ ä¸€å¼µå°æœ‰è™Ÿç¢¼çš„æ”¶æ“šï¼Œç„¶å¾Œå‘Šè¨´ä½ ç­‰ç­‰è½åˆ°è™Ÿç¢¼ï¼Œå°±å¯ä»¥ä¾†é ˜å’–å•¡äº†ï¼Œè€Œé€™å¼µæ”¶æ“šå°±æ˜¯ Promiseï¼Œä»£è¡¨é€™å€‹ä»»å‹™å®Œæˆå¾Œï¼Œå°±å¯ä»¥æ¥è‘—åŸ·è¡Œæ¥ä¸‹ä¾†çš„å‹•ä½œäº†ã€‚ åœ¨ç­‰å¾…éç¨‹ä¸­ï¼Œå…¶å¯¦ç„¡æ³•ç™¾åˆ†ç™¾ç¢ºå®šæœ€å¾Œä¸€å®šæœƒæ‹¿åˆ°å’–å•¡ (Promise) ; åº—å“¡å¯èƒ½é †åˆ©åšå®Œå’–å•¡äº¤åˆ°ä½ æ‰‹ä¸Š (Resolved) ; å¯èƒ½ç‰›å¥¶æˆ–æ˜¯å’–å•¡è±†æ²’äº†ï¼Œæ‰€ä»¥åº—å“¡å‘Šè¨´ä½ ä»Šå¤©åšä¸å‡ºä¾†å’–å•¡ (Rejected)ã€‚ Promise å°±åƒä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæœƒè™•åœ¨ä¸‰å€‹ä»»æ„éšæ®µä¸­ï¼š Pedningï¼šç­‰å¾…äº‹æƒ…å®Œæˆä¸­ï¼Œä½†ä¸ç¢ºå®šæœ€çµ‚æœƒé †åˆ©å®Œæˆæˆ–å¤±æ•— Resolvedï¼ˆæˆ–ç¨± Fulfilledï¼‰ï¼šä»£è¡¨é †åˆ©å®Œæˆäº†ï¼Œä¸¦è½‰äº¤çµæœ Rejectesdï¼šä»£è¡¨å¤±æ•—äº†ï¼Œä¸¦å‘ŠçŸ¥å¤±æ•—åŸå›  const getData = new Promise((resolve, reject) =\u003e { // è£½ä½œå’–å•¡..... // ä½œæ¥­å®Œæˆï¼Œä¸¦å›å‚³éŒ¯èª¤è¨Šæ¯æ™‚ if (error) { return reject('ç‰›å¥¶æˆ–æ˜¯å’–å•¡è±†æ²’äº†') } // ä½œæ¥­æˆåŠŸå®Œæˆ resolve(","date":"2022-03-30","objectID":"/node/:1:2","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"äº‹ä»¶é©…å‹• (event-driven) åœ¨è¬›äº‹ä»¶é©…å‹•å‰ï¼Œæˆ‘å€‘å…ˆä¾†äº†è§£ä¸€ä¸‹ä»€éº¼æ˜¯äº‹ä»¶ï¼š äº‹ä»¶ (event) äº‹ä»¶æ˜¯æŒ‡ç”¨æˆ¶æˆ–æ˜¯ç³»çµ±ä½œå‡ºçš„å‹•ä½œï¼Œä¾‹å¦‚ä½¿ç”¨è€…é»é¸æŒ‰éˆ•ï¼Œæˆ–æ˜¯æª”æ¡ˆè®€å–å®Œæˆã€æŸç¨®éŒ¯èª¤ç”¢ç”Ÿç­‰ç­‰ï¼Œéƒ½å«åšäº‹ä»¶ã€‚ äº‹ä»¶é©…å‹• (event-driven) äº‹ä»¶é©…å‹•æ˜¯ä¸€ç¨®ç¨‹å¼åŸ·è¡Œæ¨¡å‹ï¼Œè¡¨ç¤ºç¨‹å¼çš„é€²è¡Œæ˜¯ä¾æ“šäº‹ä»¶çš„ç™¼ç”Ÿè€Œå®šï¼Œç›£è½åˆ°äº‹ä»¶å°±è™•ç†ã€è™•ç†å®Œå°±åŸ·è¡Œ callback ï¼Œé€éä¸æ–·çš„ç›£è½è·Ÿå›æ‡‰äº‹ä»¶åŸ·è¡Œç¨‹å¼ã€‚ è€Œäº‹ä»¶é©…å‹•åœ¨ä¸åŒçš„åœ°æ–¹æœ‰ä¸åŒçš„å¯¦ç¾ã€‚ç€è¦½å™¨ (å‰ç«¯) å’Œ Node.js (å¾Œç«¯) åŸºæ–¼ä¸åŒçš„æŠ€è¡“å¯¦ç¾äº†å„è‡ªçš„äº‹ä»¶è¿´åœˆã€‚å°± Ndoe.js ä¾†èªªï¼Œäº‹ä»¶å°±æ˜¯äº¤çµ¦ libuv å»è™•ç† ; è‡³æ–¼ç€è¦½å™¨çš„äº‹ä»¶è¿´åœˆåœ¨ HTML 5 çš„è¦ç¯„ä¸­æœ‰å®šç¾©ã€‚ äº‹ä»¶è¿´åœˆ (event loop) å› ç‚º Node.js åªæœ‰ä¸€å€‹åŸ·è¡Œç·’ï¼Œæ‰€ä»¥ç•¶ libuv æŠŠéåŒæ­¥äº‹ä»¶è™•ç†å®Œå¾Œï¼Œcallback è¦è¢«ä¸Ÿå›æ‡‰ç”¨ç¨‹å¼ä¸­æ’éšŠï¼Œç­‰å¾…ä¸»åŸ·è¡Œç·’çš„ stack ç‚ºç©ºçš„æ™‚å€™ï¼Œæ‰æœƒé–‹å§‹åŸ·è¡Œã€‚é€™å€‹æ’éšŠçš„åœ°æ–¹å°±æ˜¯äº‹ä»¶ä½‡åˆ— (event queue)ã€‚ libuv æœƒä¸æ–·æª¢æŸ¥æœ‰æ²’æœ‰ callback éœ€è¦è¢«åŸ·è¡Œï¼Œæœ‰çš„è©±åˆ†é…åˆ°ä¸»åŸ·è¡Œç·’çµæŸæ‰‹é‚Šçš„ç¨‹å¼å¾Œè™•ç†ï¼Œå› æ­¤é€™å€‹éç¨‹ç¨±ç‚º ã€äº‹ä»¶è¿´åœˆã€ã€‚ äº‹ä»¶è¿´åœˆ(event loop) (Node.js 101 â€” å–®åŸ·è¡Œç·’ã€éåŒæ­¥ã€éé˜»å¡ I/O èˆ‡äº‹ä»¶è¿´åœˆ)\" äº‹ä»¶è¿´åœˆ(event loop) (Node.js 101 â€” å–®åŸ·è¡Œç·’ã€éåŒæ­¥ã€éé˜»å¡ I/O èˆ‡äº‹ä»¶è¿´åœˆ) libuv äº‹ä»¶è¿´åœˆæœ‰å“ªäº›éšæ®µå‘¢ï¼Ÿ libuv äº‹ä»¶è¿´åœˆ (nexocode)\" libuv äº‹ä»¶è¿´åœˆ (nexocode) libuv çš„äº‹ä»¶è¿´åœˆå…±æœ‰å…­å€‹éšæ®µï¼Œæ¯å€‹éšæ®µçš„ä½œç”¨å¦‚ä¸‹ï¼š Timersï¼šç­‰è¨ˆæ™‚å™¨ (setTimeoutã€setInterval) çš„æ™‚é–“ä¸€åˆ°ï¼ŒæœƒæŠŠä»–å€‘çš„ callback æ”¾åˆ°é€™è£¡ç­‰å¾…åŸ·è¡Œã€‚ Pending callbacksï¼šæœƒæŠŠä½œæ¥­ç³»çµ±å±¤ç´šçš„éŒ¯èª¤çµ¦callback (TCP errorsã€sockets é€£ç·šè¢«æ‹’çµ•)ã€‚ Idle, prepareï¼šå…§éƒ¨ä½¿ç”¨ã€‚ Pollï¼šæœ€é‡è¦çš„ä¸€å€‹éšæ®µã€‚ å¦‚æœ Queue ä¸ç‚ºç©ºï¼Œä¾æ¬¡å–å‡º callback å‡½æ•¸åŸ·è¡Œï¼Œç›´åˆ° Queue ç‚ºç©ºæˆ–æ˜¯æŠµé”ç³»çµ±æœ€å¤§é™åˆ¶ã€‚ å¦‚æœ Queue ç‚ºç©ºä½†æœ‰è¨­ç½® ã€ŒsetImmediateã€ï¼Œå°±é€²å…¥ check éšæ®µã€‚ å¦‚æœ Queue ç‚ºç©ºä½†æ²’æœ‰è¨­ç½® ã€ŒsetImmediateã€ï¼Œå°±æœƒåœ¨ Poll éšæ®µç­‰åˆ°ç›´åˆ° Queue æœ‰æ±è¥¿æˆ–æ˜¯ Timers æ™‚é–“æŠµé”ã€‚ Checkï¼šè™•ç† setImmediate çš„ callbackã€‚ Close callbacksï¼šåŸ·è¡Œ close äº‹ä»¶çš„ callbackï¼Œåˆ©å¦‚ socket.destroy()ã€‚ äº‹ä»¶è¿´åœˆå°±æ˜¯ä¸æ–·é‡è¤‡ä»¥ä¸Šéšæ®µã€‚æ¯å€‹éšæ®µéƒ½æœ‰è‡ªå·±çš„ callback ä½‡åˆ—ï¼Œåœ¨é€²å…¥æŸå€‹éšæ®µæ™‚ï¼Œéƒ½æœƒå¾æ‰€å±¬çš„ä½‡åˆ—ä¸­å–å‡º callback ä¾†åŸ·è¡Œï¼Œç•¶ä½‡åˆ—ç‚ºç©ºæˆ–è€…è¢«åŸ·è¡Œ callback çš„æ•¸é‡é”åˆ°ç³»çµ±çš„æœ€å¤§æ•¸é‡æ™‚ï¼Œå°±æœƒé€²å…¥ä¸‹ä¸€éšæ®µã€‚ æ ¹æ“šä»¥ä¸Šæåˆ°äº‹ä»¶é©…å‹•ã€å–®åŸ·è¡Œç·’å’ŒéåŒæ­¥ã€éé˜»å¡çš„ I/O è™•ç†ç‰¹æ€§ï¼ŒNode.js å¾ˆé©åˆæ‹¿ä¾†é–‹ç™¼ I/O å¯†é›†å‹æ‡‰ç”¨ç¨‹å¼ï¼Œå¦‚å½±éŸ³ä¸²æµã€å³æ™‚äº’å‹•ã€åœ¨ç·šèŠå¤©ã€éŠæˆ²ã€å”ä½œå·¥å…·ã€è‚¡ç¥¨è¡Œæƒ…ç­‰è»Ÿé«”ã€‚ ","date":"2022-03-30","objectID":"/node/:1:3","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"NPM NPM æ˜¯è·Ÿ Node.js ä¸€èµ·å®‰è£çš„ç·šä¸Šå¥—ä»¶åº«ï¼Œå¯ä»¥ä¸‹è¼‰å„å¼å„æ¨£çš„ JavaScript å¥—ä»¶ä¾†ä½¿ç”¨ï¼Œèƒ½è§£æ±º Node.js ä»£ç¢¼éƒ¨ç½²ä¸Šçš„å¾ˆå¤šå•é¡Œã€‚ å®‰è£å¥½å¾Œï¼Œå¯ä»¥ä½¿ç”¨ npm -v ä¾†æª¢æŸ¥ç‰ˆæœ¬ï¼š $ npm -v 8.5.0 è·Ÿ NPM æ¯æ¯ç›¸é—œçš„æ˜¯ package.json é€™å€‹æª”æ¡ˆï¼Œä»–æ˜¯æŒç®¡å°ˆæ¡ˆè³‡è¨Šçš„é‡è¦æª”æ¡ˆï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ init æŒ‡ä»¤ä¾†è¨­å®š package.jsonï¼š $ npm init This utility will walk you through creating a package.json file. It only covers the most common items, and tries to guess sensible defaults. .... çœç•¥ .... Press ^C at any time to quit. package name: (message) demo version: (1.0.0) description: entry point: (index.js) test command: git repository: keywords: author: ian \u003c880831ian@gmail.com\u003e license: (ISC) name: å°±æ˜¯è©²å°ˆæ¡ˆçš„åå­—ï¼Œå®ƒé è¨­å°±æ˜¯è©²ç›®éŒ„åã€‚ description: å°ˆæ¡ˆæè¿°ã€‚ entry point: å°ˆæ¡ˆåˆ‡å…¥é»ï¼Œé€™æœ‰é»è¤‡é›œï¼Œä¹‹å¾Œå†èªªã€‚ test command: å°ˆæ¡ˆæ¸¬è©¦æŒ‡ä»¤ï¼Œä¹‹å¾Œèªªã€‚ git repository: å°ˆæ¡ˆåŸå§‹ç¢¼çš„ç‰ˆæœ¬æ§ç®¡ä½ç½®ã€‚ keywoard: å°ˆæ¡ˆé—œéµå­— author: å°ˆæ¡ˆä½œè€…ï¼Œä»¥ author-name author@email.com å¯«ä¹‹ã€‚ license: å°ˆæ¡ˆç‰ˆæ¬Šã€‚ è¨­å®šå¥½å¾Œï¼Œå°ˆæ¡ˆè³‡æ–™å¤¾å°±æœƒå¤šä¸€å€‹ package.json çš„æª”æ¡ˆï¼Œæ‰“é–‹å¾Œå¯ä»¥çœ‹åˆ°ï¼Œæ˜¯æˆ‘å€‘å‰›å‰›æ‰€è¨­å®šå¥½çš„è³‡è¨Šï¼š { \"name\": \"demo\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"index.js\", \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" \u0026\u0026 exit 1\" }, \"author\": \"ian \u003c880831ian@gmail.com\u003e\", \"license\": \"ISC\" } æ¥ä¸‹ä¾†ï¼Œè¦å¦‚ä½•ä¸‹è¼‰ç¶²è·¯ä¸Šçš„æ¨¡çµ„ï¼Œè¦ä½¿ç”¨ install æŒ‡ä»¤ä¾†ä¸‹è¼‰ï¼Œæˆ‘å€‘ä¸‹è¼‰ Node.js æœ€å°åˆéˆæ´»çš„ Web æ‡‰ç”¨ç¨‹å¼æ¡†æ¶ express ä¾†åšç¤ºç¯„ï¼š $ npm install express added 50 packages, and audited 51 packages in 1s 2 packages are looking for funding run `npm fund` for details found 0 vulnerabilities ä¸‹è¼‰å¥½å¾Œï¼Œå¯ä»¥çœ‹åˆ°å‰›å‰› package.json æª”æ¡ˆå¤šäº† dependencies æ¬„ä½ï¼Œå®ƒè£¡é¢æœƒç´€éŒ„æˆ‘å€‘å®‰è£äº†å“ªäº›å¥—ä»¶ï¼Œæ‰€ä»¥æœªä¾†æˆ‘å€‘æƒ³çŸ¥é“å°ˆæ¡ˆä½¿ç”¨äº†å“ªäº›å¥—ä»¶ï¼Œæˆ‘å€‘å¯ä»¥å¾ dependencies é€™å€‹æ¬„ä½çŸ¥é“ã€‚ { \"name\": \"demo\", \"version\": \"1.0.0\", \"description\": \"\", \"main\": \"index.js\", \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" \u0026\u0026 exit 1\" }, \"author\": \"ian \u003c880831ian@gmail.com\u003e\", \"license\": \"ISC\", \"dependencies\": { \"express\": \"^4.17.3\" } } é™¤æ­¤ä¹‹å¤–ï¼Œé‚„æœƒå¤šä¸€å€‹ node_modules è³‡æ–™å¤¾ï¼Œé€™å€‹è³‡æ–™å¤¾å°±æœƒå­˜æ”¾æˆ‘å€‘æ‰€ä¸‹è¼‰çš„å¥—ä»¶ $ ls node_modules/ accepts cookie-signature etag inherits mime-types qs setprototypeof array-flatten debug express ipaddr.js ms range-parser statuses body-parser depd finalhandler media-typer negotiator raw-body toidentifier bytes destroy forwarded merge-descriptors on-finished safe-buffer type-is content-disposition ee-first fresh methods parseurl safer-buffer unpipe content-type encodeurl http-errors mime path-to-regexp send utils-merge cookie escape-html iconv-lite mime-db proxy-addr serve-static vary ç•¶æˆ‘å€‘éƒ½å®‰è£å¥½å¾Œï¼Œexpress å·²ç¶“åŒ…åœ¨ node_modules ç›®éŒ„å…§ï¼Œåœ¨å°ˆæ¡ˆè£¡é¢ï¼Œå°±å¯ä»¥ä½¿ç”¨ require(â€˜å¥—ä»¶åç¨±â€˜) ä¾†ä½¿ç”¨å¥—ä»¶å›‰ï¼ var express = require('express'); å› ç‚ºé€™äº›å¥—ä»¶éƒ½å¯ä»¥ç›´æ¥åœ¨ç¶²è·¯ä¸Šä¸‹è¼‰åˆ°ï¼Œæ‰€ä»¥åœ¨æ¨é€ git å°ˆæ¡ˆæ™‚ï¼Œå¯ä»¥ä½¿ç”¨ .gitignore ä¾†éš±è—ä¸æƒ³è¢« push çš„æª”æ¡ˆï¼Œç•¶æˆ‘å€‘æƒ³è¦ä¸‹è¼‰å¥—ä»¶å›ä¾†æ™‚ï¼Œåªè¦ä½¿ç”¨ï¼š $ npm install å°±å¯ä»¥ä¾ç…§ package.json è£¡é¢çš„ dependencies ä¾†ä¸‹è¼‰å¥—ä»¶ï¼ ","date":"2022-03-30","objectID":"/node/:2:0","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"REPL Node.js REPL (äº¤äº’å¼è§£é‡‹å™¨)ï¼šè¡¨ç¤ºä¸€å€‹é›»è…¦ç’°å¢ƒï¼Œé¡ä¼¼ Windoes ç³»çµ±çš„çµ‚ç«¯æˆ–æ˜¯ Unix/Linux çš„ Shellï¼Œæˆ‘å€‘å¯ä»¥åœ¨çµ‚ç«¯æ©Ÿä¸Šè¼¸å…¥å‘½ä»¤ï¼Œä¸¦æ¥æ”¶ç³»çµ±çš„éŸ¿æ‡‰ã€‚ Node è‡ªå¸¶äº†äº¤äº’å¼è§£é‡‹å™¨ï¼Œå¯ä»¥åŸ·è¡Œä»¥ä¸‹ä»»å‹™ï¼š è®€å–ï¼šè®€å–ç”¨æˆ¶è¼¸å…¥ï¼Œè§£æè¼¸å…¥çš„ JavaScript æ•¸æ“šçµæ§‹ä¸¦å„²å­˜åœ¨å…§å­˜ä¸­ã€‚ åŸ·è¡Œï¼šåŸ·è¡Œè¼¸å…¥çš„æ•¸æ“šçµæ§‹ã€‚ é¡¯ç¤ºï¼šè¼¸å‡ºçµæœã€‚ å¾ªç’°ï¼šå¾ªç’°ä»¥ä¸Šä»»å‹™ç›´åˆ°ç”¨æˆ¶æŒ‰ä¸‹å…©æ¬¡çš„ ctrl+c æŒ‰éˆ•é€€å‡ºã€‚ æˆ‘å€‘å¯ä»¥è¼¸å…¥ä»¥ä¸‹å‘½ä»¤ä¾†å•Ÿå‹• Node çš„çµ‚ç«¯ï¼š $ node Welcome to Node.js v16.14.2. Type \".help\" for more information. \u003e å¯ä»¥åŸ·è¡Œç°¡å–®çš„æ•¸å­¸é‹ç®—ï¼š $ node Welcome to Node.js v16.14.2. Type \".help\" for more information. \u003e 1+4 5 \u003e 5/2 2.5 \u003e 3*7 21 \u003e 4-3 1 \u003e 1 + (2*4) -5 4 \u003e ä¹Ÿå¯ä»¥å°‡æ•¸æ“šå­˜åœ¨è®Šæ•¸ä¸­ï¼Œåœ¨éœ€è¦æ™‚ä½¿ç”¨å®ƒã€‚è®Šæ•¸å®£å‘Šéœ€è¦ä½¿ç”¨ var é—œéµå­—ï¼Œå¦‚æœæ²’æœ‰ä½¿ç”¨é—œéµå­—ï¼Œæœƒç›´æ¥é¡¯ç¤ºå‡ºä¾†ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ console.log() ä¾†è¼¸å‡ºè®Šæ•¸ $ node Welcome to Node.js v16.14.2. Type \".help\" for more information. \u003e x = 19 19 \u003e var y = 10 undefined \u003e x + y 29 \u003e console.log(\"Hello\") Hello undefined \u003e Node REPL ä¹Ÿæ”¯æŒè¼¸å…¥å¤šè¡Œç¨‹å¼ï¼Œæˆ‘å€‘è©¦è‘—å¯«ä¸€å€‹ do-while è¿´åœˆï¼š Welcome to Node.js v16.14.2. Type \".help\" for more information. \u003e var x = 0 undefined \u003e do { ... x++; ... console.log(\"x:\" + x); ... } while (x\u003c5); x:1 x:2 x:3 x:4 x:5 undefined \u003e ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹åº•ç·š(_)ä¾†ç²å¾—ä¸Šä¸€å€‹ç¨‹å¼çš„é‹ç®—çµæœï¼š $ node Welcome to Node.js v16.14.2. Type \".help\" for more information. \u003e var x = 10 undefined \u003e var y = 20 undefined \u003e x + y 30 \u003e var sum = _ undefined \u003e console.log(sum) 30 undefined \u003e ","date":"2022-03-30","objectID":"/node/:3:0","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"Express æ¡†æ¶ Node.js åœ¨å¯¦ä½œä¸Šä¸æœƒå–®ç¨ä½¿ç”¨ï¼Œé€šå¸¸æœƒæ­é…æ¡†æ¶å»ä½¿ç”¨ï¼Œåƒæ˜¯ Express JS å¾Œç«¯æ¡†æ¶ï¼Œå¯ä»¥è®“é–‹ç™¼äººå“¡åœ¨å¯«åŒä¸€å€‹åŠŸèƒ½æ™‚ï¼Œå°‘å¯«å¾ˆå¤šç¨‹å¼çš„å·¥å…·ã€‚ Express æ˜¯ Node.js ç’°å¢ƒä¸‹æä¾›çš„è¼•é‡å¾Œç«¯æ¶æ§‹ï¼Œè‡ªç”±åº¦æ¥µé«˜ï¼Œé€éè±å¯Œçš„ HTTP å·¥å…·ï¼Œèƒ½å¿«é€Ÿç™¼é–‹å¾Œç«¯æ‡‰ç”¨ç¨‹å¼ï¼Œå®ƒæä¾›ï¼š æ›¿ä¸åŒ HTTP Methodã€ä¸åŒ URL è·¯å¾‘çš„ requests ç·¨å¯«ä¸åŒçš„è™•ç†æ–¹æ³•ã€‚ é€éæ•´åˆã€Œç•«é¢ã€çš„æ¸²æŸ“å¼•æ“ä¾†é”åˆ°æ’å…¥è³‡æ–™åˆ°æ¨£æ¿ç”¢ç”Ÿ responseã€‚ è¨­å®šå¸¸è¦‹çš„ web æ‡‰ç”¨ç¨‹å¼ï¼Œä¾‹å¦‚ï¼šé€£ç·šç”¨çš„ Port å’Œç”¢ç”Ÿ response æ¨£æ¿çš„ä½ç½®ã€‚ åœ¨ request çš„è™•ç†æµç¨‹ä¸­å¢åŠ è€Œå¤–çš„ä¸­é–“å±¤ (Middleware) é€²è¡Œè™•ç†ã€‚ ç¬¬ä¸€å€‹ Express Hello world ç¨‹å¼ï¼š const express = require('express') const app = express() const port = 3000 app.get('/', (req, res) =\u003e { res.send('Hello World!') }) app.listen(port, () =\u003e { console.log(`Example app listening on port ${port}`) }) $ node app.js Example app listening on port 3000 ä½¿ç”¨ node ä¾†å•Ÿå‹•ä¼ºæœå™¨ï¼Œä¸¦ä½¿ç”¨ Port 3000 ä¾†é€£ç·šã€‚æ‡‰ç”¨ç¨‹å¼æŒ‡å‘ URL (/) çš„è·¯ç”±ï¼Œä»¥ â€œHello World!â€ å›æ‡‰å¦‚æœæ˜¯å…¶ä»–è·¯å¾‘ï¼Œres å°±æœƒå›æ‡‰ 404 æ‰¾ä¸åˆ°ã€‚ ","date":"2022-03-30","objectID":"/node/:4:0","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"ç•«é¢ (view) å‰›å‰›æœ‰æåˆ°èªªå®ƒå¯ä»¥ä½¿ç”¨æ•´åˆã€Œç•«é¢ã€çš„æ¸²æŸ“å¼•æ“ä¾†é¡¯ç¤ºåˆ°æ¨£æ¿ï¼Œæˆ‘å€‘å¯ä»¥é€é --view æŒ‡ä»¤ä¾†ç”¢ç”Ÿæ¨£æ¿ä»¥åŠæ‡‰ç”¨ç¨‹å¼çš„ç›®éŒ„ï¼š $ express --view=pub create : public/ create : public/javascripts/ create : public/images/ create : public/stylesheets/ create : public/stylesheets/style.css create : routes/ create : routes/index.js create : routes/users.js create : views/ create : app.js create : package.json create : bin/ create : bin/www ","date":"2022-03-30","objectID":"/node/:4:1","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"è·¯ç”± (router) è·¯ç”±æ˜¯åˆ¤æ–·æ‡‰ç”¨ç¨‹å¼å¦‚ä½•å›æ‡‰ç”¨æˆ¶ç«¯å°ç‰¹å®šç«¯é»çš„è¦æ±‚ï¼Œè€Œç‰¹å®šç«¯é»æ˜¯ä¸€å€‹ URL æˆ–æ˜¯è·¯å¾‘ï¼Œèˆ‡ä¸€å€‹ç‰¹å®šçš„ HTTP è¦æ±‚æ–¹æ³• (GETã€POST) ç­‰ï¼Œè·¯ç”±å®šç¾©çš„çµæ§‹å¦‚ä¸‹ï¼š app.METHOD(PATH, HANDLER) å…¶ä¸­ app æ˜¯ express çš„å¯¦ä¾‹ã€‚ METHOD æ˜¯ HTTP è¦æ±‚çš„æ–¹æ³•ã€‚ PATH æ˜¯ä¼ºæœå™¨ä¸Šçš„è·¯å¾‘ã€‚ HANDLER æ˜¯ç•¶è·¯ç”±ç›¸ç¬¦æ™‚è¦åŸ·è¡Œçš„å‡½æ•¸ã€‚ ä»¥ä¸‹ç¯„ä¾‹ç°¡å–®èªªæ˜ä¸åŒ HTTP è¦æ±‚çš„æ–¹æ³•ï¼š é¦–é ä¸­ä»¥ Hello World! å›æ‡‰ã€‚ app.get('/', function (req, res) { res.send('Hello World!'); }); å°æ ¹è·¯ç”± (/)ï¼ˆæ‡‰ç”¨ç¨‹å¼çš„é¦–é ï¼‰ç™¼å‡º POST è¦æ±‚æ™‚çš„å›æ‡‰ï¼š app.post('/', function (req, res) { res.send('Got a POST request'); }); å° /user è·¯ç”±ç™¼å‡º PUT è¦æ±‚æ™‚çš„å›æ‡‰ï¼š app.put('/user', function (req, res) { res.send('Got a PUT request at /user'); }); å° /user è·¯ç”±ç™¼å‡º DELETE è¦æ±‚æ™‚çš„å›æ‡‰ï¼š app.delete('/user', function (req, res) { res.send('Got a DELETE request at /user'); }); ","date":"2022-03-30","objectID":"/node/:4:2","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Node.js å®˜ç¶² Node.js 101 â€” å–®åŸ·è¡Œç·’ã€éåŒæ­¥ã€éé˜»å¡ I/O èˆ‡äº‹ä»¶è¿´åœˆ An Intro to Node.js That You May Have Missed Sequelize é€é sequelize ä¾†é”æˆ DB Schema Migration èªè­˜åŒæ­¥èˆ‡éåŒæ­¥ â€” Callback + Promise + Async/Await ä½ æ‡‚ JavaScript å—ï¼Ÿ#23 Callback How to create JOIN queries with Sequelize ","date":"2022-03-30","objectID":"/node/:5:0","tags":["Node.js","å¯¦ä½œ","ä»‹ç´¹"],"title":"Node.js ä»‹ç´¹","uri":"/node/"},{"categories":["codenotes"],"content":"æœ¬æ–‡ç« æ˜¯ä½¿ç”¨ Go ä¾†å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ï¼Œä¸¦ä¸”æœƒä½¿ç”¨ gin ä»¥åŠ gorm (ä½¿ç”¨ Mysql)å¥—ä»¶ã€‚ å»ºè­°å¯ä»¥å…ˆè§€çœ‹ Go ä»‹ç´¹ æ–‡ç« ä¾†ç°¡å–®å­¸ç¿’ Go èªè¨€ã€‚ ç¯„ä¾‹ç¨‹å¼é€£çµ é»æˆ‘ ğŸ˜˜ ç‰ˆæœ¬è³‡è¨Š macOSï¼š11.6 Goï¼šgo version go1.18 darwin/amd64 Mysqlï¼šmysql Ver 8.0.28 for macos11.6 on x86_64 (Homebrew) ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:0:0","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"å¯¦ä½œ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:0","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"æª”æ¡ˆçµæ§‹ . â”œâ”€â”€ controller â”‚Â â””â”€â”€ controller.go â”œâ”€â”€ go.mod â”œâ”€â”€ go.sum â”œâ”€â”€ main.go â”œâ”€â”€ model â”‚Â â””â”€â”€ model.go â”œâ”€â”€ repository â”‚Â â””â”€â”€ repository.go â”œâ”€â”€ router â”‚Â â””â”€â”€ router.go â””â”€â”€ sql â”œâ”€â”€ connect.yaml â””â”€â”€ sql.go æˆ‘å€‘ä¾†èªªæ˜ä¸€ä¸‹ä¸Šé¢çš„è³‡æ–™å¤¾å€‹åˆ¥åŠŸèƒ½èˆ‡ä½œç”¨ sqlï¼šæ”¾ç½®é€£ç·šè³‡æ–™åº«æª”æ¡ˆã€‚ controllerï¼šå•†ç”¨é‚è¼¯æ§åˆ¶ã€‚ modelï¼šå®šç¾©è³‡æ–™è¡¨è³‡æ–™å‹æ…‹ã€‚ repositoryï¼šè™•ç†èˆ‡è³‡æ–™åº«é€²è¡Œäº¤æ¡ã€‚ routerï¼šè¨­å®šç¶²ç«™ç¶²å€è·¯ç”±ã€‚ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:1","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"go.mod ä¸€é–‹å§‹æˆ‘å€‘å‰µå¥½è³‡æ–™å¤¾å¾Œï¼Œè¦å…ˆä¾†è¨­å®š go.mod çš„ module $ go mod init message go.mod æª”æ¡ˆ module message go 1.18 æ¥è‘—ä½¿ç”¨ go get ä¾†å¼•å…¥ ginã€gormã€mysqlã€yaml å¥—ä»¶ $ go get -u github.com/gin-gonic/gin $ go get -u gorm.io/gorm $ go get -u gorm.io/driver/mysql $ go get -u gopkg.in/yaml.v2 å¯ä»¥åœ¨æŸ¥çœ‹ä¸€ä¸‹ go.mod æª”æ¡ˆæ˜¯å¦å¤šäº†å¾ˆå¤š indirect ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:2","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"main.go package main import ( \"fmt\" \"message/model\" \"message/router\" \"message/sql\" ) func main() { //é€£ç·šè³‡æ–™åº« if err := sql.InitMySql(); err != nil { panic(err) } //é€£çµæ¨¡å‹ sql.Connect.AutoMigrate(\u0026model.Message{}) //sql.Connect.Table(\"message\") //ä¹Ÿå¯ä»¥ä½¿ç”¨é€£ç·šå·²æœ‰è³‡æ–™è¡¨æ–¹å¼ //è¨»å†Šè·¯ç”± r := router.SetRouter() //å•Ÿå‹•åŸ ç‚º8081çš„å°ˆæ¡ˆ fmt.Println(\"é–‹å•Ÿ127.0.0.0.1:8081...\") r.Run(\"127.0.0.1:8081\") } å¼•å…¥æˆ‘å€‘ Repository æ¶æ§‹ï¼Œå°‡ configã€modelã€router å°å…¥ï¼Œå…ˆæ¸¬è©¦æ˜¯å¦å¯ä»¥é€£ç·šè³‡æ–™åº«ï¼Œä½¿ç”¨ AutoMigrate ä¾†æ–°å¢è³‡æ–™è¡¨(å¦‚æœæ²’æœ‰æ‰æ–°å¢)ï¼Œæˆ–æ˜¯ä½¿ç”¨ Table ä¾†é€£ç·šå·²æœ‰è³‡æ–™è¡¨ï¼Œè¨»å†Šç¶²å€è·¯ç”±ï¼Œæœ€å¾Œå•Ÿå‹•å°ˆæ¡ˆï¼Œæˆ‘å€‘å°‡ Port è¨­å®šæˆ 8081ã€‚ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:3","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"sql æˆ‘å€‘å‰›å‰›æœ‰å¼•å…¥ yaml å¥—ä»¶ï¼Œå› ç‚ºæˆ‘å€‘è¨­å®šæª”æ¡ˆæœƒä½¿ç”¨ yaml ä¾†ç·¨è¼¯ connect.yaml host:127.0.0.1username:rootpassword:\"å¯†ç¢¼\"dbname:\"è³‡æ–™åº«åç¨±\"port:3306 æˆ‘å€‘æŠŠ mysql é€£ç·šçš„è³‡è¨Šå¯«åœ¨æ­¤è™•ã€‚ sql.go (ä¸‹é¢ç‚ºä¸€å€‹æª”æ¡ˆï¼Œä½†é•·åº¦æœ‰é»é•·ï¼Œåˆ†é–‹èªªæ˜) package sql import ( \"io/ioutil\" \"fmt\" \"gopkg.in/yaml.v2\" \"gorm.io/gorm\" \"gorm.io/driver/mysql\" ) import æœƒä½¿ç”¨åˆ°çš„å¥—ä»¶ã€‚ var Connect *gorm.DB type conf struct { Host string `yaml:\"host\"` UserName string `yaml:\"username\"` Password string `yaml:\"password\"` DbName string `yaml:\"dbname\"` Port string `yaml:\"port\"` } func (c *conf) getConf() *conf { //è®€å–config/connect.yamlæª”æ¡ˆ yamlFile, err := ioutil.ReadFile(\"sql/connect.yaml\") //è‹¥å‡ºç¾éŒ¯èª¤ï¼Œåˆ—å°éŒ¯èª¤è¨Šæ¯ if err != nil { fmt.Println(err.Error()) } //å°‡è®€å–çš„å­—ä¸²è½‰æ›æˆçµæ§‹é«”conf err = yaml.Unmarshal(yamlFile, c) if err != nil { fmt.Println(err.Error()) } return c } è¨­å®šè³‡æ–™åº«é€£ç·šçš„ conf ä¾†è®€å– yaml æª”æ¡ˆã€‚ //åˆå§‹åŒ–é€£ç·šè³‡æ–™åº« func InitMySql() (err error) { var c conf //ç²å–yamlé…ç½®å¼•æ•¸ conf := c.getConf() //å°‡yamlé…ç½®å¼•æ•¸æ‹¼æ¥æˆé€£ç·šè³‡æ–™åº«çš„url dsn := fmt.Sprintf(\"%s:%s@tcp(%s:%s)/%s?charset=utf8mb4\u0026parseTime=True\u0026loc=Local\", conf.UserName, conf.Password, conf.Host, conf.Port, conf.DbName, ) //é€£ç·šè³‡æ–™åº« Connect, err = gorm.Open(mysql.New(mysql.Config{DSN: dsn}), \u0026gorm.Config{}) return } åˆå§‹åŒ–è³‡æ–™åº«ï¼ŒæœƒæŠŠå‰›å‰›è®€å– yaml çš„ conf ä¸²æ¥æˆå¯ä»¥é€£æ¥è³‡æ–™åº«çš„ url ï¼Œæœ€å¾Œé€£ç·šè³‡æ–™åº«ã€‚ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:4","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"router.go package router import ( \"message/controller\" \"github.com/gin-gonic/gin\" ) func SetRouter() *gin.Engine { //é¡¯ç¤º debug æ¨¡å¼ gin.SetMode(gin.ReleaseMode) r := gin.Default() v1 := r.Group(\"api/v1\") { //æ–°å¢ç•™è¨€ v1.POST(\"/message\", controller.Create) //æŸ¥è©¢å…¨éƒ¨ç•™è¨€ v1.GET(\"/message\", controller.GetAll) //æŸ¥è©¢ {id} ç•™è¨€ v1.GET(\"/message/:id\", controller.Get) //ä¿®æ”¹ {id} ç•™è¨€ v1.PATCH(\"/message/:id\", controller.Update) //åˆªé™¤ {id} ç•™è¨€ v1.DELETE(\"/message/:id\", controller.Delete) } return r } è¨­å®šè·¯ç”±ï¼Œç‰ˆæœ¬ v1 ç¶²å€æ˜¯ api/v1 ï¼Œåˆ†åˆ¥æ˜¯æ–°å¢ç•™è¨€ã€æŸ¥è©¢å…¨éƒ¨ç•™è¨€ã€æŸ¥è©¢ {id} ç•™è¨€ã€ä¿®æ”¹ {id} ç•™è¨€ã€åˆªé™¤ {id} ç•™è¨€ï¼Œé€£æ¥åˆ°ä¸åŒçš„ controller function ã€‚ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:5","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"model.go package model import \"gorm.io/gorm\" func (Message) TableName() string { return \"message\" } type Message struct { Id int `gorm:\"primary_key,type:INT;not null;AUTO_INCREMENT\"` User_Id int `json:\"User_Id\" binding:\"required\"` Content string `json:\"Content\" binding:\"required\"` Version int `gorm:\"default:0\"` // åŒ…å« CreatedAt å’Œ UpdatedAt å’Œ DeletedAt æ¬„ä½ gorm.Model } è¨­å®šè³‡æ–™è¡¨çš„çµæ§‹ï¼Œä½¿ç”¨ gorm.Model é è¨­è£¡é¢æœƒåŒ…å« CreatedAt å’Œ UpdatedAt å’Œ DeletedAt æ¬„ä½ã€‚ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:6","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"controller.go (ä¸‹é¢ç‚ºä¸€å€‹æª”æ¡ˆï¼Œä½†é•·åº¦æœ‰é»é•·ï¼Œåˆ†é–‹èªªæ˜) package controller import ( \"message/model\" \"message/repository\" \"net/http\" \"unicode/utf8\" \"github.com/gin-gonic/gin\" ) import æœƒä½¿ç”¨åˆ°çš„å¥—ä»¶ã€‚ æŸ¥è©¢ç•™è¨€åŠŸèƒ½ func GetAll(c *gin.Context) { message, err := repository.GetAllMessage() if err != nil { c.JSON(http.StatusBadRequest, gin.H{\"message\": err.Error()}) return } c.JSON(http.StatusOK, gin.H{\"message\": message}) } func Get(c *gin.Context) { var message model.Message if err := repository.GetMessage(\u0026message, c.Param(\"id\")); err != nil { c.JSON(http.StatusNotFound, gin.H{\"message\": \"æ‰¾ä¸åˆ°ç•™è¨€\"}) return } c.JSON(http.StatusOK, gin.H{\"message\": message}) } GetAll() æœƒä½¿ç”¨åˆ° repository.GetAllMessage() æŸ¥è©¢ä¸¦å›å‚³é¡¯ç¤ºæŸ¥è©¢çš„è³‡æ–™ã€‚ c.Param(\"id\") æ˜¯ç¶²å€è®€å…¥å¾Œçš„ idï¼Œç¶²å€æ˜¯http://127.0.0.1:8081/api/v1/message/{id} ï¼Œå°‡è¼¸å…¥çš„ id é€é repository.GetMessage() æŸ¥è©¢ä¸¦å›å‚³é¡¯ç¤ºæŸ¥è©¢çš„è³‡æ–™ã€‚ æ–°å¢ç•™è¨€åŠŸèƒ½ func Create(c *gin.Context) { var message model.Message if c.PostForm(\"Content\") == \"\" || utf8.RuneCountInString(c.PostForm(\"Content\")) \u003e= 20 { c.JSON(http.StatusBadRequest, gin.H{\"message\": \"æ²’æœ‰è¼¸å…¥å…§å®¹æˆ–é•·åº¦è¶…é20å€‹å­—å…ƒ\"}) return } c.Bind(\u0026message) repository.CreateMessage(\u0026message) c.JSON(http.StatusCreated, gin.H{\"message\": message}) } ä½¿ç”¨ Gin æ¡†æ¶ä¸­çš„ Bind å‡½æ•¸ï¼Œå¯ä»¥å°‡ url çš„æŸ¥è©¢åƒæ•¸ query parameterï¼Œhttp çš„ Headerã€body ä¸­æäº¤çš„æ•¸æ“šçµ¦å–å‡ºï¼Œé€é repository.CreateMessage() å°‡è¦æ–°å¢çš„è³‡æ–™å¸¶å…¥ï¼Œå¦‚æœå¤±æ•—å°±é¡¯ç¤º http.StatusBadRequestï¼Œå¦‚æœæˆåŠŸå°±é¡¯ç¤º http.StatusCreated ä»¥åŠæ–°å¢çš„è³‡æ–™ã€‚ ä¿®æ”¹ç•™è¨€åŠŸèƒ½ func Update(c *gin.Context) { var message model.Message if c.PostForm(\"Content\") == \"\" || utf8.RuneCountInString(c.PostForm(\"Content\")) \u003e= 20 { c.JSON(http.StatusBadRequest, gin.H{\"message\": \"æ²’æœ‰è¼¸å…¥å…§å®¹æˆ–é•·åº¦è¶…é20å€‹å­—å…ƒ\"}) return } if err := repository.UpdateMessage(\u0026message, c.PostForm(\"Content\"), c.Param(\"id\")); err != nil { c.JSON(http.StatusNotFound, gin.H{\"message\": \"æ‰¾ä¸åˆ°ç•™è¨€\"}) return } c.JSON(http.StatusOK, gin.H{\"message\": message}) } å…ˆä½¿ç”¨ repository.GetMessage() ä»¥åŠ c.Param(\"id\") ä¾†æŸ¥è©¢æ­¤ id æ˜¯å¦å­˜åœ¨ï¼Œå†å¸¶å…¥è¦ä¿®æ”¹çš„ Content ï¼Œé€é repository.UpdateMessage() å°‡è³‡æ–™ä¿®æ”¹ï¼Œï¼Œå¦‚æœå¤±æ•—å°±é¡¯ç¤º http.StatusNotFound ä»¥åŠæ‰¾ä¸åˆ°ç•™è¨€ï¼Œå¦‚æœæˆåŠŸå°±é¡¯ç¤º http.StatusOK ä»¥åŠä¿®æ”¹çš„è³‡æ–™ã€‚ åˆªé™¤ç•™è¨€åŠŸèƒ½ func Delete(c *gin.Context) { var message model.Message if err := repository.DeleteMessage(\u0026message, c.Param(\"id\")); err != nil { c.JSON(http.StatusNotFound, gin.H{\"message\": \"æ‰¾ä¸åˆ°ç•™è¨€\"}) return } c.JSON(http.StatusNoContent, gin.H{\"message\": \"åˆªé™¤ç•™è¨€æˆåŠŸ\"}) } é€é repository.DeleteMessage() å°‡è³‡æ–™åˆªé™¤ï¼Œå¦‚æœå¤±æ•—å°±é¡¯ç¤º http.StatusNotFound ä»¥åŠæ‰¾ä¸åˆ°ç•™è¨€ï¼Œå¦‚æœæˆåŠŸå°±é¡¯ç¤º http.StatusNoContentã€‚ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:7","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"repository.go (ä¸‹é¢ç‚ºä¸€å€‹æª”æ¡ˆï¼Œä½†é•·åº¦æœ‰é»é•·ï¼Œåˆ†é–‹èªªæ˜) æ‰€æœ‰çš„é‚è¼¯åˆ¤æ–·éƒ½è¦åœ¨ controller è™•ç†ï¼Œæ‰€ä»¥ repository.go å°±å–®ç´”å°è³‡æ–™åº«å°± CRUDï¼š package repository import ( \"message/model\" \"message/sql\" ) import æœƒä½¿ç”¨åˆ°çš„å¥—ä»¶ã€‚ æŸ¥è©¢ç•™è¨€è³‡æ–™è®€å– //æŸ¥è©¢å…¨éƒ¨ç•™è¨€ func GetAllMessage() (message []*model.Message, err error) { err = sql.Connect.Find(\u0026message).Error return } //æŸ¥è©¢ {id} ç•™è¨€ func GetMessage(message *model.Message, id string) (err error) { err = sql.Connect.Where(\"id=?\", id).First(\u0026message).Error return } æ–°å¢ç•™è¨€è³‡æ–™è®€å– //æ–°å¢ç•™è¨€ func CreateMessage(message *model.Message) (err error) { err = sql.Connect.Create(\u0026message).Error return } ä¿®æ”¹ç•™è¨€è³‡æ–™è®€å– //æ›´æ–° {id} ç•™è¨€ func UpdateMessage(message *model.Message, content, id string) (err error) { err = sql.Connect.Where(\"id=?\", id).First(\u0026message).Update(\"content\", content).Error return } åˆªé™¤ç•™è¨€è³‡æ–™è®€å– //åˆªé™¤ {id} ç•™è¨€ func DeleteMessage(message *model.Message, id string) (err error) { err = sql.Connect.Where(\"id=?\", id).First(\u0026message).Delete(\u0026message).Error return } ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:1:8","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"Postman æ¸¬è©¦ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:0","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"æŸ¥è©¢å…¨éƒ¨ç•™è¨€ - æˆåŠŸ(ç„¡è³‡æ–™) æŸ¥è©¢ç•™è¨€ æˆåŠŸ(ç„¡è³‡æ–™)\" æŸ¥è©¢ç•™è¨€ æˆåŠŸ(ç„¡è³‡æ–™) ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:1","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"æŸ¥è©¢å…¨éƒ¨ç•™è¨€ - æˆåŠŸ(æœ‰è³‡æ–™) æŸ¥è©¢ç•™è¨€ æˆåŠŸ(æœ‰è³‡æ–™)\" æŸ¥è©¢ç•™è¨€ æˆåŠŸ(æœ‰è³‡æ–™) ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:2","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"æŸ¥è©¢{id}ç•™è¨€ - æˆåŠŸ æŸ¥è©¢{id}ç•™è¨€ æˆåŠŸ\" æŸ¥è©¢{id}ç•™è¨€ æˆåŠŸ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:3","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"æŸ¥è©¢{id}ç•™è¨€ - å¤±æ•— æŸ¥è©¢{id}ç•™è¨€ å¤±æ•—\" æŸ¥è©¢{id}ç•™è¨€ å¤±æ•— ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:4","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"æ–°å¢ç•™è¨€ - æˆåŠŸ æ–°å¢ç•™è¨€ æˆåŠŸ\" æ–°å¢ç•™è¨€ æˆåŠŸ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:5","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"ä¿®æ”¹{id}ç•™è¨€ - æˆåŠŸ ä¿®æ”¹ {id}ç•™è¨€ æˆåŠŸ\" ä¿®æ”¹ {id}ç•™è¨€ æˆåŠŸ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:6","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"ä¿®æ”¹{id}ç•™è¨€ - å¤±æ•— ä¿®æ”¹ {id}ç•™è¨€ å¤±æ•—\" ä¿®æ”¹ {id}ç•™è¨€ å¤±æ•— ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:7","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"åˆªé™¤{id}ç•™è¨€ - æˆåŠŸ åˆªé™¤ {id}ç•™è¨€ æˆåŠŸ\" åˆªé™¤ {id}ç•™è¨€ æˆåŠŸ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:8","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"åŸ·è¡Œçµæœ åŸ·è¡Œçµæœ\" åŸ·è¡Œçµæœ ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:2:9","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ åŸºæ–¼Gin+Gormæ¡†æ¶æ­å»ºMVCæ¨¡å¼çš„Goèªè¨€å¾Œç«¯ç³»çµ± ","date":"2022-03-27","objectID":"/go-restful-api-repository-messageboard/:3:0","tags":["Go","RESTful API","Mysql","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"ç”¨ Go å¯«ä¸€å€‹ Repository Restful API çš„ç•™è¨€æ¿ (ginã€gorm å¥—ä»¶)","uri":"/go-restful-api-repository-messageboard/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Go ? Go å…¨åæ˜¯ go programming language åˆè¢«ç¨±ç‚º Golangï¼Œæ˜¯å› ç‚º go é€™å€‹è©å¤ªå»£æ³›ï¼Œä¸æ˜“æœå°‹ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å« Golangã€‚ Go æ˜¯ç”± Google é–‹ç™¼ä¸¦ç¶­è­·çš„ç·¨è­¯ç¨‹å¼èªè¨€ï¼Œæ”¯æ´åƒåœ¾å›æ”¶èˆ‡ä½µç™¼ï¼Œç”±æ–¼é–‹ç™¼äººä¹‹ä¸€ä¹Ÿæ˜¯ C èªè¨€çš„ä½œè€…ï¼Œæ‰€ä»¥ Go ä¹Ÿç¹¼æ‰¿äº†è¨±å¤š C çš„é¢¨æ ¼ å…¶ç‰¹é»æœ‰ä»¥ä¸‹å¹¾é»ï¼š éœæ…‹å‹åˆ¥ï¼šå› çˆ²éœæ…‹å‹åˆ¥çš„ç‰¹æ€§ï¼Œå¯ä»¥åœ¨ç·¨è­¯æœŸé–“å°±é€²è¡Œå®Œæ•´çš„å‹åˆ¥æª¢æŸ¥ï¼Œå¯ä»¥æ‰¾å‡ºå¤§éƒ¨åˆ†çš„å‹åˆ¥éŒ¯èª¤ã€‚ ç·¨è­¯é€Ÿåº¦ï¼šå› ç‚º Go èªè¨€å…ˆå¤©å„ªå‹¢æ˜¯æ¶æ§‹è¨­è¨ˆéå¸¸å–®ç´”ï¼Œä¸¦ä¸åƒç‰©ä»¶å°å‘èªè¨€é¾å¤§ï¼Œåœ¨ç·¨è­¯æ™‚ä¸ç”¨ç›¸ä¾å…¶ä»–çš„ libraryï¼Œå› æ­¤è®“ä»–æœ‰æ›´å¥½çš„åŸ·è¡Œæ•ˆç‡ã€‚ èªæ³•ç°¡æ½”ï¼šGo é—œéµå­—ä¸å¤šï¼Œä¸åˆ°30å¹¾å€‹ï¼Œå› ç‚ºå…¶é—œéµå­—ä¸å°‘ä¹Ÿèˆ‡ C çš„é—œéµå­—é‡è¤‡ï¼Œå­¸ç¿’æ›´å®¹æ˜“ä¸Šæ‰‹ã€‚ åƒåœ¾å›æ”¶ï¼šGo æœ‰è‡ªå‹•å…§å­˜å›æ”¶æ©Ÿåˆ¶ï¼Œä¸éœ€è¦ç”±é–‹ç™¼äººå“¡ä¾†ç®¡ç†ã€‚åƒåœ¾å›æ”¶æ˜¯ä¸€ç¨®è¨˜æ†¶é«”ç®¡ç†æ©Ÿåˆ¶ã€‚ç•¶ç¨‹å¼æ‰€ä½”ç”¨è¨˜æ†¶é«”ä¸å†è¢«è©²ç¨‹å¼çµ¦å­˜å–æ™‚ï¼Œæœƒå€ŸåŠ©åƒåœ¾å›æ”¶æ¼”ç®—æ³•ï¼Œå°‡è¨˜æ†¶é«”ç©ºé–“æ­¸é‚„çµ¦ä½œæ¥­ç³»çµ±ã€‚ åŸç”Ÿæ”¯æ´ä½µç™¼ï¼šGo èªè¨€æ”¯æŒä½µç™¼ï¼Œåªéœ€è¦é€é go é—œéµå­—ä¾†é–‹å•Ÿ goroutine å°‡å¯ã€‚goroutine æ˜¯ Go èªè¨€å¯¦ç¾ä½µç™¼çš„ä¸€ç¨®æ–¹å¼ï¼Œåœ¨åŸ·è¡Œçš„éç¨‹éœ€è¦å°‘é‡çš„è¨˜æ†¶é«”ï¼Œä¾†æš«å­˜è‡ªå·±çš„ä¸Šä¸‹æ–‡ï¼Œå°±å¯åœ¨ä¸åŒçš„æ™‚é–“é»ä¾†åˆ†æ®µåŸ·è¡Œç¨‹å¼ã€‚ä¸¦ä¸”æœ‰ channel å¯ä»¥è·Ÿ goroutine é€²è¡Œè³‡æ–™æºé€šã€‚ éœæ…‹å‹åˆ¥/å‹•æ…‹å‹åˆ¥ éœæ…‹å‹åˆ¥çš„æ„æ€æ˜¯æŒ‡ç•¶å®£å‘Šä¸€å€‹è®Šæ•¸æ™‚ï¼Œä½ å¿…é ˆåŒæ™‚å®£å‘Šæ­¤è®Šæ•¸æ‰€å­˜æ”¾çš„è³‡æ–™å‹æ…‹ç‚ºä½• var age int // int var name string // string å‹•æ…‹å‹åˆ¥æŒ‡çš„æ˜¯ç¨‹å¼åŸ·è¡Œæ™‚ï¼Œç³»çµ±æ‰å¯ä»¥çœ‹è¦‹çš„å‹åˆ¥ï¼Œä»€éº¼å‹åˆ¥éƒ½å¯ä»¥ var i interface {} i = 18 i = \"Golang ç¨‹å¼è¨­è¨ˆ\" ç·¨è­¯å¼èªè¨€/ç›´è­¯å¼èªè¨€ ç·¨è­¯å¼ï¼šç•¶æˆ‘å€‘å¯«å®Œç¨‹å¼æ™‚ï¼Œæˆ‘å€‘éœ€è¦å°‡ç¨‹å¼ compile (ç·¨è­¯) æˆé›»è…¦çœ‹å¾—æ‡‚çš„ç¨‹å¼ï¼Œå†å°‡ç¨‹å¼æ‹¿å»åŸ·è¡Œã€‚ ç›´è­¯å¼ï¼šç•¶æˆ‘å€‘å¯«å®Œç¨‹å¼æ™‚ï¼Œç›´æ¥ä½¿ç”¨ç›´è­¯å™¨ä¸€è¡Œä¸€è¡Œç¿»è­¯æˆé›»è…¦èªè¨€ä¸¦åŸ·è¡Œã€‚ æ¯”è¼ƒï¼š ç·¨è­¯å¼åŸ·è¡Œæ•ˆç‡è¼ƒä½³ ç›´è­¯å¼ç›¸å°å®¹æ˜“ Debug ç·¨è­¯å¼èªè¨€ç·¨è­¯å®Œå¾Œï¼Œå¯ä»¥ç›´æ¥åœ¨å„é¡ OS ç³»çµ±ä¸­åŸ·è¡Œï¼Œå› ç‚ºç·¨è­¯å®Œçš„ç¨‹å¼ï¼Œå°±æ˜¯é›»è…¦çœ‹å¾—æ‡‚çš„ã€‚ é‚£æˆ‘å€‘å¤§è‡´äº†è§£ Go å¾Œå°±ä¾†å®‰è£ Goå§ï¼ ","date":"2022-03-21","objectID":"/go/:1:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å®‰è£ Go æœ¬æ¬¡ä½œæ¥­ç³»çµ±ç‚º macOSï¼Œæ‰€ä»¥å¾ŒçºŒéƒ½ä»¥ macOS ç‚ºä¸»ï¼Œå¦‚æœæ˜¯ä½¿ç”¨å…¶ä»–çš„ä½œæ¥­ç³»çµ±ï¼Œå¯ä»¥ç›´æ¥åˆ°å®˜ç¶²ä¾†ä¸‹è¼‰ã€‚ macOS å¯ä»¥ç”¨ brew ç­‰å·¥å…·ä¾†ä¸‹è¼‰ï¼Œä½†é€™æ¬¡æˆ‘ä½¿ç”¨å®˜ç¶²ç›´æ¥ä¸‹è¼‰ pkg ä¾†å®‰è£ã€‚ Go å®˜ç¶²ä¸‹è¼‰ä½ç½®\" Go å®˜ç¶²ä¸‹è¼‰ä½ç½® ä¸‹è¼‰å®Œå¾Œï¼Œä½¿ç”¨ go version ä¾†æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸï¼š $ go version go version go1.18 darwin/amd64 æ¥è‘—æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ä»–çš„ç’°å¢ƒè®Šæ•¸ï¼Œä½¿ç”¨ go envï¼Œä¾†æŸ¥çœ‹ï¼š $ go env GO111MODULE=\"\" GOARCH=\"amd64\" GOBIN=\"\" GOCACHE=\"/Users/ian_zhuang/Library/Caches/go-build\" GOENV=\"/Users/ian_zhuang/Library/Application Support/go/env\" GOEXE=\"\" GOEXPERIMENT=\"\" GOFLAGS=\"\" GOHOSTARCH=\"amd64\" GOHOSTOS=\"darwin\" GOINSECURE=\"\" GOMODCACHE=\"/Users/ian_zhuang/go/pkg/mod\" GONOPROXY=\"\" GONOSUMDB=\"\" GOOS=\"darwin\" GOPATH=\"/Users/ian_zhuang/go\" GOPRIVATE=\"\" GOPROXY=\"https://proxy.golang.org,direct\" GOROOT=\"/usr/local/go\" é€™é‚Šç°¡å–®çš„åˆ—å‡ºä¾†ï¼Œæ¯”è¼ƒé‡è¦çš„æ˜¯ GOPATHï¼šä»–æ˜¯æœ‰é—œç®¡ç†ç¨‹å¼ç¢¼å’Œå¥—ä»¶åŸ·è¡Œæª”çš„åœ°æ–¹ï¼Œåœ¨ Go 1.8 ç‰ˆæœ¬ä»¥å‰ï¼ŒGOPATH é è¨­ç‚ºç©ºã€‚å¾ 1.8 ä»¥å¾Œï¼ŒGo å®‰è£å®Œå¾Œï¼Œéƒ½æœƒç›´æ¥çµ¦é è¨­çš„è·¯å¾‘ èªªä¸€ä¸‹é€™å€‹è·¯å¾‘çš„å…§å®¹ï¼Œæˆ‘åœ¨ä¾ç…§é è¨­çš„è·¯å¾‘ï¼Œåƒæˆ‘æ˜¯åœ¨ Users/ä½¿ç”¨è€…/goï¼Œåœ¨ go åº•ä¸‹æ–°å¢ä¸‰å€‹è³‡æ–™å¤¾ï¼š srcï¼šä¸»è¦æ”¾ç½®å°ˆæ¡ˆçš„åœ°æ–¹ pkgï¼šå¥—ä»¶ä¸»è¦å„²å­˜çš„è³‡æ–™å¤¾ binï¼šå­˜æ”¾ç·¨è­¯å¥½çš„åŸ·è¡Œæª”æ¡ˆ åœ¨ Go 1.11 å¾Œæä¾›äº† go modules è®“æˆ‘å€‘ä¸ä¸€å®šè¦æŠŠå°ˆæ¡ˆç¨‹å¼ç¢¼æ”¾åœ¨ $GOPATH/src ä¸­åšé–‹ç™¼ï¼Œå› æ­¤æˆ‘å€‘å…ˆä¾†è¨­å®šæˆ‘åœ¨è¦æ”¾å°ˆæ¡ˆçš„è³‡æ–™å¤¾ï¼Œæ‰“é–‹ .bash_profileï¼š export GOPATH=ä½ å°ˆæ¡ˆçš„è·¯å¾‘/goworkspace $ source .bash_profile æ¥è‘—æˆ‘å€‘ä¾†å¯¦ä½œç¬¬ä¸€éš» Go ç¨‹å¼å§ï¼Œæˆ‘å€‘æœƒä¾ç…§å®˜ç¶²çš„ç¤ºç¯„ï¼Œä½†ç‚ºäº†è¦ä»‹ç´¹ modules æ˜¯ä»€éº¼ï¼Œæ‰€ä»¥æœƒå°ä¿®æ”¹å…§å®¹ã€‚ ","date":"2022-03-21","objectID":"/go/:2:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"ç¬¬ä¸€éš» Go ç¨‹å¼ æˆ‘å€‘ä¾ç…§å®˜ç¶²çš„ç¤ºç¯„æ•™å­¸ï¼Œå…ˆå»ºç«‹ä¸€å€‹è³‡æ–™å¤¾(è¦æ”¾åœ¨æˆ‘å€‘å‰›å‰›çš„ GOPATH ç›®éŒ„ä¸‹æ–¹æ­)ï¼Œä¾†æ”¾æˆ‘å€‘ç¬¬ä¸€å€‹ Go ç¨‹å¼ â€œå°å‡º Hello worldâ€ (ç¨‹å¼ç¢¼å¯ä»¥å¾æ­¤è™•ä¸‹è¼‰)ï¼š mkdir helloworld cd helloworld æ¥è‘—ä¸‹æŒ‡ä»¤ä¾†æ–°å¢ Go moduleï¼š $ go mod init helloworld go: creating new go.mod: module helloworld å¦‚æœæˆåŠŸï¼Œæœƒç”¢ç”Ÿä¸€å€‹ go.mod æª”æ¡ˆï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹å…§å®¹æœ‰ä»€éº¼ï¼š $ cat go.mod module helloworld go 1.18 go.mod æ˜¯ç”¨ä¾†å®šç¾© module çš„æ–‡ä»¶ï¼Œç”¨ä¾†æ¨™ç¤ºæ­¤ module çš„åç¨±ã€æ‰€ä½¿ç”¨çš„ go ç‰ˆæœ¬ä»¥åŠç›¸ä¾çš„ Go moduleã€‚ æˆ‘å€‘åˆ†åˆ¥å†æ–°å¢å…©å€‹è³‡æ–™å¤¾ï¼Œä»¥åŠå…©å€‹ .go æª”ï¼Œä¾†å»ºç«‹æˆ‘å€‘ç¯„ä¾‹æ‰€éœ€è¦çš„ç’°å¢ƒï¼š mkdir greeting cli touch greeting/greeting.go cli/say.go åˆ°ç›®å‰ç‚ºæ­¢çµæ§‹å¦‚ä¸‹ï¼š . â”œâ”€â”€ cli â”‚Â â””â”€â”€ say.go â”œâ”€â”€ go.mod â””â”€â”€ greeting â””â”€â”€ greeting.go æˆ‘å€‘ä¾†ä¿®æ”¹ä¸€ä¸‹ greeting.go ä»¥åŠ say.go ç¨‹å¼ç¢¼å§ã€‚ greeting.go æ˜¯ä¸€å€‹ç°¡å–®çš„ packageï¼Œç”¨ä»¥é¡¯ç¤ºæ‰€å‚³å…¥çš„å­—ä¸² ; è€Œ say.go å‰‡æ˜¯ä»¥å‘¼å« greeting.go package æ‰€æä¾›çš„å‡½å¼ä¾†é¡¯ç¤ºè³‡æ–™ã€‚ greeting.go å…§å®¹ï¼š package greeting import \"fmt\" func Say(s string) { fmt.Println(s) } say.go å…§å®¹ï¼š package main import ( \"helloworld/greeting\" ) func main(){ greeting.Say(\"Hello World\") } é †ä¾¿ä¾†ä»‹ç´¹ä¸€ä¸‹ç¨‹å¼è£¡é¢åˆ†åˆ¥æ˜¯ä»€éº¼æ„æ€å§ï¼ Packageï¼špackage ä¸»è¦åˆ†æˆå…©ç¨®ï¼Œä¸€å€‹æ˜¯å¯åŸ·è¡Œï¼Œå¦ä¸€å€‹å‰‡æ˜¯å¯é‡è¤‡ä½¿ç”¨çš„ï¼Œè€Œ package main å°±æ˜¯å¯åŸ·è¡Œçš„æª”æ¡ˆï¼Œåƒæˆ‘å€‘ä¸Šé¢é€™å€‹æœ‰åŒ…å« package main çš„æª”æ¡ˆï¼Œåœ¨ç·¨è­¯æ™‚ï¼Œå°±æœƒç”¢ç”Ÿä¸€å€‹ say çš„åŸ·è¡Œæª”ï¼Œé›»è…¦å°±æ˜¯ä¾ç…§æ­¤æª”æ¡ˆåŸ·è¡Œçš„ã€‚ Importï¼šç•¶æˆ‘å€‘å¯«ç¨‹å¼æ™‚ï¼Œä¸€å®šæœƒå¼•å…¥å…¶ä»–äººå¯«çš„å¥—ä»¶ã€‚è€Œ Go èªè¨€çš„æ¨™æº–å‡½å¼åº«ç‚ºé–‹ç™¼åœ˜éšŠå…ˆå¯«å¥½ï¼Œæä¾›ä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–ç¬¬ä¸‰æ–¹å¥—ä»¶ï¼Œé‚„æ»¿è¶³å…§å»ºä»¥åŠæ¨™æº–å‡½å¼åº«çš„ä¸è¶³ã€‚æˆ‘å€‘åœ¨ greeting.go è£¡é¢å¼•å…¥çš„ fmt å°±æ˜¯é–‹ç™¼åœ˜éšŠå¯«å¥½çš„ï¼Œç„¶è€Œåœ¨ say.go è£¡é¢å¼•å…¥çš„å°±æ˜¯greeting.go ï¼Œæˆ‘å€‘å°±å¯ä»¥ä½¿ç”¨å…¶å…§å®¹çš„å‡½å¼ä¾†åšä½¿ç”¨ã€‚ Main Functionï¼šæ¯å€‹ Go èªè¨€çš„å°ˆæ¡ˆåŸºæœ¬ä¸Šéƒ½æœƒæœ‰ä¸€å€‹ä¸»ç¨‹å¼ï¼Œä¸»ç¨‹å¼è£¡çš„ç¨‹å¼é€šå¸¸éƒ½ç‚ºæœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚ æœ€å¾Œä½¿ç”¨ go run say.go ä¾†å°‡æ­¤ç¨‹å¼é‹è¡Œèµ·ä¾†ï¼š $ go run say.go Hello World å°±å¯ä»¥çœ‹åˆ°ç¨‹å¼æˆåŠŸå°‡ Hello World çµ¦å°å‡ºä¾†æ‹‰ï¼ ","date":"2022-03-21","objectID":"/go/:3:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å¸¸è¦‹æŒ‡ä»¤ æ¥ä¸‹ä¾†è¦ç°¡å–®ä»‹ç´¹ä¸€ä¸‹å¸¸ç”¨çš„å¦å¤–3å€‹æŒ‡ä»¤ï¼Œåˆ†åˆ¥æ˜¯ go buildã€go installã€go cleanï¼š go getï¼šä¾†ä¸‹è¼‰å¥—ä»¶åˆ°ç•¶å‰çš„æ¨¡çµ„ï¼Œä¸¦å®‰è£ä»–å€‘ $ go get github.com/fatih/color go: downloading github.com/fatih/color v1.13.0 .... çœç•¥ .... go buildï¼šé‚„è¨˜å¾—æˆ‘å€‘å‰é¢èªª Go æ˜¯ç·¨è­¯å¼ç¨‹å¼ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥å°‡ç¨‹å¼ç”¨ go build ä¾†ç·¨è­¯æˆé›»è…¦çœ‹å¾—æ‡‚çš„åŸ·è¡Œæª”æ­ï¼Œæª”æ¡ˆæœƒå­˜æ”¾åœ¨ç•¶å‰ç›®éŒ„æˆ–æ˜¯æŒ‡å®šç›®éŒ„ä¸­ ~ $ ls go.mod $ go build cli/say.go go.mod say $ ./say Hello World å¤šçš„é€™å€‹ say å°±æ˜¯ç·¨è­¯å¾Œçš„åŸ·è¡Œæª”ï¼Œå°‡ä»–åŸ·è¡Œæœƒé¡¯ç¤ºè·Ÿæˆ‘å€‘ä½¿ç”¨ run ä¾†é‹è¡Œçš„ä¸€æ¨£ï¼Œé¡¯ç¤º Hello Worldã€‚ go installï¼šå¦‚æœç·¨è­¯æ²’æœ‰éŒ¯èª¤ï¼Œä¸€æ¨£è·Ÿ build æœƒç”¢ç”ŸåŸ·è¡Œæª”ï¼Œä¸åŒçš„æ˜¯ï¼Œæœƒå°‡åŸ·è¡Œæª”ï¼Œç”¢ç”Ÿæ–¼ $GOPATH/bin å…§ã€‚ $ ls /Users/ian_zhuang/go/bin dlv go-outline gomodifytags goplay gopls gotests impl staticcheck $ go install $ ls /Users/ian_zhuang/go/bin dlv go-outline gomodifytags goplay gopls gotests hello impl staticcheck go cleanï¼šåŸ·è¡Œå¾Œæœƒå°‡ build ç”¢ç”Ÿçš„æª”æ¡ˆéƒ½åˆªé™¤ (install çš„ä¸æœƒ) $ ls go.mod hello . $ go clean $ ls go.mod . ","date":"2022-03-21","objectID":"/go/:3:1","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å¥—ä»¶ç›¸ä¾æ€§ç®¡ç† Go modules æä¾›çš„å¦ä¸€å€‹æ–¹ä¾¿çš„åŠŸèƒ½å‰‡æ˜¯å¥—ä»¶ç›¸ä¾æ€§ç®¡ç†ï¼Œæ¥ä¸‹ä¾†å¯¦éš›é€éä»¥ä¸‹æŒ‡ä»¤ä¾†å®‰è£å¥—ä»¶ï¼š $ go get github.com/fatih/color go: downloading github.com/fatih/color v1.13.0 go: downloading github.com/mattn/go-isatty v0.0.14 go: downloading github.com/mattn/go-colorable v0.1.9 go: downloading golang.org/x/sys v0.0.0-20210630005230-0f9fa26af87c go: added github.com/fatih/color v1.13.0 go: added github.com/mattn/go-colorable v0.1.9 go: added github.com/mattn/go-isatty v0.0.14 go: added golang.org/x/sys v0.0.0-20210630005230-0f9fa26af87c å®‰è£æˆåŠŸï¼Œå¯ä»¥å†æŸ¥çœ‹ä¸€ä¸‹ go.modï¼š module github.com/880831ian/go/helloworld go 1.18 require github.com/fatih/color v1.13.0 require ( github.com/mattn/go-colorable v0.1.12 // indirect github.com/mattn/go-isatty v0.0.14 // indirect golang.org/x/sys v0.0.0-20220319134239-a9b59b0215f8 // indirect ) æœƒå¤šäº†ä¸‹é¢é€™äº› require github.com/fatih/color v1.13.0 ä»£è¡¨ç›®å‰å°ˆæ¡ˆä½¿ç”¨ v1.13.0 ç‰ˆæœ¬çš„ github.com/fatih/color ä¸‹é¢çš„ indirect æŒ‡çš„æ˜¯è¢«ç›¸ä¾çš„å¥—ä»¶æ‰€ä½¿ç”¨çš„ package æ¥è‘—æˆ‘å€‘å°‡ greeting.goã€say.go å…©å€‹æª”æ¡ˆä¿®æ”¹ä¸€ä¸‹ï¼Œä½¿ç”¨æˆ‘å€‘å‰›å‰›æ‰€å®‰è£çš„ packageï¼š greeting.go package greeting import ( \"fmt\" \"github.com/fatih/color\" ) func Say(s string) { fmt.Println(s) } func SayWithRed (s string) { color.Red(s) } func SayWithBlue (s string) { color.Blue(s) } func SayWithYellow (s string) { color.Yellow(s) } æˆ‘å†å¤š import äº†å‰›å‰›çš„ github.com/fatih.colorï¼Œä¸¦ä½¿ç”¨è©²å¥—ä»¶çš„å‡½å¼ color ä¾†åˆ†åˆ¥é¡¯ç¤º Redã€Bludã€Yellow ä¸‰ç¨®é¡è‰²ã€‚ say.go package main import ( \"github.com/880831ian/go/helloworld/greeting\" ) func main(){ greeting.Say(\"Hello World\") greeting.SayWithRed(\"Hello World\") greeting.SayWithBlue(\"Hello World\") greeting.SayWithYellow(\"Hello World\") } æˆ‘å€‘å°‡ greeting ä¸‰ç¨®é¡¯ç¤ºé¡è‰²çš„å‡½å¼å¸¶å…¥ã€‚ ä¸€æ¨£æˆ‘å€‘ä¾†é‹è¡Œä¸€ä¸‹ç¨‹å¼ï¼Œä¾†çœ‹çœ‹çµæœå¦‚ä½•ï¼Œé€™æ¬¡æˆ‘å€‘ç›´æ¥ç·¨è­¯ï¼Œä½¿ç”¨ go build ä¾†ç·¨è­¯ï¼Œæœ€å¾Œç›´æ¥åŸ·è¡Œç”¢ç”Ÿçš„åŸ·è¡Œæª”ï¼š $ go build cli/say.go $ ./say Hello World Hello World //ç´…è‰² Hello World //è—è‰² Hello World //é»ƒè‰² ç”±æ–¼ Makedown æ²’è¾¦æ³•æ–¼ç¨‹å¼ç¢¼å€åŸŸé¡¯ç¤ºæ­£ç¢ºé¡è‰²ï¼Œç”¨è¨»è§£æ¨™ç¤ºä¸€ä¸‹XD ","date":"2022-03-21","objectID":"/go/:3:2","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"è®Šæ•¸ åœ¨ä½¿ç”¨è®Šæ•¸åšå®£å‘Šæ™‚ï¼Œè¦æ³¨æ„ä»¥ä¸‹å¹¾å€‹ Go ä¿ç•™å­—ï¼Œä¸èƒ½æ‹¿ä¾†ç•¶è®Šæ•¸åç¨±ï¼Œå…¶ Go æœ‰ä¸‰ç¨®å®£å‘Šçš„æ–¹å¼ï¼š Go ä¿ç•™å­—ï¼Œä¸èƒ½æ‹¿ä¾†ç•¶è®Šæ•¸åç¨±\" Go ä¿ç•™å­—ï¼Œä¸èƒ½æ‹¿ä¾†ç•¶è®Šæ•¸åç¨± ","date":"2022-03-21","objectID":"/go/:4:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"ä½¿ç”¨ := ä¾†å®£å‘Š è¡¨ç¤ºä¹‹å‰æ²’æœ‰é€²è¡Œå®£å‘Šéã€‚é€™æ˜¯ Go ä¸­æœ€å¸¸è¦‹çš„è®Šæ•¸å®£å‘Šæ–¹å¼ï¼Œä½†ä¸èƒ½ç”¨ç¸®å¯«æ–¹å¼ä¾†å®šç¾©è®Šæ•¸ (foo := bar) ï¼Œå› ç‚º package scope çš„è®Šæ•¸éƒ½æ˜¯ä»¥ keyword ä½œç‚ºé–‹é ­ã€‚ä¸”åªèƒ½åœ¨ function ä¸­ä½¿ç”¨ã€‚ func main (){ a := \"bar\" b := 4 c := true // ä¹Ÿå¯ä»¥ç°¡å¯«æˆé€™æ¨£ d,e,f := \"bar\",4,true fmt.Println(a,b,c); fmt.Println(d,e,f); } $ go run . bar 4 true bar 4 true ","date":"2022-03-21","objectID":"/go/:4:1","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å…ˆå®£å‘Šè³‡æ–™å‹æ…‹ ç•¶ä¸çŸ¥é“è®Šæ•¸çš„èµ·å§‹å€¼ï¼Œæˆ–æ˜¯éœ€è¦åœ¨ package scope ä¸­å®£å‘Šè®Šæ•¸æ™‚å¯ä»¥ä½¿ç”¨ã€‚ var a string var b int // ä¹Ÿå¯ä»¥ç°¡å¯«æˆé€™æ¨£ var ( c string d float64 ) func main (){ a = \"Hello\" b = 123 c = \"ian\" d = 3.5 fmt.Println(a,b,c,d) } âš ï¸ ä¸å»ºè­°æŠŠè®Šæ•¸å¯«åœ¨å…¨åŸŸè®Šæ•¸ä¸­ âš ï¸ $ go run . Hello 123 ian 3.5 ","date":"2022-03-21","objectID":"/go/:4:2","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"ç›´æ¥å®£å‘Šä¸¦è³¦å€¼ func main (){ var ( a string = \"Hello\" b int = 9999 ) fmt.Println(a,b) } $ go run . Hello 9999 ","date":"2022-03-21","objectID":"/go/:4:3","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å¸¸è¦‹å®£å‘ŠéŒ¯èª¤ é‡è¤‡å®£å‘Šè®Šæ•¸ func main (){ name := \"ian\" name := \"pinyi\" } $ go run . # github.com/880831ian/go/test ./test.go:4:2: name declared but not used ./test.go:5:7: no new variables on left side of := åœ¨ main å‡½å¼å¤–è³¦å€¼ var a int b := \"Hello\" func main (){ fmt.Println(a,b) } $ go run . # github.com/880831ian/go/test ./test.go:6:1: syntax error: non-declaration statement outside function body æˆ‘å€‘å¯ä»¥åœ¨ main å‡½å¼å¤–å®£å‘Šè®Šæ•¸ï¼Œä½†ç„¡æ³•åœ¨ main å‡½å¼å¤–è³¦å€¼ æ²’æœ‰å®£å‘Šå°±ä½¿ç”¨è®Šæ•¸ func main (){ a = 123 b = true fmt.Println(a,b) } $ go run . # github.com/880831ian/go/test ./test.go:6:2: undefined: a ./test.go:7:2: undefined: b ./test.go:8:14: undefined: a ./test.go:8:16: undefined: b ","date":"2022-03-21","objectID":"/go/:4:4","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"Go è³‡æ–™å‹æ…‹ æˆ‘å€‘åœ¨å­¸ç¿’ Go èªè¨€ä¹‹å‰ï¼Œè¦å…ˆäº†è§£ä¸€ä¸‹åŸºæœ¬çš„è³‡æ–™å‹æ…‹ï¼Œå¯ä»¥ç°¡å–®åˆ†ç‚º å­—ä¸²ã€å­—ç¬¦ã€æ•´æ•¸ã€æµ®é»æ•¸ã€å¸ƒæ—å€¼ã€æ˜ å°„ ","date":"2022-03-21","objectID":"/go/:5:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å­—ä¸² String åœ¨ Go èªè¨€ä¸­ï¼Œå­—ä¸²å¿…é ˆç”¨é›™å¼•è™Ÿçµ¦åŒ¡èµ·ä¾†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åå¼•è™Ÿä¾†å®£å‘Šã€‚ç”¨é›™å¼•è™Ÿåˆ®èµ·ä¾†çš„å­—ä¸²ä¸èƒ½åŒ…å«æ›è¡Œï¼Œä½†å¯ä»¥åŒ…å«è·³è„«å­—å…ƒï¼Œä¾‹å¦‚ \\n ã€\\t ã€‚ç”±æ–¼åå¼•è™Ÿå…§åŒ…å«çš„æ˜¯åŸå§‹å­—ä¸²ï¼Œå¯ä»¥è·¨è¶Šå¤šè¡Œï¼Œæ‰€ä»¥è·³è„«ç¬¦è™Ÿåœ¨åŸå§‹å­—ä¸²ä¸­æ²’æœ‰ä»»ä½•å«ç¾©ã€‚ func main() { var name = \"ian\" fmt.Printf(\"è³‡æ–™å‹æ…‹ name : %v(%T)\\n\", name,name) var address = `å°ä¸­å¸‚å¤ªå¹³å€` fmt.Printf(\"è³‡æ–™å‹æ…‹ address : %v(%T)\\n\", address,address) } $ go run . è³‡æ–™å‹æ…‹ name : ian(string) è³‡æ–™å‹æ…‹ address : å°ä¸­å¸‚å¤ªå¹³å€(string) ","date":"2022-03-21","objectID":"/go/:5:1","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å­—ç¬¦ Character å­—ä¸²ä¸­çš„æ¯ä¸€å€‹å…ƒç´ å«åšå­—ç¬¦ï¼Œå­—ç¬¦æœƒä½¿ç”¨å–®å¼•è™ŸåŒ¡èµ·ä¾†ï¼Œåƒæ˜¯ \"abc\" é€™å€‹å­—ä¸²ï¼Œå…¶ä¸­ 'a'ã€'b'ã€'c' å°±æ˜¯å­—ç¬¦ï¼Œå¯ä»¥å¾å­—ä¸²å…ƒç´ ä¸­ä¾†ç²å¾—å­—ç¬¦ã€‚ Go èªè¨€çš„å­—ç¬¦æœ‰ä»¥ä¸‹å…©ç¨®ï¼š ä¸€ç¨®å« byte é¡å‹ï¼Œå¯ä»¥å«åš uint8 é¡å‹ï¼Œä»£è¡¨ ASCll ç¢¼çš„ä¸€å€‹å­—ç¬¦ã€‚ å¦ä¸€ç¨®æ˜¯ rune é¡å‹ï¼Œä»£è¡¨ä¸€å€‹ UTF-8 å­—ç¬¦ï¼Œç•¶éœ€è¦è™•ç†ä¸­æ–‡ã€æ—¥æ–‡æˆ–æ˜¯å…¶ä»–è¤‡åˆå­—ç¬¦æ™‚ï¼Œå°±æœƒä½¿ç”¨åˆ° rune é¡å‹ã€‚rune é¡å‹ç­‰æ–¼ int32 é¡å‹ã€‚ func main (){ var a byte = 'A' var b rune = 'å—¨' fmt.Printf(\"%c %c\\n\",a,b) //%c æ‰€è¡¨ç¤ºçš„å­—ç¬¦ fmt.Printf(\"%d(%T) %d(%T)\\n\",a,a,b,b) //%d åé€²åˆ¶è¡¨ç¤º,%T è¼¸å‡ºå‹æ…‹ fmt.Printf(\"%x %x\\n\",a,b) //%x åå…­é€²åˆ¶è¡¨ç¤º fmt.Printf(\"%U %U\\n\",a,b) //%U è¼¸å‡ºæ ¼å¼ç‚º Unicode æ ¼å¼:U+hhhhçš„å­—ä¸² } $ go run . A å—¨ 65(uint8) 21992(int32) 41 55e8 U+0041 U+55E8 ","date":"2022-03-21","objectID":"/go/:5:2","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"æ•´æ•¸ Integer æ•´æ•¸ç”¨æ–¼å„²å­˜æ•´æ•¸ã€‚ Go å…·æœ‰å¤šç¨®å¤§å°ä¸ä¸€çš„å…§å»ºæ•´æ•¸å‹åˆ¥ï¼Œç”¨ä¾†å„²å­˜æœ‰è™Ÿæ•¸å’Œç„¡è™Ÿæ•¸ã€‚ æœ‰è™Ÿæ•¸ å‹åˆ¥ å¤§å° ç¯„åœ int å–æ±ºå¹³å° å–æ±ºå¹³å° int 8 8 bits -128 åˆ° 127 int 16 16 bits -2^15 åˆ° 2^15-1 int 32 32 bits -2^31 åˆ° 2^31-1 int 64 64 bits -2^63 åˆ° -2^63-1 ç„¡è™Ÿæ•¸ å‹åˆ¥ å¤§å° ç¯„åœ uint å–æ±ºå¹³å° å–æ±ºå¹³å° uint 8 8 bits 0 åˆ° 255 uint 16 16 bits 0 åˆ° 2^16-1 uint 32 32 bits 0 åˆ° 2^32-1 uint 64 64 bits 0 åˆ° -2^64-1 int ã€ uint çš„å‹åˆ¥å¤§å°å–æ±ºæ–¼å¹³å°ã€‚åœ¨ 32 ä½å…ƒç³»çµ±ä¸Šï¼Œå®ƒå¤§å°ç‚º 32 ä½å…ƒï¼Œ64 ä½å…ƒç³»çµ±ä¸Šï¼Œå®ƒçš„å¤§å°ç‚º 64 ä½å…ƒã€‚ ä½¿ç”¨æ•´æ•¸å€¼æ™‚ï¼Œé™¤éç¢ºå®šæœƒç”¨åˆ°çš„å¤§å°è·Ÿç¯„åœæ‰ä½¿ç”¨æœ‰è™Ÿæ•¸åŠç„¡è™Ÿæ•¸ï¼Œå¦å‰‡æ‡‰è©²éƒ½ä½¿ç”¨ int è³‡æ–™å‹åˆ¥ã€‚ func main() { var myInt8 int8 = 97 var myInt = 1200 var myUint uint = 500 var myOctalNumber = 034 var myHexNumber = 0xFF fmt.Printf(\"%d, %d, %d, %#o, %#x\\n\", myInt8, myInt, myUint, myOctalNumber, myHexNumber) } $ go run . 97, 1200, 500, 034, 0xff åœ¨ Go ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‰ç¶´ 0 ä¾†å®£å‘Šå…«é€²åˆ¶æ•¸å­—ï¼Œæˆ–æ˜¯ä½¿ç”¨ 0x ä¾†å®£å‘Šåå…­é€²åˆ¶æ•¸å­—ã€‚ ","date":"2022-03-21","objectID":"/go/:5:3","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"æµ®é»æ•¸ Float æµ®é»æ•¸å‹åˆ¥ç”¨æ–¼å„²å­˜å°æ•¸éƒ¨åˆ†çš„æ•¸å­—ã€‚Go æœ‰å…©ç¨®æµ®é»æ•¸å‹åˆ¥ï¼š float32ï¼šåœ¨è¨˜æ†¶é«”ä¸­ä½”ç”¨32ä½å…ƒï¼Œä¸¦ä»¥å–®ç²¾åº¦æµ®é»æ•¸æ ¼å¼å„²å­˜ã€‚ float64ï¼šåœ¨è¨˜æ†¶é«”ä¸­ä½”ç”¨64ä½å…ƒï¼Œä¸¦ä»¥é›™ç²¾åº¦æµ®é»æ•¸æ ¼å¼å„²å­˜ã€‚ æµ®é»æ•¸çš„é è¨­æ˜¯ float64ï¼Œé™¤éåˆå§‹åŒ–æœ‰ç‚ºæµ®é»æ•¸è®Šæ•¸æŒ‡å®šå‹åˆ¥ï¼Œå¦å‰‡ç·¨è­¯å™¨å°‡åˆ¤å®šç‚º float64ã€‚ func main() { var a = 245.4664 var b float32 = 1452.34 fmt.Printf(\"%f(%T)\\n%f(%T)\\n\", a,a,b,b) } $ go run . 245.466400(float64) 1452.339966(float32) ","date":"2022-03-21","objectID":"/go/:5:4","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å¸ƒæ—å€¼ Bool Go æä¾›äº†ä¸€ç¨®ç¨±ç‚º bool çš„è³‡æ–™å‹åˆ¥ä¾†å„²å­˜å¸ƒæ—å€¼ã€‚å®ƒæœ‰å…©å€‹å¯èƒ½çš„å€¼ï¼štrue å’Œ falseã€‚ func main() { var a = true var b bool = false fmt.Printf(\"%v(%T)\\n%v(%T)\\n\", a,a,b,b) } $ go run . true(bool) false(bool) å¸ƒæ—å‹åˆ¥ä¹Ÿå¯ä»¥ä½¿ç”¨é‹ç®—å­ \u0026\u0026 (èˆ‡,and)ã€|| (å’Œ,or)ã€! (å¦å®š) func main() { var a = 4 \u003c= 7 var b = 10 != 10 var c = 10 \u003e 20 \u0026\u0026 5 == 5 var d = 2 * 2 == 4 || 10 / 3 == 3 fmt.Printf(\"%v\\n%v\\n%v\\n%v\\n\", a,b,c,d) } $ go run . true false false true ","date":"2022-03-21","objectID":"/go/:5:5","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"æ˜ å°„ Map æ˜ å°„ (Map) æ˜¯ Go å…§å»ºçš„é¡å‹ï¼Œæ˜¯ä¸€ç¨®éµå€¼(key-value)çš„é›†åˆï¼Œå¯ä»¥é€é key å¿«é€ŸæŸ¥è©¢ä¸¦æ‰¾åˆ°æ•¸æ“šã€‚ func main (){ var map3 = map[int]string{99 : \"Go\", 87 : \"Python\", 79 : \"Java\", 93: \"Html\"} fmt.Println(map3) fmt.Println(\"map3[99] =\",map3[99],\"map3[79] =\",map3[79]) map3[79] = \"PHP\" fmt.Println(\"ä¿®æ”¹æ•¸æ“šå¾Œï¼Œmap3[99] =\",map3[99],\"map3[79] =\",map3[79]) } map[79:Java 87:Python 93:Html 99:Go] map3[99] = Go map3[79] = Java ä¿®æ”¹æ•¸æ“šå¾Œï¼Œmap3[99] = Go map3[79] = PHP ","date":"2022-03-21","objectID":"/go/:5:6","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"æ•¸å­—å‹åˆ¥çš„é‹ç®— Go æä¾›äº†å¤šç¨®ç”¨æ–¼æ•¸å­—ã€æµ®é»æ•¸å‹åˆ¥åŸ·è¡Œé‹ç®—çš„é‹ç®—å­ ç®—è¡“é‹ç®—å­ï¼š+ã€-ã€*ã€/ã€% æ¯”è¼ƒé‹ç®—å­ï¼š==ã€!=ã€\u003cã€\u003eã€\u003c=ã€\u003e= ä½å…ƒé‹ç®—å­ï¼š\u0026ã€ |ã€ ^ã€ \u003c\u003cã€\u003e\u003e éå¢å’Œéæ¸›é‹ç®—å­ï¼š++ã€-- è³¦å€¼é‹ç®—å­ï¼š+=ã€-=ã€*=ã€/=ã€%=ã€\u003c\u003c=ã€\u003e\u003e=ã€\u0026=ã€|=ã€^= import ( \"fmt\" \"math\" ) func main() { var a, b = 4, 5 var res1 = (a + b) * (a + b) / 2 a++ b += 10 var res2 = a ^ b var r = 3.5 var res3 = math.Pi * r * r fmt.Printf(\"res1 : %v, res2 : %v, res3 : %v\\n\", res1, res2, res3) } res1 : 40, res2 : 10, res3 : 38.48451000647496 ","date":"2022-03-21","objectID":"/go/:5:7","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å‹åˆ¥è½‰æ› Go æœ‰ä¸€å€‹å¼·å‹åˆ¥ç³»çµ±ï¼Œå®ƒä¸å…è¨±æ··åˆå‹åˆ¥ã€‚èˆ‰ä¾‹ä¾†èªªï¼šä¸èƒ½æŠŠ int è®Šæ•¸åŠ åˆ° float64 è®Šæ•¸ä¸­ï¼Œä¹Ÿä¸èƒ½å°‡ int è®Šæ•¸åŠ åˆ° int64 è®Šæ•¸ä¸­ã€‚ func main() { var a int64 = 4 var b int = int(a) var c int = 500 fmt.Println(a, b,a+c) } $ go run . # command-line-arguments ./.:11:19: invalid operation: a + c (mismatched types int64 and int) å°±æœƒè·³å‡ºéŒ¯èª¤èªªæ˜åˆ¥ä¸åŒï¼Œç„¡æ³•ç›´æ¥åšé‹ç®—ï¼Œé‚£è¦æ€éº¼è¾¦å‘¢ï¼ï¼Ÿ ä½¿ç”¨å‹åˆ¥è½‰æ›ï¼Œå°‡å‹åˆ¥å€¼è½‰æˆç›¸åŒçš„ func main() { var a int64 = 4 var b int = int(a) var c int = 500 fmt.Println(a, b,int(a)+c) } $ go run . 4 4 504 ä¸€èˆ¬å°‡å€¼ v è½‰æ›ç‚ºå‹åˆ¥ T çš„èªæ³•æ˜¯ T(V) ã€‚ ","date":"2022-03-21","objectID":"/go/:5:8","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"Go è³‡æ–™çµæ§‹ ","date":"2022-03-21","objectID":"/go/:6:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"æŒ‡æ¨™ Pointer æŒ‡æ¨™æ˜¯ç¨‹å¼èªè¨€ä¸­çš„è³‡æ–™çµæ§‹åŠå…¶ç‰©ä»¶æˆ–è®Šæ•¸ï¼Œç”¨ä¾†è¡¨ç¤ºæˆ–å„²å­˜è¨˜æ†¶é«”ä½å€ï¼Œé€™å€‹ä½å€çš„å€¼ç›´æ¥æŒ‡å‘å­˜åœ¨è©²ä½å€ç‰©ä»¶çš„å€¼ã€‚ Go æ”¯æŒæŒ‡æ¨™ï¼ŒæŒ‡æ¨™çš„è²æ˜æ–¹å¼ç‚º *Tï¼Œå¯ä»¥è—‰ç”±è®Šæ•¸åç¨±å‰é¢åŠ  \u0026 ä¾†ç²å¾—è®Šæ•¸çš„ä½å€ï¼Œç”±æ–¼ Go æ”¯æŒ GC ï¼Œåœ¨ Go èªè¨€ä¸­ä¸æ”¯æŒæŒ‡æ¨™çš„é‹ç®—ã€‚ è¡¨ç¤ºæ³• ä½¿ç”¨ \u0026 ä¾†ç²å¾—æŒ‡æ¨™ä½å€ ä½¿ç”¨ * ä¾†ç²å¾—æŒ‡æ¨™æ‰€æŒ‡å‘çš„å€¼ func main (){ var a int = 2 fmt.Println(\"a ä½å€ = \",\u0026a) fmt.Printf(\"a çš„å€¼ = %v\\n\",a) var pInt *int = \u0026a fmt.Printf(\"pInt = %v\\n\", pInt); fmt.Printf(\"pInt ä½å€ = %v\\n\",\u0026pInt); fmt.Printf(\"pInt æŒ‡å‘çš„å€¼ = %v\\n\",*pInt); } $ go run . a ä½å€ = 0xc0000b2008 a çš„å€¼ = 2 pInt = 0xc0000b2008 pInt ä½å€ = 0xc0000ac020 pInt æŒ‡å‘çš„å€¼ = 2 ","date":"2022-03-21","objectID":"/go/:6:1","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"é™£åˆ— Array æˆ‘å€‘å·²ç¶“å­¸æœƒè¦æ€éº¼å®£å‘Šè®Šæ•¸ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨è®Šæ•¸ä¾†å„²å­˜å€¼ã€‚ä½†ç•¶æˆ‘å€‘ä»Šå¤©æƒ³è¦å„²å­˜å¤šå€‹æ•¸å€¼ï¼Œä½¿ç”¨åŸæœ¬çš„æ–¹å¼ï¼Œéœ€è¦å‰µå»ºè¨±å¤šè®Šæ•¸æ‰èƒ½å„²å­˜ï¼Œå› æ­¤æœ‰äº†é™£åˆ—å¯ä»¥ä¾†å„²å­˜å¤§é‡è³‡æ–™ã€‚ é™£åˆ— (Array) æ˜¯ç”±åŒé¡å‹çš„å…ƒç´ é›†åˆæ‰€çµ„æˆçš„è³‡æ–™çµæ§‹ï¼Œåˆ†é…ä¸€å¡Šé€£çºŒçš„è¨˜æ†¶é«”ä¾†å„²å­˜ã€‚åˆ©ç”¨å…ƒç´ çš„ç´¢å¼•å¯ä»¥è¨ˆç®—å‡ºè©²å…ƒç´ æ‰€å°æ‡‰çš„å„²å­˜ä½å€ã€‚ func main (){ var a [2] float32 a [0] = 1.4 a [1] = 3.14 // ä¹Ÿå¯ä»¥å¯«æˆé€™æ¨£ var b = [] int{10,20,99,333} fmt.Println(a,b) fmt.Println(len(a),len(b)) } $ go run . [1.4 3.14] [10 20 99 333] 2 4 ä¸Šé¢æœ‰æåˆ°ä»–æœƒåˆ†é…é€£çºŒè¨˜æ†¶é«”ä¾†å„²å­˜ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹ä»–æ˜¯æ€éº¼å­˜çš„ï¼ func main (){ a := [...]int{1, 2, 3} fmt.Printf(\"a çš„è¨˜æ†¶é«”åˆ†é…ä½ç½® %p \\n\", \u0026a) fmt.Printf(\"é™£åˆ— a çš„ç´¢å¼• 0 è¨˜æ†¶é«”åˆ†é…ä½ç½® %p \\n\", \u0026a[0]) fmt.Printf(\"é™£åˆ— a çš„ç´¢å¼• 1 è¨˜æ†¶é«”åˆ†é…ä½ç½® %p \\n\", \u0026a[1]) fmt.Printf(\"é™£åˆ— a çš„ç´¢å¼• 2 è¨˜æ†¶é«”åˆ†é…ä½ç½® %p \\n\", \u0026a[2]) } $ go run . a çš„è¨˜æ†¶é«”åˆ†é…ä½ç½® 0xc0000180f0 é™£åˆ— a çš„ç´¢å¼• 0 è¨˜æ†¶é«”åˆ†é…ä½ç½® 0xc0000180f0 é™£åˆ— a çš„ç´¢å¼• 1 è¨˜æ†¶é«”åˆ†é…ä½ç½® 0xc0000180f8 é™£åˆ— a çš„ç´¢å¼• 2 è¨˜æ†¶é«”åˆ†é…ä½ç½® 0xc000018100 ","date":"2022-03-21","objectID":"/go/:6:2","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"åˆ‡ç‰‡ Slice å‰é¢æåˆ°é™£åˆ—çš„ä½¿ç”¨ï¼Œé™£åˆ—ä½¿ç”¨ä¸Šæ˜¯å¯¦å€¼é¡å‹ä»¥åŠé™£åˆ—é•·åº¦ä¸å¯è®Šçš„æƒ…æ³ä¸‹ï¼Œé–“æ¥é™åˆ¶äº†ä½¿ç”¨å ´æ™¯ã€‚ åˆ‡ç‰‡ (slice) æ˜¯ Go å°é™£åˆ—åœ¨é€²è¡Œä¸€å±¤çš„å°è£ï¼Œæ˜¯ä¸€å€‹æ“æœ‰ç›¸åŒé¡å‹å…ƒç´ çš„å¯è®Šé•·åº¦åºåˆ—ï¼Œå¯ä»¥éå¸¸éˆæ´»é‹ç”¨ï¼Œè‡ªå‹•æ“´å®¹ï¼Œå¯ä»¥å¿«é€Ÿä¸”æ–¹ä¾¿çš„æ“ä½œæ•¸æ“šé›†åˆã€‚ func main (){ a := [5]int{55, 75, 58, 60, 66} b := a[1:4] //åŸºæ–¼ a é™£åˆ—å‰µå»ºåˆ‡ç‰‡ï¼Œç­‰æ–¼ b åŒ…å« a[1],a[2],a[3] fmt.Printf(\"%v(%T)\\n\",b,b) fmt.Printf(\"len = %v\\n\",len(b)) fmt.Printf(\"cap = %v\\n\",cap(b)) } [75 58 60]([]int) len = 3 cap = 4 len(b) è¡¨ç¤ºå¯è¦‹å…ƒç´ æœ‰å¹¾å€‹(ç›´æ¥æ‰“å°å…ƒç´ çœ‹åˆ°çš„å…ƒç´ å€‹æ•¸)ï¼Œè€Œ cap(b) è¡¨ç¤ºæ‰€æœ‰å…ƒç´ æœ‰å¹¾å€‹ã€‚ [1:4] ä»£è¡¨å¾ç¬¬äºŒå€‹å…ƒç´ é–‹å§‹ (0ç‚ºç¬¬ä¸€å€‹å…ƒç´ ï¼Œ1ä½ç¬¬äºŒçš„å…ƒç´ )ï¼Œå–åˆ°ç¬¬4å€‹å…ƒç´  (ä¸‹æ¨™ç‚º 4-1=3ï¼Œä¸‹æ¨™3ä»£è¡¨ç¬¬å››å€‹å…ƒç´ ) ä½¿ç”¨ make å‰µå»ºåˆ‡ç‰‡ func main (){ a := make([]int,5,10) //å‰µå»ºé•·åº¦ 5,å®¹é‡ 10 çš„åˆ‡ç‰‡ fmt.Printf(\"a = %v, len(a) = %v, cap(a) = %v\\n\",a,len(a),cap(a)) } a = [0 0 0 0 0], len(a) = 5, cap(a) = 10 ä½¿ç”¨ make å‰µå»ºé•·åº¦5 ,å®¹é‡ 10 çš„åˆ‡ç‰‡ ä½¿ç”¨ append ä¾†é”æˆæ–°å¢å…ƒç´  func main (){ a := make([]int,2,2) //å‰µå»ºé•·åº¦ 5,å®¹é‡ 10 çš„åˆ‡ç‰‡ fmt.Printf(\"a = %v, len(a) = %v, cap(a) = %v\\n\",a,len(a),cap(a)) fmt.Printf(\"æŒ‡æ¨™ç‚º %p\\n\", a) a = append(a, 10) fmt.Printf(\"a = %v, len(a) = %v, cap(a) = %v\\n\",a,len(a),cap(a)) fmt.Printf(\"æ“´å®¹å¾ŒæŒ‡æ¨™ = %p æ”¹è®Š\\n\", a) } a = [0 0], len(a) = 2, cap(a) = 2 æŒ‡æ¨™ç‚º 0xc000014080 a = [0 0 10], len(a) = 3, cap(a) = 4 æ“´å®¹å¾ŒæŒ‡æ¨™ = 0xc000022080 æ”¹è®Š ","date":"2022-03-21","objectID":"/go/:6:3","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"çµæ§‹ Struct æˆ‘å€‘ä»‹ç´¹çš„è®Šæ•¸éƒ½æ˜¯å„²å­˜å–®ä¸€çš„å€¼æˆ–æ˜¯å¤šå€‹ç›¸åŒå‹æ…‹çš„å€¼ï¼Œé‚£å¦‚æœè¦ç”¨è®Šæ•¸è¡¨ç¤ºè¼ƒè¤‡é›œçš„æ¦‚å¿µï¼Œåƒæ˜¯ç´€éŒ„ä¸€å€‹äººçš„åå­—ã€å¹´é½¡æˆ–æ˜¯èº«é«˜æ™‚ï¼Œç”±æ–¼é€™äº›æ˜¯ä¸åŒçš„è³‡æ–™å‹æ…‹ï¼Œæ‰€ä»¥è¦è¨˜éŒ„ä¸‹ä¾†æ™‚ï¼Œå°±å¿…é ˆä½¿ç”¨ä¸åŒçš„å®¹å™¨ï¼Œé€™è£¡æœƒä»‹ç´¹ Go èªè¨€ä¸­çš„çµæ§‹ Structï¼š å»ºç«‹çµæ§‹ type Student struct { Id int Name string Score float64 } func main() { student := Student{1, \"ian\", 89.4} fmt.Println(student) } $ go run . {1 ian 89.4} æˆ‘å€‘å…ˆå®£å‘Šä¸€å€‹åç‚º Student çš„ struct çµæ§‹ï¼Œè£¡é¢å±¬æ€§æœ‰ Id å’Œ Name ä»¥åŠ Scoreï¼Œå†ä»¥æ­¤çµæ§‹å®£å‘Šä¸€å€‹è®Šæ•¸ student ä¸¦å¡«å…¥å±¬æ€§ï¼Œä»¥é¡¯ç¤ºä¸åŒè³‡æ–™å‹æ…‹çš„å€¼ã€‚ ","date":"2022-03-21","objectID":"/go/:6:4","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"Go æ§åˆ¶æµç¨‹ ","date":"2022-03-21","objectID":"/go/:7:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"if çµæ§‹è£¡æœƒæœ‰ä¸€å€‹æ¢ä»¶ï¼Œé€™å€‹æ¢ä»¶æ˜¯å€‹å¸ƒæ—å€¼ï¼Œå¦‚æœç‚º trueï¼Œå‰‡æœƒåŸ·è¡Œæ‹¬è™Ÿè£¡çš„ç¨‹å¼ç¢¼ï¼Œç›¸åçš„ï¼Œå¦‚æœç‚º falseï¼Œå‰‡æœƒç›´æ¥è·³éï¼š func main (){ var x = 2 var y = 1 fmt.Println(\"x = \",x,\",y = \",y) if x==y { fmt.Printf(\"%v ç­‰æ–¼ %v\\n\",x,y) } fmt.Printf(\"%v ä¸ç­‰æ–¼ %v\\n\",x,y) } $ go run . x = 2 ,y = 1 2 ä¸ç­‰æ–¼ 1 ","date":"2022-03-21","objectID":"/go/:7:1","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"switch switch å…¶ç›®çš„æ˜¯ç°¡åŒ– if çš„æ¢ä»¶ï¼Œswtich æœƒæª¢æŸ¥ç¬¦åˆçš„æ¢ä»¶ï¼Œä¸¦ä¸”åŸ·è¡Œæ¢ä»¶å…§çš„ç¨‹å¼ç¢¼ï¼Œå¦‚æœéƒ½æ²’æœ‰ç¬¦åˆï¼Œå‰‡æœƒåŸ·è¡Œ default å…§çš„ç¨‹å¼ç¢¼ï¼š func main (){ x := 12 switch { case x \u003c 10: fmt.Printf(\"%v å°æ–¼ 10\\n\",x) case x \u003c 20: fmt.Printf(\"%v å¤§æ–¼ç­‰æ–¼10, å°æ–¼ 20\\n\",x) default: fmt.Printf(\"%v å¤§æ–¼ 20\\n\",x) } } $ go run . 12 å¤§æ–¼ç­‰æ–¼10, å°æ–¼ 20 ","date":"2022-03-21","objectID":"/go/:7:2","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"Go è¿´åœˆ è¿´åœˆæ˜¯æ¯å€‹ç¨‹å¼èªè¨€å¿…å‚™çš„å‡½å¼ï¼Œè—‰ä»¥è¿´åœˆä¾†é”æˆåè¦†æˆ–æ˜¯å¾ªç’°çš„å‹•ä½œã€‚è€Œ Go èªè¨€çš„è¿´åœˆåªæœ‰ä½¿ç”¨ for è¿´åœˆä¾†è¡¨é”ä¸‰ç¨®ä¸åŒçš„è¿´åœˆ (forã€whileã€loop)ï¼š func main (){ for i := 0 ; i \u003c= 10 ; i++ { fmt.Println(i) } } $ go run . 0 1 2 3 4 5 6 7 8 9 10 break ä¹Ÿå¯ä»¥ä½¿ç”¨ breakï¼Œä¾æ¢ä»¶éœ€æ±‚è®“è¿´åœˆææ—©è·³å‡ºçµæŸï¼š func main (){ for i := 0 ; i \u003c= 5 ; i++ { if i \u003e 3 { break } fmt.Println(i) } } $ go run . 0 1 2 3 Continue æˆ–æ˜¯ä½¿ç”¨ continue è‹¥ç¬¦åˆæ¢ä»¶ï¼Œä¾¿æœƒè·³éåˆ°æ­¤è¿´åœˆï¼Œç›´æ¥é€²å…¥ä¸‹å€‹è¿­ä»£ï¼š func main (){ for i := 1; i \u003c= 10; i++ { if i%2 == 0 { continue } fmt.Println(i) } } $ go run . 1 3 5 7 9 GoTo ä½¿ç”¨ goto å¯ä»¥ç„¡æ¢ä»¶è½‰ç§»åˆ°ç¨‹å¼ä¸­æŒ‡å®šçš„è¡Œ func main (){ fmt.Println(\"1\") fmt.Println(\"2\") goto labele1 fmt.Println(\"3\") labele1: fmt.Println(\"4\") fmt.Println(\"5\") fmt.Println(\"6\") } $ go run . 1 2 4 5 6 ","date":"2022-03-21","objectID":"/go/:8:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"Go æ–¹æ³• Method Go èªè¨€ä¸åƒ Python æœ‰ class ï¼Œä½†é‚„æ˜¯æœ‰æä¾›å¯ä»¥åœ¨æŸç¨®å‹æ…‹ä¸Šå®šç¾©æ–¹æ³•(method)ï¼Œmethod å…¶å¯¦æ˜¯ä½œç”¨åœ¨æ¥æ”¶å™¨ (receiver) ä¸Šçš„ä¸€ç¨®å‡½å¼ï¼Œæ¥æ”¶å™¨è¦æ˜¯æŸä¸€ç¨®å‹åˆ¥çš„è®Šæ•¸ï¼Œæ‰€ä»¥å…¶å¯¦ method ä¹Ÿç®—æ˜¯ä¸€ç¨®ç‰¹æ®Šå‹åˆ¥çš„å‡½å¼ã€‚ type Vertex struct { x,y float64 } func (v Vertex) Abs() float64 { return math.Sqrt(v.x * v.x + v.y * v.y) } func main() { v := Vertex{5,12} fmt.Println(v.Abs()) } $ go run . 13 ä¸€é–‹å§‹å…ˆå®£å‘Šä¸€å€‹åç‚º Vertex çµæ§‹å‹æ…‹ï¼Œè£¡é¢çš„å±¬æ€§åŒ…å« ï½˜ã€y (float64)ï¼Œæ¥è‘—å°±æ˜¯æ’°å¯«ä¸€å€‹ method äº†ï¼Œé€™å€‹ method æ˜¯ä»¥ Vertex ä½œç‚ºæ¥æ”¶å™¨ï¼Œ method åç¨±æ˜¯ Absï¼Œæœ€å¾Œå›å‚³æµ®é»æ•¸ï¼Œæ¥è‘— method è£¡é ­ï¼Œå³ç‚ºå°æ¥æ”¶å™¨çš„é‹ç®—ä¸¦å›å‚³å€¼ã€‚ æˆ‘å€‘ä¾†çœ‹çœ‹å¦‚æœä½¿ç”¨ function è¦æ€éº¼ä¾†é”æˆ æ–¹æ³• (Method) vs å‡½å¼ (Function) type Vertex struct { x, y float64 } func Abs(v Vertex) float64{ return math.Sqrt(v.x * v.x + v.y * v.y) } func main () { v := Vertex{5,12} fmt.Println(Abs(v)) } $ go run . 13 ","date":"2022-03-21","objectID":"/go/:9:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"Go ä»‹é¢ Interface Interface çš„æ¦‚å¿µæœ‰é»åƒæ˜¯è—åœ–ï¼Œå…ˆå®šç¾©æŸå€‹æ–¹æ³•çš„åç¨± (function name)ã€æœƒæ¥æ”¶åˆ°çš„åƒæ•¸ä»¥åŠå‹åˆ¥ (list of argument types)ã€æœƒå›å‚³çš„å€¼èˆ‡å‹åˆ¥ (list of return types)ã€‚å®šç¾©å¥½è—åœ–ä¹‹å¾Œï¼Œä¸¦ä¸ç”¨å»ç®¡å¯¦ä½œçš„ç´°ç¯€ï¼Œå¯¦ä½œçš„ç´°ç¯€æœƒç”±æ¯å€‹å‹åˆ¥è‡ªè¡Œå®šç¾©å¯¦ä½œã€‚ empty interface æ²’æœ‰å®šç¾©ä»»ä½•æ–¹æ³•çš„ interface ç¨±ä½œ empty interfaceï¼Œç”±æ–¼æ‰€æœ‰çš„ types éƒ½èƒ½å¤ å¯¦ä½œ empty interfaceï¼Œå› æ­¤å®ƒçš„å€¼æœƒæ˜¯ any typeï¼š(å› ç‚ºç›®å‰æ²’æœ‰è¢«è³¦å€¼ï¼Œæ‰€ä»¥éƒ½æœƒå›å‚³ nil) type value interface{} func main() { var v value describe(v) // (\u003cnil\u003e, \u003cnil\u003e) v = 42 describe(v) //(42, int) v = \"hello\" describe(v) // (hello, string) } func describe(v value) { fmt.Printf(\"(%v, %T)\\n\", v, v) } $ go run . value is \u003cnil\u003e type is \u003cnil\u003e type Person interface { getFullName() string getSalary() int } type Employee struct { firstName string lastName string salary int } func (e Employee) getFullName() string { return e.firstName + \" \" + e.lastName } func (e Employee) getSalary() int { return e.salary } func main() { var p Person = Employee{\"ian\", \"Zhuang\", 2000} fmt.Printf(\"full name : %v ,Salary : %v\\n\", p.getFullName(),p.getSalary()) } $ go run . full name : ian Zhuang ,Salary : 2000 ","date":"2022-03-21","objectID":"/go/:10:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"Goroutine æœ‰äººæŠŠ Go æ¯”ä½œ 21 ä¸–ç´€çš„ C èªè¨€ï¼Œç¬¬ä¸€æ˜¯å› ç‚º Go èªè¨€è¨­è¨ˆç°¡å–®ï¼Œç¬¬äºŒï¼Œ21 ä¸–ç´€æœ€é‡è¦çš„å°±æ˜¯ä¸¦è¡Œç¨‹å¼è¨­è¨ˆï¼Œè€Œ Go å¾èªè¨€å±¤é¢å°±æ”¯æ´äº†ä½µç™¼ã€‚ Goroutine æ˜¯ Go èªè¨€å¯¦ç¾ä½µç™¼çš„ä¸€ç¨®æ–¹å¼ã€‚ Goroutine æ˜¯ä¸€ç¨®éå¸¸è¼•é‡ç´šçš„åŸ·è¡Œç·’ï¼Œå®ƒæ˜¯Goèªè¨€ä½µç™¼è¨­è¨ˆçš„æ ¸å¿ƒã€‚åŸ·è¡Œ Goroutine åªéœ€æ¥µå°‘çš„è¨˜æ†¶é«”ï¼Œå¯åŒæ™‚åŸ·è¡Œæˆåƒä¸Šè¬å€‹ä½µç™¼çš„ä»»å‹™ã€‚ ","date":"2022-03-21","objectID":"/go/:11:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å–®åŸ·è¡Œç·’ æˆ‘å€‘å…ˆä¾†çœ‹çœ‹ä¸€èˆ¬çš„å–®åŸ·è¡Œç·’ func say(s string) { for i := 0; i \u003c 2; i++ { time.Sleep(100 * time.Millisecond) fmt.Println(s) } } func main() { say(\"world\") say(\"hello\") } $ go run . world world hello hello åœ¨å–®åŸ·è¡Œç·’ä¸‹ï¼Œæ¯è¡Œç¨‹å¼ç¢¼éƒ½æœƒä¾ç…§é †åºåŸ·è¡Œã€‚ å–®åŸ·è¡Œç·’ (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹)\" å–®åŸ·è¡Œç·’ (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹) ","date":"2022-03-21","objectID":"/go/:11:1","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"å¤šåŸ·è¡Œç·’ åœ¨å¤šåŸ·è¡Œç·’ä¸‹ï¼Œæœ€å¤šå¯ä»¥åŒæ™‚åŸ·è¡Œèˆ‡ CPU æ•¸ç›¸ç­‰çš„ Goroutineã€‚è¦å¦‚ä½•ä½¿ç”¨å¤šåŸ·è¡Œç·’ï¼Œä½¿ç”¨ goroutine ä¾†åŸ·è¡Œå¤šä½µç™¼ï¼Œåªè¦ä½¿ç”¨ go é€™å€‹é—œéµå­—ä¾†åŸ·è¡Œ func å°±å¯ä»¥äº† ! func say(s string) { for i := 0; i \u003c 2; i++ { time.Sleep(100 * time.Millisecond) fmt.Println(s) } } func main() { go say(\"world\") say(\"hello\") } $ go run . hello world world hello å¦‚æ­¤ä¸€ä¾†, say(\"world\") æœƒè·‘åœ¨å¦ä¸€å€‹åŸ·è¡Œç·’(Goroutine)ä¸Šï¼Œä½¿å…¶ä¸¦è¡ŒåŸ·è¡Œã€‚ å¤šåŸ·è¡Œç·’ (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹)\" å¤šåŸ·è¡Œç·’ (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹) ","date":"2022-03-21","objectID":"/go/:11:2","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"ç­‰å¾… å¤šåŸ·è¡Œç·’ä¸‹ï¼Œç¶“å¸¸éœ€è¦è™•ç†çš„æ˜¯åŸ·è¡Œç·’ä¹‹é–“çš„ç‹€æ…‹ç®¡ç†ï¼Œå…¶ä¸­ä¸€å€‹ç¶“å¸¸ç™¼ç”Ÿçš„äº‹æƒ…æ˜¯ç­‰å¾…ã€‚ ä¾‹å¦‚AåŸ·è¡Œç·’éœ€è¦ç­‰BåŸ·è¡Œç·’è¨ˆç®—ä¸¦å–å¾—è³‡æ–™å¾Œæ‰èƒ½ç¹¼çºŒå¾€ä¸‹åŸ·è¡Œï¼Œåœ¨é€™æƒ…æ³ä¸‹ç­‰å¾…å°±è®Šå¾—ååˆ†é‡è¦ã€‚æˆ‘å€‘æœƒä»‹ç´¹ä¸‰å€‹ç­‰å¾…çš„æ–¹å¼ï¼Œä¸¦èªªæ˜å…¶ç¼ºé»ã€‚ time.sleepï¼šä¼‘çœ æŒ‡å®šæ™‚é–“ sync.WaitGroupï¼šç­‰å¾…ç›´åˆ°æŒ‡å®šæ•¸é‡çš„ Done() å‘¼å« Channel é˜»å¡ï¼š Channel é˜»å¡æ©Ÿåˆ¶ï¼Œä½¿ç”¨æ¥æ”¶æ™‚ç­‰å¾…çš„ç‰¹æ€§é¿å…åŸ·è¡Œç·’ç¹¼çºŒåŸ·è¡Œ time.sleep ä½¿ Goroutine ä¼‘çœ ï¼Œè®“å…¶ä»–çš„ Goroutine åœ¨ main çµæŸå‰æœ‰æ™‚é–“åŸ·è¡Œå®Œæˆã€‚ func say(s string) { for i := 0; i \u003c 2; i++ { fmt.Println(s) } } func main() { go say(\"world\") go say(\"hello\") time.Sleep(5 * time.Second) } $ go run . world world hello hello ç¼ºé»ï¼šä¼‘æ¯æŒ‡å®šæ™‚é–“å¯èƒ½æœƒæ¯” Goroutine éœ€è¦åŸ·è¡Œçš„æ™‚é–“é•·æˆ–çŸ­ï¼Œå¤ªé•·æœƒè€—è²»å¤šé¤˜çš„æ™‚é–“ï¼Œå¤ªçŸ­æœƒä½¿å…¶ä»– Goroutine ç„¡æ³•å®Œæˆã€‚ time.sleep (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹)\" time.sleep (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹) sync.WaitGroup func say(s string, wg *sync.WaitGroup) { defer wg.Done() for i := 0; i \u003c 2; i++ { time.Sleep(100 * time.Millisecond) fmt.Println(s) } } func main() { wg := new(sync.WaitGroup) wg.Add(2) go say(\"world\", wg) go say(\"hello\", wg) wg.Wait() } $ go run . hello world world hello åœ¨ç¨‹å¼ç¢¼å°¾ç«¯åŠ ä¸Š wg.Wait()ï¼Œéœ€è¦è®“ä»–é”æˆä¸€äº›æ¢ä»¶ï¼Œæ‰å¯ä»¥å¾€å¾ŒåŸ·è¡Œï¼Œè€Œé€™å€‹æ¢ä»¶ï¼Œå°±æ˜¯æ”¶åˆ° wg.Done() çš„å‘¼å«æ¬¡æ•¸ã€‚è€Œé€™å€‹æ¬¡æ•¸ï¼Œå³æ˜¯ wg.Add(2) è£¡çš„æ•¸å­—2ã€‚ å„ªé»ï¼šé¿å…æ™‚é–“é ä¼°çš„éŒ¯èª¤ ç¼ºé»ï¼šéœ€è¦æ‰‹å‹•é…ç½®å°æ‡‰çš„æ•¸é‡ sync.WaitGroup (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹)\" sync.WaitGroup (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹) Channel é˜»å¡ Channel åŸç‚º Goroutine æºé€šæ™‚ä½¿ç”¨çš„ï¼Œä½†å› å…¶é˜»å¡çš„ç‰¹æ€§ï¼Œä½¿å…¶å¯ä»¥ç•¶ä½œç­‰å¾… Goroutine çš„æ–¹æ³•ã€‚ func say(s string, c chan string) { for i := 0; i \u003c 2; i++ { time.Sleep(100 * time.Millisecond) fmt.Println(s) } c \u003c- \"FINISH\" } func main() { ch := make(chan string) go say(\"world\", ch) go say(\"hello\", ch) \u003c-ch \u003c-ch } $ go run . hello world hello world å…©å€‹ Goroutine ( say(\"world\", ch) ã€ say(\"hello\", ch) ) ï¼Œå› æ­¤éœ€è¦ç­‰å¾…å…©å€‹ FINISH æ¨å…¥ Channel ä¸­æ‰èƒ½çµæŸ Main Goroutineã€‚ å„ªé»ï¼šé¿å…æ™‚é–“é ä¼°çš„éŒ¯èª¤ã€èªæ³•ç°¡æ½” Channel é˜»å¡ (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹)\" Channel é˜»å¡ (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹) ","date":"2022-03-21","objectID":"/go/:11:3","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"Channel Channel æœ‰å…©å€‹å¼·å¤§çš„è™•ç†èƒ½åŠ›ï¼Œç­‰å¾…ä»¥åŠè®Šæ•¸å…±äº«ã€‚Channel å¯ä»¥æƒ³æˆä¸€æ¢ç®¡ç·šï¼Œé€™æ¢ç®¡ç·šå¯ä»¥æ¨å…¥æ•¸å€¼ï¼Œä¸¦ä¸”ä¹Ÿå¯ä»¥å°‡æ•¸å€¼æ‹‰å–å‡ºä¾†ã€‚ å› ç‚º Channel æœƒç­‰å¾…è‡³å¦ä¸€ç«¯å®Œæˆæ¨å…¥/æ‹‰å‡ºçš„å‹•ä½œå¾Œæ‰æœƒç¹¼çºŒå¾€ä¸‹è™•ç†ï¼Œé€™æ¨£çš„ç‰¹æ€§ä½¿å…¶å¯ä»¥åœ¨ Goroutines é–“å¯ä»¥åŒæ­¥çš„è™•ç†è³‡æ–™æˆ–æ˜¯å‰›å‰›æåˆ°çš„ç­‰å¾… Channel åŸºæœ¬æ“ä½œ ch := make(chan int) //å‰µå»ºä¸€å€‹Channel ch ch \u003c- u //å°‡å€¼uå‚³é€åˆ° Channel chè£¡ v := \u003c- ch //å¾Channel chä¸­æ¥æ”¶æ•¸æ“š ï¼Œä¸¦ä¸”å°‡å…¶è³¦å€¼çµ¦è®Šæ•¸v close(ch) //é—œé–‰channel å¤šåŸ·è¡Œç·’ä¸‹çš„å…±äº«è®Šæ•¸ åœ¨åŸ·è¡Œç·’é–“ä½¿ç”¨åŒæ¨£çš„è®Šæ•¸æ™‚ï¼Œæœ€é‡è¦çš„æ˜¯ç¢ºä¿è®Šæ•¸åœ¨ç•¶å‰çš„æ­£ç¢ºæ€§ï¼Œåœ¨æ²’æœ‰æ§åˆ¶çš„æƒ…æ³ä¸‹æ¥µæœ‰å¯èƒ½ç™¼ç”Ÿå•é¡Œã€‚ func main() { total := 0 for i := 0; i \u003c 1000; i++ { go func() { total++ }() } time.Sleep(time.Second) fmt.Println(total) } $ go run . 986 ç‚ºä»€éº¼æœƒæ˜æ˜æ˜¯ç”¨for è·‘ 1000 ç´¯åŠ ï¼Œä½†æœ€å¾Œåªæœ‰ 900 å¤šå‘¢ï¼Ÿæˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ å¤šåŸ·è¡Œç·’ä¸‹çš„å…±äº«è®Šæ•¸ - éŒ¯èª¤ (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹)\" å¤šåŸ·è¡Œç·’ä¸‹çš„å…±äº«è®Šæ•¸ - éŒ¯èª¤ (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹) å‡è¨­ç›®å‰åŠ åˆ°28ï¼Œåœ¨å¤šåŸ·è¡Œç·’çš„æƒ…æ³ä¸‹ï¼š goroutine1 å–å€¼ 28 åšé‹ç®— goroutine2 æœ‰å¯èƒ½åœ¨ goroutine1 åš total++ å‰å°±å– total çš„å€¼ï¼Œå› æ­¤æœ‰å¯èƒ½å–åˆ° 28 é€™æ¨£çš„æƒ…æ³ä¸‹åšå…©æ¬¡åŠ æ³•çš„çµæœæœƒæ˜¯ 29 è€Œé 30 åœ¨å¤šå€‹ goroutine è£¡å°åŒä¸€å€‹è®Šæ•¸totalåšåŠ æ³•é‹ç®—ï¼Œåœ¨è³¦å€¼æ™‚ç„¡æ³•ç¢ºä¿å…¶ç‚ºå®‰å…¨çš„è€Œå°è‡´é‹ç®—éŒ¯èª¤ï¼Œæ­¤å•é¡Œç¨±ç‚º ç«¶çˆ­å±å®³ (Race condition)ã€‚ ä½¿ç”¨ Channel ä¾†ä¿è­‰è®Šæ•¸çš„å®‰å…¨æ€§ func main() { total := 0 ch := make(chan int, 1) ch \u003c- total for i := 0; i \u003c 1000; i++ { go func() { ch \u003c- \u003c-ch + 1 }() } time.Sleep(time.Second) fmt.Println(\u003c-ch) } $ go run . 1000 goroutine1 æ‹‰å‡º total å¾Œï¼ŒChannel ä¸­æ²’æœ‰è³‡æ–™äº† å› ç‚º Channel ä¸­æ²’æœ‰è³‡æ–™ï¼Œå› æ­¤é€ æˆ goroutine2 ç­‰å¾… goroutine1 è¨ˆç®—å®Œæˆå¾Œï¼Œå°‡ total æ¨å…¥ Channel goroutine2 ç­‰åˆ° Channel ä¸­æœ‰è³‡æ–™ï¼Œæ‹‰å‡ºå¾ŒçµæŸç­‰å¾…ï¼Œç¹¼çºŒåšé‹ç®— å¤šåŸ·è¡Œç·’ä¸‹çš„å…±äº«è®Šæ•¸ - Channel (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹)\" å¤šåŸ·è¡Œç·’ä¸‹çš„å…±äº«è®Šæ•¸ - Channel (Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹) ","date":"2022-03-21","objectID":"/go/:12:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Go å®˜ç¶² golangå¾Œç«¯å…¥é–€åˆ†äº« å¾ä¸€çŸ¥åŠè§£åˆ°ç•¥æ‡‚ Go modules 30å¤©å°±Go(3)ï¼šæ“ä½œæŒ‡ä»¤åŠHello World! Golang åŸºæœ¬å‹åˆ¥ã€é‹ç®—å­å’Œå‹åˆ¥è½‰æ› Goèªè¨€å­—ç¬¦é¡å‹ï¼ˆbyteå’Œruneï¼‰ golangåˆæ¢ Go çš„ä¸¦ç™¼ï¼šGoroutine èˆ‡ Channel ä»‹ç´¹ ","date":"2022-03-21","objectID":"/go/:13:0","tags":["Go","å¯¦ä½œ","ä»‹ç´¹"],"title":"Go ä»‹ç´¹","uri":"/go/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Docker ? Docker æ˜¯ä¸€ç¨®è»Ÿé«”å¹³å°ï¼Œå®ƒå¯ä»¥å¿«é€Ÿå»ºç«‹ã€æ¸¬è©¦å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚ç‚ºä»€éº¼å¯ä»¥å¿«é€Ÿå»ºç«‹å‘¢ï¼Ÿå› ç‚º Docker æœƒå°‡è»Ÿé«”å°è£åˆ°åç‚ºã€å®¹å™¨ã€çš„æ¨™æº–å–®ä½ã€‚å…¶ä¸­æœƒåŒ…å«ç¨‹å¼åº«ã€ç³»çµ±å·¥å…·ã€ç¨‹å¼ç¢¼ã€åŸ·è¡Œè»Ÿé«”æ‰€éœ€çš„æ‰€æœ‰é …ç›®ã€‚ å‰›å‰›æœ‰æåˆ°å®¹å™¨ (Container)ï¼Œæ˜¯ä¸€ç¨®è™›æ“¬åŒ–æŠ€è¡“ï¼Œå®ƒé«˜æ•ˆç‡è™›æ“¬åŒ–åŠæ˜“æ–¼é·ç§»å’Œæ“´å±•çš„ç‰¹æ€§ï¼Œéå¸¸é©åˆç¾ä»£é›²ç«¯çš„é–‹ç™¼åŠä½ˆç½²ã€‚é‚£ Container èˆ‡å‚³çµ±çš„è™›æ“¬æ©Ÿæœ‰ä»€éº¼å·®åˆ¥å‘¢ï¼Ÿæˆ‘å€‘ä¾†çœ‹çœ‹ä¸‹é¢é€™å¼µåœ– Container èˆ‡ VM çš„å·®ç•°\" Container èˆ‡ VM çš„å·®ç•° å¯ä»¥çœ‹åˆ° Container æ˜¯ä»¥æ‡‰ç”¨ç¨‹å¼ç‚ºå–®ä½ï¼Œè€Œ VM å‰‡æ˜¯ä»¥ä½œæ¥­ç³»çµ±ç‚ºå–®ä½ã€‚Container æ˜¯ä¸€å€‹å°è£äº†ç›¸ä¾æ€§è³‡æºèˆ‡æ‡‰ç”¨ç¨‹å¼çš„åŸ·è¡Œç’°å¢ƒ ; VM å‰‡æ˜¯ä¸€å€‹é…ç½®å¥½ CPUã€RAM èˆ‡ Storage çš„ä½œæ¥­ç³»çµ±ï¼Œç‚ºäº†æ›´å¥½çš„åšå€åˆ¥ï¼Œæˆ‘æŠŠ Containerã€VM å…©å€‹å·®åˆ¥ç”¨è¡¨æ ¼ä¾†èªªæ˜ï½ å€åˆ¥æ¯”è¼ƒ Container VM å–®ä½ æ‡‰ç”¨ç¨‹å¼ ä½œæ¥­ç³»çµ± é©ç”¨æœå‹™ å¤šä½¿ç”¨æ–¼å¾®æœå‹™ ä½¿ç”¨è¼ƒå¤§å‹çš„æœå‹™ ç¡¬é«”è³‡æº æ˜¯ä»¥ç¨‹å¼ç‚ºå–®ä½ï¼Œéœ€è¦çš„ç¡¬é«”è³‡æºå¾ˆå°‘ VM æœƒå…ˆä½”ç”¨ CPUã€RAM ç­‰ç­‰ç¡¬é«”è³‡æºï¼Œä¸ç®¡æœ‰æ²’æœ‰ä½¿ç”¨éƒ½æœƒå…ˆä½”ç”¨ é€ æˆè¡çª Container é–“æ˜¯å½¼æ­¤éš”é›¢çš„ï¼Œå› æ­¤åœ¨åŒä¸€å°æ©Ÿå™¨å¯ä»¥åŸ·è¡Œä¸åŒç‰ˆæœ¬çš„æœå‹™ æœƒå› ç‚ºç‰ˆæœ¬ä¸åŒé€ æˆç’°å¢ƒè¡çª ç³»çµ±æ”¯æ´æ•¸é‡ å–®æ©Ÿæ”¯æ´ä¸Šåƒå€‹å®¹å™¨ ä¸€èˆ¬æœ€å¤šå¹¾åå€‹ å„ªé» 1 . Image è¼ƒå°ï¼Œé€šå¸¸éƒ½å¹¾MB 2 . å•Ÿå‹•é€Ÿåº¦å¿«ï¼Œé€šå¸¸å¹¾ç§’å°±å¯ä»¥ç”Ÿæˆä¸€å€‹ Container 3 . æ›´æ–°è¼ƒç‚ºå®¹æ˜“ï¼Œåªéœ€è¦åˆ©ç”¨æ–°çš„ Image é‡æ–°å•Ÿå‹•å°±æœƒæ›´æ–°äº† 1 . å› ç‚ºç¡¬é«”å±¤ä»¥ä¸Šéƒ½è™›æ“¬åŒ–ï¼Œå› æ­¤å®‰å…¨æ€§ç›¸å°è¼ƒé«˜ 2 . ç³»çµ±é¸æ“‡è¼ƒå¤šï¼Œåœ¨ VM å¯ä»¥é¸æ“‡ä¸åŒçš„OS 3 . ä¸éœ€è¦é™ä½æ‡‰ç”¨ç¨‹å¼å…§æœå‹™çš„è€¦åˆæ€§ï¼Œä¸éœ€è¦å°‡ç¨‹å¼å…§çš„æœå‹™å€‹åˆ¥æ‹†é–‹ä¾†éƒ¨ç½² ç¼ºé» 1 . å®‰å…¨æ€§è¼ƒ VM å·®ï¼Œå› ç‚ºç’°å¢ƒèˆ‡ç¡¬é«”éƒ½èˆ‡æœ¬æ©Ÿå…±ç”¨ 2 . åœ¨åŒä¸€å°æ©Ÿå™¨ä¸­ï¼Œæ¯ä¸€å€‹ Container çš„ OS éƒ½æ˜¯ç›¸åŒçš„ï¼Œç„¡æ³•ä¸€å€‹ç‚º Windowsã€ä¸€å€‹ç‚º Linuxï¼Œé‚„æ˜¯ä¾è³´ Host OS 3 . Container é€šå¸¸æœƒåˆ‡æˆå¾®æœå‹™çš„æ–¹å¼ä½œéƒ¨ç½²ï¼Œåœ¨å„å…ƒä»¶ä¸­çš„ç¶²è·¯é€£çµæœƒæ¯”è¼ƒè¤‡é›œ 1 . Image çš„å¤§å°é€šå¸¸ GB ä»¥ä¸Šï¼Œæ¯” Container å¤§å¾ˆå¤š 2 . å•Ÿå‹•é€Ÿåº¦é€šå¸¸è¦èŠ±å¹¾åˆ†é˜ï¼Œå› æ­¤æœå‹™é‡å•Ÿé€Ÿåº¦è¼ƒæ…¢ 3 . è³‡æºä½¿ç”¨è¼ƒå¤šï¼Œå› ç‚ºä¸åªç¨‹å¼æœ¬èº«ï¼Œé‚„è¦å°‡ä¸€éƒ¨åˆ†è³‡æºåˆ†çµ¦ VM çš„ä½œæ¥­ç³»çµ± ç¸½çµ æ›´å¿«é€Ÿçš„äº¤ä»˜å’Œéƒ¨ç½²ï¼šå°æ–¼é–‹ç™¼å’Œç¶­é‹äººå“¡ä¾†èªªï¼Œæœ€å¸Œæœ›å°±æ˜¯ä¸€æ¬¡å»ºç«‹æˆ–è¨­å®šï¼Œå¯ä»¥å†ä»»æ„åœ°æ–¹æ­£å¸¸é‹è¡Œã€‚é–‹ç™¼è€…å¯ä»¥ä½¿ç”¨ä¸€å€‹æ¨™æº–çš„æ˜ åƒæª”ä¾†å»ºç«‹ä¸€å¥—é–‹ç™¼å®¹å™¨ï¼Œé–‹ç™¼å®Œæˆä¹‹å¾Œï¼Œç¶­é‹äººå“¡å¯ä»¥ç›´æ¥ä½¿ç”¨é€™å€‹å®¹å™¨ä¾†éƒ¨ç½²ç¨‹å¼ã€‚Docker å®¹å™¨å¾ˆè¼•å¾ˆå¿«ï¼å®¹å™¨çš„å•Ÿå‹•æ™‚é–“éƒ½æ˜¯å¹¾ç§’ä¸­çš„äº‹æƒ…ï¼Œå¤§é‡åœ°ç¯€ç´„é–‹ç™¼ã€æ¸¬è©¦ã€éƒ¨ç½²çš„æ™‚é–“ã€‚ æ›´æœ‰æ•ˆç‡çš„è™›æ“¬åŒ–ï¼šDocker å®¹å™¨çš„åŸ·è¡Œä¸éœ€è¦é¡å¤–çš„è™›æ“¬åŒ–æ”¯æ´ï¼Œå®ƒæ˜¯æ ¸å¿ƒå±¤ç´šçš„è™›æ“¬åŒ–ï¼Œå› æ­¤å¯ä»¥å¯¦ä½œæ›´é«˜çš„æ•ˆèƒ½å’Œæ•ˆç‡ã€‚ æ›´è¼•é¬†çš„é·ç§»å’Œæ“´å±•ï¼šDocker å®¹å™¨å¹¾ä¹å¯ä»¥åœ¨ä»»æ„çš„å¹³å°ä¸ŠåŸ·è¡Œï¼ŒåŒ…æ‹¬å¯¦é«”æ©Ÿå™¨ã€è™›æ“¬æ©Ÿã€å…¬æœ‰é›²ã€ç§æœ‰é›²ã€å€‹äººé›»è…¦ã€ä¼ºæœå™¨ç­‰ã€‚ é€™ç¨®å…¼å®¹æ€§å¯ä»¥è®“ä½¿ç”¨è€…æŠŠä¸€å€‹æœå‹™å¾ä¸€å€‹å¹³å°ç›´æ¥é·ç§»åˆ°å¦å¤–ä¸€å€‹ã€‚ æ›´ç°¡å–®çš„ç®¡ç†ï¼šä½¿ç”¨ Dockerï¼Œåªéœ€è¦å°å°çš„ä¿®æ”¹ï¼Œå°±å¯ä»¥æ›¿ä»£ä»¥å¾€å¤§é‡çš„æ›´æ–°å·¥ä½œã€‚æ‰€æœ‰çš„ä¿®æ”¹éƒ½ä»¥å¢é‡çš„æ–¹å¼è¢«åˆ†ç™¼å’Œæ›´æ–°ï¼Œå¾è€Œå¯¦ä½œè‡ªå‹•åŒ–ä¸¦ä¸”æœ‰æ•ˆç‡çš„ç®¡ç†ã€‚ ","date":"2022-03-14","objectID":"/docker/:1:0","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"Docker åŸºæœ¬æ¦‚å¿µ æ˜ åƒæª” (Image) å®¹å™¨ (Container) å€‰åº« (Repository) é€™ä¸‰å€‹æ˜¯ Docker æœ€åŸºæœ¬çš„çµ„æˆï¼Œäº†è§£å¾Œå°±å¯ä»¥çŸ¥é“æ•´å€‹ Docker çš„ç”Ÿå‘½é€±æœŸã€‚ ","date":"2022-03-14","objectID":"/docker/:2:0","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"æ˜ åƒæª” (Image) Docker æ˜ åƒæª”æ˜¯ä¸€å€‹å”¯ç¨çš„æ¨¡æ¿ã€‚ ä¾‹å¦‚ï¼šä¸€å€‹æ˜ åƒæª”å¯åœ¨åŒ…å«ä¸€å€‹å®Œæ•´çš„ Linux ä½œæ¥­ç³»çµ±ç’°å¢ƒï¼Œè£¡é¢å¯ä»¥åªå®‰è£ Nginx æˆ–ä½¿ç”¨è€…æœƒä½¿ç”¨åˆ°çš„å…¶ä»–æ‡‰ç”¨ç¨‹å¼ã€‚ æˆ‘å€‘æœƒä½¿ç”¨æ˜ åƒæª”ä¾†å»ºç«‹ Docker çš„å®¹å™¨ (Container) ï¼ŒDocker ä¹Ÿæä¾›å¾ˆç°¡å–®çš„æ©Ÿåˆ¶ä¾†å»ºç«‹æ˜ åƒæª”æˆ–æ˜¯æ›´æ–°ç¾æœ‰çš„æ˜ åƒæª”ï¼Œä¹Ÿå¯ä»¥å»ä¸‹è¼‰åˆ¥äººå·²ç¶“åšå¥½çš„æ˜ åƒæª”ã€‚ ","date":"2022-03-14","objectID":"/docker/:2:1","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"å®¹å™¨ (Container) Docker æ˜¯åˆ©ç”¨å®¹å™¨ä¾†åŸ·è¡Œæ‡‰ç”¨ç¨‹å¼ã€‚ æ¯ä¸€å€‹å®¹å™¨éƒ½æ˜¯ç”±æ˜ åƒæª”æ‰€å»ºç«‹çš„çš„åŸ·è¡Œç¨‹å¼ã€‚å®ƒå¯ä»¥è¢«å•Ÿå‹•ã€é–‹å§‹ã€åœæ­¢ã€åˆªé™¤ã€‚ä¸”æ¯ä¸€å€‹å®¹å™¨éƒ½æ˜¯ç›¸äº’éš”é›¢çš„ï¼Œä¸æœƒç›¸äº’å½±éŸ¿ã€‚ ","date":"2022-03-14","objectID":"/docker/:2:2","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"å€‰åº« (Repository) å€‰åº«æ˜¯é›†ä¸­æ”¾ç½®æ˜ åƒæª”çš„æ‰€åœ¨åœ°ï¼Œå€‰åº«åˆ†ç‚ºå…¬é–‹å€‰åº« (Public) å’Œ ç§æœ‰å€‰åº« (Private) å…©ç¨®å½¢å¼ã€‚æœ€å¤§çš„å€‰åº«è¨»å†Šä¼ºæœå™¨ç•¶ç„¶æ˜¯ Docker hubï¼Œå­˜æ”¾æ•¸é‡é¾å¤§çš„æ˜ åƒæª”ä¾›ä½¿ç”¨è€…ä¸‹è¼‰ï¼Œä½¿ç”¨è€…ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ç¶²è·¯å…§å»ºç«‹ä¸€å€‹ç§æœ‰å€‰åº«ã€‚å¯ä»¥å°‡å€‰åº«çš„æ¦‚å¿µç†è§£æˆè·Ÿ Git ç›¸ä¼¼ã€‚ å€‰åº«èˆ‡å€‰åº«è¨»å†Šä¼ºæœå™¨ (Registry) çš„ä¸åŒ å€‰åº«è¨»å†Šä¼ºæœå™¨ (Registry) è£¡é¢å¯ä»¥å­˜æ”¾å¾ˆå¤šçš„å€‰åº«ï¼Œæ¯ä¸€å€‹å€‰åº«åˆåŒ…å«äº†å¾ˆå¤šçš„æ˜ åƒæª”ï¼Œæ¯ä¸€å€‹æ˜ åƒæª”æœ‰ä¸åŒçš„æ¨™ç±¤ (tag) ã€‚ èˆ‰å€‹ä¾‹å­ï¼šDocker hub æ˜¯æœ€å¤§çš„å€‰åº«è¨»å†Šä¼ºæœå™¨ (Registry) ï¼Œè£¡é¢åˆæœ‰å¾ˆå¤šä¸åŒçš„å€‰åº«ï¼Œåƒæ˜¯ mariadb ï¼Œè£¡é¢åˆæœƒåŒ…å«å¾ˆå¤šçš„æ˜ åƒæª”ï¼Œä»¥åŠä¸åŒçš„æ¨™ç±¤ (tag)ã€‚ æˆ‘å€‘å¯ä»¥çœ‹åˆ° Docker çš„ Logo æ˜¯ä¸€éš»é¯¨é­šï¼ŒèƒŒä¸Šæ¹äº†ä¸€å †è²¨æ«ƒã€‚é¯¨é­šå°±ä»£è¡¨å€‰åº«è¨»å†Šä¼ºæœå™¨ (Registry)ï¼ŒèƒŒä¸Šçš„è²¨æ«ƒå°±æ˜¯æ¯ä¸€å€‹å€‰åº« (Repository)ã€‚ Docker Logo ä»‹ç´¹\" Docker Logo ä»‹ç´¹ ","date":"2022-03-14","objectID":"/docker/:2:3","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"Docker å¯¦ä½œ æœ¬ç« ç¯€æœƒä»‹ç´¹ Docker ä¸‰å¤§çµ„ä»¶æ˜ åƒæª” (image)ã€å®¹å™¨ (Container)ã€å€‰åº« (Repository) è¦å¦‚ä½•å¯¦éš›æ“ä½œï¼Œä»¥åŠä»–å€‘çš„é—œè¯æ€§æ˜¯ä»€éº¼ï½ ","date":"2022-03-14","objectID":"/docker/:3:0","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"æ˜ åƒæª” (Image) æœ¬å°ç¯€æœƒä»‹ç´¹æœ‰é—œæ˜ åƒæª”çš„å…§å®¹ï¼ŒåŒ…æ‹¬ï¼š å¦‚ä½•å¾å€‰åº«å–å¾—æ˜ åƒæª” å¦‚ä½•ç®¡ç†æœ¬åœ°ä¸»æ©Ÿä¸Šçš„æ˜ åƒæª” æ˜ åƒæª”å¯¦ä½œ (Dockerfile) å¦‚ä½•å¾å€‰åº«å–å¾—æ˜ åƒæª” æˆ‘å€‘å¯ä»¥å…ˆåˆ° Docker hub ä¸Šé¢çœ‹çœ‹æœ‰ä»€éº¼æœå‹™æˆ–ç¨‹å¼æƒ³è¦ä¸‹è¼‰ä¾†åšä½¿ç”¨ [ è©³ç´°ä»‹ç´¹æœƒæ”¾åˆ°å€‰åº« (Repository) ç« ç¯€]ï¼Œæ‰¾åˆ°æƒ³è¦çš„æœå‹™ï¼Œæˆ‘å€‘å¯ä»¥ä¸‹ docker pull {è¦ä¸‹è¼‰çš„æœå‹™ã€ç¨‹å¼åç¨±} ï¼Œæˆ‘å€‘é€™é‚Šå°±å…ˆä¸‹è¼‰ Mysql é€™å€‹æ˜ åƒæª”ã€‚ mysql $ docker pull mysql Using default tag: latest latest: Pulling from library/mysql 15115158dd02: Pull complete .... çœç•¥ .... Digest: sha256:b17a66b49277a68066559416cf44a185cfee538d0e16b5624781019bc716c122 Status: Downloaded newer image for mysql:latest docker.io/library/mysql:latest ç”±æ–¼æˆ‘å€‘ä¸‹è¼‰çš„æ²’æœ‰åŠ ä»»ä½•çš„ tag ï¼Œä¹Ÿå°±æ˜¯ç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘å€‘éƒ½æ˜¯ä¸‹è¼‰æœ€æ–°ç‰ˆ latest ï¼Œå¦‚æœæƒ³è¦ä¸‹è¼‰ç‰¹å®šç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨æœå‹™åç¨±å¾Œé¢åŠ ä¸Š :{ç‰ˆæœ¬} ï¼Œå°±å¯ä»¥ä¸‹è¼‰å°æ‡‰çš„ç‰ˆæœ¬å›‰ï¼ å¦‚æœæœ‰æ¨™è¨˜ Official Image å°±ä»£è¡¨æ˜¯å®˜æ–¹é‡‹å‡ºçš„æ˜ åƒæª” ~ åœ¨ç©©å®šæ€§ä»¥åŠå®‰å…¨ä¸Šæ›´æœ‰ä¿éšœï¼Œæ‰€ä»¥å¤§å®¶å¯ä»¥å„ªå…ˆä¸‹è¼‰æ­ï¼ Docker hub ä¸‹è¼‰ Image\" Docker hub ä¸‹è¼‰ Image ç®¡ç†æœ¬åœ°ä¸»æ©Ÿä¸Šçš„æ˜ åƒæª” æŸ¥çœ‹æ˜ åƒæª” (images) ç•¶æˆ‘å€‘ä¸‹è¼‰å¥½æ˜ åƒæª”å¾Œï¼Œå¯ä»¥ä½¿ç”¨ docker images ä¾†åˆ—å‡ºæœ¬æ©Ÿå·²ä¸‹è¼‰çš„æ˜ åƒæª”ã€‚ $ docker images REPOSITORY TAG IMAGE ID CREATED SIZE php latest d6229b88aa29 3 days ago 484MB mysql latest 826efd84393b 6 days ago 521MB nginx latest c919045c4c2b 13 days ago 142MB æˆ‘å€‘ä¾†çœ‹çœ‹éƒ½åˆ—å‡ºå“ªäº›è¨Šæ¯å§ï¼ REPOSITORYï¼šä¾†è‡ªæ–¼å“ªä¸€å€‹å€‰åº«ï¼Œåƒæ˜¯ phpã€mysqlã€nginxã€‚ TAGï¼šæ˜ åƒæª”çš„æ¨™ç±¤ï¼Œå› ç‚ºæˆ‘å€‘éƒ½ä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬æ‰€ä»¥æ˜¯ latestã€‚ IMAGE IDï¼šå®ƒçš„å”¯ä¸€ ID è™Ÿç¢¼ã€‚ CREATEDï¼šå»ºç«‹æ™‚é–“ã€‚ VIRTUAL SIZEï¼šæ˜ åƒæª”å¤§å°ã€‚ å„²å­˜æ˜ åƒæª” (save) æƒ³è¦å„²å­˜æ˜ åƒæª”ï¼Œå¯ä»¥ä½¿ç”¨ docker save {æ˜ åƒæª”åç¨±} \u003e {æª”æ¡ˆåç¨±}.tarï¼Œä¾†åšå„²å­˜ã€‚ $ docker save mysql \u003e mysql.tar $ ls | grep 'mysql' mysql.tar åˆªé™¤æ˜ åƒæª” (rmi) æƒ³è¦åˆªé™¤æ˜ åƒæª”ï¼Œå¯ä»¥ä½¿ç”¨ docker rmi {æ˜ åƒæª”åç¨±} ä¾†åšåˆªé™¤ã€‚ $ docker rmi demo-image Untagged:demo-image:latest Deleted: sha256:1f56acbcbe9ec613a37e26934a84d98bed73879059f424dc69754520086baa37 æƒ³è¦åŒæ™‚åˆªé™¤æ˜ åƒæª”æ™‚ï¼Œå¯ä»¥å…ˆç”¨ docker images -aq åˆ—å‡ºå…¨éƒ¨æ˜ åƒæª”çš„ IMAGE IDï¼Œå†ä¸€èµ·åˆªé™¤ã€‚ docker rmi -f $(docker images -aq) æ³¨æ„ï¼åˆªé™¤æ˜ åƒæª”(Image)æ™‚ï¼Œè¦å…ˆç”¨ docker rm {å®¹å™¨} å»åˆªé™¤æ‰€æœ‰ä¾è³´é€™å€‹æ˜ åƒæª”çš„å®¹å™¨ã€‚ æ¥è‘—è¦æ€éº¼å»ºç«‹è‡ªå·±çš„æ˜ åƒæª”å‘¢ï¼Ÿæˆ‘å€‘è¦ä½¿ç”¨ Dockerfile ä¾†å»ºç«‹æ˜ åƒæª”ã€‚ æ˜ åƒæª”å¯¦ä½œ æ’°å¯« Dockerfile æ˜ åƒæª” Dockerfile æ˜¯ä¸€ç¨®æ–‡å­—æ ¼å¼çš„è¨­å®šæª”ï¼Œå¯ä»¥é€é Dockerfile å¿«é€Ÿå»ºç«‹è‡ªè¨‚çš„æ˜ åƒæª”ï¼Œæ›å¥è©±èªªï¼ŒDockerfile å°±åƒæ˜¯å»ºç½® Docker Image çš„è…³æœ¬ã€‚ èˆ‰å€‹ä¾‹å­ï¼šå¯ä»¥æŠŠè‡ªå·±æƒ³åƒæˆä¸€ä½è¨­è¨ˆå¸«ï¼Œè¨­è¨ˆå¥½æˆ¿å­çš„æ ¼å±€ã€æ“ºé£¾ç­‰ï¼Œç•«å¥½è¨­è¨ˆåœ– (Dockerfile) å¾Œï¼Œæœ€å¾Œè«‹å¸«å‚… (Docker) ä¾ä½ çš„æ§‹æ€å®Œæˆå°±å¯ä»¥äº†ã€‚ æˆ‘å€‘å°±ä¾†é–‹å§‹å¯¦ä½œä¸€å€‹ Dockerfile å§ ~ æˆ‘å€‘å…ˆå‰µå»ºä¸€å€‹ä¾†æ”¾ Dockerfile çš„è³‡æ–™å¤¾ï¼Œå¯ä»¥ç›´æ¥åœ¨è·¯å¾‘ä¸‹å»ºç«‹å‡ºæ˜ åƒæª” mkdir demo-dockerfile cd demo-dockerfile/ Dockerfile çµæ§‹ï¼Œå¤§è‡´å¯ä»¥åˆ†ç‚ºå››å€‹éƒ¨åˆ† åŸºç¤æ˜ åƒæª”è³‡è¨Š ç¶­è­·è€…è³‡è¨Š æ˜ åƒæª”æ“ä½œæŒ‡ä»¤ å®¹å™¨å•Ÿå‹•æ™‚éœ€åŸ·è¡Œçš„æŒ‡ä»¤ æˆ‘å€‘æœ‰èªªé Dockerfile æ˜¯ä¸€å€‹æ–‡å­—æ ¼å¼çš„è¨­å®šæª”ï¼Œæ‰€ä»¥æˆ‘å€‘ç”¨ vim ä¾†ç·¨å¯« Dockerfileã€‚ vim Dockerfile # åŸºç¤æ˜ åƒæª”è³‡è¨Š FROM nginx:latest # ç¶­è­·è€…è³‡è¨Š LABEL maintainer=\"880831ian@gmail.com\" # æ˜ åƒæª”æ“ä½œæŒ‡ä»¤ RUN apt-get update -y\\ \u0026\u0026 apt-get install nginx -y # é‹è¡Œæ™‚å®¹å™¨æä¾›æœå‹™çš„é€šé“ EXPOSE 80 # å®¹å™¨å•Ÿå‹•æ™‚éœ€åŸ·è¡Œçš„æŒ‡ä»¤ CMD [\"nginx\",\"-g\",\"daemon off;\"] FROM nginx:latest ç¬¬ä¸€è¡Œç‚ºå¿…è¦çš„æŒ‡å®šåŸºç¤æ˜ åƒæª”ï¼Œé€™é‚Šä½¿ç”¨ nginx ä½œç‚ºåŸºç¤æ˜ åƒæª”ï¼Œæˆ‘å€‘ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œæ‰€ä»¥æ˜¯ latestã€‚ LABEL maintainer=\"880831ian@gmail.com\" ç¶­è­·è€…è³‡è¨Šæƒ³ä¸ä¹Ÿæ˜¯ä¸å¯ä»¥å°‘çš„ï¼Œé€™é‚Šä¹Ÿå¯ä»¥è¼¸å…¥ Email è³‡è¨Šï¼Œåªæ˜¯è¦æ³¨æ„çš„æ˜¯æ­¤è³‡è¨Šæœƒå¯«å…¥ç”¢å‡ºæ˜ åƒæª”çš„Authoråç¨±å±¬æ€§ä¸­ã€‚ RUN apt-get update -y\\ \u0026\u0026 apt-get install nginx -y é€™é‚Šæ˜¯æœ€é‡è¦çš„éƒ¨åˆ†ï¼Œæƒ³è¦åœ¨æ˜ åƒæª”æ¡ˆä¸Šè¨­å®šæˆ–å®‰è£éƒ½éœ€è¦å°‡å‘½ä»¤å¯«åœ¨é€™ï¼Œæ ¼å¼å¿…é ˆä¾ RUN ï¼ŒRUN æŒ‡ä»¤å¾Œé¢æ”¾ Linux æŒ‡ä»¤ï¼Œå¦‚æœæŒ‡ä»¤å¤ªé•·å¯ä»¥ä½¿ç”¨\\ä¾†æ›è¡Œã€‚ -y æ˜¯åœ¨å®‰è£ Nginxï¼ŒæœƒåŒæ„æ‰€æœ‰é€²è¡Œä¸­æ‰€å‡ºç¾çš„å•é¡Œã€‚ EXPOSE 80 è¨­å®šé‹è¡Œæ™‚å®¹å™¨æä¾›æœå‹™çš„é€šé“ã€‚ CMD [\"nginx\",\"-g\",\"daemon off;\"] æœ€å¾Œå°±æ˜¯å•Ÿå‹•æŒ‡å®šå®¹å™¨æ™‚é è¨­åŸ·è¡Œçš„æŒ‡ä»¤ï¼Œæ ¼å¼æ˜¯ CMD [â€œexecutableâ€,â€œparam1â€,â€œparam2â€]ã€‚ Docker é‹è¡Œ Nginx æ™‚ç‚ºä»€éº¼è¦ä½¿ç”¨ daemon off; å› ç‚º Docker å®¹å™¨å•Ÿå‹•æ™‚ï¼Œé»˜èªæœƒæŠŠå®¹å™¨å…§éƒ¨ç¬¬ä¸€å€‹é€²ç¨‹ï¼Œä½œçˆ² docker å®¹å™¨æ˜¯å¦æ­£å¸¸é‹è¡Œçš„ä¾æ“šï¼Œå¦‚æœ docker å®¹å™¨ pid = 1 åˆ°é€²ç¨‹å°±æ›äº†ï¼Œdocker å°±æœƒé€€å‡ºï¼ Docker æœªåŸ·è¡Œè‡ªå®šç¾©çš„ CMD ä¹‹å‰ï¼Œ Nginx çš„ pid æ˜¯ 1ï¼ŒåŸ·è¡Œåˆ° CMD ä¹‹å¾Œï¼ŒNginx å°±åœ¨å¾Œå°é‹è¡Œï¼Œbash æˆ–æ˜¯ sh çš„è…³æœ¬å°±æœƒè®Šæˆ pid =1 ã€‚ æ‰€ä»¥ä¸€ä½†åŸ·è¡Œå®Œ CMDï¼ŒNginx å®¹å™¨å°±æœƒé€€å‡ºäº†ï¼Œæ‰€ä»¥æ‰éœ€è¦åŠ ä¸Š -g daemon off;ã€‚ åœ¨ Nginx å®˜æ–¹çš„ Docker Repository ä¹Ÿæœ‰èªªæ˜ï¼Œåœ¨ Complex configuration å…§ã€‚ é †ä¾¿èªªä¸€ä¸‹ä½¿ç”¨ Dockerfile çš„å„ªé»ï¼š1 . å¯ä»¥é€²è¡Œ Git ç‰ˆæ§ï¼Œè®“ä½ ç®¡ç†æˆ–åˆ†äº«æ›´æ–¹ä¾¿ 2 . ä½”ç”¨å®¹é‡å°ï¼Œå› ç‚ºåªæ˜¯ç´”æ–‡å­—æª”è€Œå·²ã€‚ ä½¿ç”¨ Dockerfile å»ºç«‹æ˜ åƒæª” æˆ‘å€‘å·²ç¶“æ’°å¯«å®Œ Dockerfile æª”æ¡ˆäº†ï¼Œæ¥ä¸‹ä¾†è¦åŸ·è¡Œä¾†ç”¢ç”Ÿæ˜ åƒæª”ï¼Œæˆ‘å€‘è¦ä½¿ç”¨ docker build ä¾†å»ºç«‹ï¼Œæˆ‘å€‘ä¸€èµ·ä¾†çœ‹çœ‹å§ docker build -t demo-image . å› ç‚ºæˆ‘å€‘åœ¨ dockerfile çš„ç›®éŒ„ä¸‹ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ â€œ.â€ ä¾†åšå»ºç«‹å‹•ä½œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ -f ä¾†æŒ‡å®š dockerfile çš„è·¯å¾‘ä½ç½®ã€‚ä½¿ç”¨ -t ä¾†è¨­å®šæ˜ åƒæª”çš„åç¨±ï¼Œæˆ‘å€‘é€™é‚Šå–åå« demo-imageã€‚ [+] Building 2.7s (7/7) FINISHED =\u003e [internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 44B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/nginx:latest 2.6s =\u003e [auth] library/ubuntu:pull token for registry-1.docker.io 0.0s =\u003e [1/2] FROM docker.io/library/nginx:latest@sha256:8ae9bafbb64f63a50caab98fd3a5e37b3eb837a3e0780b78e5218e63193961f 0.0s =\u003e CACHED [2/2] RUN apt-get update -y \u0026\u0026 apt-get install nginx -y 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:1f56acbcbe9ec613a37e26934a84d98bed73879059f424dc69754520086baa37 0.0s =\u003e =\u003e n","date":"2022-03-14","objectID":"/docker/:3:1","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"å®¹å™¨ (Container) æˆ‘å€‘åœ¨ä»‹ç´¹æŒ‡ä»¤å‰ï¼Œå…ˆä¾†äº†è§£ä¸€ä¸‹ Dockerfileã€Docker Imageã€Docker Container é€™ä¸‰å€‹çš„é—œä¿‚ï¼Œå¯ä»¥å…ˆåƒè€ƒä»¥ä¸‹åœ–ç‰‡ å®¹å™¨ Container çµ„æˆ\" å®¹å™¨ Container çµ„æˆ æˆ‘å€‘åœ¨å•Ÿå‹• Container æ™‚ï¼Œæœƒæœ‰é€™ä¸‰å€‹éƒ¨åˆ†çµ„æˆï¼Œæœ€åº•å±¤æ˜¯æ˜ åƒæª” (Image)ï¼Œé€™ä¸€å±¤ä¸»è¦æ˜¯é€éæ’°å¯« Dockerfile ä¹‹å¾Œ build å‡ºä¾†çš„ Docker Imageï¼Œå°±åƒæˆ‘å€‘å‰é¢èªªçš„å®ƒæ˜¯ä¸€å€‹å”¯ç¨çš„æª”æ¡ˆã€‚åŸ·è¡Œå•Ÿå‹•äº† Docker Containerï¼Œå°±æœƒåŠ ä¸Šç¬¬äºŒå±¤ï¼Œå°±æ˜¯éœ€è¦å…ˆ Init Container çš„è¨­å®šï¼Œä¾‹å¦‚æ˜¯ hostnameã€ç’°å¢ƒè®Šæ•¸ã€ç¶²è·¯é€£æ¥ç­‰ç³»çµ±è¨­å®šï¼Œæœ€å¾Œæœ€ä¸Šå±¤å†åŠ ä¸Šä¸€å±¤è®“ä½¿ç”¨è€…å¯ä»¥åœ¨æ­¤å±¤å»è®€å¯«è³‡æ–™ã€‚ æœ‰é—œæ–¼å®¹å™¨ (Container) çš„æŒ‡ä»¤éå¸¸å¤šï¼Œå…‰æ˜¯ç°¡å–®çš„ run å°±æœ‰å¾ˆå¤šåƒæ•¸ï¼Œæˆ‘å€‘å…ˆåˆ—å‡ºæ¯”è¼ƒå¸¸ç”¨ä¸”åŸºæœ¬çš„ Container æŒ‡ä»¤ï½ Container åŸ·è¡Œæ™‚çš„æ“ä½œ åŸ·è¡Œå®¹å™¨ (run) æˆ‘å€‘æƒ³è¦å‰µå»ºä¸€å€‹æ–°çš„å®¹å™¨ä¸¦é‹è¡Œï¼Œå°±å¯ä»¥ä½¿ç”¨ docker runï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹ä»–å¯ä»¥ä½¿ç”¨å“ªäº›åƒæ•¸å§ï¼ docker run [OPTIONS] IMAGE [COMMAND] [ARG...] OPTIONS èªªæ˜ï¼š åƒæ•¸ æè¿° -d å¾Œå°é‹è¡Œå®¹å™¨ -i å‘½ä»¤äº’å‹•æ¨¡å¼ï¼Œé€šå¸¸èˆ‡ -t åŒæ™‚ä½¿ç”¨ -t ç‚ºå®¹å™¨é‡æ–°åˆ†é…ä¸€å€‹å‡è£çš„è¼¸å…¥çµ‚ç«¯ï¼Œé€šå¸¸èˆ‡ -i åŒæ™‚ä½¿ç”¨ -p æŒ‡å®šå®¹å™¨èˆ‡æœ¬æ©Ÿçš„Port ï¼Œæ ¼å¼æ˜¯ ä¸»æ©Ÿ Port : å®¹å™¨ Port â€“name=\"{åç¨±}\" ç‚ºå®¹å™¨è¨­å®šåç¨± â€“net=\"{ç¶²è·¯é¡å‹}\" æŒ‡å®šå®¹å™¨çš„ç¶²è·¯é€£æ¥é¡å‹ï¼Œæ”¯æ´ bridge/host/none/container å››ç¨®æ¨¡å¼ â€“link=\"{å…¶ä»–å®¹å™¨}\" æ·»åŠ é€£æ¥åˆ°å¦ä¸€å€‹å®¹å™¨ â€“volume,-v å°‡å®¹å™¨æª”æ¡ˆè·¯å¾‘æ˜ å°„åˆ°æœ¬åœ°ç«¯ï¼Œæ ¼å¼æ˜¯ æœ¬æ©Ÿè·¯å¾‘ï¼šå®¹å™¨è·¯å¾‘ æˆ‘å€‘å•Ÿå‹•æˆ‘å€‘ä¸‹è¼‰å¥½çš„ Nginx ä¾†è©¦è©¦çœ‹å§ï¼ $ docker run -d -p 7777:80 --name=\"demo-nginx\" -v /Users/ian_zhuang/Desktop/data:/var/www/html nginx 31a4a4a56e3ef2fb75d538c4c9eea4914ac506a84a6ff97e1fbbb6c3213cc6b7 æˆ‘å€‘å°‡ Nginx å®¹å™¨åœ¨èƒŒæ™¯åŸ·è¡Œï¼Œä¸”å°‡é è¨­çš„80 Port èˆ‡æœ¬æ©Ÿçš„7777 Port ç¶åœ¨ä¸€èµ·ï¼Œè®“æˆ‘å€‘åœ¨æœ¬æ©Ÿç€è¦½7777 Port æœƒç›´æ¥å°å‘å®¹å™¨çš„80Portï¼Œè¨­å®šå®¹å™¨çš„åå­—å«åš â€œdemo-nginx\" ï¼Œæˆ‘å€‘ Nginx å®¹å™¨çš„æª”æ¡ˆè·¯å¾‘æ˜ å°„åˆ°æœ¬åœ°ç«¯çš„æ¡Œé¢ data è³‡æ–™å¤¾ï¼Œæˆ‘å€‘å°±å¯ä»¥åœ¨æœ¬æ©Ÿæ–°å¢æª”æ¡ˆåŒæ­¥åˆ°å®¹å™¨ä¸­ã€‚ é¡¯ç¤ºå®¹å™¨ (ps) ä½¿ç”¨ docker ps ä¾†æª¢æŸ¥ä¸€ä¸‹æ˜¯å¦å•Ÿå‹•æˆåŠŸ (ps å¯ä»¥é¡¯ç¤ºæ˜ åƒæª”çš„åŸºæœ¬è³‡è¨Šï¼Œå¦‚æœæ²’æœ‰åŠ  -a åªæœƒé¡¯ç¤ºåŸ·è¡Œä¸­çš„å®¹å™¨) $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 31a4a4a56e3e demo-image \"nginx -g 'daemon ofâ€¦\" About a minute ago Up About a minute 0.0.0.0:7777-\u003e80/tcp demo-nginx æ¥è‘—æˆ‘å€‘æ¸¬è©¦æ˜¯å¦æœ‰æŠŠæ¡Œé¢ data è³‡æ–™å¤¾æ›åˆ°å®¹å™¨çš„è·¯å¾‘ï¼Œæˆ‘å€‘å…ˆåœ¨ data æ–°å¢ä¸€å€‹ hello.html ï¼Œè£¡é¢éš¨æ„è¼¸å…¥ï¼Œç€è¦½ä¸€ä¸‹ http://127.0.0.1:7777/hello.html ï¼Œçœ‹çœ‹æ˜¯å¦æˆåŠŸã€‚ å®¹å™¨ Container -volume æ¸¬è©¦\" å®¹å™¨ Container -volume æ¸¬è©¦ é¡¯ç¤ºå®¹å™¨ç´€éŒ„ (logs) æƒ³è¦çœ‹åˆ°æˆ‘å€‘åŸ·è¡Œ Container çš„ç´€éŒ„ï¼Œå¯ä»¥ä½¿ç”¨ logs æŒ‡ä»¤ä¾†é¡¯ç¤ºã€‚ $ docker logs demo-nginx /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/ /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh ... çœç•¥ ... 2022/03/15 09:27:51 [notice] 1#1: start worker process 33 2022/03/15 09:27:51 [notice] 1#1: start worker process 34 2022/03/15 09:27:51 [notice] 1#1: start worker process 35 åˆªé™¤å®¹å™¨ (rm -f) æƒ³è¦åˆªé™¤ä¸éœ€è¦çš„ Containerï¼Œå¯ä»¥ä½¿ç”¨ rm æŒ‡ä»¤ä¾†åšåˆªé™¤ï¼Œ-f æ˜¯å¼·åˆ¶åˆªé™¤å®¹å™¨ã€‚ $ docker rm -f demo-nginx demo-nginx é€²å…¥å®¹å™¨ (exec) æƒ³è¦é€²å…¥ container ä¾†æŸ¥çœ‹è³‡æ–™æˆ–æ˜¯ä¿®æ”¹æª”æ¡ˆï¼Œå¯ä»¥ä½¿ç”¨ exec ä¾†é€²å…¥å®¹å™¨ä¸­ã€‚ $ docker exec -it demo-nginx /bin/bash root@31a4a4a56e3e:/# ls bin boot dev docker-entrypoint.d docker-entrypoint.sh etc home lib lib64 media mnt opt proc root run sbin srv sys tmp usr var root@31a4a4a56e3e:/# cd usr/bin/ root@31a4a4a56e3e:/usr/bin# pwd /usr/bin åŒ¯å‡ºæª”æ¡ˆ (export) æˆ‘å€‘å‰é¢æœ‰æåˆ°èªªï¼Œå¦‚æœåˆªé™¤äº†å®¹å™¨ï¼Œä»¥å‰å¯«å…¥çš„è³‡æ–™ä¹Ÿæœƒä¸è¦‹ï¼Œå¦‚æœæƒ³è¦è¼¸å‡ºè³‡æ–™ï¼Œå¯ä»¥ä½¿ç”¨ export å°‡å¯è®€å¯å¯«çš„é‚£ä¸€å±¤åŒ¯æˆæª”æ¡ˆã€‚ $ docker export demo-nginx \u003e demo-nginx.tar $ ls | grep 'demo' demo-nginx.tar save è·Ÿ export çš„å€åˆ¥ é‚„è¨˜å¾—æˆ‘å€‘åœ¨å„²å­˜æ˜ åƒæª”çš„æ™‚å€™æœ‰ä»‹ç´¹åˆ° save å—ï¼Œé‚£ä»–è·Ÿ export çš„å€åˆ¥æ˜¯ä»€éº¼å‘¢ï¼Ÿæˆ‘å€‘å¯ä»¥ç†è§£æˆ save æ˜¯æŠŠ Docker Image åŸå§‹æª”åšå„²å­˜ï¼Œexport æ˜¯æŠŠä¿®æ”¹ Docker Image çš„å…§å®¹éƒ½ä¸€ä½µå„²å­˜ã€‚ åŒ¯å…¥æª”æ¡ˆ (import) æœ‰åŒ¯å‡ºæª”æ¡ˆï¼Œç•¶ç„¶ä¹Ÿæœ‰åŒ¯å…¥æª”æ¡ˆæ‹‰ï¼Œå¯ä»¥ä½¿ç”¨ import å°‡æˆ‘å€‘åŒ¯å‡ºçš„æª”æ¡ˆåŒ¯å…¥ Docker Image è£¡é¢ã€‚ $ cat ~/Desktop/demo-nginx.tar| docker import - import-nginx sha256:7106935f0bfbdbb84f9eb20edb8cdb2c53207f5e0963f6a4e89d8267e9d98c56 $ docker images REPOSITORY TAG IMAGE ID CREATED SIZE import-nginx latest 7106935f0bfb 19 seconds ago 140MB Container çš„ç‹€æ…‹ æª¢æŸ¥å®¹å™¨ç‹€æ…‹ (inspect) æƒ³è¦æŸ¥çœ‹å®¹å™¨çš„ç‹€æ…‹æ•¸æ“šï¼Œå¯ä»¥ä½¿ç”¨ inspect ä¾†é¡¯ç¤ºã€‚ [ { \"Id\": \"sha256:1f56acbcbe9ec613a37e26934a84d98bed73879059f424dc69754520086baa37\", \"RepoTags\": [ \"demo-image:latest\" ], \"RepoDigests\": [], \"Parent\": \"\", \"Comment\": \"buildkit.dockerfile.v0\", \"Created\": \"2022-03-15T03:02:26.8321887Z\", \"Container\": \"\", \"ContainerConfig\": { \"Hostname\": \"\", \"Domainname\": \"\", \"User\": \"\", .... çœç•¥ .... æŸ¥çœ‹å®¹å™¨çš„CPUã€è¨˜æ†¶é«”åŠç¶²è·¯ä½¿ç”¨ (stats) æƒ³è¦æŸ¥çœ‹å®¹å™¨çš„CPUã€è¨˜æ†¶é«”åŠç¶²è·¯ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ stats ä¾†é¡¯ç¤ºã€‚ CONTAINER ID NAME CPU % MEM USAGE / LIMIT MEM % NET I/O BLOCK I/O PIDS 31a4a4a56e3e demo-nginx 0.00% 5.797MiB / 1.939GiB 0.29% 6.29kB / 2.83kB 1.46MB / 20.5kB 5 ","date":"2022-03-14","objectID":"/docker/:3:2","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"å€‰åº« (Repository) æˆ‘å€‘åœ¨æ˜ åƒæª”çš„ç« ç¯€æœ‰ä½¿ç”¨ docker pull ä¾†ä¸‹è¼‰åˆ¥äººçš„æ˜ åƒæª”ä¾†ä½¿ç”¨ï¼Œé‚£æˆ‘å€‘è¦å¦‚ä½•æŠŠæˆ‘å€‘åšå¥½çš„ä¸Šå‚³ä¸Šå» Docker hub å‘¢ï¼(ç”±æ–¼ Docker hub æ˜¯å…¬é–‹å¹³å°ï¼Œæ‰€ä»¥å¤§å®¶éƒ½å¯ä»¥è‡ªç”±çš„ä¸‹è¼‰æ˜ åƒæª”ï¼Œæ‰€ä»¥æ˜¯å…¬å¸æ©Ÿå¯†çš„æ˜ åƒæª”ï¼Œå°±è¦é¿å…ä¸Šå‚³æ­ï¼) $ docker login Authenticating with existing credentials... Login Succeeded ç”±æ–¼æˆ‘æœ‰ä¸‹è¼‰æ¡Œé¢ç‰ˆçš„ Docker ï¼Œæ‰€ä»¥ç™»å…¥æ™‚ä¸éœ€è¦å†å¦å¤–è¨­å®šï¼ æˆ‘å€‘åœ¨ä¸Šå‚³åˆ° Docker hub ä¹‹å‰ï¼Œéœ€è¦å…ˆä¿®æ”¹ Image çš„ tag ï¼Œæ ¼å¼ docker tag {Image Name} {DockerHubå¸³è™Ÿ}/{æƒ³è¦å–çš„ Image Name} $ docker images | grep 'demo-image' demo-image latest 1f56acbcbe9e 24 hours ago 166MB $ docker tag demo-image 880831ian/demo-image $ docker images | grep 'demo-image' 880831ian/demo-image latest 1f56acbcbe9e 24 hours ago 166MB demo-image latest 1f56acbcbe9e 24 hours ago 166MB æ¥ä¸‹ä¾†å°±ä½¿ç”¨ docker pushï¼Œå°‡æ˜ åƒæª”ä¸Šå‚³åˆ° Docker hub ä¸Šï¼ $ docker push 880831ian/demo-image Using default tag: latest The push refers to repository [docker.io/880831ian/demo-image] 7722c88c8d69: Pushed 68a85fa9d77e: Mounted from library/ubuntu latest: digest: sha256:814caacaf3dad3eccb43dc9bcad635d0473bd5946295d40ca1ec23d13a5f6d0f size: 741 æˆ‘å€‘ä¹Ÿç™»å…¥ Docker hub çœ‹ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯çœŸçš„ä¸Šå‚³æˆåŠŸäº†ï½ å®¹å™¨ Container -volume æ¸¬è©¦\" å®¹å™¨ Container -volume æ¸¬è©¦ ","date":"2022-03-14","objectID":"/docker/:3:3","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"Docker é€²éš æœ¬ç« ç¯€æœƒåˆ†æˆä¸‰å€‹å¸¸ç”¨åŠŸèƒ½ä¾†èªªæ˜ Volumes ä»‹ç´¹ Network æ¨¡å¼ä»‹ç´¹å’Œæ¯”è¼ƒ Docker-compose ä»‹ç´¹èˆ‡å¯¦ä½œ ","date":"2022-03-14","objectID":"/docker/:4:0","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"Volumes ä»‹ç´¹ æˆ‘å€‘åœ¨å…ˆå‰ä»‹ç´¹ Container æ™‚ï¼Œä¹Ÿæœ‰èªªåˆ°ï¼ŒContainer æœƒåˆ†æˆ Image å±¤ã€Init å±¤ä»¥åŠä½¿ç”¨è€…å¯è®€å¯å¯«å±¤çš„é€™ä¸‰å±¤ã€‚ç•¶æˆ‘å€‘å°‡ Container åˆªé™¤å¾Œï¼Œå­˜æ”¾åœ¨ Docker Container ä¸Šçš„è³‡æ–™ä¹Ÿæœƒä¸è¦‹ï¼Œé›–ç„¶å¯ä»¥ç”¨ export ä¾†å„²å­˜ï¼Œä½†æˆ‘å€‘æ‡‰è©²åœ¨æ ¹æœ¬ä¸Šè§£æ±ºå•é¡Œã€‚ æ‰€ä»¥æˆ‘å€‘å¯ä»¥ä½¿ç”¨å…©ç¨®æ–¹å¼ä¾†è§£æ±ºï¼ åœ¨åŸ·è¡Œ docker run æŒ‡ä»¤æ™‚åŠ å…¥ -v åƒæ•¸ï¼Œå°‡ Container çš„æª”æ¡ˆè·¯å¾‘æ˜ å°„åˆ°æœ¬åœ°ç«¯çš„æª”æ¡ˆè·¯å¾‘ã€‚ åœ¨æ’°å¯« Dockerfile æ™‚ï¼ŒåŠ å…¥ VOLUME æŒ‡ä»¤ï¼Œå¯ä»¥å°‡è³‡æ–™å­˜æ”¾åœ¨å¯¦é«”ä¸»æ©Ÿä¸Šã€‚ä½¿ç”¨é€™å€‹æ–¹æ³•é‚„è¦æ­é…æˆ‘å€‘ä»‹ç´¹ Container çš„ç‹€æ…‹ \u003e æª¢æŸ¥å®¹å™¨ç‹€æ…‹ (inspect) ï¼Œä¾†æŸ¥è©¢æœ¬åœ°ç«¯æª”æ¡ˆçš„å­˜æ”¾è·¯å¾‘åœ¨å“ªã€‚ ä½¿ç”¨ -v æŒ‡ä»¤å°‡å®¹å™¨æ˜ å°„åˆ°æœ¬åœ°ç«¯ åœ¨ä½¿ç”¨ docker run æŒ‡ä»¤æ™‚ï¼Œä½¿ç”¨ -v å°‡å®¹å™¨æª”æ¡ˆè·¯å¾‘æ˜ å°„åˆ°æœ¬åœ°çš„æª”æ¡ˆè·¯å¾‘ã€‚ $ docker run -it -v /Users/ian_zhuang/Desktop/data:/storage centos /bin/bash latest: Pulling from library/centos Digest: sha256:a27fd8080b517143cbbbab9dfb7c8571c40d67d534bbdee55bd6c473f432b177 Status: Downloaded newer image for centos:latest [root@a99b41fba3ca /]# æˆ‘å€‘åœ¨è‘—é¢çš„ data è³‡æ–™å¤¾éš¨æ„æ–°å¢æª”æ¡ˆæˆ–æ˜¯è³‡æ–™ï¼Œå†é€²å…¥ Docker Container å…§çš„ /storage (è©²æª”æ¡ˆæ˜¯å› ç‚ºä½¿ç”¨ -v è€Œæ–°å¢çš„è³‡æ–™å¤¾) ï¼Œçœ‹çœ‹æœ‰æ²’æœ‰åŒæ­¥æ–°å¢ã€‚ [root@a99b41fba3ca /]# cd storage [root@a99b41fba3ca storage]# pwd /storage [root@a99b41fba3ca storage]# ls 1.html 2.html 3.html Dockerfile VOLUME ä½¿ç”¨ æˆ‘å€‘å…ˆæ‰“é–‹ä¸Šæ¬¡çš„ Dockerfile æª”æ¡ˆï¼Œåœ¨åŸºç¤æ˜ åƒæª”è³‡è¨Šçš„åº•ä¸‹ä½¿ç”¨ VOLUME æŒ‡ä»¤ï¼ŒåŠ å…¥ storage è³‡æ–™å¤¾ï¼Œå†å°‡ Image Build èµ·ä¾†ï¼Œå•Ÿå‹• Containerï¼Œåœ¨ /storage è£¡é¢éš¨ä¾¿æ–°å¢è³‡æ–™ï¼Œæœ€å¾Œæˆ‘å€‘åœ¨ç”¨ docker inspect æŒ‡ä»¤ä¾†æ‰¾æ˜ å°„åœ¨æœ¬åœ°ç«¯çš„è·¯å¾‘ã€‚ åœ¨åŸºç¤æ˜ åƒæª”è³‡è¨Šçš„åº•ä¸‹ä½¿ç”¨ VOLUME æŒ‡ä»¤ï¼ŒåŠ å…¥ storage è³‡æ–™å¤¾ # åŸºç¤æ˜ åƒæª”è³‡è¨Š FROM ubuntu:latest VOLUME [\"/storage\"] .... çœç•¥ .... å»ºç«‹æ˜ åƒæª” $ docker build -t demo-image:v2 . [+] Building 1.3s (6/6) FINISHED =\u003e [internal] load build definition from Dockerfile 0.0s =\u003e =\u003e transferring dockerfile: 44B 0.0s =\u003e [internal] load .dockerignore 0.0s =\u003e =\u003e transferring context: 2B 0.0s =\u003e [internal] load metadata for docker.io/library/ubuntu:latest 1.2s =\u003e [1/2] FROM docker.io/library/ubuntu:latest@sha256:8ae9bafbb64f63a50caab98fd3a5e37b3eb837a3e0780b78e5218e63193961f9 0.0s =\u003e CACHED [2/2] RUN apt-get update -y \u0026\u0026 apt-get install nginx -y 0.0s =\u003e exporting to image 0.0s =\u003e =\u003e exporting layers 0.0s =\u003e =\u003e writing image sha256:0618bb2685ecfe200d9df4a91380d482031352d0e00cbfdf70fcd063aa8654fa 0.0s =\u003e =\u003e naming to docker.io/library/demo-image:v2 å•Ÿå‹• Containerï¼Œä¸¦åœ¨ /storage å…§æ–°å¢éš¨æ„è³‡æ–™ $ docker run -it demo-image:v2 /bin/bash root@4f8712562dfe:/# echo \"Hello ian\" \u003e /storage/helloworld.txt root@4f8712562dfe:/# ll /storage total 12 drwxr-xr-x 2 root root 4096 Mar 16 05:39 ./ drwxr-xr-x 1 root root 4096 Mar 16 05:38 ../ -rw-r--r-- 1 root root 10 Mar 16 05:39 helloworld.txt ä½¿ç”¨ inspect æŒ‡ä»¤ï¼Œä¾†æ‰¾åˆ° Volume åœ¨æœ¬åœ°ç«¯æ˜ å°„çš„è³‡æ–™å¤¾è·¯å¾‘ï¼Œçœ‹çœ‹è£¡é¢æœ‰æ²’æœ‰æˆ‘å€‘åœ¨ Container è£¡é¢æ–°å¢çš„è³‡æ–™å§ $ docker inspect -f '{{.Mounts}}' 4f8712562dfe [{volume 4fe10ca3f...çœç•¥ /var/lib/docker/volumes/4fe10ca3f234633164d9b3c541893c68db1b4f98806525076a2edd5c1c7863c4/_data /storage local true }] $ docker run -it --privileged --pid=host debian nsenter -t 1 -m -u -n -i sh / # cd /var/lib/docker/volumes/4fe10ca3f234633164d9b3c541893c68db1b4f98806525076a2edd5c1c7863c4/_data /var/lib/docker/volumes/4fe10ca3f234633164d9b3c541893c68db1b4f98806525076a2edd5c1c7863c4/_data # ls helloworld.txt mac OS æ‰¾ä¸åˆ° /var/lib/docker/volumes ç”±æ–¼ macOS ä¸‹çš„ docker å¯¦éš›æ˜¯åœ¨ vm è£¡åˆå¤šåŠ ä¸€å±¤ï¼Œæ‰€ä»¥æ²’è¾¦æ³•ç›´æ¥è¨ªå• /var/lib/docker/volumesï¼Œå¿…é ˆå…ˆé€éä»¥ä¸‹æŒ‡ä»¤é€²å…¥ VM ä¸­ã€‚ docker run -it --privileged --pid=host debian nsenter -t 1 -m -u -n -i sh è©³ç´°å…§å®¹å¯ä»¥åƒè€ƒ Where is /var/lib/docker on Mac/OS Xã€‚ å®¹å™¨èˆ‡å®¹å™¨ä¹‹é–“è³‡æ–™å…±äº« å¦‚ä½•å•Ÿç”¨å®¹å™¨èˆ‡å®¹å™¨ä¹‹é–“çš„è³‡æ–™å…±äº«ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼ å…ˆå•Ÿå‹•ç¬¬ä¸€å€‹å®¹å™¨æŒ‡ä»¤å¦‚ä¸‹ docker run -it -v /data --name=container1 centos /bin/bash [root@ a0307ce757ca /]# å¦äºŒå€‹å®¹å™¨æŒ‡ä»¤å¦‚ä¸‹ docker run -it --volumes-from container1 --name=container2 centos /bin/bash [root@720d57983cd4 /]# --volumes-from åƒæ•¸æŒ‡å®š container1 çš„è³‡æ–™æœƒèˆ‡ container2 åšå…±äº«ã€‚ æˆ‘å€‘åœ¨ç¬¬ä¸€å€‹å®¹å™¨ï¼Œé€²å…¥ /data è³‡æ–™å¤¾ï¼Œéš¨æ©Ÿè¼¸å…¥è³‡æ–™ [root@a0307ce757ca /]# cd /data/ [root@a0307ce757ca data]# echo \"ian~\" \u003e hello.txt å†ä¾†çœ‹ä¸€ä¸‹ç¬¬äºŒå€‹å®¹å™¨ /data è³‡æ–™å¤¾ï¼Œæ˜¯å¦æœ‰æˆ‘å€‘åœ¨å®¹å™¨(a0307ce757ca)ç”¢ç”Ÿçš„è³‡æ–™ [root@720d57983cd4 /]# cat /data/hello.txt ian~ ","date":"2022-03-14","objectID":"/docker/:4:1","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"Network æ¨¡å¼å’Œæ¯”è¼ƒ åœ¨åŸ·è¡Œ docker run å…¶ä¸­ä¸€å€‹åƒæ•¸æ˜¯ --net ï¼Œä»–å¯ä»¥è¨­å®š Container è¦ä½¿ç”¨å“ªä¸€ç¨®çš„ç¶²è·¯æ¨¡å¼ï¼Œä»¥ä¸‹åˆ†åˆ¥èªªæ˜é€™äº›ç¶²è·¯æ¨¡å¼ noneï¼šåœ¨åŸ·è¡Œ Container æ™‚ï¼Œç¶²è·¯åŠŸèƒ½æ˜¯é—œé–‰çš„ï¼Œæ‰€ä»¥ç„¡æ³•èˆ‡æ­¤ Container é€£ç·šã€‚ containerï¼šä½¿ç”¨ç›¸åŒçš„ Network Namespace ï¼Œå‡è¨­ Container 1 çš„ IP æ˜¯ 172.17.0.2ï¼Œé‚£ Container 2 çš„ IP ä¹Ÿæ˜¯ 172.17.0.2ã€‚ hostï¼šContainer çš„ç¶²è·¯è¨­å®šå’Œå¯¦é«”ä¸»æ©Ÿä½¿ç”¨ç›¸åŒçš„ç¶²è·¯è¨­å®šï¼Œæ‰€ä»¥ Container è£¡é¢ä¹Ÿå¯ä»¥ä¿®æ”¹å¯¦é«”æ©Ÿå™¨çš„ç¶²è·¯è¨­å®šï¼Œå› æ­¤ä½¿ç”¨æ­¤æ¨¡å¼éœ€è¦è€ƒæ…®ç¶²è·¯å®‰å…¨æ€§ä¸Šçš„å•é¡Œã€‚ bridgeï¼šDocker é è¨­å°±æ˜¯æ­¤ç¶²è·¯æ¨¡å¼ï¼Œé€™å€‹ç¶²è·¯æ¨¡å¼å°±åƒæ˜¯ NAT çš„ç¶²è·¯æ¨¡å¼ï¼Œä¾‹å¦‚å¯¦é«”ä¸»æ©Ÿçš„ IP æ˜¯ 192.168.1.10 å®ƒæœƒå°æ‡‰åˆ° Container è£¡é¢çš„ 172.17.0.2ï¼Œåœ¨å•Ÿå‹• Docker çš„æœå‹™æ™‚æœƒæœ‰ä¸€å€‹ docker0 çš„ç¶²è·¯å¡ä¾†åšæ­¤ç¶²è·¯çš„æ©‹æ¥ã€‚ overlayï¼šContainer ä¹‹é–“å¯ä»¥åœ¨ä¸åŒçš„å¯¦é«”æ©Ÿå™¨ä¸Šåšé€£ç·šï¼Œä¾‹å¦‚ ï¼¨ost 1 æœ‰ä¸€å€‹ Container 1 ï¼Œç„¶å¾Œ Host 2 æœ‰ä¸€å€‹ Container 2ï¼ŒContainer 1 å¯ä»¥ç›´æ¥ä½¿ç”¨ overlay çš„ç¶²è·¯æ¨¡å¼å’Œ Container 2 åšç¶²è·¯é€£ç·šã€‚ macvlanï¼šå¯ä»¥ç›´æ¥åˆ†é…å¯¦é«”ç¶²å¡çš„ MAC address çµ¦ç‰¹å®šçš„ Containerï¼Œè®“ Container é€éå¯¦é«”çš„ç¶²å¡ä½¿ç”¨ç¶²è·¯ã€‚ é‚£æˆ‘å€‘å°±ä¾†å¯¦ä½œæ¯ä¸€å€‹ç¶²è·¯æ¨¡å¼å§ï¼ none æˆ‘å€‘ä½¿ç”¨ docker runæŒ‡ä»¤ï¼Œåœ¨å¾Œé¢åŠ å…¥åƒæ•¸ --net=none ï¼Œæˆ‘å€‘å»ºç«‹ jonlabelle/network-tools (è£¡é¢æœ‰å¾ˆå¤šç¶²è·¯æ¸¬è©¦å·¥å…·)ã€‚ $ docker run -it --net=none jonlabelle/network-tools [docker@network-tools]$ ifconfig lo Link encap:Local Loopback inet addr:127.0.0.1 Mask:255.0.0.0 .... çœç•¥ .... å¯ä»¥çœ‹åˆ°æˆ‘å€‘ä½¿ç”¨ ifconfig æŸ¥è©¢ï¼Œåªæœ‰æœ¬åœ°ç«¯çš„ 127.0.0.1 IPï¼Œæˆ‘å€‘åœ¨ä½¿ç”¨ ping ä¾†æ¸¬è©¦ google ç¶²ç«™å§ [docker@network-tools]$ ping www.google.com ping: www.google.com: Try again container æˆ‘å€‘å…ˆå•Ÿå‹•ä¸€å€‹åç‚º container1 çš„å®¹å™¨ docker run --name container1 -it jonlabelle/network-tools å†é–‹å•Ÿå¦ä¸€å€‹ Terminal ä¾†å•Ÿå‹• container2 çš„å®¹å™¨ï¼Œä¸¦è¨­å®šç›¸åŒçš„ Network Namespace docker run --name container2 --net=container:container1 -it jonlabelle/network-tools ä¸€æ¨£ä½¿ç”¨ ifconfig æŸ¥è©¢ï¼Œå¯ä»¥ç™¼ç¾å…©å€‹å®¹å™¨çš„ IP éƒ½æ˜¯ç›¸åŒçš„ eth0 Link encap:Ethernet HWaddr 02:42:AC:11:00:02 inet addr:172.17.0.2 Bcast:172.17.255.255 Mask:255.255.0.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 .... çœç•¥ .... host åœ¨åŸ·è¡Œ docker run æŒ‡ä»¤æ™‚ï¼Œåœ¨å¾Œé¢åŠ å…¥åƒæ•¸ --net=host ï¼Œä¾†æ¸¬è©¦ host æ¨¡å¼ docker run --net=host -it jonlabelle/network-tools å¯ä»¥çœ‹åˆ° Container çš„ç¶²è·¯è³‡è¨Šå’Œå¯¦é«”ä¸»æ©Ÿçš„ç¶²è·¯è³‡è¨Šæ˜¯ç›¸åŒçš„çµæœ [docker@network-tools]$ ifconfig br-36a27cab1817 Link encap:Ethernet HWaddr 02:42:20:DF:DB:FD inet addr:172.20.0.1 Bcast:172.20.255.255 Mask:255.255.0.0 UP BROADCAST MULTICAST MTU:1500 Metric:1 RX packets:0 errors:0 dropped:0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 .... çœç•¥ .... host ç¶²è·¯æ¨¡å¼\" host ç¶²è·¯æ¨¡å¼ bridge åœ¨åŸ·è¡Œ docker run æŒ‡ä»¤æ™‚ï¼Œåœ¨å¾Œé¢åŠ å…¥åƒæ•¸ --net=bridge ï¼Œä¾†æ¸¬è©¦ bridge æ¨¡å¼ docker run --net=bridge -it jonlabelle/network-tools docker æœƒæ–°å¢ä¸€å€‹è™›æ“¬ç¶²å¡ä½œç‚ºå®¹å™¨ç¶²è·¯å°å¤–çš„å‡ºå£ï¼Œé è¨­åç¨±ç‚º docker0ï¼Œdocker0 æœƒè·Ÿæœ¬æ©Ÿçš„å°å¤–ç¶²å¡(åœ–ä¸­çš„ eth0 )ç›¸é€£ï¼Œè—‰æ­¤å–å¾—å°å¤–é€£ç·šçš„èƒ½åŠ›ï¼Œä¹Ÿå› ç‚ºæ¯ä¸€å€‹å®¹å™¨éƒ½æœƒä½¿ç”¨ä¸€å€‹ veth device èˆ‡ docker0 ç›¸é€£ï¼Œæ‰€ä»¥ä¹Ÿå…·å‚™å°å¤–é€£ç·šçš„èƒ½åŠ›ã€‚ bridge ç¶²è·¯æ¨¡å¼\" bridge ç¶²è·¯æ¨¡å¼ overlay ä¸‹åœ–æ˜¯èªªæ˜ Host1 å¯¦é«”ä¸»æ©Ÿè£¡é¢æœ‰ Container1ï¼Œç„¶å¾Œ Host2 å¯¦é«”ä¸»æ©Ÿè£¡é¢æœ‰ Container2ï¼Œå¯ä»¥é€é Docker overlay æ¨¡å¼å°‡ Container1 å’Œ Container2 é€£æ¥åšæºé€šã€‚å¦å¤–é‚„éœ€è¦ä¸€å€‹ Consol ä¾†å­˜é€£ç·šçš„è³‡æ–™åº«ï¼Œåœ¨ä½¿ç”¨ overlay æ™‚è¦å…ˆåœ¨ Docker åšè¨­å®šï¼Œé€™æ¨£æ‰èƒ½å­˜æ”¾ overlay ç¶²è·¯æ¨¡å¼çš„é€£ç·šè³‡è¨Šã€‚ overlay ç¶²è·¯æ¨¡å¼\" overlay ç¶²è·¯æ¨¡å¼ macvlan macvlan çš„åŸç†å°±æ˜¯åœ¨æœ¬æ©Ÿçš„ç¶²å¡ä¸Šè™›æ“¬å‡ºå¾ˆå¤šå€‹å­ç¶²å¡ï¼Œé€šéä¸åŒçš„ MAC ä½ç½®åœ¨æ•¸æ“šéˆè·¯å±¤é€²è¡Œç¶²è·¯è³‡æ–™çš„è½‰ç™¼ã€‚ macvlan ç¶²è·¯æ¨¡å¼\" macvlan ç¶²è·¯æ¨¡å¼ ","date":"2022-03-14","objectID":"/docker/:4:2","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"Docker-compose æˆ‘å€‘åœ¨åŸ·è¡Œå¤šå€‹å®¹å™¨æ™‚ï¼Œéœ€è¦é‡è¤‡çš„ä¸‹ run æŒ‡ä»¤ä¾†åŸ·è¡Œï¼Œä»¥åŠå®¹å™¨èˆ‡å®¹å™¨ä¹‹é–“è¦åšé—œè¯ä¹Ÿè¦è¨˜å¾—æ¯ä¸€å€‹ä¹‹é–“è¦æ€éº¼é€£çµï¼Œæœƒè®Šå¾—å¾ˆéº»ç…©ä¸”ä¸æ˜“ç®¡ç†ï¼Œæ‰€ä»¥æœ‰äº† docker-compose å¯ä»¥å°‡å¤šå€‹å®¹å™¨çµ„åˆèµ·ä¾†ï¼Œè®Šæˆä¸€å€‹å¼·å¤§çš„åŠŸèƒ½ã€‚ åªè¦å¯«ä¸€å€‹ docker-compose.yml æŠŠæ‰€æœ‰æœƒä½¿ç”¨åˆ°çš„ Docker image ä»¥åŠæ¯ä¸€å€‹å®¹å™¨ä¹‹é–“çš„é—œè¯æˆ–æ˜¯ç¶²è·¯çš„è¨­å®šéƒ½å¯«ä¸Šå»ï¼Œæœ€å¾Œå†ä½¿ç”¨ docker-compose up æŒ‡ä»¤ï¼Œå°±å¯ä»¥æŠŠæ‰€æœ‰çš„å®¹å™¨éƒ½åŸ·è¡Œèµ·ä¾†å›‰ï¼ æˆ‘å€‘å°±ç›´æ¥ä¾†å¯¦ä½œæˆ‘å€‘é€™æ¬¡çš„æ¨™é¡Œï¼Œè¦ä½¿ç”¨ docker-compose ä¾†æ•´åˆ PHP MySQL Nginx ç’°å¢ƒã€‚ æˆ‘å€‘å…ˆé–‹å•Ÿä¸€å€‹è³‡æ–™å¤¾ï¼Œå–åå« docker-compose ï¼Œä¾†æ”¾ç½®æˆ‘å€‘çš„ docker-compose æª”æ¡ˆ æ¥è‘—æ–°å¢ docker-compose.yml æª”æ¡ˆï¼Œè¦æº–å‚™ä¾†æ’°å¯«æˆ‘å€‘çš„è¨­å®šæª”å›‰ï¼ ç”±æ–¼å…§å®¹æœ‰é»é•·ï¼Œæ‰€ä»¥æˆ‘åˆ†æ®µèªªæ˜ï¼Œ(é€™é‚Šæœ‰æ”¾å·²ç¶“å¯«å¥½çš„æª”æ¡ˆæ­) æª”æ¡ˆç›®éŒ„ . â”œâ”€â”€ Docker-compose.yml â”œâ”€â”€ docker-volume â”‚Â â””â”€â”€ html â”‚Â â”œâ”€â”€ index.php â”‚Â â””â”€â”€ info.php â”œâ”€â”€ nginx â”‚Â â”œâ”€â”€ Dockerfile â”‚Â â””â”€â”€ default.conf â””â”€â”€ php â””â”€â”€ Dockerfile version:\"3.8\"services:...çœç•¥ .... å¯ä»¥çœ‹åˆ°ä¸€é–‹é ­ï¼Œæœƒå…ˆå¯«ç‰ˆæœ¬ï¼Œé€™é‚Šä»£è¡¨çš„æ˜¯æœƒä½¿ç”¨ 3.8 ç‰ˆæœ¬çš„è¨­å®šæª”ï¼Œè©³ç´°ç‰ˆæœ¬å°ç…§å¯ä»¥åƒè€ƒ Compose file versions and upgrading services å¯ä»¥è¨­å®šç”¨ä¾†å•Ÿå‹•å¤šçš„å®¹å™¨ï¼Œè£¡é¢æˆ‘å€‘ç¸½å…±æ”¾äº†ä¸‰å€‹å®¹å™¨ï¼Œåˆ†åˆ¥æ˜¯ nginxã€phpã€mysql ã€‚ é‚£æˆ‘å€‘ä¾†çœ‹çœ‹ nginx è£¡é¢æ”¾äº†ä»€éº¼å§ï¼æˆ‘æœƒä¾ç…§ç¨‹å¼ç¢¼å¾€ä¸‹èªªæ˜ï¼Œæœ‰ä¸æ¸…æ¥šçš„å¯ä»¥åº•ä¸‹ç•™è¨€ï¼ nginx nginx:build:./nginx/container_name:nginxports:- 7777:80volumes:- ./docker-volume/log/:/var/log/nginx/ nginx çš„ build å°±æ˜¯è¦åŸ·è¡Œé€™å€‹ nginx å®¹å™¨çš„æ˜ åƒæª”ï¼Œé‚„è¨˜å¾—æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨ Dockerfile ä¾†æ’°å¯«æ˜ åƒæª”æ¡ˆå—ï¼? ç”±æ–¼æˆ‘å€‘é‚„è¦è¨­å®šå…¶ä»–å…§å®¹ï¼Œæ‰€ä»¥ç‰¹åˆ¥å¦å¤–æ‹‰ä¸€å€‹ nginx è³‡æ–™å¤¾ä¾†æ”¾ç½®ï¼Œè£¡é¢æ”¾äº†å…©å€‹æª”æ¡ˆï¼Œåˆ†åˆ¥æ˜¯ Dockerfileã€default.confã€‚ Dockerfile æª”æ¡ˆè£¡é¢æœƒä½¿ç”¨ nginx ç‰ˆæœ¬ 1.20 ï¼Œä¸¦å°‡ default.conf è¤‡è£½åˆ°å®¹å™¨çš„ /etc/nginx/conf.d/default.conf ä¾†å–ä»£è¨­å®šã€‚ ä»¥åŠæˆ‘å€‘ä½¿ç”¨ ports å°‡å®¹å™¨80 Port æŒ‡å‘æœ¬æ©Ÿ 7777 Port ï¼Œæ ¼å¼æ˜¯ æœ¬æ©Ÿ Port : å®¹å™¨ Portï¼Œ å†ä½¿ç”¨ volumes ä¾†è¨­å®šæˆ‘å€‘ nginx å®¹å™¨ log è³‡æ–™å¤¾æ˜ å°„åˆ°æœ¬æ©Ÿçš„ ./docker-volume/log/ è³‡æ–™å¤¾ã€‚ php php:build:./php/container_name:phpexpose:- 9000volumes:- ./docker-volume/html/:/var/www/html/ php çš„ build æ˜¯è¦åŸ·è¡Œé€™å€‹ php å®¹å™¨çš„æ˜ åƒæª”ï¼Œç”±æ–¼æˆ‘å€‘é‚„è¦è¨­å®šå…¶ä»–å…§å®¹ï¼Œæ‰€ä»¥ç‰¹åˆ¥å¦å¤–æ‹‰ä¸€å€‹ php è³‡æ–™å¤¾ä¾†æ”¾ç½® Dokcerfileã€‚ Dockerfile æª”æ¡ˆè£¡é¢æœƒä½¿ç”¨ php ç‰ˆæœ¬ 7.4-fpmï¼Œä¸¦ä¸”åœ¨å®¹å™¨åŸ·è¡Œ docker-php-ext-installã€mysqliã€‚ ä¸¦å°‡ Port 9000 ç™¼ä½ˆæ–¼æœ¬æ©Ÿï¼Œå†ä½¿ç”¨ volumes ä¾†è¨­å®š /var/www/html ç¶²ç«™æ ¹ç›®éŒ„æ˜ å°„åˆ°æœ¬æ©Ÿçš„ ./docker-volume/html/ è³‡æ–™å¤¾ã€‚ mysql mysql:image:mysql:8.0.28container_name:mysqlvolumes:- ./docker-volume/mysql/:/var/lib/mysqlenvironment:MYSQL_ROOT_PASSWORD:secretMYSQL_DATABASE:mydbMYSQL_USER:myuserMYSQL_PASSWORD:password mysql ä½¿ç”¨çš„æ˜ åƒæª”æ˜¯ mysql ç‰ˆæœ¬æ˜¯ 8.0.28ï¼Œæˆ‘å€‘ç‚ºäº†è¦ä¿ç•™è³‡æ–™åº«çš„è³‡æ–™ï¼Œæ‰€ä»¥å°‡å®¹å™¨çš„ /var/lib/mysql æ˜ å°„åˆ°æœ¬åœ°ç«¯ ./docker-volume/mysql è³‡æ–™å¤¾ã€‚ æœ€å¾Œçš„ç’°å¢ƒè®Šæ•¸ï¼Œè¨­å®š root å¸³è™Ÿçš„ç™»å…¥å¯†ç¢¼ï¼Œä»¥åŠè¦ä½¿ç”¨çš„è³‡æ–™åº«ã€ä½¿ç”¨è€…çš„å¸³è™Ÿã€ä½¿ç”¨è€…çš„å¯†ç¢¼ã€‚ æœ€å¾Œåœ¨ä¸Šé¢çš„ (é€™é‚Šæœ‰æ”¾å·²ç¶“å¯«å¥½çš„æª”æ¡ˆæ­) è£¡é¢é‚„æœ‰å¤šä¸€å€‹ docker-volume/html çš„è³‡æ–™å¤¾ï¼Œå°±æ˜¯æˆ‘å€‘å‰›å‰›æ˜ å°„åˆ°æœ¬åœ°ç«¯çš„è³‡æ–™å¤¾ï¼Œè³‡æ–™å¤¾å…§å·²ç¶“æ”¾æœ‰é€£ç·šæ¸¬è©¦çš„æª”æ¡ˆï¼Œè¼¸å…¥ç¶²å€ http://127.0.0.1:7777/index.phpï¼Œå¦‚æœé–‹å•Ÿå¾Œæœ‰é¡¯ç¤ºä¸‹æ–¹ç•«é¢ï¼Œå°±ä»£è¡¨æˆ‘å€‘æˆåŠŸç”¨ docker-compose å°‡ PHP MySQL Nginx æ•´åˆå†ä¸€èµ·å›‰ï¼ æ¸¬è©¦æ˜¯å¦æˆåŠŸç”¨ docker-compose æ•´åˆ PHP MySQL Nginx\" æ¸¬è©¦æ˜¯å¦æˆåŠŸç”¨ docker-compose æ•´åˆ PHP MySQL Nginx ","date":"2022-03-14","objectID":"/docker/:4:3","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Docker å®˜ç¶² ä»€éº¼æ˜¯ Dockerï¼Ÿ Dockerï¼ï¼å¾å…¥é–€åˆ°å¯¦è¸ Dockerfile å»ºç«‹è‡ªè¨‚æ˜ åƒæª” â€” æ¶èµ·ç¶²ç«™å¿«é€Ÿåˆç°¡å–®ï¼ˆä¸€ï¼‰ ç”¨30å¤©ä¾†ä»‹ç´¹å’Œä½¿ç”¨ Docker Docker ç¶²è·¯ç°¡ä»‹ Docker-compose Giving static IP in network mode : bridge ","date":"2022-03-14","objectID":"/docker/:5:0","tags":["Docker","å®¹å™¨","è™›æ“¬åŒ–","å¯¦ä½œ","ä»‹ç´¹"],"title":"Docker ä»‹ç´¹ (å¦‚ä½•ä½¿ç”¨ Docker-compose å»ºç½® PHP+MySQl+Nginx ç’°å¢ƒ)","uri":"/docker/"},{"categories":["codenotes"],"content":"æœ¬ç¯‡æ˜¯ Laravel ä»‹ç´¹ çš„é€²éšç¯‡ï¼Œç”±æ–¼æœ‰äº›èªªæ˜ä»‹ç´¹æœƒæ²¿ç”¨ä¸Šä¸€ç¯‡çš„å…§å®¹ï¼Œå»ºè­°è¦å…ˆç€è¦½éä¸Šä¸€ç¯‡å‘¦ï½ (å¯ä»¥å¾é€™è£¡ä¸‹è¼‰æœ€å¾Œç¨‹å¼ç¢¼ï¼) ","date":"2022-03-08","objectID":"/laravel-advanced/:0:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel é€²éš (å…§å»ºæœƒå“¡ç³»çµ±ã€é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ã€ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼)","uri":"/laravel-advanced/"},{"categories":["codenotes"],"content":"Laravel å…§å»ºæœƒå“¡ç³»çµ± Laravel é€™å€‹æ¡†æ¶ï¼Œå¾ˆæ–¹ä¾¿çš„åœ°æ–¹å°±æ˜¯ï¼Œä»–å¯ä»¥å°‡æˆ‘å€‘å¸¸ç”¨çš„å¸³è™Ÿç™»å…¥è¨»å†Šç­‰åŠŸèƒ½å…§å»ºåœ¨ Laravel æ¡†æ¶å…§ï¼Œé‚£æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹è¦æ€éº¼ä½¿ç”¨å§ã€‚(æœ¬ç¯‡ Laravel Frameworkï¼š5.4.36) å®ƒçš„é…ç½®æ–‡ä»¶åœ¨ config/auth.php ï¼Œå…¶ä¸­åŒ…å«äº†ç”¨æ–¼èª¿æ•´èªè­‰æœå‹™è¡Œç‚ºæˆ–æ˜¯æ¨™æ³¨é¸é …é…ç½®ç­‰ã€‚ è¦æ€éº¼é–‹å§‹å‘¢!? å…ˆä½¿ç”¨ artisan æŒ‡ä»¤ç”¢ç”Ÿæˆ‘å€‘è¦çš„æª”æ¡ˆä»¥åŠè·¯ç”±å§ï¼ $ php artisan make:auth ä¸»è¦æœƒç”¢ç”Ÿ new file: app/Http/Controllers/HomeController.php new file: resources/views/auth/login.blade.php new file: resources/views/auth/passwords/email.blade.php new file: resources/views/auth/passwords/reset.blade.php new file: resources/views/auth/register.blade.php new file: resources/views/home.blade.php new file: resources/views/layouts/app.blade.php modified: routes/web.php å…¶ä¸­ routes/web.php å¤šäº†ï¼š Auth::routes(); Route::get('/home', 'HomeController@index')-\u003ename('home'); views åº•ä¸‹æ”¾çš„å°±æ˜¯é¡¯ç¤ºçš„ç•«é¢ï¼Œæ‰€ä»¥ç¾åœ¨å¯ä»¥ç€è¦½ ç™»å…¥é é¢ï¼šhttp://127.0.0.1:8000/login è¨»å†Šé é¢ï¼šhttp://127.0.0.1:8000/register å…¶ä»–åƒæ˜¯ controller æˆ–æ˜¯ migration éƒ½å·²ç¶“å…§å»ºåœ¨è£¡é¢äº†ï¼Œç¨å¾Œå¯¦ä½œæœƒè¬›åˆ°ï¼ ","date":"2022-03-08","objectID":"/laravel-advanced/:1:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel é€²éš (å…§å»ºæœƒå“¡ç³»çµ±ã€é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ã€ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼)","uri":"/laravel-advanced/"},{"categories":["codenotes"],"content":"å¯¦ä½œ Migration æˆ‘å€‘ç…§ä¸Šä¸€ç¯‡çš„æµç¨‹ï¼Œç”±æ–¼ route å·²ç¶“è¨­å®šå¥½ï¼Œæ‰€ä»¥æˆ‘å€‘å…ˆä¾†è¨­å®š migration ï¼Œ æª”æ¡ˆå°±æ”¾åœ¨ database/migrations åº•ä¸‹çš„ {æ—¥æœŸæ™‚é–“}_create_users_table.php ï¼Œæˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹é è¨­çš„è³‡æ–™è¡¨æœ‰å“ªäº›æ¬„ä½å§! public function up() { Schema::create('users', function (Blueprint $table) { $table-\u003eincrements('id'); $table-\u003estring('name'); $table-\u003estring('email')-\u003eunique(); $table-\u003estring('password'); $table-\u003erememberToken(); $table-\u003etimestamps(); }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::dropIfExists('users'); } ç°¡å–®çœ‹ä¸€ä¸‹ï¼Œä»–æœƒå»ºç«‹ä¸€å€‹åå« users çš„è³‡æ–™è¡¨ï¼Œæ¬„ä½åˆ†åˆ¥æœ‰è‡ªå‹•ç´¯åŠ (id)ã€å­—ä¸²(name)ã€å”¯ä¸€å­—ä¸²(email)ã€å­—ä¸²(å¯†ç¢¼)ã€rememberToken()ã€timestamps()ã€‚ é‚£æˆ‘å€‘é€™æ¬¡æƒ³è¦åšçš„äº‹ï¼Œä¸ä½¿ç”¨ email åšç™»å…¥ï¼Œæ”¹æˆä½¿ç”¨ usernameä¾†ç•¶ä½œç™»å…¥é©—è­‰ï¼Œæ‰€ä»¥æˆ‘å€‘æŠŠ nameã€emailçš„æ¬„ä½æ”¹æˆ public function up() { Schema::create('users', function (Blueprint $table) { $table-\u003eincrements('id'); $table-\u003estring('username')-\u003eunique(); $table-\u003estring('password'); $table-\u003erememberToken(); $table-\u003etimestamps(); }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::dropIfExists('users'); } è¨­å®š username æ¬„ä½ç‚ºå”¯ä¸€å€¼ï¼Œç§»é™¤æ‰ email ï¼Œå†åŠ å…¥ä¸€å€‹ api_token ç”¨æ–¼å¾ŒçºŒçš„ RESTful API é©—è­‰ã€‚ ä½¿ç”¨ php artisan migrate å°‡ users é€™å€‹ table çµ¦å»ºèµ·ä¾†ã€‚ å› ç‚ºæˆ‘å€‘ä¿®æ”¹ nameã€email æ”¹æˆ username é€™å€‹æ¬„ä½ï¼Œæ‰€ä»¥æˆ‘å€‘ä¹Ÿè¦ä¿®æ”¹ä¸€ä¸‹ views é¡¯ç¤ºçš„ç•«é¢ï¼Œç”±æ–¼æ˜¯ç°¡å–®çš„ HTML é€™é‚Šå°±ä¸å†å¤šæè¿°ï¼Œç›´æ¥æ”¾ä¸Šä¿®æ”¹å¾Œçš„ç¨‹å¼ç¢¼ã€‚ View Login.blade \u003cdiv class=\"form-group{{ $errors-\u003ehas('username') ? ' has-error' : '' }}\"\u003e \u003clabel for=\"username\" class=\"col-md-4 control-label\"\u003eUsername\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"username\" type=\"text\" class=\"form-control\" name=\"username\" value=\"{{ old('username') }}\" required autofocus\u003e @if ($errors-\u003ehas('username')) \u003cspan class=\"help-block\"\u003e \u003cstrong\u003e{{ $errors-\u003efirst('username') }}\u003c/strong\u003e \u003c/span\u003e @endif \u003c/div\u003e \u003c/div\u003e Register.blade \u003cdiv class=\"form-group{{ $errors-\u003ehas('username') ? ' has-error' : '' }}\"\u003e \u003clabel for=\"username\" class=\"col-md-4 control-label\"\u003eUsername\u003c/label\u003e \u003cdiv class=\"col-md-6\"\u003e \u003cinput id=\"username\" type=\"text\" class=\"form-control\" name=\"username\" value=\"{{ old('username') }}\" required\u003e @if ($errors-\u003ehas('username')) \u003cspan class=\"help-block\"\u003e \u003cstrong\u003e{{ $errors-\u003efirst('username') }}\u003c/strong\u003e \u003c/span\u003e @endif \u003c/div\u003e \u003c/div\u003e Model æ¥ä¸‹ä¾†åˆ° app åº•ä¸‹æ‰¾åˆ° User.php æª”æ¡ˆï¼Œç”±æ–¼ç­†è€…ç¿’æ…£å°‡ model æ”¾åˆ°å°ˆå±¬çš„è³‡æ–™å¤¾ï¼Œä¸è¦è®“ä»–åœ¨ app è£¡é¢æµæµªï¼Œæ‰€ä»¥æœƒå»ºç«‹ä¸€å€‹ Models çš„è³‡æ–™å¤¾ï¼Œä¾†å­˜æ”¾æ‰€æœ‰çš„ models ï¼Œé‚£ç§»å‹•åŸæœ¬çš„ model æœ‰äº›æœ‰ä½¿ç”¨åˆ°å®ƒçš„è·¯å¾‘éƒ½è¦åšä¿®æ”¹ï¼Œé€™é‚Šä»¥ User æª”æ¡ˆç‚ºç¤ºç¯„ã€‚(å› ç‚ºå¾ŒçºŒæœƒèªªåˆ°æ€éº¼é©—è­‰ç™»å…¥ API ï¼Œæ‰€ä»¥ä¸Šä¸€ç¯‡çš„ Message model ä¹Ÿè¦è¨˜å¾—ä¿®æ”¹æ­ï¼) å› ç‚ºæˆ‘å€‘ç§»å‹•å¾Œï¼ŒåŸæœ¬çš„è·¯å¾‘æ˜¯ App è¦æ”¹æˆ App\\Modelsï¼Œæœƒå½±éŸ¿åˆ°çš„ç¨‹å¼æœ‰ä»¥ä¸‹å¹¾å€‹ (é™„ä¸Šç‰‡æ®µç¨‹å¼ç¢¼) config/auth.php ç´„åœ¨70è¡Œå·¦å³ 'providers' =\u003e [ 'users' =\u003e [ 'driver' =\u003e 'eloquent', 'model' =\u003e App\\Models\\User::class, //ä¿®æ”¹ç‰‡æ®µ ], config/services.php ç´„åœ¨33è¡Œå·¦å³ 'stripe' =\u003e [ 'model' =\u003e App\\Models\\User::class, //ä¿®æ”¹ç‰‡æ®µ 'key' =\u003e env('STRIPE_KEY'), 'secret' =\u003e env('STRIPE_SECRET'), ], database/factories/UserFactory.php ç´„åœ¨15è¡Œå·¦å³ $factory-\u003edefine(App\\Models\\User::class, function (Faker\\Generator $faker) { //ä¿®æ”¹ç‰‡æ®µ static $password; return [ 'name' =\u003e $faker-\u003ename, 'email' =\u003e $faker-\u003eunique()-\u003esafeEmail, 'password' =\u003e $password ?: $password = bcrypt('secret'), 'remember_token' =\u003e str_random(10), ]; }); app/Http/Controllers/Auth/RegisterController.php ç´„åœ¨5è¡Œå·¦å³ use App\\Models\\User; éƒ½ä¿®æ”¹å¥½äº†ï¼Œæˆ‘å€‘å°±ç¹¼çºŒä¾†ä¿®æ”¹ User é€™å€‹ model ï¼Œå°‡åŸæœ¬çš„ nameã€email ï¼Œä¿®æ”¹æˆä»¥ä¸‹ \u003c?php namespace App\\Models; use Illuminate\\Notifications\\Notifiable; use Illuminate\\Foundation\\Auth\\User as Authenticatable; class User extends Authenticatable { use Notifiable; /** * The attributes that are mass assignable. * * @var array */ protected $fillable = [ 'username', 'password', ]; /** * The attributes that should be hidden for arrays. * * @var array */ protected $hidden = [ 'password', 'remember_token', ]; } è£¡é¢æœ‰ä¸€å€‹æ˜¯ fillable è·Ÿ hiddem ï¼Œé †ä¾¿è§£é‡‹ä¸€ä¸‹é€™å…©å€‹æ˜¯åœ¨åšä»€éº¼ fillableï¼šç•¶ä½¿ç”¨è€…è¼¸å…¥é€™äº› attribute ä»¥å¤–çš„åƒæ•¸(è³‡æ–™è¡¨çš„æ¬„ä½)ï¼Œå°±æœƒç™¼ç”ŸéŒ¯èª¤ã€‚ hiddenï¼šæƒ³è¦é™åˆ¶èƒ½å‡ºç¾åœ¨é™£åˆ—æˆ–æ˜¯JSON æ ¼å¼çš„å±¬æ€§è³‡æ–™ï¼Œæ¯”å¦‚å¯†ç¢¼æ¬„ä½ç­‰ç­‰ï¼Œä¸æƒ³è¦é¡¯ç¤ºï¼Œåªéœ€è¦æŠŠè©²æ¬„ä½åŠ å…¥ hiddenã€‚ å†åŠ ç¢¼ä¸€å€‹ guardedï¼šé€™å€‹å±¬æ€§èˆ‡ fillable ç›¸åï¼Œç•¶ä½¿ç”¨è€…è¼¸å…¥è©²åƒæ•¸çš„å€¼ï¼Œå°±æœƒè¢«æ“‹æ‰ã€‚ä»¥ä¸‹é€™å€‹ä¾‹å­æ˜¯å…è¨±ä»»ä½•çš„ input è³‡æ–™ï¼Œä½†ååˆ†å»ºè­°ä¸è¦é€™æ¨£ã€‚ protected $guarded = []; Controller æ¥ä¸‹ä¾†æ˜¯è¦ä¿®æ”¹æˆ‘å€‘çš„ controllerï¼Œä¸»è¦éœ€è¦ä¿®æ”¹çš„æœ‰å…©å€‹ï¼Œæª”æ¡ˆåœ¨ app\\Http\\Auth åº•ä¸‹çš„ registerController ã€ loginController å…©å€‹æª”æ¡ˆï¼Œæˆ‘å€‘å…ˆä¾†ä¿®æ”¹ registerController è¨»å†ŠåŠŸèƒ½ï¼Œçœ‹ä¸€ä¸‹åŸæœ¬çš„ç¨‹å¼ç¢¼åœ¨åšä»€éº¼äº‹æƒ…ã€‚ RegisterController åŸæœ¬ç¨‹å¼ç¢¼ protected function validator(array $data) { return Validator::make($data, [ 'name' =\u003e 'requ","date":"2022-03-08","objectID":"/laravel-advanced/:1:1","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel é€²éš (å…§å»ºæœƒå“¡ç³»çµ±ã€é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ã€ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼)","uri":"/laravel-advanced/"},{"categories":["codenotes"],"content":"é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ æœ¬ç¯‡æœƒä½¿ç”¨åˆ°ä¸Šä¸€ç¯‡çš„ RESTful API ç•™è¨€æ¿ä¾†é€²è¡Œä¿®æ”¹ï¼Œæ‰€ä»¥æœ‰èˆˆè¶£çš„æœ‹å‹ï¼Œå¯ä»¥å…ˆå»çœ‹ç©ä¸Šä¸€ç¯‡ Laravel ä»‹ç´¹ æ­ï½ æ¥ä¸‹ä¾†ä¹ŸæœƒåŒæ™‚ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼ä¾†ä¿®æ”¹ç¨‹å¼ç¢¼ï¼Œé‚£ Repository è¨­è¨ˆæ¨¡å¼æ˜¯ä»€éº¼å‘¢ï¼Œè®“æˆ‘å…ˆä¾†ä»‹ç´¹ã€‚ Repository è¨­è¨ˆæ¨¡å¼ é‚„è¨˜å¾—æˆ‘å€‘ä¸Šä¸€æ¬¡ï¼ŒæŠŠæ‰€æœ‰çš„é‚è¼¯ä»¥åŠè³‡æ–™åº«çš„è™•ç†çš„éƒ½æ”¾åœ¨ Controller è£¡é¢å—ï¼å¦‚æœåªæ˜¯å–®ä¸€å€‹å°å°ˆæ¡ˆï¼Œé‚„å¯ä»¥é€™æ¨£åšæ²’é—œä¿‚ï¼Œä½†å°ˆæ¡ˆè¶Šä¾†è¶Šå¤§ï¼Œæœƒä½¿ç”¨çš„åŠŸèƒ½ä¹Ÿè¶Šä¾†è¶Šå¤šï¼Œæœƒé€ æˆ Controller æª”æ¡ˆè‚¥å¤§ä¸”é›£ä»¥ç¶­è­·ï¼ŒåŸºæ–¼ SOLID åŸå‰‡ï¼Œæˆ‘å€‘æ‡‰è©²è¦ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼ä¾†è£œåŠ© Controllerï¼Œå°‡ç›¸é—œçš„è³‡æ–™åº«é‚è¼¯æ”¾åœ¨ä¸åŒçš„ Repositoryï¼Œæ–¹ä¾¿ä¸­å¤§å‹çš„å°ˆæ¡ˆåšç¶­è­·ã€‚ å°çŸ¥è­˜ SOLIDï¼šç°¡å–®ä¾†èªªå°±æ˜¯ç‰©ä»¶å°å‘è¨­å®šä¸Šç‚ºäº†è®“è»Ÿé«”ç¶­è­·ã€é–‹ç™¼è®Šå¾—æ›´å®¹æ˜“çš„äº”å€‹æº–å‰‡çš„ç¸®å¯«ã€‚ Single Responsibility Principle (SRP) å–®ä¸€è·è²¬åŸå‰‡ Open-Closed Principle (OCP) é–‹æ”¾å°é–‰åŸå‰‡ Liskov Substitution Principle (LSP) é‡Œæ°æ›¿æ›åŸå‰‡ Interface Segregation Principle (ISP) ä»‹é¢éš”é›¢åŸå‰‡ Dependency Inversion Principle(DIP) ä¾è³´åè½‰åŸå‰‡ SOLIDç›®çš„ä¹Ÿå°±æ˜¯è®“ä½ ç¨‹å¼ç¢¼é”æˆä½è€¦åˆã€é«˜å…§èšã€é™ä½ç¨‹å¼ç¢¼å£å‘³é“ï¼Œé€éåˆ†é›¢èˆ‡clean codeä¾†æé«˜å¯è®€æ€§æœƒè®“ä½ çš„ç¨‹å¼ç¢¼ç­‰åŒæ–¼è¨­è¨ˆæ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ä¿®æ”¹æˆ–æ–°å¢éç¨‹ä¸­é™ä½ç”¢ç”ŸBugçš„æ©Ÿç‡ï¼Œä¹Ÿå¯ä»¥è¼ƒå¿«çš„æ‰¾åˆ°èˆ‡è§£æ±ºå‡ºå•é¡Œçš„åœ°æ–¹ï¼Œå¯ä»¥æœ‰æ•ˆçš„æ¸›å°‘æŠ€è¡“å‚µã€‚ (è³‡æ–™ä¾†æºï¼šæˆ‘è©²å­¸æœƒSOLIDå—?) ä¸å¤ªæ¸…æ¥šæ²’é—œä¿‚ï¼Œæˆ‘å€‘æœƒæ…¢æ…¢ä»‹ç´¹åˆ°ï¼é‚£æˆ‘å€‘å…ˆä¾†çœ‹çœ‹é€™æ¬¡è¦ä¿®æ”¹ä»€éº¼å‘¢ï¼ï¼Ÿ æˆ‘æƒ³è¦åœ¨ä½¿ç”¨ API æ™‚ï¼Œå»æª¢æŸ¥æœ‰æ²’æœ‰ç™»å…¥ï¼Œæ‰æœƒé€²è¡Œå‹•ä½œï¼Œèˆ‰å€‹ä¾‹å­ï¼Œæˆ‘å€‘å¸Œæœ›åœ¨æ–°å¢ç•™è¨€ã€ä¿®æ”¹ç•™è¨€ä»¥åŠåˆªé™¤ç•™è¨€éƒ½éœ€è¦ç™»å…¥ï¼Œä¸”æ˜¯ç”±æœ¬äººæ“ä½œæ‰ç®—æˆåŠŸã€‚ Migration åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘å€‘å…ˆä¾†ä¿®æ”¹ä¸€ä¸‹ä¸Šæ¬¡çš„ migration {æ—¥æœŸæ™‚é–“}_create_message_table.php æª”æ¡ˆå§ public function up() { Schema::create('message', function (Blueprint $table) { $table-\u003eincrements('id'); //ç•™è¨€æ¿ç·¨è™Ÿ $table-\u003einteger('user_id')-\u003eunsigned(); //ç•™è¨€è€…ID $table-\u003eforeign('user_id')-\u003ereferences('id')-\u003eon('users'); $table-\u003estring('content', 20); //ç•™è¨€æ¿å…§å®¹ $table-\u003einteger('version')-\u003edefault(0); $table-\u003etimestamps(); //ç•™è¨€æ¿å»ºç«‹ä»¥åŠç·¨è¼¯çš„æ™‚é–“ $table-\u003esoftDeletes(); //è»Ÿåˆªé™¤æ™‚é–“ }); } å¯ä»¥çœ‹åˆ°æˆ‘å€‘å°‡è³‡æ–™åº«çš„åç¨±å¾ messsages æ”¹ç‚º message ï¼Œå¾ŒçºŒç¨‹å¼éƒ¨åˆ†ä¹Ÿéƒ½æœƒä¿®æ”¹ï¼Œå¤§å®¶è¦åœ¨æ³¨æ„ä¸€ä¸‹ ï½ æˆ‘å€‘é€™æ¬¡åŠ å…¥äº†ç•™è¨€è€… ID (ä½¿ç”¨å¤–éµé€£æ¥ users çš„ id)ã€æŒ‰è®šè€… ID (ä½¿ç”¨å¤–éµé€£æ¥ users çš„ id)ã€ç•™è¨€æ¿æ¨‚è§€é–ã€softDeletesè»Ÿåˆªé™¤çš„æ¬„ä½(è»Ÿåˆªé™¤å¾ŒçºŒæœƒæåˆ°)ï¼Œä¸¦ä¸”å› ç‚ºæˆ‘å€‘åŒæ¨£çš„è³‡æ–™ä¸è¦é‡è¤‡å„²å­˜ï¼Œæ‰€ä»¥åˆªé™¤ name è¦æŸ¥è©¢å°±ä½¿ç”¨ join ä¾†åšæŸ¥è©¢ã€‚ æˆ‘å€‘é‚„å¸Œæœ›å¯ä»¥å¤šä¸€å€‹ä¾†å­˜æ”¾æ˜¯èª°æŒ‰è®šçš„çš„è³‡æ–™è¡¨ã€‚æ‰€ä»¥ä¸€æ¨£ä½¿ç”¨ migration æ–°å¢ä¸€å€‹ {æ—¥æœŸæ™‚é–“}_create_like_table.php æª”æ¡ˆ public function up() { Schema::create('like', function (Blueprint $table) { $table-\u003ebigIncrements('id'); //æŒ‰è®šç´€éŒ„ç·¨è™Ÿ $table-\u003einteger('message_id')-\u003eunsigned()-\u003enullable(); //æ–‡ç« ç·¨è™Ÿ $table-\u003eforeign('message_id')-\u003ereferences('id')-\u003eon('message'); $table-\u003einteger('user_id')-\u003eunsigned()-\u003enullable(); //å¸³è™Ÿç·¨è™Ÿ $table-\u003eforeign('user_id')-\u003ereferences('id')-\u003eon('users'); $table-\u003edateTime('created_at'); //æŒ‰è®šç´€éŒ„å»ºç«‹æ™‚é–“ $table-\u003esoftDeletes(); //è»Ÿåˆªé™¤æ™‚é–“ }); } æœƒå­˜æ”¾æ–‡ç« çš„ç·¨è™Ÿä¸¦ä¸”ä½¿ç”¨å¤–éµé€£æ¥ message çš„ idï¼Œä»¥åŠæŒ‰è®šè€…çš„ ID ä¹Ÿä½¿ç”¨å¤–éµé€£æ¥ users çš„ idã€‚ åˆ—å‡ºæœ¬æ¬¡æœƒä½¿ç”¨çš„åŠŸèƒ½ä»¥åŠå°æ‡‰çš„æ–¹æ³•ã€æ˜¯å¦éœ€è¦ç™»å…¥ã€ç™»å…¥å¾Œå…¶ä»–äººæ˜¯å¦å¯ä»¥æ“ä½œ åŠŸèƒ½ æ–¹æ³• æ˜¯å¦éœ€è¦ç™»å…¥ ç™»å…¥å¾Œå…¶ä»–äººæ˜¯å¦å¯ä»¥æ“ä½œ æŸ¥è©¢å…¨éƒ¨ç•™è¨€ getAllMessage å¦ ä¸éœ€ç™»å…¥ æŸ¥è©¢{id}ç•™è¨€ getMessage å¦ ä¸éœ€ç™»å…¥ æ–°å¢ç•™è¨€ createMessage æ˜¯ å¦ ä¿®æ”¹{id}ç•™è¨€ updateMessage æ˜¯ å¦ æŒ‰è®š{id}ç•™è¨€ likeMessage æ˜¯ å¯ä»¥ åˆªé™¤{id}ç•™è¨€ deleteMessage æ˜¯ å¦ ç™»å…¥ API æˆ‘å€‘ä¸Šé¢ä»‹ç´¹æœ‰ä½¿ç”¨åˆ° Laravel å…§å»ºçš„ç™»å…¥ LoginController ä¾†é€²è¡Œç™»å…¥ï¼Œä½†é€šå¸¸æˆ‘å€‘åœ¨ä½¿ç”¨æ™‚ï¼Œéƒ½æœƒå¦å¤–å†å¤šä¸€å€‹ç™»å…¥ç”¨çš„ API ï¼Œé‚£æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹è¦æ€éº¼è¨­è¨ˆå§ï¼ æˆ‘å€‘å…ˆä½¿ç”¨ php artisan make:controller LoginController æ–°å¢ä¸€å€‹ç™»å…¥çš„ APIï¼Œä»–æœƒç”¢ç”Ÿåœ¨ app/Http/Controllers/ ç›®éŒ„ä¸‹ namespace App\\Http\\Controllers; use Illuminate\\Http\\Request; use Illuminate\\Support\\Facades\\Validator; use Illuminate\\Support\\Facades\\Auth; class LoginController extends Controller { public function login(Request $request) { $rules = [ 'username' =\u003e 'required', 'password' =\u003e 'required' ]; $validator = Validator::make($request-\u003eall(), $rules); if ($validator-\u003efails()) { return response()-\u003ejson([\"message\" =\u003e \"æ ¼å¼éŒ¯èª¤\"], 400); } if (!Auth::attempt([ 'username' =\u003e $request-\u003eusername, 'password' =\u003e $request-\u003epassword ])) { return response()-\u003ejson([\"message\" =\u003e \"ç™»å…¥å¤±æ•—\"], 401); } return response()-\u003ejson([\"message\" =\u003e \"ç™»å…¥æˆåŠŸ\"], 200); } public function logout() { Auth::logout(); return response()-\u003ejson([\"message\" =\u003e \"ç™»å‡ºæˆåŠŸ\"], 200); } } é€™é‚Šçš„ Login æœƒå…ˆé©—è­‰æ ¼å¼æ˜¯å¦æ­£ç¢ºï¼Œåœ¨ä½¿ç”¨ Auth:attempt ä¾†æª¢æŸ¥æ˜¯å¦æœ‰è¨»å†Šéï¼Œä¸¦ä¸”å›å‚³ç›¸å°æ‡‰çš„è¨Šæ¯ï¼Œ Logout å°±ä½¿ç”¨ Auth::logout å³å¯ã€‚ å¥½äº†å¾Œæˆ‘å€‘å…ˆåˆ° routes/api.php æ–°å¢ç™»å…¥è·Ÿç™»å‡º API çš„è·¯å¾‘ Route::post('login', 'LoginController@login'); Route::post('logout', 'LoginController@logout'); æˆ‘å€‘æ¥ä¸‹ä¾†è¨­å®š Middleware ï¼Œä»€éº¼æ˜¯ Middleware å‘¢ï¼ï¼Ÿ Middleware Middleware ä¸­æ–‡ç¿»è­¯æ˜¯ä¸­ä»‹è»Ÿé«”ï¼Œæ˜¯æŒ‡å¾ç™¼å‡ºè«‹æ±‚ (Request)ä¹‹å¾Œï¼Œåˆ°æ¥æ”¶å›æ‡‰(Response)é€™æ®µä¾†å›çš„é€”å¾‘ä¸Šï¼Œ ç”¨ä¾†è™•ç†ç‰¹å®šç”¨é€”çš„ç¨‹å¼ï¼Œæ¯”è¼ƒå¸¸ç”¨çš„ Middleware æœ‰èº«ä»½èªè­‰ (Identity) ã€è·¯ç”±(Routing) ç­‰ï¼Œå†èˆ‰å€‹ä¾‹å­ æŸå¤©æ—©ä¸Šä½ å»åœ–æ›¸é¤¨çœ‹æ›¸ï¼Œ ä¸‹åˆå»å…¬åœ’ç•«ç•«ï¼Œ æ™šä¸Šå»KTV å”±æ­Œï¼Œ ç­‰åˆ°è¦æº–å‚™å›å®¶çš„æ™‚å€™ç™¼ç¾å­¸ç”Ÿè­‰ä¸è¦‹äº†ï¼Œ ä½ æœƒå»å“ªè£¡æ‰¾? (å‡è¨­å­¸ç”Ÿè­‰å°±æ‰åœ¨é€™3å€‹åœ°æ–¹) å°æ–¼è¨˜æ†¶ä¸å¥½çš„äººä¾†èªªï¼ŒæœƒæŒ‰ç…§ KTV \u003e å…¬åœ’ \u003e åœ–æ›¸é¤¨çš„è·¯ç·šå»å°‹æ‰¾ã€‚ å‡è¨­åœ¨å…¬åœ’æ‰¾åˆ°å­¸ç”Ÿè­‰ï¼Œå°±ä¸æœƒå†å»åœ–æ›¸é¤¨äº†ï¼Œç”±æ–¼é€™æ¢è·¯æ˜¯æ­»å··ï¼Œæ‰€ä»¥åªèƒ½è¿”å›èµ°å»KTVçš„è·¯ï¼Œé€™å€‹å°±æ˜¯ Middleware çš„é‹ä½œåŸç†ã€‚ æ‰€ä»¥æˆ‘å€‘éœ€è¦å†è«‹æ±‚æ™‚ï¼Œå…ˆæª¢æŸ¥æ˜¯å¦æœ‰ç™»å…¥ï¼Œæ‰å¯ä»¥å»åŸ·è¡Œéœ€è¦æ¬Šé™çš„åŠŸèƒ½ã€‚ æˆ‘å€‘å¯ä»¥ä½¿ç”¨å…§å»ºçš„ Auth::check ä¾†æª¢æŸ¥æ˜¯å¦æœ‰ç™»å…¥ï¼Œæˆ‘å€‘æ¥è‘—çœ‹è¦æ€éº¼åšå§ï¼ å…ˆä¸‹æŒ‡ä»¤ç”Ÿæˆä¸€å€‹æ”¾ç½®ç™»å…¥é©—è­‰æ¬Šé™çš„ Middleware ï¼Œæˆ‘æŠŠå®ƒå–åç‚º ApiAuth $ php artisan make:middleware ApiAuth Middleware creat","date":"2022-03-08","objectID":"/laravel-advanced/:1:2","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel é€²éš (å…§å»ºæœƒå“¡ç³»çµ±ã€é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ã€ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼)","uri":"/laravel-advanced/"},{"categories":["codenotes"],"content":"Postman æ¸¬è©¦ é‚£æˆ‘å€‘ä¸€æ¨£ä¾†çœ‹ä¸€ä¸‹ Postman çš„æ¸¬è©¦ï¼Œé€™é‚Šåªé¡¯ç¤ºéœ€è¦ç™»å…¥æ‰èƒ½ä½¿ç”¨çš„ APIã€‚ ç™»å…¥ æ–°å¢ç•™è¨€ æˆåŠŸ\" æ–°å¢ç•™è¨€ æˆåŠŸ æˆ‘å€‘æŠŠå¸³è™Ÿå¯†ç¢¼æ”¾åˆ° Body ä¾†å‚³é€ï¼Œå¦‚æœå¸³è™Ÿå¯†ç¢¼æ­£ç¢ºï¼Œå°±æœƒé¡¯ç¤ºç™»å…¥æˆåŠŸï¼Œä¸¦ä¸”åœ¨ Cookie è£¡é¢çš„ laravel_sessionï¼Œå¯ä»¥ç”¨ä¾†åˆ¤æ–·æ˜¯å¦ç™»å…¥ï¼Œä»¥åŠç™»å…¥çš„äººæ˜¯èª°ã€‚ æ–°å¢ç•™è¨€ - æˆåŠŸ æ–°å¢ç•™è¨€ æˆåŠŸ\" æ–°å¢ç•™è¨€ æˆåŠŸ æ–°å¢ç•™è¨€æˆåŠŸï¼Œå› ç‚º æœ‰ç™»å…¥ï¼Œæ‰€ä»¥å¯ä»¥å¾ Cookie è£¡é¢çš„ laravel_session ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ æœƒé¡¯ç¤ºæ–°å¢ç´€éŒ„æˆåŠŸä»¥åŠå›æ‡‰ 201 Created æ–°å¢ç•™è¨€ - å¤±æ•— æ–°å¢ç•™è¨€ å¤±æ•—\" æ–°å¢ç•™è¨€ å¤±æ•— æ–°å¢ç•™è¨€å¤±æ•—ï¼Œå› ç‚º æ²’æœ‰ç™»å…¥ï¼Œç„¡æ³•å¾ Cookie è£¡é¢çš„ laravel_session ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ ï¼Œæ‰€ä»¥æœƒé¡¯ç¤ºç”¨æˆ¶éœ€è¦èªè­‰ä»¥åŠå›æ‡‰ 401 Unauthorized ä¿®æ”¹ç•™è¨€ - æˆåŠŸ ä¿®æ”¹ç•™è¨€ æˆåŠŸ\" ä¿®æ”¹ç•™è¨€ æˆåŠŸ ä¿®æ”¹ç•™è¨€æˆåŠŸï¼Œå› ç‚º æœ‰ç™»å…¥ï¼Œæ‰€ä»¥å¯ä»¥å¾ Cookie è£¡é¢çš„ laravel_session ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ ï¼Œæœƒé¡¯ç¤ºä¿®æ”¹æˆåŠŸä»¥åŠå›æ‡‰ 200 OK ä¿®æ”¹ç•™è¨€ - å¤±æ•— - æ²’æœ‰ç™»å…¥ ä¿®æ”¹ç•™è¨€ å¤±æ•—\" ä¿®æ”¹ç•™è¨€ å¤±æ•— ä¿®æ”¹ç•™è¨€å¤±æ•—ï¼Œå› ç‚º æ²’æœ‰ç™»å…¥ï¼Œç„¡æ³•å¾ Cookie è£¡é¢çš„ laravel_session ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ ï¼Œæœƒé¡¯ç¤ºç”¨æˆ¶éœ€è¦èªè­‰ä»¥åŠå›æ‡‰ 401 Unauthorized ä¿®æ”¹ç•™è¨€ - å¤±æ•— - æ¬Šé™ä¸è¶³ ä¿®æ”¹ç•™è¨€ å¤±æ•—\" ä¿®æ”¹ç•™è¨€ å¤±æ•— ä¿®æ”¹ç•™è¨€å¤±æ•—ï¼Œé›–ç„¶ æœ‰ç™»å…¥ï¼Œä½†å­˜åœ¨ Cookie è£¡é¢çš„ laravel_session ä¸æ˜¯ç•¶åˆçš„ç•™è¨€è€… ï¼Œæœƒé¡¯ç¤ºæ¬Šé™ä¸æ­£ç¢ºä»¥åŠå›æ‡‰ 403 Forbidden æŒ‰è®šç•™è¨€ - æˆåŠŸ ä¿®æ”¹ç•™è¨€ æˆåŠŸ\" ä¿®æ”¹ç•™è¨€ æˆåŠŸ æŒ‰è®šç•™è¨€æˆåŠŸï¼Œå› ç‚º æœ‰ç™»å…¥ï¼Œæ‰€ä»¥å¯ä»¥å¾ Cookie è£¡é¢çš„ laravel_session ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ ï¼Œæœƒé¡¯ç¤ºæŒ‰è®šæˆåŠŸä»¥åŠå›æ‡‰ 200 OK æŒ‰è®šç•™è¨€ - å¤±æ•— - æ²’æœ‰ç™»å…¥ ä¿®æ”¹ç•™è¨€ å¤±æ•—\" ä¿®æ”¹ç•™è¨€ å¤±æ•— æŒ‰è®šç•™è¨€å¤±æ•—ï¼Œå› ç‚º æ²’æœ‰ç™»å…¥ï¼Œç„¡æ³•å¾ Cookie è£¡é¢çš„ laravel_session ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ ï¼Œæœƒé¡¯ç¤ºç”¨æˆ¶éœ€è¦èªè­‰ä»¥åŠå›æ‡‰ 401 Unauthorized åˆªé™¤ç•™è¨€ - æˆåŠŸ åˆªé™¤ç•™è¨€ æˆåŠŸ\" åˆªé™¤ç•™è¨€ æˆåŠŸ åˆªé™¤ç•™è¨€æˆåŠŸï¼Œå› ç‚º æœ‰ç™»å…¥ï¼Œæ‰€ä»¥å¯ä»¥å¾ Cookie è£¡é¢çš„ laravel_session ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ ï¼Œä¸æœƒé¡¯ç¤ºè¨Šæ¯ä½†æœƒå›æ‡‰ 204 No Content åˆªé™¤ç•™è¨€ - å¤±æ•— - æ²’æœ‰ç™»å…¥ åˆªé™¤ç•™è¨€ å¤±æ•—\" åˆªé™¤ç•™è¨€ å¤±æ•— åˆªé™¤ç•™è¨€å¤±æ•—ï¼Œå› ç‚º æ²’æœ‰ç™»å…¥ï¼Œç„¡æ³•å¾ Cookie è£¡é¢çš„ laravel_session ä¾†é©—è­‰æ˜¯å¦ç™»å…¥ ï¼Œæœƒé¡¯ç¤ºç”¨æˆ¶éœ€è¦èªè­‰ä»¥åŠå›æ‡‰ 401 Unauthorized åˆªé™¤ç•™è¨€ - å¤±æ•— - æ¬Šé™ä¸è¶³ åˆªé™¤ç•™è¨€ å¤±æ•—\" åˆªé™¤ç•™è¨€ å¤±æ•— åˆªé™¤ç•™è¨€å¤±æ•—ï¼Œé›–ç„¶ æœ‰è¼¸å…¥æ­£ç¢ºçš„ token ï¼Œä½†ä¸æ˜¯ç•¶åˆçš„ç•™è¨€è€… ï¼Œæœƒé¡¯ç¤ºæ¬Šé™ä¸æ­£ç¢ºä»¥åŠå›æ‡‰ 403 Forbidden ","date":"2022-03-08","objectID":"/laravel-advanced/:1:3","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel é€²éš (å…§å»ºæœƒå“¡ç³»çµ±ã€é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ã€ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼)","uri":"/laravel-advanced/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Laravel Auth è‡ªå®šç¾©user æ¨¡å‹ç›®éŒ„çµæ§‹ user ( Model ) Laravel Form Request Validation laravel Validation é©—è­‰æ ¼å¼ ","date":"2022-03-08","objectID":"/laravel-advanced/:2:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","Repository","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel é€²éš (å…§å»ºæœƒå“¡ç³»çµ±ã€é©—è­‰ RESTful API æ˜¯å¦ç™»å…¥ã€ä½¿ç”¨ Repository è¨­è¨ˆæ¨¡å¼)","uri":"/laravel-advanced/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯ Redis ? Redis å…¨åæ˜¯ Remote Dictionary Server ï¼Œæ˜¯å¿«é€Ÿçš„é–‹æºè¨˜æ†¶é«”éµå€¼è³‡æ–™åº« (keys-value database)ã€‚ ç”±æ–¼ Redis çš„å›æ‡‰æ™‚é–“æ¥µçŸ­ï¼Œä½æ–¼ä¸€æ¯«ç§’ï¼Œå¯ä»¥è®“éŠæˆ²ã€é‡‘èæœå‹™ã€é†«ç™‚ä¿å¥ç­‰å³æ™‚æ‡‰ç”¨æœå‹™æ¯ç§’è™•ç†å¹¾ç™¾è¬å€‹è«‹æ±‚ã€‚ ","date":"2022-03-08","objectID":"/redis/:1:0","tags":["Redis"],"title":"Redis ä»‹ç´¹","uri":"/redis/"},{"categories":["codenotes"],"content":"Redis çš„å„ªå‹¢ æ•ˆèƒ½ æ‰€æœ‰çš„ Redis è³‡æ–™éƒ½æ˜¯å­˜æ”¾åœ¨è¨˜æ†¶é«”ä¸­ï¼Œé€²è€Œå¯¦ç¾ä½å»¶é²å’Œé«˜å‚³è¼¸é‡çš„è³‡æ–™å­˜å–ã€‚ å½ˆæ€§çš„è³‡æ–™çµæ§‹ ä¸€èˆ¬çš„éµå€¼è³‡æ–™åº«æä¾›çš„è³‡æ–™çµæ§‹æœ‰é™ï¼Œè€Œ Redis æä¾›å¤šæ¨£åŒ–çš„è³‡æ–™çµæ§‹ä¾†æ»¿è¶³æœå‹™çš„éœ€æ±‚ï¼ŒåŒ…å«å­—ä¸²(Strings)ã€å“ˆå¸Œ(Hashes)ã€åˆ—è¡¨(Lists)ã€é›†åˆ(Sets)ã€æœ‰åºé›†åˆ(Zset)ã€‚(å¾ŒçºŒæœƒæœ‰è©³ç´°ä»‹ç´¹) ç°¡å–®æ˜“ç”¨ Redis å¯ä»¥ç”¨æ›´å°‘ã€æ›´ç²¾ç°¡çš„æŒ‡ä»¤ä¾†å–ä»£å‚³çµ±è¤‡é›œçš„ç¨‹å¼ç¢¼ï¼Œå¯ä»¥å­˜å–æ‡‰ç”¨ç¨‹å¼çš„è³‡æ–™ã€‚ä¸¦æ”¯æ´ Javaã€Pythonã€PHPã€C/C++ã€C#ã€JavaScriptã€Node.jsã€Rubyã€Rã€GOã€‚ è¤‡å¯«å’ŒæŒä¹…æ€§ Redis æ¡ä¸»è¦-è¤‡æœ¬æ¶æ§‹ï¼Œæ”¯æ´éåŒæ­¥è¤‡å¯«ï¼Œå¯ä»¥å°‡è³‡æ–™è¤‡å¯«åˆ°å¤šå€‹è¤‡æœ¬ä¼ºæœå™¨ã€‚ä¸ä½†å¯ä»¥æå‡è®€å–æ•ˆèƒ½(å› ç‚ºè«‹æ±‚å¯åˆ†å‰²åˆ°å¤šéƒ¨ä¼ºæœå™¨)ï¼Œé‚„å¯ä»¥å†ä¸»æœå‹™å™¨ç™¼ç”Ÿæ•…éšœæ™‚å¿«é€Ÿæ¢å¾©ã€‚è‡³æ–¼æŒä¹…æ€§ï¼ŒRedis æ”¯æ´æ™‚é–“é»å‚™ä»½ï¼Œæœƒå°‡è³‡æ–™è¤‡è£½åˆ°ç£ç¢Ÿä¸­ã€‚ ","date":"2022-03-08","objectID":"/redis/:1:1","tags":["Redis"],"title":"Redis ä»‹ç´¹","uri":"/redis/"},{"categories":["codenotes"],"content":"å¯¦éš›æ“ä½œ ","date":"2022-03-08","objectID":"/redis/:2:0","tags":["Redis"],"title":"Redis ä»‹ç´¹","uri":"/redis/"},{"categories":["codenotes"],"content":"å®‰è£ Redis ä½¿ç”¨ Homebrew ä¾†å®‰è£ Redis (Mac OSï¼š11.6) $ brew install redis å®‰è£å¥½ç”¨ -v æª¢æŸ¥ç‰ˆæœ¬ $ redis-server -v Redis server v=6.2.6 sha=00000000:0 malloc=libc bits=64 build=c6f3693d1aced7d9 $ redis-cli -v redis-cli 6.2.6 ä¸€å€‹æ˜¯ Serverã€å¦ä¸€å€‹æ˜¯ Cliï¼Œæ‰€ä»¥åœ¨ç¨å¾Œæ¸¬è©¦æ™‚ï¼Œéœ€è¦é–‹å•Ÿå…©å€‹ Terminal ä¾†åŸ·è¡Œæ­ï¼ ","date":"2022-03-08","objectID":"/redis/:2:1","tags":["Redis"],"title":"Redis ä»‹ç´¹","uri":"/redis/"},{"categories":["codenotes"],"content":"åŸ·è¡Œ Redis Server $ redis-server 39403:C 08 Mar 2022 11:13:17.500 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo 39403:C 08 Mar 2022 11:13:17.500 # Redis version=6.2.6, bits=64, commit=00000000, modified=0, pid=39403, just started 39403:C 08 Mar 2022 11:13:17.500 39403:M 08 Mar 2022 11:13:17.501 * Increased maximum number of open files to 10032 (it was originally set to 256). 39403:M 08 Mar 2022 11:13:17.501 * monotonic clock: POSIX clock_gettime _._ _.-``__ ''-._ _.-`` `. `_. ''-._ Redis 6.2.6 (00000000/0) 64 bit .-`` .-```. ```\\/ _.,_ ''-._ ( ' , .-` | `, ) Running in standalone mode |`-._`-...-` __...-.``-._|'` _.-'| Port: 6379 | `-._ `._ / _.-' | PID: 39403 `-._ `-._ `-./ _.-' _.-' |`-._`-._ `-.__.-' _.-'_.-'| | `-._`-._ _.-'_.-' | https://redis.io `-._ `-._`-.__.-'_.-' _.-' |`-._`-._ `-.__.-' _.-'_.-'| | `-._`-._ _.-'_.-' | `-._ `-._`-.__.-'_.-' _.-' `-._ `-.__.-' _.-' `-._ _.-' `-.__.-' 39403:M 08 Mar 2022 11:13:17.503 # Server initialized 39403:M 08 Mar 2022 11:13:17.503 * Ready to accept connections å¦‚æœå‡ºç¾ä¸Šé¢ç¬¦è™Ÿï¼Œå°±ä»£è¡¨ Server å·²ç¶“å•Ÿå‹•ï¼Œæ¥ä¸‹ä¾†å†é–‹å¦ä¸€å€‹ Terminal ä¾†åŸ·è¡Œ Cliã€‚ Cli é–‹å•Ÿå¾Œï¼Œåœ¨ä¸‹ä¸€å€‹ ping æŒ‡ä»¤ï¼Œè©²æŒ‡ä»¤ç”¨æ–¼æª¢æ¸¬ redis æœå‹™æ˜¯å¦å•Ÿå‹•ï¼Œæ­£å¸¸æœƒé¡¯ç¤º pongã€‚ $ redis-cli 127.0.0.1:6379\u003e ping PONG æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘éƒ½æœƒåœ¨ Cli è¦–çª—åšæ¸¬è©¦ï¼Œæœƒè©³ç´°ä»‹ç´¹æ¯ä¸€å€‹è³‡æ–™å‹æ…‹ä»¥åŠå…¶é©åˆæƒ…å¢ƒã€‚ redis åœ–å½¢åŒ–å·¥å…· å¾ŒçºŒæœƒä½¿ç”¨ Cli ç•«é¢ä¾†åšç¤ºç¯„ï¼Œä½†ä¹Ÿæœ‰ä¸éŒ¯çš„åœ–å½¢åŒ–å·¥å…·å¯ä»¥ç”¨æ–¼ redis ä¸Š AnotherRedisDesktopManager å¤§å®¶å¯ä»¥å»è©¦ç”¨çœ‹çœ‹~ ","date":"2022-03-08","objectID":"/redis/:2:2","tags":["Redis"],"title":"Redis ä»‹ç´¹","uri":"/redis/"},{"categories":["codenotes"],"content":"è³‡æ–™å‹æ…‹ å­—ä¸² (Strings) setã€get é€™æ˜¯æœ€åŸºæœ¬çš„å‹æ…‹ï¼Œå¯ä»¥å­˜æ”¾ binary, string, integer, floatè³‡æ–™ï¼Œä¸€å€‹ Strings çš„æ¬„ä½ï¼Œæœ€é«˜å¯å„²å­˜ 512 Megabytesï¼Œé€™è£¡æœƒç”¨åˆ°çš„æŒ‡ä»¤æ˜¯ setã€get ï¼Œåˆ†åˆ¥ç”¨ä¾†å„²å­˜ä»¥åŠè®€å–å­—ä¸²ï¼Œæˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ç¯„ä¾‹å§ã€‚ 127.0.0.1:6379\u003e set string hello-world OK 127.0.0.1:6379\u003e get string \"hello-world\" æˆ‘å€‘å…ˆç”¨ set å°‡ hello-world å­—ä¸²å­˜åˆ° string é€™å€‹ keyï¼Œå†ç”¨ get é¡¯ç¤º string è£¡é¢çš„ valueã€‚ incrã€decr Redis é‚„æœ‰ä¸€äº›æ–¹ä¾¿çš„æŒ‡ä»¤ï¼Œå¦‚æœå­˜å…¥çš„ value æ˜¯ integer å‹æ…‹ï¼Œå°±å¯ä»¥ä½¿ç”¨ incr ã€decr ï¼Œä¾†ç´¯åŠ èˆ‡ç´¯æ¸›ã€‚åˆ†åˆ¥ä»£è¡¨ç´¯åŠ ï¼Œåƒæ˜¯æˆ‘å€‘çš„ ++ ï¼Œä»¥åŠç´¯æ¸›ï¼Œåƒæ˜¯æˆ‘å€‘çš„ - -ã€‚ 127.0.0.1:6379\u003e set num 10 OK 127.0.0.1:6379\u003e incr num (integer) 11 127.0.0.1:6379\u003e incr num (integer) 12 127.0.0.1:6379\u003e decr num (integer) 11 127.0.0.1:6379\u003e decr num (integer) 10 append å¦‚æœ key å·²ç¶“å­˜åœ¨ä¸¦ä¸”å®ƒæ˜¯å­—ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ append æŒ‡ä»¤ï¼Œæœƒå¾å­—ä¸²æœ€å¾Œé¢é™„åŠ é€²å»ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå‰‡æœƒç›´æ¥å»ºç«‹ä¸€å€‹ï¼Œä¸¦æŠŠå€¼å­˜é€²å»ã€‚ 127.0.0.1:6379\u003e exists str (integer) 0 127.0.0.1:6379\u003e append str \"Hello\" (integer) 5 127.0.0.1:6379\u003e append str \" World~\" (integer) 12 127.0.0.1:6379\u003e get str \"Hello World~\" getrange å¯ä»¥è¼¸å…¥å­—ä¸²çš„é–‹å§‹ä½å…ƒèˆ‡çµæŸä½å…ƒï¼Œæœƒä¾ç…§ä½ è¼¸å…¥çš„å»é¡¯ç¤ºå­—ä¸²ã€‚æˆ‘æŠŠå®ƒç†è§£æˆæ˜¯é™£åˆ—çš„ key èˆ‡ value çš„é—œä¿‚ã€‚ 127.0.0.1:6379\u003e set a \"This is a string\" OK 127.0.0.1:6379\u003e getrange a 0 3 \"This\" 127.0.0.1:6379\u003e getrange a -3 -1 \"ing\" 127.0.0.1:6379\u003e getrange a 0 -1 \"This is a string\" 127.0.0.1:6379\u003e getrange a 10 100 \"string\" mset æˆ‘å€‘ä¹Ÿå¯ä»¥è¨­å®šçš„æ™‚å€™ï¼ŒæŠŠè¦è¨­å®šçš„å€¼éƒ½ä¸€èµ·è¨­å®šï¼Œåªéœ€è¦ä½¿ç”¨ mset å°±å¯ä»¥é”æˆã€‚ 127.0.0.1:6379\u003e mset 1 1 2 2 OK 127.0.0.1:6379\u003e get 1 \"1\" 127.0.0.1:6379\u003e get 2 \"2\" 127.0.0.1:6379\u003e get 3 (nil) å¦‚æœç”¨ get é¡¯ç¤ºè³‡æ–™ï¼Œè‹¥æ²’æœ‰å°æ‡‰çš„ key ï¼Œæœƒé¡¯ç¤º (nil)ã€‚ å­—ä¸²å‹æ…‹é©åˆå ´æ™¯ å­—ä¸²(strings) å‹æ…‹é©åˆç”¨æ–¼åœ–ç‰‡å¿«å– ï¼ˆä½¿ç”¨binaryï¼‰ã€ç´¯è¨ˆæ¬¡æ•¸ã€è§€çœ‹ç´¯è¨ˆæ¬¡æ•¸ String é©ç”¨å ´æ™¯åœ–\" String é©ç”¨å ´æ™¯åœ– å“ˆå¸Œ (Hashes) å¯ä»¥æŠŠä»–æƒ³åƒæˆäºŒç¶­é™£åˆ—ï¼Œæ‡‰è©²æœƒæ¯”è¼ƒå¥½ç†è§£ï¼Œæˆ‘ç¶²è·¯ä¸Šæ‰¾äº†ä¸€å¼µåœ–ï¼Œæ‡‰è©²æœƒæ¯”è¼ƒæ¸…æ¥šï¼ Hashes ç¤ºæ„åœ– (Redis åŸºæœ¬è³‡æ–™å½¢æ…‹)\" Hashes ç¤ºæ„åœ– (Redis åŸºæœ¬è³‡æ–™å½¢æ…‹) Hashes æ˜¯ç”¨ä¾†å­˜æ”¾ä¸€çµ„ç›¸åŒæ€§è³ªçš„è³‡æ–™ï¼Œé€™äº›è³‡æ–™ Hashes æˆ–æ˜¯ç‰©ä»¶çš„æŸä¸€å±¬æ€§ï¼Œèˆ‡ String è¼ƒç‚ºä¸åŒçš„æ˜¯ä»–å¯ä»¥å–å›å–®ä¸€å€‹æ¬„ä½è³‡æ–™ï¼Œä½† String å¿…é ˆå–å›æ‰€æœ‰è³‡æ–™ï¼Œå–®ä¸€å€‹ Key å¯ä»¥å­˜æ”¾2^32 - 1çš„è³‡æ–™æ¬„ä½ï¼Œ ä»–çš„è³‡æ–™å‹æ…‹æœ‰åƒæ˜¯ï¼Œä¸€å€‹ user001 è£¡é¢æ˜¯ä¸€å€‹ Hashesï¼ŒHashes è£¡é¢åˆæœƒå­˜æ”¾ nameã€phoneã€gender ï¼Œæˆ‘å€‘ä¾†å¯¦éš›æ“ä½œçœ‹çœ‹ã€‚ hsetã€hget 127.0.0.1:6379\u003e hset student name ian phone 0980123456 gender M (integer) 3 127.0.0.1:6379\u003e hget student name \"ian\" 127.0.0.1:6379\u003e hget student phone \"0980123456\" 127.0.0.1:6379\u003e hget student gender \"M\" Hashes çš„è©±è¦ä½¿ç”¨ hsetã€hget ä¾†å° Hashes åšå„²å­˜ä»¥åŠè®€å–ã€‚ hgetall æƒ³è¦ä¸€æ¬¡é¡¯ç¤º Hashes è£¡é¢çš„ key è·Ÿ value ï¼Œå¯ä»¥ä½¿ç”¨ hgetall ä¾†é¡¯ç¤ºå…¨éƒ¨è³‡æ–™ã€‚ 127.0.0.1:6379\u003e hset student name ian phone 0980123456 gender M (integer) 3 127.0.0.1:6379\u003e hgetall student 1) \"name\" 2) \"ian\" 3) \"phone\" 4) \"0980123456\" 5) \"gender\" 6) \"M\" hkeys æƒ³è¦å–®ç¨é¡¯ç¤º Hashes è£¡é¢çš„ key ï¼Œå¯ä»¥ä½¿ç”¨ hkeys ä¾†é¡¯ç¤ºã€‚ 127.0.0.1:6379\u003e hset student name ian phone 0980123456 gender M (integer) 3 127.0.0.1:6379\u003e hkeys student 1) \"name\" 2) \"phone\" 3) \"gender\" hvals æƒ³è¦å–®ç¨é¡¯ç¤º Hashes è£¡é¢çš„ value ï¼Œå¯ä»¥ä½¿ç”¨ hvals ä¾†é¡¯ç¤ºã€‚ 127.0.0.1:6379\u003e hset student name ian phone 0980123456 gender M (integer) 3 127.0.0.1:6379\u003e hvals student 1) \"ian\" 2) \"0980123456\" 3) \"M\" hlen æƒ³è¦é¡¯ç¤º Hashes è£¡é¢çš„ key é•·åº¦ï¼Œå¯ä»¥ä½¿ç”¨ hlen ä¾†é¡¯ç¤ºã€‚ 127.0.0.1:6379\u003e hgetall student 1) \"name\" 2) \"ian\" 3) \"gender\" 4) \"M\" 127.0.0.1:6379\u003e hlen student (integer) 2 hincrby æƒ³è¦å¢åŠ  Hashes è£¡é¢çš„ value æ•´æ•¸ï¼Œå¯ä»¥ä½¿ç”¨ hincrby ä¾†æ–°å¢ã€‚ 127.0.0.1:6379\u003e hset test a 10 b 20 (integer) 2 127.0.0.1:6379\u003e hincrby test a 2 (integer) 12 hdel æƒ³è¦åˆªé™¤ Hashes è£¡é¢çš„ keyï¼Œå¯ä»¥ä½¿ç”¨ hdel ä¾†åˆªé™¤ã€‚ 127.0.0.1:6379\u003e hset student name ian phone 0980123456 gender M (integer) 3 127.0.0.1:6379\u003e hdel student phone (integer) 1 127.0.0.1:6379\u003e hgetall student 1) \"name\" 2) \"ian\" 3) \"gender\" 4) \"M\" å“ˆå¸Œå‹æ…‹é©åˆå ´æ™¯ å“ˆå¸Œ(Hashes) å‹æ…‹é©åˆç”¨æ–¼æ¯æ¬¡åªéœ€è¦å–ç”¨ä¸€éƒ¨åˆ†çš„è³‡æ–™ Hashes é©ç”¨å ´æ™¯åœ–\" Hashes é©ç”¨å ´æ™¯åœ– åˆ—è¡¨ (Lists) lpushã€lrange Lists è³‡æ–™å‹æ…‹å¯ä»¥æƒ³åƒæˆç¨‹å¼èªè¨€ä¸­çš„Arrayç‰©ä»¶ã€‚Lists å–®ä¸€å€‹Keyå¯ä»¥å­˜æ”¾2^32 - 1ï¼Œé€™é‚Šæœƒä½¿ç”¨åˆ° lpushã€lrange ä¾†å° Lists åšå„²å­˜ä»¥åŠè®€å–ã€‚ 127.0.0.1:6379\u003e lpush list2 a a b b c d e (integer) 7 127.0.0.1:6379\u003e lrange list2 0 10 1) \"e\" 2) \"d\" 3) \"c\" 4) \"b\" 5) \"b\" 6) \"a\" 7) \"a\" rpush é™¤äº†å¾éšŠä¼é ­æ”¾å…¥è³‡æ–™ï¼Œä¹Ÿå¯ä»¥ç”¨ rpush å¾éšŠä¼å°¾æ”¾å…¥è³‡æ–™ï¼Œå¦‚æœä½¿ç”¨ lrange ä¾†é¡¯ç¤ºæ–¹å‘ä¹Ÿæœƒç›¸åæ­ã€‚ 127.0.0.1:6379\u003e rpush list3 a a b b c d e (integer) 7 127.0.0.1:6379\u003e lrange list3 0 10 1) \"a\" 2) \"a\" 3) \"b\" 4) \"b\" 5) \"c\" 6) \"d\" 7) \"e\" lpopã€rpop ä¹Ÿå¯ä»¥ä½¿ç”¨ lpopã€rpop åˆ†åˆ¥å¾éšŠä¼é ­æˆ–å°¾å½ˆå‡ºä¸€ç­†è³‡æ–™ã€‚ 127.0.0.1:6379\u003e rpush list3 a a b b c d e (integer) 7 127.0.0.1:6379\u003e lpop list3 \"a\" 127.0.0.1:6379\u003e rpop list3 \"e\" lset å¯ä»¥ä½¿ç”¨ lset ä¾†è¨­å®šæŒ‡å®šä½ç½®çš„è³‡æ–™ã€‚ 127.0.0.1:6379\u003e lrange list3 0 2 1) \"a\" 2) \"b\" 3) \"c\" 127.0.0.1:6379\u003e lset list3 1 w OK 127.0.0.1:6379\u003e lrange list3 0 2 1) \"a\" 2) \"w\" 3) \"c\" åˆ—è¡¨å‹æ…‹é©åˆå ´æ™¯ åˆ—è¡¨(Lists) å‹æ…‹é©åˆç”¨æ–¼æ–‡ç« åˆ—è¡¨æˆ–è€…è³‡æ–™åˆ†é å±•ç¤ºçš„æ‡‰ç”¨ Lists é©ç”¨å ´æ™¯åœ–\" Lists é©","date":"2022-03-08","objectID":"/redis/:2:3","tags":["Redis"],"title":"Redis ä»‹ç´¹","uri":"/redis/"},{"categories":["codenotes"],"content":"ç™¼å¸ƒè¨‚é–± (PUB/SUB) Redis ç™¼å¸ƒè¨‚é–± (pub/sub) æ˜¯ä¸€ç¨®æ¶ˆæ¯é€šä¿¡æ¨¡å¼ï¼Œç™¼é€è€… (pub) ç™¼é€æ¶ˆæ¯ï¼Œè¨‚é–±è€… (sub) æ¥æ”¶æ¶ˆæ¯ã€‚ Redis å®¢æˆ¶ç«¯å¯ä»¥ä½¿ç”¨ subscribe ä¾†è¨‚é–±ä»»æ„æ•¸é‡çš„é »é“ã€‚ ä¸‹é¢é€™å¼µåœ–æ˜¯é »é“1ï¼Œä»¥åŠè¨‚é–±é€™å€‹é »é“çš„ä¸‰å€‹ç”¨æˆ¶ç«¯åˆ†åˆ¥æ˜¯å®¢æˆ¶ç«¯2ã€å®¢æˆ¶ç«¯7ã€å®¢æˆ¶ç«¯5 Subscribe ç¤ºæ„åœ–\" Subscribe ç¤ºæ„åœ– ç•¶æˆ‘å€‘æœ‰æ–°æ¶ˆæ¯é€šé publish æŒ‡ä»¤ç™¼é€çµ¦é »é“1 ï¼Œé€™å€‹æ¶ˆæ¯å°±æœƒè¢«ç™¼é€çµ¦æœ‰è¨‚é–±é »é“1çš„ä¸‰å€‹å®¢æˆ¶ç«¯ã€‚ Publish ç¤ºæ„åœ–\" Publish ç¤ºæ„åœ– æˆ‘å€‘ä¾†æ¨¡æ“¬ä¸€ä¸‹å§ ! å…ˆé–‹å…©å€‹ Terminal ä¾†åŸ·è¡Œ redis-cli ä¸€å€‹ç•¶ä½œç™¼é€(pub)ï¼Œå¦ä¸€å€‹ç•¶ä½œæ¥æ”¶(sub)ã€‚ æˆ‘å€‘å…ˆç”¨ç¬¬ä¸€å€‹ Terminal è¨‚é–±ä¸€å€‹é »é“ channel_1 127.0.0.1:6379\u003e subscribe channel_1 Reading messages... (press Ctrl-C to quit) 1) \"subscribe\" 2) \"channel_1\" 3) (integer) 1 é–‹å•Ÿå¦ä¸€å€‹ Terminal ç™¼é€è¨Šæ¯åˆ° channel_1 127.0.0.1:6379\u003e publish channel_1 \"Hello World~\" (integer) 1 127.0.0.1:6379\u003e publish channel_1 \"ian~\" (integer) 1 127.0.0.1:6379\u003e publish channel_1 \"test~\" (integer) 1 é€™æ™‚å€™å†åˆ‡æ›å›ä¾†ç¬¬ä¸€å€‹ Terminal ï¼Œå°±å¯ä»¥çœ‹åˆ°ä»–æ¥æ”¶åˆ°æˆ‘å€‘å‚³é€çš„è¨Šæ¯ 127.0.0.1:6379\u003e subscribe channel_1 Reading messages... (press Ctrl-C to quit) 1) \"subscribe\" 2) \"channel_1\" 3) (integer) 1 1) \"message\" 2) \"channel_1\" 3) \"Hello World~\" 1) \"message\" 2) \"channel_1\" 3) \"ian~\" 1) \"message\" 2) \"channel_1\" 3) \"test~\" ","date":"2022-03-08","objectID":"/redis/:2:4","tags":["Redis"],"title":"Redis ä»‹ç´¹","uri":"/redis/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ Redis å®˜ç¶² Redis Redis åŸºæœ¬è³‡æ–™å½¢æ…‹ Redis ç™¼å¸ƒè¨‚é–± ","date":"2022-03-08","objectID":"/redis/:3:0","tags":["Redis"],"title":"Redis ä»‹ç´¹","uri":"/redis/"},{"categories":["codenotes"],"content":"æ¯ç•¶æˆ‘å€‘åœ¨å»ºç«‹è³‡æ–™è¡¨æ™‚ï¼Œéƒ½å¿…é ˆå…ˆæ±ºå®šæˆ‘å€‘è¦ç”¨çš„è³‡æ–™å‹æ…‹ï¼Œç„¶è€Œåœ¨è¼¸å…¥æ–‡å­—å­˜å…¥è³‡æ–™æ™‚ï¼Œä½ éƒ½ç”¨å“ªä¸€ç¨®è³‡æ–™å‹æ…‹å‘¢ï¼Ÿ ","date":"2022-03-04","objectID":"/char-varchar/:0:0","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"æ–‡å­—è³‡æ–™å‹æ…‹ ä¸»è¦æœ‰é€™ä¸‰é»ï¼Œé‚£æˆ‘æœƒåˆ†åˆ¥ä¾†ä»‹ç´¹ï¼Œæœ€å¾Œé™„ä¸Šä¸€å€‹è¡¨æ ¼ä¾†æ•´ç†ä¸€ä¸‹ä»Šå¤©æ‰€è¬›çš„ã€‚ char varchar text ","date":"2022-03-04","objectID":"/char-varchar/:1:0","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"char char çš„é•·åº¦æ˜¯ä¸å¯è®Šå‹•çš„ï¼Œæ¯ä¸€æ¢è³‡æ–™ä½”ç”¨ç­‰é•·çš„å­—ç¯€ç©ºé–“ï¼Œé©åˆç”¨åœ¨èº«åˆ†è­‰è™Ÿç¢¼ã€æ‰‹æ©Ÿè™Ÿç¢¼ç­‰ã€‚ ","date":"2022-03-04","objectID":"/char-varchar/:1:1","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"varchar varchar çš„é•·åº¦æ˜¯å¯ä»¥è®Šå‹•çš„ï¼Œå¯ä»¥è¨­å®šæœ€å¤§é•·åº¦ï¼Œå°±é©åˆç”¨æ–¼åœ¨é•·åº¦å¯è®Šçš„å±¬æ€§ã€‚ ","date":"2022-03-04","objectID":"/char-varchar/:1:2","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"text text çš„é•·åº¦ä¸éœ€è¦è¨­å®šï¼Œç•¶æˆ‘å€‘ä¸çŸ¥é“å±¬æ€§çš„é•·åº¦æ™‚ï¼Œå°±é©åˆç”¨ textã€‚ ","date":"2022-03-04","objectID":"/char-varchar/:1:3","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"å¯è®Šè·Ÿä¸å¯è®Šçš„å·®ç•° ç–‘~ ä»€éº¼æ˜¯å¯è®Šï¼Œä»€éº¼æ˜¯ä¸å¯è®Šé•·åº¦å‘€ ? ç°¡å–®ä¾†èªªï¼Œæˆ‘å€‘ç¾åœ¨å®šç¾©ä¸€å€‹ char[10] ä»¥åŠ varchar[10]ï¼Œç¾åœ¨æˆ‘å€‘å­˜å…¥çš„è³‡æ–™æ˜¯ â€œpinyiâ€ 5å­—å…ƒçš„å­—ä¸²ï¼Œ ç”±æ–¼ char æ˜¯ä¸å¯è®Šé•·åº¦ï¼Œæ‰€ä½”çš„é•·åº¦ä¾èˆŠæ˜¯ 10 ï¼Œé‚£å¦‚æœæ˜¯ varchar å¯è®Šé•·åº¦ï¼Œé™¤äº†å­—å…ƒæ‰€ä½”çš„5æ ¼ï¼Œå¾Œé¢çš„ 5 å€‹ç©ºæ ¼æœƒè‡ªå‹•æ¶ˆå¤±ï¼Œvarchar æœƒè‡ªå‹•æŠŠé•·åº¦è®Šæˆ 5 ã€‚ å–è³‡æ–™æ™‚ï¼Œchar å‹åˆ¥è¦ç”¨ trim() ä¾†å»é™¤å¤šé¤˜çš„ç©ºç™½ï¼Œè€Œ varchar ä¸éœ€è¦ã€‚ ","date":"2022-03-04","objectID":"/char-varchar/:1:4","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"æŸ¥è©¢é€Ÿåº¦æ¯”è¼ƒ å¦‚æœæˆ‘å€‘ä¾†ä¾ç…§æŸ¥è©¢é€Ÿåº¦ä¾†æ¯”è¼ƒï¼Œæƒ³ä¹Ÿä¸ç”¨æƒ³ï¼Œä¸€å®šæ˜¯ char ç¬¬ä¸€åï¼Œå› ç‚ºä»–æœ‰å›ºå®šçš„æ•¸é‡ï¼Œæ¯”èµ· varchar ç¬¬äºŒåå¯è®Šé•·åº¦é‚„å¯ä»¥æ›´å¿«é€²è¡ŒæŸ¥è©¢ï¼Œç•¶ç„¶æ²’æœ‰é•·åº¦é™åˆ¶çš„ text ä¸€å®šæ˜¯æœ€æ…¢ã€‚ ","date":"2022-03-04","objectID":"/char-varchar/:1:5","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"å„²å­˜æ–¹å¼ char çš„å„²å­˜æ–¹å¼æ˜¯ï¼Œå°æ–¼è‹±æ–‡å­—å…ƒ (ASCII) ä½”ç”¨ 1 ä½å…ƒçµ„ï¼Œå°æ–¼ä¸­æ–‡ä½”ç”¨ 2 ä½å…ƒçµ„ ; varchar çš„å„²å­˜æ–¹å¼æ˜¯ï¼Œå°æ¯å€‹è‹±æ–‡å­—å…ƒ (ASCII) ä½”ç”¨ 2 ä½å…ƒçµ„ï¼Œä¸­æ–‡ä¹Ÿä½”ç”¨ 2 ä½å…ƒçµ„ ; ","date":"2022-03-04","objectID":"/char-varchar/:1:6","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"æ¯”è¼ƒå·®ç•°è¡¨æ ¼ å­—ä¸²è³‡æ–™å‹æ…‹ char varchar text é•·åº¦ç‹€æ…‹ ä¸å¯è®Š å¯è®Š ä¸éœ€è¦è¨­å®š æŸ¥è©¢é€Ÿåº¦ ç¬¬ä¸€ ç¬¬äºŒ ç¬¬ä¸‰ è‹±æ–‡æ‰€ä½”ç”¨ä½å…ƒçµ„ 1 Byte 2 Byte ï¼¸ ä¸­æ–‡æ‰€ä½”ç”¨ä½å…ƒçµ„ 2 Byte 2 Byte ï¼¸ æœ€å¤§é•·åº¦ 1 \u003c= M \u003c= 255 L \u003c= M or 1 \u003c= M \u003c= 255 L \u003c2^16 ","date":"2022-03-04","objectID":"/char-varchar/:1:7","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ é¢è©¦å®˜ï¼šä½ å€‘è³‡æ–™åº«é¸æ“‡varcharå’Œcharçš„åŸå‰‡åˆ°åº•ä»€éº¼ï¼Ÿ SQL Server è³‡æ–™å‹æ…‹ char varchar nchar nvarchar MySQLæ€§èƒ½å„ªåŒ–ä¹‹charã€varcharã€textçš„å€åˆ¥ ","date":"2022-03-04","objectID":"/char-varchar/:2:0","tags":["è³‡æ–™å‹æ…‹"],"title":"é¢è©¦å®˜å¸¸å•çš„ MySQL è³‡æ–™å‹æ…‹å·®åˆ¥ char varchar text","uri":"/char-varchar/"},{"categories":["codenotes"],"content":"æœ¬æ–‡ç« æœƒä»‹ç´¹ä»€éº¼æ˜¯ Laravel ï¼Œä»¥åŠå®ƒæœ‰ä»€éº¼ç‰¹åˆ¥ä¹‹è™•ï¼Œå¯ä»¥è®“å®ƒåœ¨2015å¹´è¢«è©•ç‚ºæœ€å—æ­¡è¿çš„ PHP æ¡†æ¶ç¬¬ä¸€åï¼Œä¸¦èªªæ˜ç‚ºä»€éº¼è¦ä½¿ç”¨æ¡†æ¶ï¼Œæœ€å¾Œå¯¦ä½œä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½æ­é… RESTful API ä¾†å¯¦ç¾ CRUDã€‚ å°±åƒæ˜¯ Laravel å®˜ç¶²çš„å¤§æ¨™é¡Œï¼Œã€ The PHP Framework for Web Artisans ç‚ºç¶²é è—è¡“å®¶å‰µé€ çš„ PHP æ¡†æ¶ ã€ï¼Œé‚£å†äº†è§£ Laravel ä¹‹å‰ï¼Œå…ˆä¾†ä»‹ç´¹ä¸€ä¸‹æ¡†æ¶æ˜¯ä»€éº¼ï¼š ","date":"2022-03-02","objectID":"/laravel/:0:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"æ¡†æ¶æ˜¯ä»€éº¼ æ¡†æ¶ (Framework) æ˜¯ä¸€å€‹è¢«è¨­è¨ˆç”¨ä¾†å®Œæˆç‰¹å®šä»»å‹™çš„è¦ç¯„ï¼Œç¨‹å¼é–‹ç™¼äººå“¡å¿…é ˆéµå¾é€™å€‹è¦å‰‡ä¾†é–‹ç™¼ã€‚ ç›®å‰å¤§å¤šæ•¸çš„æ¡†æ¶éƒ½æ˜¯åƒè€ƒ MVC æ¶æ§‹çš„æ¦‚å¿µä¾†åšè¨­è¨ˆï¼ŒåŸå› æ˜¯åœ¨æ—©æœŸé–‹ç™¼ç¶²é æ™‚ï¼Œéƒ½æ˜¯ç›´æ¥å°‡ HTML ä»¥åŠ PHP æ··åˆå†ä¸€èµ·çš„æ–¹å¼ä¾†ç·¨å¯«ï¼Œé›–ç„¶é–‹ç™¼ä¸Šå¾ˆæ–¹ä¾¿ï¼Œä½†åœ¨å¾Œé¢ç¶­è­·æˆ–æ˜¯æ–°å¢åŠŸèƒ½ä¸Šï¼Œæœƒååˆ†ä¸ä¾¿åˆ©ï¼Œä¾‹å¦‚ï¼šå–®ç´”è¦ä¿®æ”¹ç¶²ç«™ç•«é¢çš„å…ƒä»¶æ™‚ï¼Œé‚„éœ€è¦å¾æ··é›œçš„ç¨‹å¼ç¢¼ä¸­æ‰¾åˆ°è¦ä¿®æ”¹çš„å…ƒä»¶ï¼Œä¹Ÿå¾ˆå®¹æ˜“ä¸å°å¿ƒä¿®æ”¹åˆ°å…¶ä»–çš„åŠŸèƒ½ã€‚ ","date":"2022-03-02","objectID":"/laravel/:1:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"MVC æ–¼æ˜¯æœ‰äººæƒ³åˆ°æŠŠé€™äº›å„è‡ªçš„ä»»å‹™å€åˆ†é–‹ä¾†ï¼ŒMVC æ¶æ§‹åˆ†åˆ¥ä»£è¡¨çš„æ˜¯ M (Model) : å±¬æ–¼è³‡æ–™çš„éƒ¨åˆ†ï¼Œå¯èƒ½æ˜¯å•†ç”¨é‚è¼¯æˆ–æ˜¯è³‡æ–™åº«çš„å­˜å–ã€‚ V (View)ï¼šå±¬æ–¼é¡¯ç¤ºçš„éƒ¨åˆ†ï¼Œåƒæ˜¯ HTMLã€CSS ç­‰ C (Controllor)ï¼šæœƒé‡å°è«‹æ±‚åšå‡ºå›æ‡‰æˆ–æ˜¯è™•ç†ï¼Œä¾‹å¦‚å¾ Model å–å‡ºè³‡æ–™ï¼Œä¸¦é¡¯ç¤ºåœ¨ View ä¸Šé¢ MVC æ¶æ§‹ ä¸€èµ·èµ°å‘MVC(ä¸Š)\" MVC æ¶æ§‹ ä¸€èµ·èµ°å‘MVC(ä¸Š) ","date":"2022-03-02","objectID":"/laravel/:1:1","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Laravel æ¡†æ¶ Laravel æ˜¯åŸºæ–¼ä¸Šé¢æ‰€èªªçš„ MVC æ¶æ§‹æ‰“é€ çš„æ¡†æ¶ï¼Œä¸¦ä¸”è¨­è¨ˆå‡ºè¨±å¤šå¯ä»¥è®“é–‹ç™¼è€…æ›´æœ‰æ•ˆç‡çš„å·¥å…·ã€‚ Artisanï¼šæä¾›è¨±å¤šæŒ‡ä»¤ï¼Œè®“ä½ å¯ä»¥ä½¿ç”¨é€™äº›æŒ‡ä»¤ï¼Œä¾†å¿«é€Ÿå®Œæˆè¨±å¤šçš„ä»»å‹™ (æœ‰åˆ—å‡ºéƒ¨åˆ†æŒ‡ä»¤æ–¼ Artisan ç›¸é—œæŒ‡ä»¤)ã€‚ Routing è·¯ç”±ï¼šç®¡ç†ç¶²å€èˆ‡é é¢çš„è·¯å¾‘æŒ‡å®šï¼Œè¾¨è­˜å‚³å…¥çš„ request å‚³é€è‡³å°æ‡‰çš„ Controllerï¼Œå›å‚³æŒ‡å®šçš„ Viewã€‚ Blade æ¨¡æ¿å¼•æ“ (View)ï¼šæ¨¡æ¿è§£æå·¥å…·ï¼Œ æ˜¯ Laravel æ‰€ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“ï¼ŒBlade æœƒå°‡ PHP åŠ HTML å®Œæ•´åˆ†é›¢çš„å·¥å…·ã€‚ Auth èªè­‰ï¼šé€é Laravel é è¨­æä¾›çš„èªè­‰è®“ Controller å¿«é€Ÿè§£æ±ºç¶“å¸¸æœƒç”¨åˆ°çš„é©—è­‰éœ€æ±‚ï¼Œåƒæ˜¯ï¼šä½¿ç”¨è€…è¨»å†Šã€ä½¿ç”¨è€…èªè­‰ã€é‡ç½®å¯†ç¢¼çš„ e-mail é€£çµã€é‡ç½®å¯†ç¢¼é‚è¼¯ç­‰ã€‚ Eloquent ORM ç‰©ä»¶é—œè¯å°æ˜  (Model)ï¼šLaravel é è¨­çš„ ORMï¼Œå°‡è³‡æ–™åº«çš„æ¬„ä½æ˜ å°„æˆç‰©ä»¶ (ï¼­odel æ¨¡å‹)ï¼Œåªéœ€è¦ç”¨ PHP çš„èªæ³•ï¼Œä¸éœ€è¦æ’°å¯« SQL æŒ‡ä»¤å°±å¯ä»¥ç”¨ç‰©ä»¶çš„æ–¹å¼è®€å–æ¬„ä½è³‡è¨Šä»¥åŠèˆ‡è³‡æ–™åº«çš„äº’å‹•ã€‚ Migration è³‡æ–™åº«é·ç§»ï¼šè½èµ·ä¾†å¾ˆåƒæ˜¯æ›´æ›è³‡æ–™åº«ï¼Œä½†ä»–å…¶å¯¦ç®—æ˜¯ä¸€ç¨®è³‡æ–™åº«çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œå¯ä»¥è®“åœ˜éšŠåœ¨ä¿®æ”¹è³‡æ–™åº«çµæ§‹çš„åŒæ™‚ï¼Œä¿æŒå½¼æ­¤çš„é€²åº¦ã„§è‡´ï¼Œé€šå¸¸æœƒçµåˆSchema çµæ§‹ç”Ÿæˆå™¨ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥ç°¡å–®ç®¡ç†è³‡æ–™åº«çµæ§‹ã€‚ å°çŸ¥è­˜ ORMï¼šè‹±æ–‡å« Object Relational Mappingï¼Œç¿»è­¯æˆä¸­æ–‡ç‚ºç‰©ä»¶é—œè¯å°æ˜ ã€‚åœ¨ç¶²ç«™é–‹ç™¼çµæ§‹ä¸­ï¼Œæ˜¯åœ¨è³‡æ–™åº«å’ŒModel è³‡æ–™å®¹å™¨å…©è€…ä¹‹é–“ï¼Œç°¡å–®ä¾†èªªï¼Œå®ƒæ˜¯å¯ä»¥è®“é–‹ç™¼è€…æ›´ç°¡å–®ã€å®‰å…¨çš„æ–¹å¼å¾è³‡æ–™åº«è®€å–è³‡æ–™ï¼Œå› ç‚º ORM çš„ç‰¹æ€§æ˜¯å¯ä»¥é€éç‰©ä»¶å°å‘ç¨‹å¼èªè¨€å»æ“ä½œè³‡æ–™åº«ã€‚ å„ªé» å®‰å…¨æ€§ï¼šå¯ä»¥é¿å… SQL injectionï¼Œé‡åˆ°å¥‡æ€ªçš„å€¼ï¼Œæœƒè‡ªå‹•æ“‹æ‰ã€‚ ç°¡åŒ–æ€§ï¼šå¯ä»¥å°‡åŸæœ¬ SQL Select * From users ç­‰æŒ‡ä»¤é€éç‰©ä»¶å°å‘ç¨‹å¼èªè¨€å»æ“ä½œè³‡æ–™åº«ã€‚ é€šç”¨æ€§ï¼šå› ç‚º ORM æ˜¯ç¨‹å¼èªè¨€å’Œè³‡æ–™åº«ä¹‹é–“çš„é—œä¿‚ï¼Œå°±ç®—æœ‰è¦è½‰æ›è³‡æ–™åº«ï¼Œä¹Ÿæ¯”è¼ƒä¸æœƒé‡åˆ°è¦ä¿®æ”¹ç¨‹å¼çš„ç‹€æ³ã€‚ ç¼ºé» æ•ˆèƒ½ï¼šç‚ºäº†è¦é”æˆæ–¹ä¾¿æ€§ï¼Œé€šå¸¸éƒ½æœƒçŠ§ç‰²åˆ°æ•ˆèƒ½çš„å•é¡Œï¼Œå› ç‚ºç­‰æ–¼å¤šäº†ã€æŠŠç¨‹å¼èªè¨€è½‰è­¯æˆSQLèªè¨€ã€é€™é …å·¥ä½œã€‚ å­¸ç¿’æ›²ç·šé«˜ï¼šå°æ–¼åˆå­¸è€…ä¾†èªªï¼ŒORM éœ€è¦èåˆ SQL èªè¨€ä»¥åŠç¨‹å¼èªè¨€å…©ç¨®ä¸åŒçš„æ¦‚å¿µä»¥åŠèªæ³•ï¼Œæœƒæ¯”å–®ç´”å­¸ SQL èªæ³•é‚„è¼ƒè¤‡é›œã€‚ è¤‡é›œæŸ¥è©¢ç¶­è­·æ€§ä½ï¼šæœ‰äº› SQL èªæ³• ORM æ²’æœ‰æ”¯æ´ï¼Œæ‰€ä»¥å°è‡´æœ‰äº›æƒ…æ³é‚„æ˜¯éœ€è¦å°å…¥åŸç”Ÿ SQL å¯«æ³•ã€‚ (è³‡æ–™ä¾†æºï¼šè³‡æ–™åº«è¨­è¨ˆæ¦‚å¿µ - ORM) ","date":"2022-03-02","objectID":"/laravel/:2:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"PHP å¸¸è¦‹æ¡†æ¶å°æ¯” é›–ç„¶æœ¬æ¬¡ä»‹ç´¹çš„ä¸»é¡Œæ˜¯ Laravel ä½†æˆ‘å€‘ä¹Ÿç°¡å–®ä»‹ç´¹ä¸€ä¸‹å…¶ä»–çš„æ¡†æ¶å„ªé»ï¼Œä»¥åŠé™„ä¸Šè¡¨æ ¼è®“å¤§å®¶å¯ä»¥æ›´æ¸…æ¥šã€‚ å·®åˆ¥ Laravel Symfony CodeIgniter CakePHP Zend 2 è¨±å¯ License MIT MIT BSD BSD MIT äººæ°£æ’å Popularity (2022-03 Google æœå°‹ç†±é–€ç¨‹åº¦) ç¬¬ä¸€å ç¬¬äºŒå ç¬¬ä¸‰å ç¬¬å››å ç¬¬äº”å è¡¨ç¾ æ…¢ æ…¢ å¿« æ…¢ æ…¢ æ¨¡æ¿ Blade Twig PHP å…§å»º PHP è³‡æ–™åº« MySQL PostgreSQL SQLite SQL Server MySQL PostgreSQL SQLite SQL Server Oracle MySQL PostgreSQL SQLite SQL Server Oracle MySQL PostgreSQL SQLite SQL Server Oracle MySQL PostgreSQL SQLite SQL Server Oracle ç‰©ä»¶é—œä¿‚å°æ˜  æœ‰ Doctrine æ²’æœ‰å…§å»º æœ‰ Doctrine æ¸¬è©¦ PHPUnit PHPUnit å…§å»º PHPUnit PHPUnit ","date":"2022-03-02","objectID":"/laravel/:3:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Laravel è©²æ¡†æ¶å¯èƒ½æ˜¯Web é–‹ç™¼äººå“¡ä¸­æœ€å—æ­¡è¿çš„æ¡†æ¶ã€‚Laravel æ˜¯ä¸€å€‹å…è²»çš„é–‹æºPHP æ¡†æ¶ï¼Œé©ç”¨æ–¼Web æ‡‰ç”¨ç¨‹åºé–‹ç™¼ï¼Œä¸”é©ç”¨æ–¼ç§»å‹•æ‡‰ç”¨ç¨‹åºå ´ã€‚(ä¸Šé¢æœ‰ä»‹ç´¹éï¼Œé€™é‚Šå°±ç°¡åŒ–) Laravel æ¡†æ¶å„ªé» æ˜“æ–¼å­¸ç¿’ ç„¡ç¸«æ•¸æ“šé·ç§» åœ¨ PHP ç¤¾ç¾¤ä¸­å¾ˆå—æ­¡è¿ æ”¯æŒ MVC æ¶æ§‹ å¤§é‡å­¸ç¿’ç´ æ (æ–‡ä»¶ã€åœ–æª”ã€å½±ç‰‡æ•™ç¨‹) æ¨¡æ¿å¼•æ“ ç°¡å–®çš„å–®å…ƒæ¸¬è©¦ ","date":"2022-03-02","objectID":"/laravel/:3:1","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Symfony è©²æ¡†æ¶æ˜¯ä¸€å€‹å»£æ³›çš„PHP MVC æ¡†æ¶ï¼Œç›®å‰Symfony å·²ç¶“æˆç‚ºä¸€å€‹å¯é å’Œæˆç†Ÿçš„å¹³å°æ¡†æ¶ã€‚ Symfony éå¸¸ç©©å®šã€æ–‡æª”é½Šå…¨ã€æ€§èƒ½å“è¶Šã€‚é€™äº›ç‰¹é»ä½¿Symfony æˆç‚ºé–‹ç™¼å¤§å‹ä¼æ¥­é …ç›®çš„å®Œç¾é¸æ“‡ã€‚ ä½¿ Symfony æˆç‚º PHP æ¡†æ¶ä¸­ç¨ä¸€ç„¡äºŒçš„ç‰¹æ€§ä¹‹ä¸€æ˜¯å®ƒçš„å¯é‡ç”¨ PHP çµ„ä»¶ã€‚ä½¿ç”¨å¯é‡ç”¨çµ„ä»¶ï¼Œé–‹ç™¼æ™‚é–“æ¸›å°‘äº†è¨±å¤šæ¨¡å¡Šï¼Œå¦‚è¡¨å–®å‰µå»ºã€å°è±¡é…ç½®ã€æ¨¡æ¿ç­‰ã€‚ å¯ä»¥ç›´æ¥å¾èˆŠçµ„ä»¶æ§‹å»ºï¼Œç¯€ç´„äº†å¤§é‡æˆæœ¬ã€‚Symfony æ˜“æ–¼åœ¨å¤§å¤šæ•¸å¹³å°ä¸Šå®‰è£å’Œé…ç½®ï¼Œä¸¦ä¸”å¯ä»¥ç¨ç«‹æ–¼æ•¸æ“šåº«å¼•æ“ã€‚å®ƒå…·æœ‰é«˜åº¦çš„éˆæ´»æ€§ï¼Œå¯ä»¥èˆ‡ Drupal ç­‰å¤§å‹é …ç›®é›†æˆ Symfony æ¡†æ¶å„ªé» å®˜æ–¹é•·æœŸæŠ€è¡“æ”¯æŒ å…§ç½®æ¸¬è©¦åŠŸèƒ½ è±å¯Œçš„æ¡†æ¶å…§ç½®åŠŸèƒ½ å®˜æ–¹åŸ¹è¨“èª²ç¨‹å’Œèªè­‰ ","date":"2022-03-02","objectID":"/laravel/:3:2","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"CodeIgniter è©²æ¡†æ¶å¯èƒ½æ˜¯æœ€é©åˆé–‹ç™¼å‹•æ…‹ç¶²ç«™çš„PHP æ¡†æ¶ã€‚å®ƒæ˜¯ä¸€å€‹éå¸¸ç°¡å–®çš„è¼•é‡ç´šPHP æ¡†æ¶ã€‚ å®ƒçš„å¤§å°åªæœ‰2 MB å·¦å³ï¼ˆåŒ…æ‹¬æ–‡æª”ï¼‰ã€‚å› æ­¤ï¼ŒCodeIgniter æœ¬èº«ä¿±æœ‰æœ€å°çš„ä½”ç”¨ç©ºé–“ï¼Œå®ƒå…è¨±Web é–‹ç™¼äººå“¡æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶ä¾†é–‹ç™¼æ›´è¤‡é›œçš„åŠŸèƒ½ã€‚ CodeIgniter é‚„æä¾›äº†å¹¾å€‹é æ§‹å»ºçš„æ¨¡å¡Šï¼Œç”¨æ–¼ç‚ºWeb é–‹ç™¼å‰µå»ºå¥å£¯çš„ã€å¯é‡ç”¨çš„çµ„ä»¶ã€‚ç”±æ–¼è¨­ç½®éç¨‹ç°¡å–®ï¼Œé€™å€‹PHP æ¡†æ¶éå¸¸é©åˆåˆå­¸è€…ã€‚ CodeIgniter æ¡†æ¶å„ªé» MVC æ¶æ§‹ Top-Notch éŒ¯èª¤è™•ç† æä¾›å“è¶Šçš„æ€§èƒ½ åŒ…ä¸­æä¾›äº†å¹¾ç¨®å·¥å…· å…§ç½®å®‰å…¨å·¥å…· å„ªç§€çš„æ–‡æª” ","date":"2022-03-02","objectID":"/laravel/:3:3","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"CakePHP è©²æ¡†æ¶å°å€‹äººæ˜¯å®Œå…¨å…è²»ï¼Œä¸¦æä¾›ä»˜è²»çš„å•†æ¥­ç”¨é€”ã€‚å®ƒå°‡å¹«åŠ©æ‚¨é–‹ç™¼åŠŸèƒ½è±å¯Œä¸”è¦–è¦ºä¸Šä»¤äººå°è±¡æ·±åˆ»çš„ç¶²ç«™ã€‚ CakePHP èµ·åˆæ˜¯ä¸€å€‹ç°¡å–®è€Œå„ªé›…çš„å·¥å…·åŒ…ï¼Œåœ¨éå»çš„15 å¹´è£¡å®ƒè®Šå¾—æ›´åŠ å¼·å¤§ã€‚ç”±æ–¼å®ƒçš„CRUDï¼ˆå‰µå»ºã€è®€å–ã€æ›´æ–°å’Œåˆªé™¤ï¼‰æ¡†æ¶ï¼ŒCakePHP æ˜¯æœ€å®¹æ˜“å­¸ç¿’çš„æ¡†æ¶ã€‚ ä½¿ç”¨CakePHP éƒ¨ç½²Web ç¶²ç«™æ˜¯\"å°èœä¸€ç¢Ÿ\"ï¼Œåªéœ€è¦ä¸€å€‹Web æœå‹™å™¨å’ŒCakePHP æ¡†æ¶çš„å‰¯æœ¬ã€‚ CakePHP æ¡†æ¶å„ªé» æ’ä»¶å’Œçµ„ä»¶çš„ç°¡æ˜“æ“´å±• é©ç•¶çš„é¡ç¹¼æ‰¿ é›¶é…ç½® ç¾ä»£æ¡†æ¶ æ”¯æŒAJAX å¿«é€Ÿæ§‹å»º å…§ç½®é©—è­‰ ","date":"2022-03-02","objectID":"/laravel/:3:4","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Zend 2 è©²æ¡†æ¶æ˜¯ä¸€å€‹å®Œæ•´çš„é¢å‘å°è±¡çš„PHP æ¡†æ¶ã€‚é€™å€‹PHP æ¡†æ¶æ˜¯å¯å®šåˆ¶çš„ï¼Œå°æ–¼éœ€è¦æ·»åŠ é …ç›®ç‰¹å®šåŠŸèƒ½çš„é–‹ç™¼äººå“¡ä¾†èªªï¼Œé€™æ˜¯ä¸€å€‹å¥½è™•ã€‚ Zend æ§‹å»ºæ–¼æ•æ·æ–¹æ³•ä¹‹ä¸Šï¼Œå¯å¹«åŠ©é–‹ç™¼äººå“¡ç‚ºå¤§å‹å®¢æˆ¶å‰µå»ºã€é«˜è³ªé‡çš„Web æ‡‰ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚å®ƒéå¸¸é©åˆè¤‡é›œçš„ä¼æ¥­ç´šé …ç›®ï¼ŒZend ä¸»è¦é—œæ³¨å®‰å…¨æ€§ã€æ€§èƒ½å’Œå¯æ“´å±•æ€§ã€‚ Zend æ¡†æ¶ä¸»è¦å—å¤§å‹IT ä¼æ¥­å’ŒéŠ€è¡Œç­‰é‡‘èæ©Ÿæ§‹çš„é’çã€‚ Zend 2 æ¡†æ¶å„ªé» MVC çµ„ä»¶ å“è¶Šçš„å‰ç«¯æŠ€è¡“æ”¯æŒå·¥å…· å¤§å‹é–‹ç™¼è€…ç¤¾å€ ç°¡å–®çš„é›²API æ”¯æŒç¬¬ä¸‰æ–¹çµ„ä»¶ æ•¸æ“šåŠ å¯† æ”¯æŒAJAX æœƒè©±ç®¡ç† ","date":"2022-03-02","objectID":"/laravel/:3:5","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"å¯¦ä½œ Laravel å®˜ç¶² æˆ‘æ˜¯åƒè€ƒ Laravel å®˜æ–¹ç¶²ç«™ çš„æ–‡ä»¶ä¾†é€²è¡Œå¯¦ä½œï¼Œä¹Ÿå¯ä»¥åƒè€ƒå°ç£çš„ Laravel.tw ä¾†æ“ä½œæ­ï¼ ","date":"2022-03-02","objectID":"/laravel/:4:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"ç’°å¢ƒè¨­å®š è¦å®‰è£ Laravel æ¡†æ¶æœ‰ä¸€äº›ç³»çµ±çš„è¦æ±‚ï¼Œè¦å…ˆå®‰è£ PHP ï¼Œè«‹åƒè€ƒPHP å®˜ç¶²çš„å®‰è£æ•™å­¸ å®‰è£å®Œå¾Œå¯ä»¥ä½¿ç”¨ä¾†æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ $ php --version PHP 7.1.33 (cli) (built: Jan 20 2022 04:04:37) ( NTS ) Copyright (c) 1997-2018 The PHP Group å†å®‰è£ Composer ï¼Œè«‹åƒè€ƒ Composer å®˜ç¶²çš„å®‰è£æ•™å­¸ $ composer --version Composer version 2.2.7 éƒ½å®‰è£å¥½å¾Œï¼Œæˆ‘å€‘å°±è¦ä¾†å®‰è£ Laravel æ¡†æ¶å›‰ï¼Œæ ¹æ“š Laravel å®˜ç¶²å®‰è£æ­¥é©Ÿï¼Œå…ˆç”¨ Composer ä¾†å®‰è£ $ composer global require \"laravel/installer\" å®‰è£å¾Œä¸€æ¨£å…ˆä¾†æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ $ laravel --version zsh: command not found: laravel ç™¼ç¾ zsh æ‰¾ä¸åˆ° laravel é€™å€‹å‘½ä»¤ï¼Œé‚£æˆ‘å€‘çœ‹ä¸€ä¸‹å®˜ç¶²æ€éº¼èªª ( zsh æ˜¯æˆ‘æ‰€ä½¿ç”¨çš„ bash ï¼Œé€™é‚Šæœƒä¾ç…§å®‰è£ç’°å¢ƒè€Œæœ‰æ‰€ä¸åŒ) Make sure to place the $HOME/.composer/vendor/bin directory (or the equivalent directory for your OS) in your $PATH so the laravel executable can be located by your system. ä»£è¡¨æˆ‘å€‘è¦å°‡ Laravel çš„ç›®éŒ„ï¼Œæ”¾åˆ° $PATH ï¼Œç³»çµ±æ‰å¯ä»¥ä½¿ç”¨ laravel ä¾†åŸ·è¡Œæª”æ¡ˆã€‚ ä»¥ macOS ä¾†èªªï¼Œ Laravel installer çš„ç›®éŒ„éƒ½æœƒæ”¾åœ¨ $HOME/.composer/vendor/bin ï¼Œæˆ‘å€‘åœ¨æ ¹ç›®éŒ„å»ºç«‹ä¸€å€‹ .bash_profile çš„æª”æ¡ˆä¾†æ”¾ç½®æˆ‘å€‘çš„ $PATHã€‚ export PATH=\"$HOME/.composer/vendor/bin:$PATH\" è¼¸å…¥ä¸Šé¢çš„ PATH ï¼Œè¨˜å¾—å„²å­˜é›¢é–‹å¾Œè¦ç”¨é€™å€‹æŒ‡ä»¤ä¾†æ›´æ–°ä¸€ä¸‹æª”æ¡ˆ $ source .bash_profile æˆ‘å€‘å†æ¬¡æª¢æŸ¥æ˜¯å¦å®‰è£å¥½ Laravel $ laravel --version Laravel Installer 2.3.0 å› ç‚ºæˆ‘å€‘å¾ŒçºŒæœƒä½¿ç”¨åˆ°è³‡æ–™åº«çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å…ˆæŠŠä»–å®‰è£å¥½ ï¼­ySQL å®˜ç¶²çš„å®‰è£æ•™å­¸ $ mysql -V mysql Ver 8.0.28 for macos11.6 on x86_64 (Homebrew) æœ¬æ¬¡å¯¦ä½œã®ç‰ˆæœ¬é…ç½® macOS 11.6 PHP 7.1.33 MySQL 8.0.28 Composer 2.2.7 Laravel Installer 2.3.0 Laravel Framework 5.4.36 ","date":"2022-03-02","objectID":"/laravel/:4:1","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"æ–°å¢å°ˆæ¡ˆ å®‰è£æˆåŠŸå¾Œï¼Œå°±å¯ä»¥é–‹å§‹ä¾†ä½¿ç”¨ Laravel æ¡†æ¶è‡ªå‹•ç”Ÿæˆæª”æ¡ˆå›‰ï¼è¦æ€éº¼åšå‘¢ï¼Ÿå°±æ¥è‘—çœ‹ä¸‹å»å§ å¯ä»¥ä½¿ç”¨ Laravel ä¾†æ–°å¢å°ˆæ¡ˆ $ laravel new å°ˆæ¡ˆåç¨± ä¹Ÿå¯ä»¥é€é composer æŒ‡ä»¤ (å¯ä»¥æŒ‡å®šæ¡†æ¶ç‰ˆæœ¬ï¼Œé‚£æˆ‘å€‘é€™æ¬¡ä½¿ç”¨çš„æ˜¯5.4ç‰ˆæœ¬) $ composer create-project --prefer-dist laravel/laravel å°ˆæ¡ˆåç¨± \"5.4.*\" å®Œæˆå¾Œå°±é€²å…¥è©²å°ˆæ¡ˆç›®éŒ„åº•ä¸‹ï¼Œæ¥è‘—å¯ä»¥åŸ·è¡Œè©²æŒ‡ä»¤ä¾†æª¢æŸ¥æ¡†æ¶ç‰ˆæœ¬ $ php artisan -V Laravel Framework 5.4.36 å°æé†’ Laravel æ¡†æ¶å¯ä½¿ç”¨çš„çš„ç‰ˆæœ¬ï¼Œå–æ±ºæ–¼ä½ çš„ PHP ç‰ˆæœ¬ï¼Œæ‰€ä»¥è¦æ‰¾ç›¸å°æ‡‰çš„æ­ï¼ä½¿ç”¨ Laravel 5.4 è·Ÿ PHP 8.1 ï¼Œä»–æœƒèªª PHP ç‰ˆæœ¬å¤ªæ–°ï¼Œç„¡æ³•å®‰è£ã€‚ ","date":"2022-03-02","objectID":"/laravel/:4:2","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Laravel è³‡æ–™å¤¾èˆ‡æª”æ¡ˆä»‹ç´¹ æˆ‘å€‘å¯ä»¥çœ‹åˆ°é€™å€‹å°ˆæ¡ˆç›®éŒ„ä¸‹ï¼ŒLaravel å¹«æˆ‘å€‘ç”Ÿæˆäº†è¨±å¤šè³‡æ–™å¤¾ä»¥åŠæª”æ¡ˆï¼Œæ¥è‘—ä¾†ç°¡å–®èªªæ˜æ¯ä¸€å€‹è³‡æ–™å¤¾èˆ‡æª”æ¡ˆçš„åŠŸèƒ½èˆ‡ç”¨é€”å§ appï¼šä¸»è¦æ”¾ç½® controller çš„åœ°æ–¹ï¼Œæä¾›ç¶²ç«™çš„æ‡‰ç”¨è™•ç†æµç¨‹ï¼ŒåŒ…æ‹¬è™•ç†ç”¨æˆ¶çš„è¡Œç‚ºå’Œè³‡æ–™ Model ä¸Šçš„æ”¹è®Šç­‰äº‹ä»¶ä¹‹é¡åˆ¥æ–¹æ³•ï¼Œæä¾›çµ¦ view ä¾†å‘¼å«ã€‚é€é Laravel ä¹‹æ¶æ§‹ä¹Ÿå¯é€é controller è¼•æ˜“å»ºæ§‹ RESTful APIã€‚ bootstrapï¼šå…§å«ä¹‹ app.php ç‚ºå°‡æ­¤æ¡†æ¶åˆå§‹åŒ–åŠå»ºæ§‹èµ·ä¾†ä¹‹ç¨‹å¼ã€‚ configï¼šå…§å«æ­¤å°ˆæ¡ˆç¶²ç«™ä¹‹ç’°å¢ƒè¨­å®šã€è³‡æ–™åº«è¨­å®šç­‰è¨­å®šç¨‹å¼ã€‚ databaseï¼šæ”¾ç½®è³‡æ–™åº«è¨­å®š (Model)ã€‚ publicï¼šæ”¾ç½®ç¶²ç«™å…¥å£ï¼Œé€é index.php å°å…¥ route ä¹‹è¨­å®šé¦–é  resourcesï¼šæ”¾ç½® view çš„è³‡æºï¼Œç”¨ä»¥å‘ˆç¾ç¶²ç«™é é¢ routesï¼šæ”¾ç½®æ‰€æœ‰å°ˆæ¡ˆ route çš„è¨­å®šï¼Œå…¶ä¸­è¼ƒå¸¸ç”¨ä¹‹ web.php åšç‚ºä¸»è¦é é¢å°å‘åŠèˆ‡ controller çš„æºé€šï¼Œè€Œ api.php å‰‡ä½œç‚ºå°ˆæ¡ˆæä¾› api çš„è¨­å®šã€‚ storageï¼šä¸»è¦æ”¾ç½®äº›ç¨‹å¼ç”Ÿæˆçš„æª”æ¡ˆå¦‚é é¢æ¨£æ¿ (Blade templates)ã€ç³»çµ±è¨˜éŒ„ (logs)ã€file cachesã€file based sessions ç­‰è³‡æ–™ã€‚ testsï¼šæ”¾ç½®æ¸¬è©¦ç”¨çš„æ¡ˆä¾‹ (Test Case)ã€‚ vendorï¼šæ”¾ç½®é€é composer ä¸‹è¼‰ç®¡ç†çš„å¥—ä»¶ã€‚ artisanï¼šå¯æ–¼å°ˆæ¡ˆä¸­é€é php artisan åŸ·è¡Œ Laravel è¨­è¨ˆå¥½çš„åŸºæœ¬æ“ä½œè¡Œç‚ºï¼Œå¦‚å»ºç«‹ controller ç­‰å‹•ä½œã€‚ composer.jsonï¼šç®¡ç†å°ˆæ¡ˆä½¿ç”¨å¥—ä»¶ï¼Œè©³ç´°ç”¨æ³•è¦‹ composer å®˜æ–¹èªªæ˜ã€‚ composer.lockï¼šé–å®šå°ˆæ¡ˆä½¿ç”¨å¥—ä»¶ç‰ˆè™Ÿã€‚ package.jsonï¼šç®¡ç† npm å¥—ä»¶ï¼Œä¸»è¦æä¾›çµ¦å‰ç«¯ä½¿ç”¨ã€‚ phpunit.xmlï¼šphpunit æ¸¬è©¦è¨­å®šæª”ï¼Œå¯è¦ç¯„åŸ·è¡Œå–®å…ƒæ¸¬è©¦ä¹‹ç¯„åœï¼Œåšæ‰¹é‡æ¸¬è©¦ã€‚ webpack.mix.jsï¼šbuild è¨­å®šæª”ï¼Œå¹«åŠ©æˆ‘å€‘å°‡ resources ä¸­ä¹‹ js åŠ sass ç­‰å‰ç«¯è¨­å®šæª” compile æˆ jsã€css ç­‰æª”æ¡ˆä¸¦ deploy åˆ° public ä¸­ä¾›é é¢ä½¿ç”¨ã€‚ ","date":"2022-03-02","objectID":"/laravel/:4:3","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"å»ºç«‹ç¬¬ä¸€å€‹ Laravel ç¶²é  æ–‡ç« åƒè€ƒä¾†æº ä¸‹é¢æ•™å­¸æµç¨‹æ˜¯åƒè€ƒReccaChao Laravel 6.0 åˆé«”é©—ï¼æ€éº¼ç”¨æœ€æ–°çš„ laravel æ¶ç¶²ç«™ï¼ çš„æ–‡ç« ä¸‹å»å­¸ç¿’ä»¥åŠä»‹ç´¹ï¼Œåœ¨å­¸ç¿’éç¨‹ä¸­å†åŠ ä¸Šè‡ªå·±çš„ç†è§£ä»¥åŠä¸åŒç¯„ä¾‹çš„ç­†è¨˜ä¾†åˆ†äº«çµ¦å¤§å®¶ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å…ˆå»ç€è¦½å¤§å¤§çš„æ–‡ç« ï¼Œå†å›ä¾†å‘¦XD æˆ‘å€‘ç¶“éåƒè¾›è¬è‹¦ï¼Œå°‡ Laravel çµ¦å®‰è£å¥½ï¼Œä¹Ÿè¨­å®šå¥½å®ƒæ‰€éœ€çš„ç’°å¢ƒåƒæ•¸ï¼Œæ‰“é–‹ IED æº–å‚™é–‹å§‹å­¸ç¿’å¦‚ä½•å»ºç«‹ç¬¬ä¸€å€‹ Laravel ç¶²é å§ï¼ åœ¨é–‹å§‹èªªæ˜å‰ï¼Œé‚„è¦å…ˆä¸‹ä¸€å€‹æŒ‡ä»¤ã€‚åœ¨ä»‹ç´¹ Laravel å°ˆæ¡ˆä¸‹çš„è³‡æ–™å¤¾ä»¥åŠæª”æ¡ˆä¸­ï¼Œå…¶ä¸­ä¸€å€‹ â€œArtisanâ€ï¼Œæ˜¯ Laravel å°ˆç”¨çš„æŒ‡ä»¤å·¥å…·ï¼Œå¯ä»¥å¹«æˆ‘å€‘è™•ç†å¾ˆå¤šäº‹æƒ…ã€‚ åƒæ˜¯æˆ‘å€‘ç¾åœ¨è¦å•Ÿå‹•å…§å»ºçš„ä¼ºæœå™¨ä¾†ç€è¦½æˆ‘å€‘çš„ç¶²ç«™ï¼Œé€™æ™‚æˆ‘å€‘è¦ä¸‹ $ poser global requirephp artisan serve Laravel development server started: \u003chttp://127.0.0.1:8000\u003e [Thu Mar 3 15:13:07 2022] 127.0.0.1:52345 [200]: /favicon.ico é€™å€‹ä¼ºæœå™¨æœƒåœ¨é€™å€‹çµ‚ç«¯æ©Ÿä¸‹è¢«å»ºç«‹ï¼Œå±¬æ–¼é€™å€‹å°ˆæ¡ˆçš„ä¼ºæœå™¨ï¼Œå¦‚æœæƒ³è¦é—œé–‰ï¼Œå¯ä»¥ä½¿ç”¨ Ctrl + C ä¾†é—œé–‰ã€‚ å°æé†’ ç”±æ–¼æ­¤ä¼ºæœå™¨æ˜¯å°ˆå±¬æ–¼è©²å°ˆæ¡ˆçš„ä¼ºæœå™¨ï¼Œæ‰€ä»¥ä¸‹æŒ‡ä»¤æ™‚ï¼Œä¹Ÿè¦åœ¨è©²å°ˆæ¡ˆçš„ç›®éŒ„ä¸‹æ­ï¼ å¦‚æœæƒ³è¦ä½¿ç”¨ç‰¹å®šçš„ Port ï¼Œå¯ä»¥åœ¨å¾Œé¢åŠ å…¥æ­¤åƒæ•¸ï¼Œå°±å¯ä»¥ä¾ç…§è¨­å®šçš„ Port ä¾†ç•¶ä½œæˆ‘å€‘ä¼ºæœå™¨çš„ä½å­å›‰ï¼(é è¨­æ˜¯8000 Port) $ php artisan serve --port=7777 Laravel development server started: \u003chttp://127.0.0.1:7777\u003e [Thu Mar 3 15:45:23 2022] 127.0.0.1:54206 [200]: /favicon.ico ç¶­è­·æ¨¡å¼ ç•¶æˆ‘å€‘æƒ³è¦ä¿®æ”¹ç³»çµ±æˆ–æ˜¯è³‡æ–™åº«çš„æ¬„ä½æ™‚ï¼Œå°±å¯ä»¥å°‡è©²ç¶²ç«™è¨­å®šæˆç¶­ä¿®æ¨¡å¼ã€‚Laravel è®“é€™å€‹å·¥ä½œè®Šå¾—å¾ˆå®¹æ˜“ï¼Œåªéœ€è¦ç”¨ä»¥ä¸‹å…©å€‹æŒ‡ä»¤ä¾†æ§åˆ¶ å•Ÿå‹•ç¶­è­·æ¨¡å¼ $ php artisan down --message=\"Upgrading Database\" --retry=60 é‚„å¯ä»¥è¨­å®šä¸€äº›åƒæ•¸ï¼Œ --message æ˜¯ç”¨ä¾†é¡¯ç¤ºæˆ–ç´€éŒ„å®¢è£½åŒ–è¨Šæ¯ï¼Œ --retry ç”¨ä¾†ç•¶ä½œHTTP head çš„ Retry-After çš„å€¼ Laravel ç¶­è­·æ¨¡å¼é¡¯ç¤ºé é¢\" Laravel ç¶­è­·æ¨¡å¼é¡¯ç¤ºé é¢ é—œé–‰ç¶­è­·æ¨¡å¼ $ php artisan up ç¶­è­·æ¨¡å¼é¡¯ç¤ºæ¨¡æ¿ ç¶­è­·æ¨¡å¼é¡¯ç¤ºçš„é è¨­æ¨¡æ¿æ”¾ç½®åœ¨ resources/views/errors/503.blade.phpã€‚ä½ å¯ä»¥è‡ªç”±çš„æ ¹æ“šéœ€æ±‚ä¿®æ”¹ã€‚ Routes è·¯ç”± æˆ‘å€‘è¦ä¾†å»ºç«‹æˆ‘çš„ç¬¬ä¸€å€‹ç¶²é ï¼Œç¶²é çš„å…¶ä¸­ä¸€å€‹é—œéµå°±æ˜¯è·¯å¾‘ã€‚é‚£æˆ‘å€‘ç¶²ç«™çš„è·¯å¾‘ï¼Œåœ¨ Laravel è£¡é¢ï¼Œéƒ½æ”¾ç½®åœ¨ routes/ è£¡é¢ï¼Œæ‰“é–‹å¾Œå¯ä»¥çœ‹åˆ°4å€‹æª”æ¡ˆæœ‰ web.phpï¼šé€™å€‹å’Œæˆ‘å€‘ç¾åœ¨è¦èªªæ˜çš„è·¯å¾‘æœ‰é—œï¼Œæˆ‘å€‘åœ¨ç€è¦½å™¨æ‰“çš„ç¶²å€ï¼Œå‰é¢æ˜¯ domain nameï¼Œé‚£åœ¨ domain ä¹‹å¾Œçš„å­—ä¸²ï¼Œæœƒåœ¨æˆ‘å€‘é€™å€‹æª”æ¡ˆè£¡é¢ä¾†å®šç¾©å“ªäº›å­—ä¸²è¦å°å‘å“ªä¸€å€‹æµç¨‹æˆ–æ˜¯æª”æ¡ˆï¼Œç¯„ä¾‹ url:{domain}/hello-worldã€‚ api.phpï¼šæˆ‘å€‘åœ¨åšå‰å¾Œç«¯åˆ†é›¢çš„å°ˆæ¡ˆæ™‚æœƒä½¿ç”¨é€™å€‹æª”æ¡ˆï¼Œèˆ‡ web.php åŠŸèƒ½å·®ä¸å¤šï¼Œé è¨­ç”¨ä¾†ç®¡ç† API çš„è·¯å¾‘ã€‚ channels.phpï¼šå’Œ Broadcast æœ‰é—œä¿‚ï¼Œé€™å€‹æ˜¯ Laravel çš„å»£æ’­åŠŸèƒ½ï¼Œä¸å¤ªå¸¸ä½¿ç”¨ï¼Œæ‰€ä»¥å…ˆè·³éï¼Œä¹‹å¾Œæœ‰ç¢°åˆ°å†ä¾†èªªæ˜ã€‚ console.phpï¼šé€™å€‹å’Œæˆ‘å€‘æŒ‡ä»¤æœ‰é—œï¼Œåƒæ˜¯æˆ‘å€‘ä¸Šé¢ä»‹ç´¹çš„ php artisan ï¼Œé€™å€‹æª”æ¡ˆå°±æ˜¯å’Œé€™å€‹éƒ¨åˆ†æœ‰é—œã€‚ web.php é‚£æˆ‘å€‘å°±å…ˆä¾†é‡å° web.php ä¾†åšä»‹ç´¹ï¼Œæˆ‘å€‘å‰›å‰›ä½¿ç”¨æŒ‡ä»¤é–‹å•Ÿçš„ä¼ºæœå™¨ç¶²å€æ˜¯ http://127.0.0.1:8000ï¼Œä½¿ç”¨ç€è¦½å™¨é€²å…¥å¾Œï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢é€™å€‹ Laravel é è¨­çš„é é¢(æ­¤ç‚º Laravel 5.4ç‰ˆæœ¬ï¼Œæ–°ç‰ˆçš„å¥½åƒä¸å¤ªä¸€æ¨£) Laravel é è¨­é¦–é \" Laravel é è¨­é¦–é  é‚£æˆ‘å€‘é–‹å•Ÿ routes/web.php æª”æ¡ˆä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢é€™ä¸€æ®µé è¨­çš„è·¯ç”± Route::get('/', function () { return view('welcome'); }); é€™æ®µçš„æ„æ€å°±æ˜¯ä»£è¡¨ï¼Œå¦‚æœæˆ‘å€‘ç¶²å€æ²’æœ‰è¼¸å…¥å…¶ä»–çš„ç›®éŒ„ï¼Œå°±æœƒé¡¯ç¤º welcome é€™å€‹ç¶²é ï¼Œé‚£ welcome é€™å€‹é¡¯ç¤ºçš„ç•«é¢ï¼Œå°±æ”¾åœ¨ resources/view åº•ä¸‹åç‚º welcome.blade.php çš„æª”æ¡ˆä¸­ï¼Œæ‰“é–‹ä¾†çœ‹å°±æ˜¯ç°¡å–®çš„ HTMLã€‚ é‚£ç¾åœ¨æˆ‘å€‘äº†è§£è·¯ç”±çš„å«ç¾©ï¼Œç¾åœ¨æ›æˆ‘å€‘ä¾†å¯¦ä½œä¸€å€‹çœ‹çœ‹ï¼Œé¦–å…ˆæˆ‘å€‘å¸Œæœ›ç¶²å€åˆ—è¼¸å…¥ https://127.0.0.1:8000/hello-world å¯ä»¥å‡ºç¾ hello world çš„å­—æ¨£ï¼Œé‚£æˆ‘å€‘å¯ä»¥åˆ° web.php ä¸­ï¼Œæ–°å¢ä¸‹é¢é€™å€‹è·¯ç”± Route::get('/hello-world', function () { return view('hello-world'); }); å†åˆ°åˆ° resources/view æ–°å¢ hello-world.blade.php æª”æ¡ˆï¼Œç°¡å–®è¼¸å…¥ HTML æ ¼å¼ï¼Œå¦‚ä¸‹ \u003c!DOCTYPE html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003ctitle\u003eDocument\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003e hello ~ pinyi \u003c/h1\u003e \u003c/body\u003e \u003c/html\u003e ä½¿ç”¨ç€è¦½å™¨åœ¨ç¶²å€åˆ—è¼¸å…¥ http://127.0.0.1/hello-world ï¼Œå°±å¯ä»¥çœ‹åˆ°é¡¯ç¤º hello ~ pinyi çš„å­—æ¨£å›‰ï½ é™¤äº†å›å‚³ç¶²é ä¾†åšé¡¯ç¤ºä»¥å¤–ï¼Œä¹Ÿå¯ä»¥å–®ç¨å›å‚³å­—ä¸²ï¼Œä¸¦å¸¶å…¥åƒæ•¸æ­ï¼Œæˆ‘å€‘ä¾†è©¦è©¦çœ‹è¦æ€éº¼åšã€‚ é¦–å…ˆæˆ‘å€‘å…ˆå°‡è·¯ç”±ä¿®æ”¹æˆä¸‹æ–¹ï¼Œè®“æˆ‘å€‘åœ¨ hello-world å¾Œé¢å¯ä»¥è¼¸å…¥æˆ‘å€‘çš„åç¨±ï¼Œä¸¦ä¸”é¡¯ç¤ºåœ¨ç•«é¢ä¸Š Route::get('/hello-world/{name}', function ($name) { return 'hello ~ ' . $name; }); æˆ‘å€‘åœ¨ç¶²å€åˆ—è¼¸å…¥ http://127.0.0.1/hello-world/pinyi å°±æœƒé¡¯ç¤º hello ~ pinyi ï¼Œå¾ˆç¥å¥‡å§ï¼Œåªè¦åœ¨æ‹¬è™Ÿä¸­ {} è¼¸å…¥ä½ è¦çš„åƒæ•¸ï¼Œä¸¦ä¸”å¾Œé¢çš„ function ä¹Ÿè¦å¸¶å…¥åƒæ•¸ï¼Œå°±å¯ä»¥å°‡è³‡æ–™çµ¦å¸¶é€²å»äº† ! api.php æˆ‘å€‘å¯ä»¥çœ‹åˆ° api.php æª”æ¡ˆä¹Ÿæ˜¯ä½¿ç”¨ Route ä¾†é‹ä½œï¼Œå¦‚ä¸‹ Route::middleware('auth:api')-\u003eget('/user', function (Request $request) { return $request-\u003euser(); }); middleware å°±æ˜¯ä¸€ç¨®éæ¿¾æˆ–æ˜¯é˜²ç«ç‰†çš„æ¦‚å¿µï¼Œé€™å€‹æˆ‘å€‘å¾ŒçºŒæœƒå†èªªæ˜ã€‚ æˆ‘å€‘ä¹Ÿåœ¨æ­¤æ–°å¢ä¸€å€‹è·Ÿä¸Šé¢ä¸€æ¨£çš„ hello-worldï¼Œå¦‚ä¸‹ Route::get('/hello-world', function () { return 'Hello World ~'; }); åœ¨ api.php æ¯”è¼ƒç‰¹åˆ¥çš„éƒ¨åˆ†æ˜¯éœ€è¦åœ¨å­—ä¸²å‰é¢åŠ å…¥ api ï¼Œå› ç‚º api.php å°±æ˜¯é è¨­è®“æˆ‘å€‘ä¾†æ”¾ api çš„åœ°æ–¹ï¼Œå¦‚ç¯„ä¾‹ url:{domain}/api/hello-worldï¼Œé‚£å°±æœƒå›å‚³ hello world ~ View Blade æ¨¡æ¿å¼•æ“ æˆ‘å€‘å·²ç¶“çŸ¥é“è¦æ€éº¼é€éè·¯ç”±ï¼Œè®“ä½¿ç”¨è€…è¼¸å…¥ç¶²å€å¾Œï¼Œæ ¹æ“šç¶²å€æŒ‡å‘æƒ³è¦å‘ˆç¾çš„ç•«é¢ï¼Œé‚£æˆ‘å€‘çš„ç•«é¢è¦æ€éº¼å‘ˆç¾å‘¢ !? ä¸Šé¢æœ‰ä½¿ç”¨ç°¡å–®çš„ HTML ä¾†åšèªªæ˜ï¼Œé‚£æœ¬ç« ç¯€å°±ä¾†ä»‹ç´¹æ€éº¼ä¿®æ”¹æˆ‘å€‘çš„å‰ç«¯è¼¸å‡ºå§ã€‚ Layout æˆ‘å€‘åœ¨è¨­è¨ˆç¶²é æ™‚ï¼Œé€šå¸¸éƒ½æœƒä½¿ç”¨æ¨£æ¿ï¼Œè®“ç¶²é ç›¸åŒçš„åœ°æ–¹åªåšä¸€æ¬¡å°±å¯ä»¥é¡¯ç¤ºï¼Œä¸éœ€è¦æ¯ä¸€å€‹é é¢éƒ½é‡è¤‡å¯«ç›¸åŒçš„ç¨‹å¼ç¢¼ï¼Œåªéœ€è¦åœ¨æƒ³è¦é¡¯ç¤ºçš„åœ°æ–¹ä¾†é¡¯ç¤ºå„è‡ªçš„å…§å®¹å°±å¥½ å¦‚æœè½ä¸å¤ªæ‡‚ï¼Œæˆ‘ä»¥æˆ‘çš„ Blog ä¾†èˆ‰ä¾‹ï¼Œç´…è‰²æ¡†æ¡†ï¼Œåœ¨æ¯ä¸€é éƒ½æœƒé¡¯ç¤ºï¼Œæˆ‘å€‘å¯ä»¥æŠŠä»–å¯«æˆä¸€å€‹æª”æ¡ˆï¼Œå°±ä¸éœ€è¦æ¯é éƒ½é‡è¤‡å»å¯«ï¼Œè—è‰²æ¡†æ¡†ï¼Œæœƒä¾ç…§æ¯ä¸€é çš„å…§å®¹ä¾†åšé¡¯ç¤ºã€‚ PinYi å°å¤©åœ°\" PinYi å°å¤©åœ° é‚£æˆ‘å€‘å¯ä»¥é€é Laravel çš„ Blade Engine è¼•é¬†åœ°é”åˆ°é€™ä»¶äº‹æƒ…ï¼Œé¦–å…ˆï¼Œåˆ° resources/views/ ç›®éŒ„ä¸‹å»ºç«‹ä¸€å€‹å« layouts çš„è³‡æ–™å¤¾ã€‚é€™å€‹è³‡æ–™å¤¾ä¹‹å¾Œæœƒè®“æˆ‘å€‘ä¾†æ”¾ä¸åŒçš„æ¨¡æ¿ åœ¨ layouts ä¸‹å»ºç«‹ä¸€å€‹ header.blade.php æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹ \u003c!DOCTYPE html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003ctitle\u003eDocument\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003eæ¸¬è©¦ç¶²ç«™ï¼Œæˆ‘æ˜¯æ¨™é¡Œ\u003c/h1\u003e \u003cdiv class=\"container\"\u003e @yield('content') \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e å¯ä»¥çœ‹åˆ°æˆ‘å€‘","date":"2022-03-02","objectID":"/laravel/:4:4","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"RESTful API å¯¦ç¾ CRUD æ¥ä¸‹ä¾†ï¼Œå°±ä¾†åˆ°æˆ‘å€‘æœ¬æ¬¡çš„é‡é»ï¼Œè¦ä½¿ç”¨ Laravel ä¾†é–‹ç™¼å‡ºç•™è¨€æ¿åŠŸèƒ½ï¼Œæ­é…ä½¿ç”¨ RESTful API ä¾†å¯¦ç¾ CRUD è€æ¨£å­ï¼Œæˆ‘å€‘å…ˆä¾†è¨­å®šæˆ‘å€‘çš„ route è·¯ç”±ï¼Œé€™æ¬¡å¯¦ä½œçš„æ˜¯ç•™è¨€æ¿ï¼Œæ‰€ä»¥æˆ‘å€‘å¸Œæœ›ç¶²å€æ˜¯ http://127.0.0.1:8000/api/messagesï¼Œå› ç‚ºé€™æ¬¡æ˜¯ APIï¼Œå…ˆåˆ° routes/api.php åº•ä¸‹ä¾†è¨­å®š \u003c?php use Illuminate\\Http\\Request; /* |-------------------------------------------------------------------------- | API Routes |-------------------------------------------------------------------------- | | Here is where you can register API routes for your application. These | routes are loaded by the RouteServiceProvider within a group which | is assigned the \"api\" middleware group. Enjoy building your API! | */ Route::get('messages', 'MessageController@getAllMessages'); // æŸ¥è©¢å…¨éƒ¨ç•™è¨€ Route::get('messages/{id}', 'MessageController@getMessages'); // æŸ¥è©¢ {id} ç•™è¨€ Route::post('messages', 'MessageController@createMessages'); // æ–°å¢ç•™è¨€ Route::put('messages/{id}', 'MessageController@updateMessages'); // ä¿®æ”¹ {id} ç•™è¨€ Route::delete('messages/{id}', 'MessageController@deleteMessages'); //åˆªé™¤ {id} ç•™è¨€ å·²ç¶“å¿˜è¨˜çš„ï¼Œå¯ä»¥å…ˆå›åˆ° Controller æ§åˆ¶å™¨ è¤‡ç¿’ä¸€ä¸‹ä¸Šé¢çš„è·¯ç”±æ˜¯ä»€éº¼æ„æ€ã€‚ æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä½¿ç”¨ å»ºç«‹å±¬æ–¼è‡ªå·±çš„ migration ä¾†ç”Ÿæˆæˆ‘å€‘æœ¬æ¬¡è¦ä½¿ç”¨çš„è³‡æ–™è¡¨ï¼Œå†ä¾†æ–°å¢ä¸€å€‹èˆ‡ Eloquent Model ç›¸åŒçš„ç‰©ä»¶ï¼Œé¸æ“‡æˆ‘å€‘è¦çš„è³‡æ–™è¡¨ \u003c?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class Message extends Model { protected $table = 'Messages'; protected $fillable = [ 'name','content','created_at','updated_at' ]; } éƒ½å¥½äº†æˆ‘å€‘ä¾†æ’°å¯«æˆ‘å€‘çš„ controllerï¼Œæˆ‘æœƒä¾ç…§æ¯ä¸€å€‹åŠŸèƒ½(CRUD)ä¾†åšèªªæ˜ï¼Œè¦è¨˜å¾—åŠ å…¥å‰›å‰›çš„ model use App\\Message;ã€‚ æŸ¥è©¢å…¨éƒ¨ç•™è¨€ class MessageController extends Controller { // æŸ¥è©¢å…¨éƒ¨ç•™è¨€ public function getAllMessages() { $messages = Message::get(['id','name','content','created_at','updated_at'])-\u003etoJson(JSON_PRETTY_PRINT); return response($messages, 200); } } æœƒä¾ç…§ model é¸æ“‡çš„è³‡æ–™è¡¨ä¾†åšæŸ¥è©¢ï¼Œåªé¡¯ç¤º idã€nameã€content ã€created_at ã€updated_at äº”å€‹æ¬„ä½ï¼Œä¸¦æŠŠä»–ç”¨ JSON è¡¨ç¤ºï¼Œæœ€å¾Œç”¨ response() ä¾†å›æ‡‰ status codeã€‚ æŸ¥è©¢{id}ç•™è¨€ class MessageController extends Controller { // æŸ¥è©¢{id}ç•™è¨€ public function getMessages($id) { if (Message::where('id',$id)-\u003eexists()) { $messages = Message::where('id',$id)-\u003eget(['id','name','content','created_at','updated_at'])-\u003etoJson(JSON_PRETTY_PRINT); return response($messages, 200); } else { return response()-\u003ejson([\"messages\" =\u003e \"æ‰¾ä¸åˆ°è¨Šæ¯\"], 404); } } } å…ˆåˆ¤æ–·è¼¸å…¥çš„ id æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨æ‰é¡¯ç¤º idã€nameã€content ã€created_at ã€updated_at äº”å€‹æ¬„ä½ï¼Œä¸¦æŠŠä»–ç”¨ JSON è¡¨ç¤ºï¼Œæœ€å¾Œç”¨ response() ä¾†å›æ‡‰ status codeï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œç›´æ¥ç”¨ JSON è¡¨ç¤º response() 404éŒ¯èª¤è¨Šæ¯ã€‚ æ–°å¢ç•™è¨€ class MessageController extends Controller { // æŸ¥è©¢{id}ç•™è¨€ public function createMessages(Request $request) { if (strlen($request-\u003econtent)\u003c20){ $messages = new Message; $messages-\u003ename = $request-\u003ename; $messages-\u003econtent = $request-\u003econtent; $messages-\u003eupdated_at = NULL; $messages-\u003esave(); return response()-\u003ejson([\"messages\" =\u003e \"æ–°å¢ç´€éŒ„æˆåŠŸ\"], 201); } if (strlen($request-\u003econtent)\u003e20){ return response()-\u003ejson([\"messages\" =\u003e \"å…§å®¹é•·åº¦è¶…é20å€‹å­—å…ƒ\"], 400); } } } æˆ‘å€‘å¸Œæœ›è¼¸å…¥çš„å…§å®¹ä¸è¦è¶…é20çš„å­—ï¼Œæ‰€ä»¥æˆ‘å€‘å…ˆç”¨ strlen() ä¾†åˆ¤æ–·è¼¸å…¥é•·åº¦ï¼Œå¦‚æœå°æ–¼20ï¼Œå°±å°‡ request è¼¸å…¥çš„åå­—åŠå…§å®¹è¼¸å…¥ï¼Œç”¨ save() ä¾†å„²å­˜ï¼Œä¸¦æŠŠä»–ç”¨ JSON è¡¨ç¤ºï¼Œæœ€å¾Œç”¨ response() ä¾†å›æ‡‰ status codeï¼Œå¦‚æœå°æ–¼20ï¼Œç›´æ¥ç”¨ JSON è¡¨ç¤º response() 400éŒ¯èª¤è¨Šæ¯ã€‚ ä¿®æ”¹ç•™è¨€ class MessageController extends Controller { // ä¿®æ”¹{id}ç•™è¨€ public function updateMessages(Request $request,$id) { if (Message::where('id',$id)-\u003eexists() \u0026\u0026 Message::where('version',0)-\u003elockForUpdate() ) { if (strlen($request-\u003econtent)\u003c20){ $messages = Message::find($id); $messages-\u003ename = is_null($request-\u003ename) ? $messages-\u003ename : $request-\u003ename; $messages-\u003econtent = is_null($request-\u003econtent) ? $messages-\u003econtent : $request-\u003econtent; $messages-\u003eversion = '1'; $messages-\u003esave(); return response()-\u003ejson([\"message\" =\u003e \"ä¿®æ”¹æˆåŠŸ\"],200); } if (strlen($request-\u003econtent)\u003e20){ return response()-\u003ejson([\"messages\" =\u003e \"å…§å®¹é•·åº¦è¶…é20å€‹å­—å…ƒ\"], 400); } } else { return response()-\u003ejson([\"message\" =\u003e \"æ‰¾ä¸åˆ°è¨Šæ¯\"],404); } } å…ˆåˆ¤æ–·è¼¸å…¥çš„ id æ˜¯å¦å­˜åœ¨ä»¥åŠæ˜¯å¦æœ‰è¢«ä¸Šé–ï¼Œåœ¨åˆ¤æ–·è¼¸å…¥çš„é•·åº¦ï¼Œå¦‚æœå°æ–¼20ï¼Œå†åˆ¤æ–·æ˜¯å¦æœ‰è¼¸å…¥ï¼Œæœ‰å°±å°‡ request è¼¸å…¥çš„å€¼è¼¸å…¥ï¼Œç”¨ save() ä¾†å„²å­˜ï¼Œä¸¦æŠŠä»–ç”¨ JSON è¡¨ç¤ºï¼Œæœ€å¾Œç”¨ response() ä¾†å›æ‡‰ status codeï¼Œå¦‚æœå°æ–¼20ï¼Œç›´æ¥ç”¨ JSON è¡¨ç¤º response() 400éŒ¯èª¤è¨Šæ¯ã€‚ åˆªé™¤ç•™è¨€ class MessageController extends Controller { // åˆªé™¤{id}ç•™è¨€ public function deleteMessages($id) { if (Message::where('id',$id)-\u003eexists()) { $messages = Message::find($id); $messages-\u003edelete(); return response()-\u003ejson([\"message\" =\u003e \"åˆªé™¤æˆåŠŸ,æ²’æœ‰è¿”å›ä»»ä½•å…§å®¹\"],204); ","date":"2022-03-02","objectID":"/laravel/:4:5","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"æ¸¬è©¦ å¯«å®Œç¨‹å¼å¾Œï¼Œé™¤äº†è‡ªå·±ä¸€å€‹ä¸€å€‹å»æ¸¬è©¦ï¼Œä¹Ÿå¯ä»¥å¯«æˆç¨‹å¼ä¾†æ¸¬è©¦æ˜¯å¦æœ‰éŒ¯èª¤ã€‚æœƒåœ¨æ­¤è«‡åˆ°æ¸¬è©¦ï¼Œæ˜¯å› ç‚ºè‡ªå‹•æ¸¬è©¦è®Šå¾—ç°¡å–®ä¹Ÿæ˜¯ Laravel é€™å€‹æ¡†æ¶çš„ä¸€å€‹é‡è¦ç‰¹æ€§ã€‚ é‚£æˆ‘å…ˆä¾†èªªæ˜ä¸€ä¸‹ä»€éº¼æ˜¯è‡ªå‹•æ¸¬è©¦ ç°¡å–®ä¾†èªªï¼Œå¸¸è¦‹çš„æ¸¬è©¦ï¼Œå°±æ˜¯æˆ‘å€‘åœ¨å®Œæˆæ–°åŠŸèƒ½å¾Œï¼Œæœƒä¸€å€‹ä¸€å€‹å¯¦éš›å»æ¸¬è©¦æˆ‘å€‘å¯«çš„åŠŸèƒ½ï¼Œæ˜¯ä¸æ˜¯è·Ÿæˆ‘å€‘é æƒ³çš„é‚£æ¨£å­é‹è¡Œã€‚ ä¸€é–‹å§‹ç¶²ç«™é‚„å°ï¼ŒåŠŸèƒ½ä¸å¤šæ™‚ï¼Œé‚„å¯ä»¥æ‡‰ä»˜ã€‚ä½†ç•¶ç¶²ç«™è¶Šä¾†è¶Šé¾å¤§ï¼ŒåŠŸèƒ½è¶Šä¾†è¶Šå¤šå¾Œï¼Œæˆ–æ˜¯è¦ä½¿ç”¨ä¸åŒæ¬Šé™å¸³è™Ÿä¾†æª¢æŸ¥æ‰€æœ‰åŠŸèƒ½ï¼Œæœƒå¾ˆè¾›è‹¦çš„ã€‚ å¹¸å¥½ï¼Œæˆ‘å€‘å¯ä»¥ç”¨è‡ªå‹•æ¸¬è©¦çš„ç¨‹å¼ä¾†è§£æ±ºé€™äº›ç‘£äº‹ï¼ å¦‚æœæˆ‘å€‘æ¯æ¬¡ç‚ºæ¯å€‹åŠŸèƒ½æ’°å¯«ç¨‹å¼æ™‚ï¼Œéƒ½å¯«å¦ä¸€æ®µå°ç¨‹å¼ä¾†æ¸¬è©¦é€™å€‹åŠŸèƒ½ã€‚ éš¨è‘—æ™‚é–“éå»ï¼Œéœ€æ±‚çš„æ”¹è®Šï¼Œé›–ç„¶åŠŸèƒ½è¶Šä¾†è¶Šå¤šï¼Œä½†æ˜¯ç›¸å°æ‡‰çš„ï¼Œæ¸¬è©¦é€™äº›åŠŸèƒ½çš„ç¨‹å¼ä¹Ÿæœƒè¶Šä¾†è¶Šå¤šï¼Œä¸¦ä¸”ä¸ç®¡é€™å€‹åŠŸèƒ½æ˜¯å¤šä¹…ä¹‹å‰é–‹ç™¼çš„ï¼Œæ¯å€‹åŠŸèƒ½éƒ½æœ‰ç›¸å°æ‡‰çš„æ¸¬è©¦ã€‚ ","date":"2022-03-02","objectID":"/laravel/:5:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"å¦‚ä½•é‹è¡Œè‡ªå‹•æ¸¬è©¦ åœ¨ PHP çš„ä¸–ç•Œï¼Œè‡ªå‹•æ¸¬è©¦é€šå¸¸ä½¿ç”¨ PHPUnit é€™å€‹å·¥å…·ã€‚ç„¶å¾Œ Laravel åœ¨å®‰è£æ™‚ï¼Œä¹Ÿè‡ªå‹•å¹«æˆ‘å€‘å®‰è£é€™å€‹å·¥å…·äº†ï½ Laravel å¹«æˆ‘å€‘æŠŠ PHPUnit å®‰è£åœ¨ vendor/ è£¡é¢ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹è¦æ€éº¼ä½¿ç”¨å®ƒå§ï¼ä½¿ç”¨çš„æŒ‡ä»¤å¦‚ä¸‹ $ vendor/phpunit/phpunit/phpunit PHPUnit 5.7.27 by Sebastian Bergmann and contributors. .. 2 / 2 (100%) Time: 146 ms, Memory: 10.00MB OK (2 tests, 2 assertions) å¥‡æ€ªï¼Œæˆ‘å€‘ä»€éº¼éƒ½é‚„æ²’åšï¼Œç‚ºä»€éº¼æœƒæœ‰å…©å€‹ç¨‹å¼å·²ç¶“é€šéæ¸¬è©¦äº†ï¼Œæ˜¯å› ç‚º Laravel é è¨­å…©å€‹æª”æ¡ˆä¾†ç•¶æ¸¬è©¦çš„æ¡ˆä¾‹ï¼Œåˆ†åˆ¥ä½æ–¼ tests/Feature/ExampleTest.php ä»¥åŠ tests/Unit/ExampleTest.php (å–®å…ƒæ¸¬è©¦)ï¼Œæˆ‘é€™é‚Šå°±ç°¡å–®èªªæ˜ Feature/ExampleTest.php é€™å€‹æ¸¬è©¦ç¨‹å¼åšå“ªäº›äº‹æƒ… \u003c?php namespace Tests\\Feature; use Tests\\TestCase; use Illuminate\\Foundation\\Testing\\WithoutMiddleware; use Illuminate\\Foundation\\Testing\\DatabaseMigrations; use Illuminate\\Foundation\\Testing\\DatabaseTransactions; class ExampleTest extends TestCase { /** * A basic test example. * * @return void */ public function testBasicTest() { $response = $this-\u003eget('/'); $response-\u003eassertStatus(200); } } é€™å€‹ Feature/ExampleTest.php çš„ testBasicTest() æœƒæª¢æŸ¥å¦‚æœé€£ç·šåˆ° / ï¼ŒHTTP Status æœ‰æ²’æœ‰å›å‚³ 200 (æˆåŠŸé€£ç·š)ï¼Œé€™å€‹æ¸¬è©¦åŠŸèƒ½å°±æ˜¯åœ¨æª¢æŸ¥é¦–é æ˜¯å¦å­˜åœ¨ ï½ ","date":"2022-03-02","objectID":"/laravel/:5:1","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"å¯¦ä½œæ¸¬è©¦ç¨‹å¼ å¤§æ¦‚äº†è§£åŸç†å¾Œï¼Œä¸€æ¨£æˆ‘å€‘ä¾†å¯¦ä½œçœ‹çœ‹ï¼Œé‚£æˆ‘å€‘å…ˆä¾†è¼¸å…¥æŒ‡ä»¤ï¼Œç”¢ç”Ÿä¸€å€‹æ¸¬è©¦ç¨‹å¼ $ php artisan make:test HelloWorldTest Test created successfully. Laravel æœƒè‡ªå‹•å¹«æˆ‘å€‘åœ¨ tests/Feature åº•ä¸‹æ–°å¢äº† HelloWorldTest.php æª”æ¡ˆï¼Œå…§å®¹å¦‚ä¸‹(æ¡†æ¶ç‰ˆæœ¬5.4) \u003c?php namespace Tests\\Feature; use Tests\\TestCase; use Illuminate\\Foundation\\Testing\\WithoutMiddleware; use Illuminate\\Foundation\\Testing\\DatabaseMigrations; use Illuminate\\Foundation\\Testing\\DatabaseTransactions; class HelloWorldTest extends TestCase { /** * A basic test example. * * @return void */ public function testExample() { $this-\u003eassertTrue(true); } } æˆ‘å€‘æ¸¬è©¦çš„é …ç›®æ˜¯æƒ³è¦é€£ç·šåˆ° hello-world/ ç›®éŒ„ï¼ŒHTTP Status æœƒå›å‚³ 200 ï¼Œä»¥åŠç¶²ç«™å…§è¦çœ‹åˆ°ã€ hello world ~ ã€çš„æ–‡å­—ï¼Œæˆ‘å€‘å°‡ä»–é è¨­çš„ testExample() çš„å…§å®¹æ”¹æˆ public function testExample() { $response = $this-\u003eget('/hello-world'); // å¦‚æœé€£ç·š hello-world/ï¼ŒHTTP Status æ‡‰è©²è¦é¡¯ç¤º 200 $response-\u003eassertStatus(200); //é€£ç·šåˆ°ç¶²é å…§ï¼Œæ‡‰è©²è¦å¯ä»¥çœ‹åˆ°ã€Œã€ hello world ~ã€æ–‡å­— $response-\u003eassertSee('hello world ~'); } ä¾†é‹ä½œä¸€ä¸‹å§ï¼Œä¸€æ¨£ä½¿ç”¨åŒæ¨£çš„æŒ‡ä»¤ä¾†åšæ¸¬è©¦ï¼Œé †ä¾¿è®“å¤§å®¶çœ‹ä¸€ä¸‹æ¸¬è©¦éŒ¯èª¤çš„éŒ¯èª¤è¨Šæ¯å§ï¼ $ vendor/phpunit/phpunit/phpunit PHPUnit 5.7.27 by Sebastian Bergmann and contributors. .F. 3 / 3 (100%) Time: 200 ms, Memory: 10.00MB There was 1 failure: 1) Tests\\Feature\\HelloWorldTest::testExample Expected status code 200 but received 404. Failed asserting that false is true. FAILURES! Tests: 3, Assertions: 3, Failures: 1. æˆ‘æ•…æ„åœ¨ routes ä¸‹æ²’æœ‰æ”¾ hello-world/ è·¯å¾‘ï¼Œæ‰€ä»¥è¿”å›é¡¯ç¤º 404 ï¼Œè€Œä¸æ˜¯ 200 ï¼Œå› æ­¤ï¼Œå°±å¯ä»¥çŸ¥é“è¦æ€éº¼å»ä¿®æ”¹ç¨‹å¼å›‰ ! ","date":"2022-03-02","objectID":"/laravel/:5:2","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Artisan ç›¸é—œæŒ‡ä»¤ ","date":"2022-03-02","objectID":"/laravel/:6:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Controller php artisan make:controller {æª”æ¡ˆåç¨±}Controller //å»ºç«‹ä¸€å€‹ Controller ","date":"2022-03-02","objectID":"/laravel/:6:1","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Migration php artisan make:seeder //ç”¢ç”Ÿseederæª”æ¡ˆ php artisan make:factory //ç”¢ç”Ÿfactory æª”æ¡ˆ php artisan make:migration //ç”¢ç”Ÿmigration æª”æ¡ˆ php artisan migrate //å°‡é€™æ¬¡çš„migrationè®€å…¥è³‡æ–™åº«å»ºç«‹æ¶æ§‹ php artisan migrate:rollback //æ¨å›ä¸Šä¸€æ¬¡çš„migration php artisan migrate:reset //æ¨å›å…¨æ•¸çš„migration php artisan migrate:refresh //æ¨å›æ‰€æœ‰é·ç§»ä¸¦ä¸”å†åŸ·è¡Œä¸€æ¬¡ php artisan migrate --seed //å°‡é€™æ¬¡çš„migrationè®€å…¥è³‡æ–™åº«å»ºç«‹æ¶æ§‹ä¸¦ä¸”ä¹Ÿè·‘seeder php artisan migrate:refresh --seed //æ¨å›æ‰€æœ‰é·ç§»ä¸¦ä¸”å†åŸ·è¡Œä¸€æ¬¡ä»¥åŠseeder php artisan db:seed //å–®ç´”è·‘è³‡æ–™çš„seeder å¡«å……è³‡æ–™ ","date":"2022-03-02","objectID":"/laravel/:6:2","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"Test php artisan make:test {æª”æ¡ˆåç¨±} //æ¸¬è©¦ç¨‹å¼ æƒ³å¿…å¤§å®¶åˆ°é€™æ­¥é©Ÿå·²ç¶“å° Laravel ä¸é™Œç”Ÿäº†ï¼Œå·²ç¶“ç†Ÿæ‚‰ä¸Šé¢çš„æ•™å­¸ä»‹ç´¹å¾Œï¼Œå¯ä»¥å†å»å­¸ç¿’ä¸‹ä¸€ç¯‡ Laravel é€²éšï¼Œæœƒæœ‰å¦‚ä½•ä½¿ç”¨å…§å»ºæœƒå“¡ç³»çµ±ï¼Œä»¥åŠå¦‚ä½•åˆ¤æ–· RESTful API æ˜¯å¦ç™»å…¥ç­‰é€²éšå¯¦ä½œã„¡ï½ ","date":"2022-03-02","objectID":"/laravel/:6:3","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ PHPèˆ‡Laravelç°¡ä»‹ æ¯”è¼ƒ PHP ç¶²é æ¡†æ¶ Laravel å¾å…¥é–€åˆ°æ”¾æ£„ (ä¸€) â€“ é€é composer æ¶è¨­ laravel ç¶²ç«™ PHP Laravel å®‰è£æ•™å­¸ è³‡æ–™åº«è¨­è¨ˆæ¦‚å¿µ - ORM Laravel 6.0 åˆé«”é©—ï¼æ€éº¼ç”¨æœ€æ–°çš„ laravel æ¶ç¶²ç«™ï¼ Laravel Route(è·¯ç”±) ","date":"2022-03-02","objectID":"/laravel/:7:0","tags":["PHP","æ¡†æ¶","Laravel","RESTful API","å¯¦ä½œ","ä»‹ç´¹"],"title":"Laravel ä»‹ç´¹ (ä½¿ç”¨ Laravel å¾é›¶åˆ°æœ‰é–‹ç™¼å‡ºä¸€å€‹ç•™è¨€æ¿åŠŸèƒ½ä¸¦æ­é… RESTful API ä¾†å¯¦ç¾ CRUD) ","uri":"/laravel/"},{"categories":["codenotes"],"content":"ç”±æ–¼ç¶²è·¯ä¸Šæ–‡ç« å¹¾ä¹éƒ½æ˜¯ä½¿ç”¨ Apache ä¾†å¯¦ä½œç¬¬ä¸€å€‹ PHP RESTful APIï¼Œä¹Ÿæ¯”è¼ƒæ²’æœ‰ä¸­æ–‡çš„ä»‹ç´¹ï¼Œå‰›å¥½é€™æ¬¡ä¹Ÿé‚„åœ¨å­¸ç¿’ï¼Œæ‰€ä»¥æŠŠå­¸ç¿’çš„ç´€éŒ„åˆ†äº«çµ¦å¤§å®¶ï¼Œé€™æ¬¡æœƒæ­é…å¯¦ä½œç•™è¨€æ¿ä¾†èªªæ˜ï¼Œé‚£æœ¬æ¬¡æ•™å­¸å…§å®¹æ¡ç”¨çš„æ˜¯ macOS 11.6 Nginx 1.21.6 PHP 8.1.2 ç„¡æ¡†æ¶ ç„¡ç‰©ä»¶å°å‘ ä¾†åšæ•™å­¸ä»¥åŠç¤ºç¯„ï¼Œé‚£æˆ‘å€‘å…ˆä¾†ç°¡å–®äº†è§£ä¸€ä¸‹ä»€éº¼æ˜¯RESTful APIï¼š ","date":"2022-02-24","objectID":"/php-restful-api/:0:0","tags":["PHP","RESTful API","Nginx","å¯¦ä½œ","ä»‹ç´¹"],"title":"å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API","uri":"/php-restful-api/"},{"categories":["codenotes"],"content":"ä»€éº¼æ˜¯RESTful API ","date":"2022-02-24","objectID":"/php-restful-api/:1:0","tags":["PHP","RESTful API","Nginx","å¯¦ä½œ","ä»‹ç´¹"],"title":"å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API","uri":"/php-restful-api/"},{"categories":["codenotes"],"content":"å®šç¾© REST ï¼ŒæŒ‡å¾—æ˜¯ä¸€çµ„æ¶æ§‹ç´„æŸæ¢ä»¶å’ŒåŸå‰‡ï¼Œç¬¦åˆ REST è¨­è¨ˆé¢¨æ ¼çš„Web API ç¨±ç‚º RESTful APIï¼Œä¸»è¦ä»¥ä¸‹é¢ä¸‰é»ç‚ºå®šç¾© ç›´è§€ç°¡å–®çš„è³‡æºç¶²å€ URL æ¯”å¦‚ï¼šhttp://example.com/resources å°è³‡æºçš„æ“ä½œï¼šWeb æœå‹™åœ¨è©²è³‡æºä¸Šæ‰€æ”¯æŒçš„è«‹æ±‚æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šPOSTã€GETã€PUTã€PATCHã€DELETE å‚³è¼¸çš„è³‡æºï¼šWeb æœå‹™æ¥å—èˆ‡è¿”å›çš„é¡å‹ï¼Œæ¯”å¦‚ï¼šJSONã€XML åˆ†åˆ¥èªªæ˜æ¯ä¸€é …å®šç¾© ç›´è§€ç°¡å–®çš„è³‡æºç¶²å€ URL RESTful API URL çµæ§‹ (Best Practices for RESTful API Design)\" RESTful API URL çµæ§‹ (Best Practices for RESTful API Design) å¯ä»¥çœ‹åˆ°é€™å¼µåœ–å¾Œé¢çš„ Endpointï¼Œåˆ†åˆ¥ä»£è¡¨æ‡‰ç”¨æœå‹™ (Application context) ã€ ç‰ˆæœ¬ (Version)ã€ è³‡æº(Resource)ã€ åƒæ•¸(Parameter) ã€‚ æ‡‰ç”¨æœå‹™ï¼šå¯ä»¥å–å api æˆ–æ˜¯ restful-api ã€‚ ç‰ˆæœ¬ï¼šå¯ä»¥å° API é€²è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œå¯ä»¥æœ‰å‡ç´šçš„æœå‹™ï¼Œä¹Ÿä¸æœƒå°ç¾æœ‰çš„ API é€ æˆå½±éŸ¿ã€‚ è³‡æºï¼šè¦ä½¿ç”¨åè©è€Œéå‹•è©ä¾†å‘½åï¼Œä¸”å»ºè­°ä½¿ç”¨è¤‡æ•¸ å£çš„å‘½å(ä»¥æˆ‘å€‘è¦å¯¦ä½œçš„ç•™è¨€æ¿æŸ¥è©¢ã€æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤ç¤ºç¯„) æŸ¥è©¢ /selectmessage æ–°å¢ /createmessage ä¿®æ”¹ /updatemessage åˆªé™¤ /deletemessage å¥½çš„å‘½å æŸ¥è©¢ GET =\u003e /messages (å›å‚³æ‰€æœ‰ç•™è¨€) æ–°å¢ POST =\u003e /messages (æ–°å¢ç•™è¨€) ä¿®æ”¹ PUT =\u003e /messages/1 (ä¿®æ”¹å–®ç­†ç•™è¨€å…¨éƒ¨è³‡æ–™) ä¿®æ”¹ PATCH =\u003e /messages/1 (ä¿®æ”¹å–®ç­†ç•™è¨€æœ‰æ›´å‹•è³‡æ–™) åˆªé™¤ DELETE =\u003e /messages/1 (åˆªé™¤å–®ç­†ç•™è¨€) å°è³‡æºçš„æ“ä½œ RESTful API å‚³é€æ™‚ï¼Œæœƒä¾ç…§æˆ‘å€‘æ‰€å®šçš„ HTTP Request Method è«‹æ±‚æ–¹æ³•ï¼Œé‚£ä¸»è¦æœ‰ä»¥ä¸‹ 5 ç¨®çš„ Method GET : æ­¤æ–¹æ³•åªèƒ½å‘æŒ‡å®šçš„è³‡æºè¦æ±‚å–å¾—è³‡æ–™ï¼Œä¸¦ä¸æœƒæ›´å‹•å…§éƒ¨çš„è³‡æ–™ POSTï¼šå‘æŒ‡å®šçš„è³‡æºè¦æ±‚æ–°å¢è³‡æ–™ PUTï¼šå‘æŒ‡å®šçš„è³‡æºè¦æ±‚ä¿®æ”¹è³‡æ–™å…§å®¹ PATCHï¼šå‘æŒ‡å®šçš„è³‡æºè¦æ±‚ä¿®æ”¹éƒ¨åˆ†è³‡æ–™å…§å®¹ DELETEï¼šå‘æŒ‡å®šçš„è³‡æºè¦æ±‚åˆªé™¤è³‡æ–™å…§å®¹ å‚³è¼¸çš„è³‡æº å‰›å‰›æ˜¯å®¢æˆ¶ç«¯å°ä¼ºæœå™¨çš„è«‹æ±‚ï¼Œé‚£æˆ‘å€‘ä¹Ÿè¦é‡å°ä»–çš„è«‹æ±‚çµ¦äºˆå°æ‡‰çš„å›æ‡‰ Response ï¼Œé‚£å›æ‡‰çš„æ ¼å¼æœ‰ JSON ã€XML ï¼Œä½†éƒ½ä»¥ JSON è¼ƒç‚ºæ™®éï¼Œæ‰€ä»¥æˆ‘å€‘å¾ŒçºŒå¯¦ä½œä¹Ÿæœƒä»¥ JSON ä½œç‚ºæˆ‘å€‘çš„ Response ã€‚ å›æ‡‰çš„æ ¼å¼å…§å®¹æœƒä¾ç…§æ–‡ä»¶æ‰€è‡ªè¨‚ï¼Œä½†åŸºæœ¬ä¸Šéƒ½æœƒå›å‚³ç‹€æ…‹ç¢¼ http status code ï¼Œä¸‹é¢å°±ç”¨è¡¨æ ¼çš„æ–¹å¼ä¾†èªªæ˜å¸¸ç”¨çš„ç‹€æ…‹ç¢¼ã€ä»¥åŠç‹€æ…‹ç¢¼å°æ‡‰çš„æ„æ€è·Ÿæˆ‘å€‘åœ¨ RESTful API ä½¿ç”¨çš„å ´æ™¯ã€‚ ç‹€æ…‹ç¢¼ åç¨± èªªæ˜ RESRful API ä½¿ç”¨å ´æ™¯ 200 OK è«‹æ±‚æˆåŠŸ GETã€PUT æ–¹æ³•ï¼Œå–å¾—è³‡æ–™ 201 Created æ–°çš„è³‡æºå·²å»ºç«‹ POST æ–¹æ³•ï¼Œæ–°å¢è³‡æ–™ 204 No Content æ²’æœ‰è¿”å›ä»»ä½•å…§å®¹ DELETE æ–¹æ³•ï¼Œåˆªé™¤è³‡æ–™ 400 Bad Request è«‹æ±‚ä¸æ­£ç¢º 401 Unauthorized ç”¨æˆ¶éœ€è¦èªè­‰ 403 Forbidden ç¦æ­¢è¨ªå•ï¼Œèˆ‡401 ä¸åŒçš„æ˜¯ï¼Œç”¨æˆ¶å·²ç¶“èªè­‰ï¼Œä½†æ²’æœ‰æ¬Šé™ 404 Not Found æ²’æœ‰æ‰¾åˆ°æŒ‡å®šçš„è³‡æº GETã€PUTã€DELETE æ–¹æ³•ï¼Œè©²è³‡æ–™ä¸å­˜åœ¨ 500 Internal Server Error ä¼ºæœå™¨ç™¼ç”ŸéŒ¯èª¤ ( åƒè€ƒRESTful Web API è¨­è¨ˆæŒ‡å— ) ","date":"2022-02-24","objectID":"/php-restful-api/:1:1","tags":["PHP","RESTful API","Nginx","å¯¦ä½œ","ä»‹ç´¹"],"title":"å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API","uri":"/php-restful-api/"},{"categories":["codenotes"],"content":"ç‚ºä»€éº¼è¦ä½¿ç”¨ RESTful API REST ä½¿ç”¨æ‰€æœ‰æ¨™æº– HTTP å”è­°æ–¹æ³• - GETã€POSTã€PUTã€DELETEã€PATCH ï¼Œä»¥åŠæ›´å…·é«”çš„ URL ã€‚ REST å°‡å®¢æˆ¶ç«¯èˆ‡ä¼ºæœå™¨ä¹‹é–“çš„æ“ä½œåˆ†é–‹ - ä»–å…è¨±é–‹ç™¼äººå“¡ä½¿ç”¨å®ƒå€‘å¸Œæœ›ä½¿ç”¨çš„ä»»ä½•å‰ç«¯æŠ€è¡“ï¼ŒåŒ…å«åƒæ˜¯ AngularJSã€Bootstrapã€VUEã€Emberã€ReactJSã€CycleJSã€ExtJSã€PHPã€.NET ç­‰ç­‰ï¼Œæ¥µå¤§æé«˜äº†å¯ç§»æ¤æ€§ã€‚ REST é‡å° web é€²è¡Œäº†å„ªåŒ– - å› ç‚ºå®ƒä¾è³´ HTTP å”è­°ã€‚æ­¤å¤–ï¼Œç”±æ–¼å®ƒçš„ä¸»è¦æ•¸æ“šæ ¼å¼æ˜¯ JSONï¼Œå®ƒåŸºæœ¬ä¸Šå…¼å®¹æ‰€æœ‰äº’è¯ç¶²ç€è¦½å™¨ã€‚ ","date":"2022-02-24","objectID":"/php-restful-api/:1:2","tags":["PHP","RESTful API","Nginx","å¯¦ä½œ","ä»‹ç´¹"],"title":"å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API","uri":"/php-restful-api/"},{"categories":["codenotes"],"content":"RESTful API å®‰å…¨æ€§ æˆ‘å€‘åœ¨è¨­è¨ˆ API æ™‚ï¼Œè¦ç¢ºä¿ RESTful API çš„å®‰å…¨æ€§ï¼Œåƒæ˜¯ PUT ã€ DELETE æ›´æ–°åˆªé™¤é€™é¡å‹çš„æ“ä½œä¸¦ä¸å®‰å…¨ï¼Œæ²’æœ‰æ¬Šé™èªè­‰ä¸‹ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨ä¾†æ“ä½œï¼Œç¸½ä¸å¯èƒ½è®“é™Œç”Ÿäººå»æ›´å‹•æˆ‘å€‘çš„è³‡æ–™å§ï¼Ÿå› æ­¤å®‰å…¨æ€§æ²’æœ‰åšè¶³å¤ å®¹æ˜“æˆç‚ºé§­å®¢æ”»æ“Šçš„å°è±¡ã€‚ è¦æ€éº¼åšæ¯”è¼ƒå®‰å…¨ï¼Ÿ ä¾‹å¦‚æˆ‘å€‘çš„ç•™è¨€æ¿ï¼šç™»å…¥å¾Œ(å¸³è™Ÿå¯†ç¢¼) \u003e ä¼ºæœå™¨é©—è­‰æˆåŠŸä¸¦å–çš„ä¸€çµ„çš„ API token \u003e å°±å¯ä»¥ä½¿ç”¨é€™çµ„ token ä¾†è¨ªå• API è³‡æºï¼Œä¹Ÿå°±çŸ¥é“æ˜¯èª°å»å°é€™ç­†è³‡æ–™é€²è¡Œæ“ä½œ ","date":"2022-02-24","objectID":"/php-restful-api/:1:3","tags":["PHP","RESTful API","Nginx","å¯¦ä½œ","ä»‹ç´¹"],"title":"å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API","uri":"/php-restful-api/"},{"categories":["codenotes"],"content":"å¯¦ä½œé–‹å§‹ ","date":"2022-02-24","objectID":"/php-restful-api/:2:0","tags":["PHP","RESTful API","Nginx","å¯¦ä½œ","ä»‹ç´¹"],"title":"å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API","uri":"/php-restful-api/"},{"categories":["codenotes"],"content":"1. ä¿®æ”¹ Nginx.conf æˆ‘å€‘é€™é‚Šå°±ç›´æ¥å°æ¶è¨­å¥½çš„ Nginx è¨­å®šæª”ä¾†ä¿®æ”¹ï¼Œå¦‚æœä¸æ¸…æ¥šè¦æ€éº¼æ¶è¨­çš„ï¼Œé€™æ–¹é¢ç¶²è·¯ä¸Šè »å¤šæ–‡ç« ï¼Œå¦‚æœé‚„æ˜¯ä¸æ¸…æ¥šï¼Œå¯ä»¥ç•™è¨€å‘Šè¨´æˆ‘ï¼Œæˆ‘åœ¨å¦å¤–å¯«ä¸€ç¯‡æ–‡ç« ä¾†ä»‹ç´¹ç’°å¢ƒå®‰è£ã€‚ ç‚ºä»€éº¼è¦å…ˆä¿®æ”¹ conf å‘¢ï¼Ÿä¿®æ”¹çš„ç›®çš„å°±æ˜¯è¦è®“åŸæœ¬ç¶²å€ http://localhost/api/index.php?messages=all è®Šæˆ http://localhost/api/messages ä¾†å¯¦ç¾æˆ‘å€‘åœ¨ä»‹ç´¹æ™‚æ‰€èªªçš„ç›´è§€ç°¡å–®çš„è³‡æºç¶²å€ï¼Œæˆ‘èªªæ˜ä¸€ä¸‹ä¸Šé¢ç¶²å€çš„é—œä¿‚ï¼Œ http://localhost æ˜¯å› ç‚ºæˆ‘å€‘æœ¬åœ°ç«¯é‹è¡Œï¼Œå¦‚æœå·²ç¶“ä¸Šç·šçš„ï¼Œé‚£å°±æ˜¯ä½ è‡ªå·±çš„ç¶²å€ï¼Œ /api æ˜¯æˆ‘ä¾†æ”¾é€™æ”¯ api çš„ç›®éŒ„ï¼Œä»–ä½æ–¼ç¶²é çš„æ ¹ç›®éŒ„ä¸‹æ–¹(è©³ç´°çš„é…ç½®ä¸‹æ–¹æœƒé™„ä¸Š)ï¼Œ index.php æ˜¯æˆ‘ä¾†æ”¾é€™æ”¯ api çš„ç¶²é ï¼Œå¾Œé¢çš„ messages æ˜¯æˆ‘å€‘é€™æ¬¡çš„è³‡æºï¼Œå¾Œé¢å¯ä»¥æ¥æˆ‘æƒ³è¦è™•ç†çš„åƒæ•¸ é‚£è¦æ€éº¼é”æˆè®“ç¶²å€è®Šæˆæˆ‘å€‘æƒ³è¦å‘ˆç¾çš„ç›´è§€ç°¡å–®çš„ç¶²å€å‘¢ï¼Œé€™æ™‚å€™æˆ‘å€‘å°±è¦ä½¿ç”¨ Nginx.conf ä¾†åšè¨­å®šï¼Œç¶²è·¯ä¸Šçš„æ–‡ç« æ¯”è¼ƒå¤šçš„æ˜¯ apache çš„ htaccessï¼Œæˆ‘ä¸€é–‹å§‹é‚„ä»¥ç‚º Nginx ä¹Ÿå¯ä»¥ä½¿ç”¨ htaccess ï¼Œè©¦äº†åŠå¤©æ‰çŸ¥é“ï¼Œåœ¨ Nginx è¦æ”¹ç”¨ Nginx.conf ä¾†è¨­å®šï¼Œé‚£æˆ‘ä¸‹æ–¹æœƒé™„ä¸Šæˆ‘åŸæœ¬çš„ .htaccess ä»¥åŠè½‰æ›å¾Œçš„ confï¼Œé‚£æ¥ä¸‹ä¾†æˆ‘ä¸€æ­¥ä¸€æ­¥ä¾†ä»‹ç´¹ ç·šä¸Šè½‰æ›å·¥å…· ç¶²è·¯ä¸Šè »å¤šå·¥å…·å¯ä»¥ç·šä¸Šè½‰æ›ï¼Œæˆ‘æ¨è–¦å¯ä»¥ç”¨ Apache htaccess to Nginx converter Apache .htaccess æª”æ¡ˆ RewriteRule ^/api/messages$ /api/index.php?messages=all [nc,qsa] RewriteRule ^/api/messages/(\\d+)$ /api/index.php?messages=$1 [nc,qsa] é€™æ˜¯æˆ‘æœƒä¿®æ”¹éƒ¨åˆ†çš„ Nginx.conf ï¼Œå¯ä»¥çœ‹åˆ°æœ€å¾Œå…©æ¢ locationï¼Œé€™é‚Šå°±æ˜¯æˆ‘å€‘è½‰æ›éä¾†çš„è¨­å®š Nginx.conf æª”æ¡ˆ(ç‰‡æ®µ) server { listen 80; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { root html; index index.html index.htm index.php; } location = /api/messages { rewrite ^(.*)$ /api/index.php?messages=all; } location /api { rewrite ^/api/messages/(\\d+)$ /api/index.php?messages=$1; } ä»–çš„æ„æ€ä»£è¡¨çš„æˆ‘å€‘ç¶²å€è·¯å¾‘æ˜¯åœ¨ /api/messages ï¼Œæˆ‘å€‘è®“åŸæœ¬ /api/index.php?messages é€™æ®µè®Šæˆ /api/messages/ çš„è¨­å®šï¼Œè¨­å®šå¥½è¨˜å¾—å…ˆä¸‹ sh sudo nginx -t æŒ‡ä»¤ä¾†æª¢æŸ¥ä¸€ä¸‹Nginx.confæª”æ¡ˆæ˜¯ä¸æ˜¯éƒ½æ­£ç¢ºï¼Œå†ç”¨ sh sudo nginx -s reload æŒ‡ä»¤é‡æ–°å•Ÿå‹• Nginx (æ˜¯å¦æˆåŠŸï¼Œå¾Œé¢æœƒå¸¶åˆ°å¦‚ä½•åšæ¸¬è©¦ï¼Œå°±ç¹¼çºŒä¸€èµ·å¾€ä¸‹çœ‹å§ï¼) CREATETABLE`messages`(`id`intNOTNULL,`name`varchar(20)CHARACTERSETutf8mb4COLLATEutf8mb4_unicode_ciNOTNULL,`message`textCHARACTERSETutf8mb4COLLATEutf8mb4_unicode_ciNOTNULL,`sendtime`datetimeNOTNULL,`version`intDEFAULTNULL)ENGINE=InnoDBDEFAULTCHARSET=utf8mb4COLLATE=utf8mb4_unicode_ci; ","date":"2022-02-24","objectID":"/php-restful-api/:2:1","tags":["PHP","RESTful API","Nginx","å¯¦ä½œ","ä»‹ç´¹"],"title":"å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API","uri":"/php-restful-api/"},{"categories":["codenotes"],"content":"åƒè€ƒè³‡æ–™ PHPå¯¦ç¾RESTfulé¢¨æ ¼çš„APIå¯¦ä¾‹ [XAMPP][PHP] è£½ä½œRestful API Best Practices for RESTful API Design RESTful APIèˆ‡MVCåè©ä»‹ç´¹ ","date":"2022-02-24","objectID":"/php-restful-api/:3:0","tags":["PHP","RESTful API","Nginx","å¯¦ä½œ","ä»‹ç´¹"],"title":"å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API","uri":"/php-restful-api/"},{"categories":["codenotes"],"content":"1. PHP æ˜¯ä»€éº¼ PHP å…¨åæ˜¯è¶…æ–‡æœ¬å‰è™•ç†å™¨(Hypertext Preprocessor)ï¼Œæ˜¯ä¸€ç¨®é–‹æºçš„é€šç”¨é›»è…¦æ‰‹ç¨¿èªè¨€ æ ¹æ“šW3Techsçš„å ±å‘Šï¼Œæˆªè‡³2021å¹´9æœˆï¼Œæœ‰78.9%ç¶²ç«™éƒ½æ˜¯ä½¿ç”¨PHPï¼Œåƒæ˜¯è‘—åçš„ FaceBookã€Teslaã€Slackã€WordPress stackshare æ˜¯åˆ†äº«é–‹ç™¼å·¥å…·çš„ç¶²ç«™ï¼Œå¯ä»¥çœ‹åˆ°ä¸å°‘å…¬å¸ä¹Ÿæ˜¯ä½¿ç”¨PHPä¾†é€²è¡Œé–‹ç™¼çš„ å…¶å„ªé»æ˜¯ æ˜¯é–‹æºã€å…è²»çš„ æ˜¯è·¨å¹³å°çš„é–‹ç™¼èªè¨€ï¼ŒLinuxã€Windowsã€macOSä¹Ÿå¯ä»¥ä½¿ç”¨ èƒ½é–‹ç™¼ï¼šå‹•æ…‹ç¶²ç«™ã€çˆ¬èŸ²ç¨‹å¼ã€WordPress å¤–æ›ä½ˆæ™¯ä¸»é¡Œ ä¹Ÿå¯ä»¥çµåˆå¤šç¨®çš„è³‡æ–™åº«ï¼Œä¾‹å¦‚ï¼šMysqlã€Mariadbã€Oracle éå»ä½¿ç”¨ PHP é–‹ç™¼ç¶²é ç¨‹å¼ï¼Œå°±æ˜¯æœ‰ä»€éº¼å¯«ä»€éº¼ï¼Œç¨‹å¼é‚è¼¯å’Œç¶²é é¡¯ç¤ºæ··åœ¨ä¸€èµ·ï¼Œé›–ç„¶é–‹ç™¼æ–¹ä¾¿ä½†æœƒé€ æˆé«˜ç¶­è­·æˆæœ¬ï¼Œå’Œé›£ä»¥æ“´å……åŠŸèƒ½ ç‰©ä»¶å°å‘ç¨‹å¼è¨­è¨ˆ å‡½æ•¸å¼ç·¨ç¨‹ äº‹ä»¶é©…å‹•ç¨‹å¼é–‹ç™¼ PHP æœ‰å„å¼å„æ¨£çš„ Web Frameworkï¼š Laravel - æœ€å—æ­¡è¿çš„PHP Web Framewrok Codelgniter - æœ€æ–°ç‰ˆçš„Codelgniter4 åªæœ‰ 1.4 MBï¼Œå°è€Œå¼· ","date":"2022-02-22","objectID":"/php/:1:0","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"php-cli vs php-fpm CGI CGI æ˜¯ä¸€ç¨®å”å®šï¼Œç‚ºäº†ä¿éšœ web server å‚³éä¾†çš„è³‡æ–™æ˜¯æ¨™æº–æ ¼å¼ å¦‚æœè«‹æ±‚ index.html ï¼Œweb server æœƒå…ˆå»æ‰¾é€™å€‹æ–‡ä»¶ï¼Œåœ¨ä¸Ÿçµ¦ç€è¦½å™¨ï¼Œä½†é€™å€‹åƒ…é™éœæ…‹æ–‡ä»¶è€Œå·² å¦‚æœè«‹æ±‚ index.php ï¼Œå°±éœ€è¦å»æ‰¾ php çš„è§£æå™¨ä¾†è™•ç†ï¼Œé‚£è™•ç†ä¸­ä¸€å®šæœƒå‚³éä¸€äº›è³‡æ–™ï¼Œåƒæ˜¯ post æˆ–æ˜¯ url é‚„æœ‰ http headerç­‰ï¼ŒCGI å°±æ˜¯è¦å®šè¦å‚³å“ªäº›è³‡æ–™ã€ä»¥åŠæ€éº¼æ¨£çš„æ ¼å¼ FastCGI æ˜¯ç”¨ä¾†æé«˜ CGI è™•ç†æ€§èƒ½ç”¨çš„ PHP-cli vs PHP-fpm PHP-cli å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤åˆ—ä½¿ç”¨phpå‘½ä»¤ä¾†è™•ç†æˆ–é¡¯ç¤º phpæª”æ¡ˆï¼Œå› ç‚ºä»–å…§å»ºäº†ä¸€å€‹ HTTP ä¼ºæœå™¨ï¼Œå¯ä»¥æä¾› HTTP æœå‹™ PHP-fpm æ˜¯ä¸€å€‹å¤šé€²ç¨‹æ¶æ§‹çš„ FastCGI æœå‹™ï¼Œå…§å»ºäº† PHP çš„è§£æå™¨ï¼Œé…åˆNginxä¾†ä½¿ç”¨ ","date":"2022-02-22","objectID":"/php/:1:1","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"2. PHP åŸºæœ¬èªæ³• ","date":"2022-02-22","objectID":"/php/:2:0","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"æ¨™ç±¤ PHP ç¨‹å¼å¯ä»¥æ”¾ç½®åœ¨æª”æ¡ˆä¸­çš„ä»»ä½•ä½ç½®ï¼Œå…¶æª”æ¡ˆå‰¯æª”åæ˜¯.phpï¼Œ PHPçš„æ¨™ç±¤æ˜¯é–‹é ­ \u003c ?php ä»¥åŠ ? \u003e çµå°¾ \u003c?php [ ç¨‹å¼ç¢¼ ] ?\u003e PHP ä¸åˆ†å¤§å°å¯«ï¼Œä¾‹å¦‚ ifã€elseã€whileã€echoï¼Œå‡½æ•¸ç­‰ï¼Œä½†è®Šæ•¸æœ‰å€åˆ†å¤§å°å¯« $color = 'blue'; echo \"My car is \" . $color . \"\u003cbr\u003e\"; ECHo \"My car is \" . $cOLOr . \"\u003cbr\u003e\"; eCHo \"My car is \" . $COLOR . \"\u003cbr\u003e\"; My car is blue My pen is My dog is ","date":"2022-02-22","objectID":"/php/:2:1","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"è¨»è§£ PHP ç¨‹å¼ä¸­å¯ä»¥ä½¿ç”¨è¨»è§£åŠŸèƒ½ï¼Œè¨»è§£å¾Œè©²æ®µç¨‹å¼ä¸æœƒè¢«åŸ·è¡Œ PHP å–®è¡Œè¨»è§£ // è¨»è§£çš„ç”¨æ„æ˜¯å¯ä»¥å‘Šè¨´è‡ªå·±æˆ–æ˜¯é–±è®€è©²ç¨‹å¼çš„äººè©²è¡Œç¨‹å¼ç¢¼çš„ç”¨æ„æˆ–æƒ³æ³• PHP å¤šè¡Œè¨»è§£ /* è¨»è§£çš„ç”¨æ„æ˜¯å¯ä»¥å‘Šè¨´è‡ªå·±æˆ–æ˜¯é–±è®€è©²ç¨‹å¼çš„äººè©²è¡Œç¨‹å¼ç¢¼çš„ç”¨æ„æˆ–æƒ³æ³• echo \"My car is \" . $color . \"\u003cbr\u003e\"; ECHo \"My car is \" . $cOLOr . \"\u003cbr\u003e\"; eCHo \"My car is \" . $COLOR . \"\u003cbr\u003e\"; */ ","date":"2022-02-22","objectID":"/php/:2:2","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"è®Šæ•¸ PHP ç¨‹å¼ä¸­å¯ä»¥ä½¿ç”¨è®Šæ•¸åŠŸèƒ½ï¼Œè®Šæ•¸æ˜¯å„²å­˜è¨Šæ¯çš„å®¹å™¨ï¼Œè®Šæ•¸ä»¥\" $ â€œç¬¦è™Ÿé–‹é ­ï¼Œå¾Œé¢æ˜¯è®Šæ•¸åç¨± PHP è®Šæ•¸è¦å‰‡ è®Šæ•¸åå¿…é ˆä»¥å­—æ¯æˆ–æ˜¯ä¸‹åº•ç·šé–‹é ­ï¼Œä¸å¯ä»¥ç”¨æ•¸å­—é–‹é ­ è®Šæ•¸ååªåŒ…å«å­—æ¯æ•¸å­—æˆ–æ˜¯ä¸‹åº•ç·š(A-zã€0-9ã€_) è®Šæ•¸åå€åˆ†å¤§å°å¯« ($age è·Ÿ $AGE æ˜¯å…©å€‹ä¸åŒçš„è®Šæ•¸) $color = 'blue'; $items = 'Toy'; $num1 = '13'; $num2 = '18'; echo \"I have \" . $num1+$num2 . \" \" . $color . \" \" . $items; I have 31 blue Toy ","date":"2022-02-22","objectID":"/php/:2:3","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"è®Šæ•¸ä½œç”¨å€ PHP è®Šæ•¸æœ‰ä¸åŒçš„ä½œç”¨å€(localã€globalã€static) local å‡½å¼ä¸­çš„è®Šæ•¸å…·æœ‰local scopeï¼Œåªèƒ½ç”¨æ–¼è©²å‡½å¼ä¸­ä½¿ç”¨ \u003c?php function myTest() { $x = 5; // local scope echo \"\u003cp\u003eVariable x inside function is: $x\u003c/p\u003e\"; } myTest(); // using x outside the function will generate an error echo \"\u003cp\u003eVariable x outside function is: $x\u003c/p\u003e\"; ?\u003e Variable x inside function is: 5 Variable x outside function is: global å‡½å¼å¤–éƒ¨çš„è®Šæ•¸å…·æœ‰global scopeï¼Œåªèƒ½ç”¨æ–¼è©²å‡½å¼å¤–éƒ¨ä½¿ç”¨ \u003c?php $x = 5; // global scope function myTest() { // using x inside this function will generate an error echo \"\u003cp\u003eVariable x inside function is: $x\u003c/p\u003e\"; } myTest(); echo \"\u003cp\u003eVariable x outside function is: $x\u003c/p\u003e\"; ?\u003e Variable x inside function is: Variable x outside function is: 5 æƒ³è¦åœ¨å‡½å¼ä¸­ï¼Œç”¨å¤–éƒ¨çš„è®Šæ•¸ï¼Œå°±åœ¨å‡½å¼å…§ç”¨global ä¾†å®šç¾©è®Šæ•¸ \u003c?php $x = 5; $y = 10; function myTest() { global $x, $y; $y = $x + $y; } myTest(); echo $y; // outputs 15 ?\u003e 15 static æ­£å¸¸å‡½å¼åŸ·è¡Œå®Œï¼Œè®Šæ•¸å€¼éƒ½æœƒè¢«åˆªé™¤ï¼Œæƒ³è¦ä¿ç•™å€¼å¯ä»¥åŠ  static \u003c?php function myTest() { static $x = 0; echo $x; $x++; } myTest(); myTest(); myTest(); ?\u003e 012 ","date":"2022-02-22","objectID":"/php/:2:4","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"é¡¯ç¤º PHP ç¨‹å¼ä¸­å¯ä»¥ç”¨ echo ä»¥åŠ print ä¾†é¡¯ç¤ºè³‡è¨Š PHP echo / print é¡¯ç¤º \u003c?php $txt1 = \"å­¸ç¿’PHP\"; $txt2 = \"Ian_Zhuang\"; $x = 5; $y = 4; echo \"\u003ch2\u003e\" . $txt1 . \"\u003c/h2\u003e\"; echo $txt2 . \" åœ¨ \" . $txt1 . \"\u003cbr\u003e\"; echo $x + $y; print \"\u003ch2\u003e\" . $txt1 . \"\u003c/h2\u003e\"; print $txt2 . \" åœ¨ \" . $txt1 . \"\u003cbr\u003e\"; print $x + $y; ?\u003e å­¸ç¿’PHP Ian_Zhuang åœ¨ å­¸ç¿’PHP 9 å­¸ç¿’PHP Ian_Zhuang åœ¨ å­¸ç¿’PHP 9 ","date":"2022-02-22","objectID":"/php/:2:5","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"è³‡æ–™å‹æ…‹ è®Šæ•¸å¯ä»¥å„²å­˜ä¸åŒå‹æ…‹çš„è³‡æ–™ï¼Œä»¥ä¸‹æ˜¯ PHP æ”¯æŒçš„è³‡æ–™å‹æ…‹ å°æç¤º å¯ä»¥ç”¨var_dump() å‡½æ•¸ä¾†æŸ¥çœ‹è³‡æ–™çš„å‹æ…‹ä»¥åŠå€¼ å­—ä¸² (String) æ•´æ•¸ (Integer) æµ®é»æ•¸ (Float) å¸ƒæ— (Boolean) é™£åˆ— (Array) ç‰©ä»¶ (Object) ç©ºå€¼ (NULL) å­—ä¸² (String) å­—ä¸²å¯ä»¥æ˜¯å¼•è™Ÿå…§çš„ä»»ä½•æ–‡æœ¬ï¼Œå¯ä»¥ä½¿ç”¨å–®å¼•è™Ÿæˆ–é›™å¼•è™Ÿä¾†è¡¨ç¤º \u003c?php $x = \"Hello world!\"; $y = 'Hello world!'; echo $x; echo \"\u003cbr\u003e\"; echo $y; ?\u003e Hello world! Hello world! æ•´æ•¸ (Integer) æ•´æ•¸æœ‰å¹¾é»è¦å‰‡ï¼š å¿…é ˆè‡³å°‘æœ‰ä¸€å€‹æ•¸å­— ä¸èƒ½æœ‰å°æ•¸é» å¯ä»¥æ˜¯æ­£æ•¸ä¹Ÿå¯ä»¥æ˜¯è² æ•¸ å¯ä»¥æŒ‡å®šä¸åŒçš„é€²åˆ¶è¡¨ç¤ºæ³• å…¶ç¯„åœä»‹æ–¼ -2,147,483,648 å’Œ 2,147,483,647 ä¹‹é–“çš„éåé€²åˆ¶æ•¸ \u003c?php $x = 5985; var_dump($x); ?\u003e int 5985 æµ®é»æ•¸ (Float) æµ®é»æ•¸æ˜¯å¸¶å°æ•¸é»çš„æ•¸å­—æˆ–æŒ‡æ•¸å½¢å¼çš„æ•¸å­— \u003c?php $x = 10.365; var_dump($x); ?\u003e float 10.365 å¸ƒæ— (Boolean) å¸ƒçˆ¾å€¼è¡¨ç¤ºå…©ç¨®å¯èƒ½çš„ç‹€æ…‹ï¼šTRUE æˆ– FALSE \u003c?php $x = true; $y = false; var_dump($x); ?\u003e boolean true é™£åˆ— (Array) é™£åˆ—å¯ä»¥å°‡å¤šå€‹å€¼å­˜åœ¨ä¸€å€‹è®Šæ•¸ä¸­ \u003c?php $x = 10.365; var_dump($x); ?\u003e array (size=3) 0 =\u003e string 'Apple' (length=5) 1 =\u003e string 'å°ç±³' (length=6) 2 =\u003e string 'Sony' (length=4) ç‰©ä»¶ (Object) åœ¨è¨è«–ç‰©ä»¶å‰ï¼Œè¦å…ˆçŸ¥é“é¡åˆ¥(Class)èˆ‡ç‰©ä»¶(Object)çš„é—œä¿‚ é¡åˆ¥ (Class) ï¼šå¯ä»¥æ¯”å–»ç‚ºæˆ¿å±‹çš„è¨­è¨ˆè—åœ–ï¼Œæ˜¯ç‚ºäº†è®“å¤§å®¶äº†è§£æˆ¿å±‹çš„çµæ§‹èˆ‡å½¢ç‹€ã€‚ ç‰©ä»¶ (Object) ï¼šå¯ä»¥æ¯”å–»ç‚ºçœŸçš„æˆ¿å±‹ï¼Œç‰©ä»¶æ˜¯é¡åˆ¥çš„å¯¦é«”åŒ– ç‚ºäº†è¦è“‹å¥½ä¸€æ£Ÿæˆ¿å­æœ‰æˆ¿å­çš„è¨­è¨ˆè—åœ–(é¡åˆ¥)é‚„ä¸å¤ ï¼Œé‚„éœ€è¦è“‹æˆ¿å­çš„ææ–™ï¼Œè€Œææ–™å°±æ˜¯æ‰€è¬‚çš„è³‡æ–™(data)ã€‚ é¡åˆ¥å®šç¾©çµæ§‹å’Œè¡Œç‚ºç”¨ä¾†ç”¢ç”Ÿç‰©ä»¶ï¼Œç•¶å¤šå€‹ç‰©ä»¶æ˜¯ç”±åŒä¸€ å€‹é¡åˆ¥ç”¢ç”Ÿå‡ºä¾†æ™‚ï¼Œæ¯å€‹ç‰©ä»¶éƒ½æ˜¯ä¸€å€‹ç¨ç«‹å€‹é«”ã€‚ å»ºç«‹é¡åˆ¥èªæ³•å¾ˆç°¡å–®ï¼Œåªéœ€è¦ä½¿ç”¨ Class ä¾†å®šç¾©ä¸€å€‹é¡åˆ¥ \u003c?php class MyClass { // åœ¨å¤§æ‹¬è™Ÿè£¡é¢å®£å‘Šé¡åˆ¥çš„å±¬æ€§èˆ‡æ–¹æ³• } $obj = new MyClass; //ä½¿ç”¨ new ä¾†å¯¦é«”åŒ–é¡åˆ¥ä¸¦å°‡ä»–å­˜å…¥è®Šæ•¸ä¸­ var_dump($obj); //æŸ¥çœ‹é¡åˆ¥å…§å®¹ ?\u003e object(MyClass)[1] æˆ‘å€‘åœ¨æ›¿ MyClass åŠ å…¥å±¬æ€§ï¼Œç”¨ public æ±ºå®šå±¬æ€§çš„å¯è¦–æ€§ \u003c?php class MyClass { public $prop = \"I'm a class Property\"; } $obj = new MyClass; echo $obj-\u003eprop; ?\u003e I'm a class Property å› ç‚ºæœ‰å¾ˆå¤šç‰©ä»¶å¯¦ä¾‹åŒ–éƒ½ä¾†è‡ªåŒä¸€å€‹é¡åˆ¥ï¼Œå¦‚æœæ²’æœ‰æŒ‡å®šè¢«å¯¦é«”åŒ–çš„ç‰©ä»¶ï¼Œç¨‹å¼ç¢¼æœƒç„¡æ³•åˆ¤æ–·ï¼Œæ‰€ä»¥è¦ç”¨ -\u003e åœ¨ PHP çš„ç‰©ä»¶ä¸­ï¼Œä¾†å­˜å–ç‰©ä»¶çš„å±¬æ€§å’Œæ–¹æ³•ã€‚ å®šç¾©é¡åˆ¥(Class)çš„æ–¹æ³•(Methods)ï¼Œæ–¹æ³•(Methods)æ˜¯é¡åˆ¥è£¡é¢çš„å‡½å¼(Functions)ï¼Œç‰©ä»¶å¯ä»¥è—‰ç”±åŸ·è¡Œé€™äº›æ–¹æ³•ä¾†æ›´å‹•æ¯å€‹ç‰©ä»¶çš„è¡Œç‚ºã€‚ \u003c?php class MyClass { public $prop = \"I'm a class Property!\"; public function set($newval) { $this-\u003eprop = $newval; } public function get() { return $this-\u003eprop . \"\u003cbr /\u003e\"; } } $obj = new MyClass; echo $obj-\u003eget(); //å¾—åˆ°å±¬æ€§çš„å€¼ã€‚ $obj-\u003eset(\"I'm a new Property value!\"); //è¨­å®šæ–°çš„å±¬æ€§çš„å€¼ã€‚ echo $obj-\u003eget(); ?\u003e I'm a class Property! I'm a new Property value! ç‰©ä»¶å°å‘å…è¨±ç‰©ä»¶é€é$thisä¾†åƒè€ƒè‡ªå·±ã€‚ç‰©ä»¶ä½¿ç”¨$thiså°±å¦‚åŒç›´æ¥ä½¿ç”¨ç‰©ä»¶åç¨±ä¾†æŒ‡å®šç‰©ä»¶ï¼ŒåŒç­‰æ–¼MyClass-\u003eprop1ã€‚ ç©ºå€¼ (NULL) Null æ˜¯ä¸€ç¨®ç‰¹æ®Šçš„æ•¸æ“šé¡å‹ï¼Œå®ƒåªèƒ½æœ‰ä¸€å€‹å€¼ï¼šNULL å¦‚æœå‰µå»ºçš„è®Šé‡æ²’æœ‰å€¼ï¼Œå‰‡æœƒè‡ªå‹•ç‚ºå…¶åˆ†é… NULL \u003c?php $x = \"Hello world!\"; $x = null; var_dump($x); ?\u003e null ","date":"2022-02-22","objectID":"/php/:2:6","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"é‹ç®—ç¬¦è™Ÿ PHP å°‡é‹ç®—ç¬¦è™Ÿåˆ†ç‚ºä»¥ä¸‹å¹¾çµ„ ç®—è¡“é‹ç®—ç¬¦ è³¦å€¼é‹ç®—ç¬¦ æ¯”è¼ƒé‹ç®—ç¬¦ é‚è¼¯é‹ç®—ç¬¦ å­—ç¬¦ä¸²é‹ç®—ç¬¦ ç®—è¡“é‹ç®—ç¬¦ \u003c?php $x = 3; $y = 6; echo $x + $y; // è¼¸å‡º x + y ï¼Œ3 + 6 ï¼Œé¡¯ç¤º 9 echo $x - $y; // è¼¸å‡º x - y ï¼Œ3 - 6 ï¼Œé¡¯ç¤º -3 echo $x * $y; // è¼¸å‡º x * y ï¼Œ3 * 6 ï¼Œé¡¯ç¤º 18 echo $x / $y; // è¼¸å‡º x / y ï¼Œ3 / 6 ï¼Œé¡¯ç¤º 0.5 echo $x % $y; // è¼¸å‡º x % y ï¼Œ3 % 6 ï¼Œé¡¯ç¤º 3 echo $x ** $y; // è¼¸å‡º x ^ y ï¼Œ3 ^ 6 ï¼Œé¡¯ç¤º 729 ?\u003e è³¦å€¼é‹ç®—ç¬¦ \u003c?php $x = 3; $y = 6; echo $x += $y; //è¼¸å‡º x = x + y ï¼Œ 9 = 3 + 6 ï¼Œè¼¸å‡º 9 $x = 3; $y = 6; echo $x -= $y; //è¼¸å‡º x = x - y ï¼Œ -3 = 3 - 6 ï¼Œè¼¸å‡º -3 $x = 3; $y = 6; echo $x *= $y; //è¼¸å‡º x = x * y ï¼Œ 18 = 3 * 6 ï¼Œè¼¸å‡º 18 $x = 3; $y = 6; echo $x /= $y; //è¼¸å‡º x = x / y ï¼Œ 0.5 = 3 / 6 ï¼Œè¼¸å‡º 0.5 $x = 3; $y = 6; echo $x %= $y; //è¼¸å‡º x = x % y ï¼Œ 3 = 3 % 6 ï¼Œè¼¸å‡º 3 ?\u003e æ¯”è¼ƒé‹ç®—ç¬¦ \u003c?php $x = 3; $y = 6; $z = \"6\"; var_dump($x == $y); // åˆ¤æ–· x ç­‰æ–¼ y (å€¼)ï¼Œ3 ä¸ç­‰æ–¼6 ï¼Œå›å‚³ false var_dump($x === $z); // åˆ¤æ–· x ç­‰æ–¼ z (å‹æ…‹andå€¼)ï¼Œæ•¸å­—ä¸ç­‰æ–¼å­—ä¸² ï¼Œå›å‚³ false var_dump($x != $y); // åˆ¤æ–· x ä¸ç­‰æ–¼ y (å€¼)ï¼Œ3ä¸ç­‰æ–¼6 ï¼Œå›å‚³ true var_dump($x \u003c\u003e $y); // åˆ¤æ–· x ä¸ç­‰æ–¼ y (å‹æ…‹)ï¼Œæ•¸å­—ä¸ç­‰æ–¼å­—ä¸² ï¼Œå›å‚³ true var_dump($x \u003e $y); // åˆ¤æ–· x å¤§æ–¼ y ï¼Œ3æ²’æœ‰å¤§æ–¼6 ï¼Œå›å‚³ false var_dump($x \u003c $y); // åˆ¤æ–· x å°æ–¼ y ï¼Œ3å°æ–¼6 ï¼Œå›å‚³ true var_dump($x \u003e= $y); // åˆ¤æ–· x å¤§æ–¼ç­‰æ–¼ y ï¼Œ3æ²’æœ‰å¤§æ–¼ç­‰æ–¼6 ï¼Œå›å‚³ false var_dump($x \u003c= $y); // åˆ¤æ–· x å°æ–¼ç­‰æ–¼ y ï¼Œ3å°æ–¼ç­‰æ–¼6 ï¼Œå›å‚³ true var_dump($x \u003c=\u003e $y); // åˆ¤æ–· x y çš„é—œä¿‚ ï¼Œå¦‚æœ x å¤§æ–¼ y ï¼Œå›å‚³ 1 ; å¦‚æœ x å°æ–¼ y ï¼Œå°±å›å‚³ -1 ; å¦‚æœ x ç­‰æ–¼ y ï¼Œå°±å›å‚³ 0 ?\u003e é‚è¼¯é‹ç®—ç¬¦ \u003c?php $x = 3; $y = 6; if ($x == 3 and $y == 6){ echo \"And\"; } // åˆ¤æ–· x ç­‰æ–¼ 3 ä¸” y ç­‰æ–¼ 6 (å…©è€…éƒ½è¦true) if ($x == 3 or $y == 9){ echo \"Or\"; } // åˆ¤æ–· x ç­‰æ–¼ 3 æˆ– y ç­‰æ–¼ 9 (æ“‡ä¸€true) if ($x == 3 \u0026\u0026 $y == 6){ echo \"And\"; } // åˆ¤æ–· x ç­‰æ–¼ 3 ä¸” y ç­‰æ–¼ 6 (å…©è€…éƒ½è¦true) if ($x == 3 || $y == 9){ echo \"Or\"; } // åˆ¤æ–· x ç­‰æ–¼ 3 æˆ– y ç­‰æ–¼ 9 (æ“‡ä¸€true) if ($x == 3 xor $y == 9){ echo \"Xor\"; } // åˆ¤æ–· x ç­‰æ–¼ 3 æˆ– y ç­‰æ–¼ 9 (ä»»ä¸€è€…ç‚ºtrueï¼Œä½†åªèƒ½ä¸€è€…ç‚ºtrue) if ($x != 4){ echo \"Not\"; } // åˆ¤æ–· x ä¸ç­‰æ–¼ 4 ?\u003e ","date":"2022-02-22","objectID":"/php/:2:7","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"æ¢ä»¶åˆ¤æ–· æ¢ä»¶èªå¥ç”¨æ–¼æ ¹æ“šä¸åŒçš„æ¢ä»¶ä¸‹çš„æ“ä½œ if ifâ€¦else ifâ€¦elseifâ€¦else switch if å¦‚æœæ¢ä»¶ç‚ºçœŸï¼Œå°±åŸ·è¡Œä»£ç¢¼ æ¡ˆä¾‹ï¼šå¦‚æœç¾åœ¨æ™‚é–“(hour)å°æ–¼20ï¼Œå°±è¼¸å‡º Have a good day ! \u003c?php $t = date(\"H\"); if ($t \u003c \"20\") { echo \"Have a good day!\"; }s ?\u003e è¼¸å‡º Have a good day! if-else å¦‚æœæ¢ä»¶ç‚ºçœŸï¼Œå°±åŸ·è¡Œè©²ç¨‹å¼ç¢¼ï¼Œå¦‚æœæ¢ä»¶ç‚ºå‡ï¼Œå°±åŸ·è¡Œå¦ä¸€å€‹ç¨‹å¼ç¢¼ æ¡ˆä¾‹ï¼šå¦‚æœç¾åœ¨æ™‚é–“(hour)å°æ–¼20ï¼Œå°±è¼¸å‡º Have a good day! ï¼Œè¶…éæ™‚é–“ï¼Œå°±è¼¸å‡º Have a good night! \u003c?php $t = date(\"H\"); if ($t \u003c \"20\") { echo \"Have a good day!\"; } else { echo \"Have a good night!\"; } ?\u003e if-elseif-else é‡å°å…©å€‹ä»¥ä¸Šçš„æ¢ä»¶åˆ¤æ–·ï¼Œå¦‚æœæ¢ä»¶ç‚ºçœŸï¼Œå°±åŸ·è¡Œè©²ç¨‹å¼ç¢¼ï¼Œå¦‚æœæ¢ä»¶ç‚ºå‡ï¼Œå°±åŸ·è¡Œå¦ä¸€å€‹ç¨‹å¼ç¢¼ æ¡ˆä¾‹ï¼šå¦‚æœç¾åœ¨æ™‚é–“(hour)å°æ–¼10ï¼Œå°±è¼¸å‡º Have a good morning! ï¼Œå¦‚æœæ™‚é–“å°æ–¼20ï¼Œè¼¸å‡ºHave a good day!ï¼Œå¦å‰‡ï¼Œå°±è¼¸å‡º Have a good night! \u003c?php $t = date(\"H\"); if ($t \u003c \"10\") { echo \"Have a good morning!\"; } elseif ($t \u003c 20) { echo \"Have a good day!\"; } else { echo \"Have a good night!\"; } ?\u003e switch æ ¹æ“šä¸åŒçš„æ¢ä»¶ä¾†åŸ·è¡Œä¸åŒçš„æ“ä½œ \u003c?php $weather = 'ä¸‹é›¨å¤©'; switch($weather) { case 'æ™´å¤©': echo \"ä»Šå¤©å¤©æ°£æ˜¯ã€ $weatherã€\"; break; case 'é™°å¤©': echo \"ä»Šå¤©å¤©æ°£æ˜¯ã€ $weatherã€\"; break; case 'ä¸‹é›¨å¤©': echo \"ä»Šå¤©å¤©æ°£æ˜¯ã€ $weatherã€\"; break; default: echo \"ä¸–ç•Œæœ«æ—¥\"; break; } ?\u003e ","date":"2022-02-22","objectID":"/php/:2:8","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"è¿´åœˆ æƒ³è¦ç›¸åŒç¨‹å¼ç¢¼åè¦†åŸ·è¡Œä¸€å®šçš„æ¬¡æ•¸ while doâ€¦while for foreach while åªè¦æŒ‡å®šæ¢ä»¶ç‚ºçœŸï¼Œå°±æœƒå¾ªç’°é€šéè©²ç¨‹å¼ç¢¼ \u003c?php $x = 1; while($x \u003c= 3) { echo \"The number is: $x\u003cbr\u003e\"; $x++; } ?\u003e è¼¸å‡º The number is: 1 The number is: 2 The number is: 3 doâ€¦while å…ˆåŸ·è¡Œä¸€æ¬¡doï¼Œå†æª¢æŸ¥æŒ‡å®šæ¢ä»¶æ˜¯å¦ç‚ºçœŸï¼Œæ˜¯çš„è©±å°±æœƒå¾ªç’°é€šéè©²ç¨‹å¼ç¢¼ \u003c?php $x = 1; do { echo \"The number is: $x\u003cbr\u003e\"; $x++; } while ($x \u003c= 5); ?\u003e è¼¸å‡º The number is: 6 å› ç‚ºdoâ€¦whileçš„æ¢ä»¶æœƒåœ¨åŸ·è¡Œå¾ªç’°ç¨‹å¼ç¢¼å¾Œæ‰æª¢æŸ¥ï¼Œæ‰€ä»¥doâ€¦while è‡³å°‘æœƒå¾ªç’°ä¸€æ¬¡è©²ç¨‹å¼ç¢¼ã€‚ for å‡å¦‚é å…ˆçŸ¥é“éœ€è¦å¾ªç’°å¹¾æ¬¡ï¼Œå°±å¯ä»¥ä½¿ç”¨forï¼Œå¯ä»¥è¨­å®šç¨‹å¼ç¢¼åœ¨å¾ªç’°ä¸­çš„æ¬¡æ•¸ã€‚ \u003c?php for ($x = 0; $x \u003c= 10; $x++) { echo \"The number is: $x\u003cbr\u003e\"; } ?\u003e è¼¸å‡º The number is: 0 The number is: 1 The number is: 2 The number is: 3 The number is: 4 The number is: 5 The number is: 6 The number is: 7 The number is: 8 The number is: 9 The number is: 10 foreach æ­¤å¾ªç’°é©ç”¨æ–¼é™£åˆ—ï¼Œå¯ä»¥ç”¨ä¾†é¡¯ç¤ºé™£åˆ—çš„keyè·Ÿvalue \u003c?php $age = array(\"Peter\"=\u003e\"35\", \"Ben\"=\u003e\"37\", \"Joe\"=\u003e\"43\"); foreach($age as $x =\u003e $val) { echo \"$x= $val\u003cbr\u003e\"; } ?\u003e è¼¸å‡º Peter = 35 Ben = 37 Joe = 43 break æƒ³è¦åœ¨è¿´åœˆåŸ·è¡Œä¸­è·³å‡ºï¼Œå¯ä»¥ä½¿ç”¨break æŒ‡ä»¤ï¼Œä¾†è·³å‡ºå¾ªç’°ã€‚ \u003c?php for ($x = 0; $x \u003c 10; $x++) { if ($x == 4) { break; } echo \"The number is: $x\u003cbr\u003e\"; } ?\u003e è¼¸å‡º The number is: 0 The number is: 1 The number is: 2 The number is: 3 continue continue èˆ‡ break æ˜¯ç›¸å°çš„æŒ‡ä»¤ã€‚break ä¸­æ–·ç›®å‰åŸ·è¡Œçš„è¿´åœˆï¼Œcontinue å‰‡æ˜¯å›åˆ°è¿´åœˆçš„é–‹é ­ï¼ŒåŸ·è¡Œã€Œä¸‹ä¸€æ¬¡ã€è¿´åœˆã€‚ \u003c?php for ($x = 0; $x \u003c 5; $x++) { if ($x == 2) { continue; } echo \"The number is: $x\u003cbr\u003e\"; } ?\u003e è¼¸å‡º The number is: 0 The number is: 1 The number is: 3 The number is: 4 ","date":"2022-02-22","objectID":"/php/:2:9","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"å‡½å¼ PHPé™¤äº†å…§å»ºçš„å‡½å¼å¤–ï¼Œé‚„å¯ä»¥å‰µå»ºè‡ªå·±çš„å‡½å¼ æ³¨æ„ï¼šå‡½å¼åç¨±å¿…é ˆä»¥å­—æ¯æˆ–ä¸‹åº•ç·šé–‹é ­ã€‚ä¸å€åˆ†å¤§å°å¯«ã€‚ \u003c?php function writeMsg() { echo \"Hello world!\"; } writeMsg(); // call the function ?\u003e è¼¸å‡º Hello world! ä¹Ÿå¯ä»¥åœ¨å‡½å¼è£¡é¢æ”¾å…¥ä»»æ„æ•¸é‡çš„åƒæ•¸ï¼Œåªéœ€è¦ç”¨é€—è™Ÿåˆ†é–‹ \u003c?php function familyName($fname, $year) { echo \"$fnameBorn in $year\u003cbr\u003e\"; } familyName(\"Hege\", \"1975\"); familyName(\"Stale\", \"1978\"); familyName(\"Kai Jim\", \"1983\"); ?\u003e è¼¸å‡º Hege Born in 1975 Stale Born in 1978 Kai Jim Born in 1983 ","date":"2022-02-22","objectID":"/php/:2:10","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"3. PHP å¸¸ç”¨å‡½å¼ ","date":"2022-02-22","objectID":"/php/:3:0","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"æ—¥æœŸå’Œæ™‚é–“ å¯ä»¥é€éè¼¸å…¥åƒæ•¸ï¼Œé¡¯ç¤ºæƒ³è¦çš„æ—¥æœŸ d - ä»£è¡¨æœˆä»½ä¸­çš„æŸå¤©ï¼ˆ01 åˆ° 31ï¼‰ m - ä»£è¡¨ä¸€å€‹æœˆï¼ˆ01 åˆ° 12ï¼‰ Y - ä»£è¡¨å¹´ä»½ï¼ˆå››ä½æ•¸ï¼‰ lï¼ˆå°å¯«â€œLâ€ï¼‰â€” ä»£è¡¨æ˜ŸæœŸå¹¾ \u003c?php echo \"Today is \" . date(\"Y/m/d\") . \"\u003cbr\u003e\"; echo \"Today is \" . date(\"Y.m.d\") . \"\u003cbr\u003e\"; echo \"Today is \" . date(\"Y-m-d\") . \"\u003cbr\u003e\"; echo \"Today is \" . date(\"l\"); ?\u003e è¼¸å‡º Today is 2022/02/22 Today is 2022.02.22 Today is 2022-02-22 Today is Tuesday å¯ä»¥é€éè¼¸å…¥åƒæ•¸ï¼Œé¡¯ç¤ºæƒ³è¦çš„æ™‚é–“ H - ä¸€å€‹å°æ™‚çš„ 24 å°æ™‚æ ¼å¼ï¼ˆ00 åˆ° 23ï¼‰ h - å°æ™‚çš„ 12 å°æ™‚æ ¼å¼ï¼Œå‰é¢è£œé›¶ï¼ˆ01 åˆ° 12ï¼‰ i - å‰é¢è£œé›¶çš„åˆ†é˜ï¼ˆ00 åˆ° 59ï¼‰ s - å‰é¢è£œé›¶çš„ç§’æ•¸ï¼ˆ00 åˆ° 59ï¼‰ a - å°å¯«çš„ Ante meridiem å’Œ Post meridiemï¼ˆam æˆ– pmï¼‰ \u003c?php date_default_timezone_set(\"Asia/Taipei\"); echo \"The time is \" . date(\"h:i:sa\"); ?\u003e è¼¸å‡º The time is 12:12:10am å¯ä»¥ä½¿ç”¨ strtotime()ï¼Œé¡¯ç¤ºæƒ³è¦çš„æ—¥æœŸ \u003c?php $d=strtotime(\"tomorrow\"); echo date(\"Y-m-d h:i:sa\", $d) . \"\u003cbr\u003e\"; $d=strtotime(\"next Saturday\"); echo date(\"Y-m-d h:i:sa\", $d) . \"\u003cbr\u003e\"; $d=strtotime(\"+3 Months\"); echo date(\"Y-m-d h:i:sa\", $d) . \"\u003cbr\u003e\"; ?\u003e è¼¸å‡º 2022-02-23 12:00:00am 2022-02-26 12:00:00am 2022-05-22 04:21:41am ","date":"2022-02-22","objectID":"/php/:3:1","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"json å¯ä»¥ä½¿ç”¨ json_encode()ï¼Œå°‡é™£åˆ—å­˜ç‚º JSON æ ¼å¼ï¼Œä¹Ÿå¯ä»¥ç”¨ json_decode()ï¼Œå°‡JSONæ ¼å¼è®Šæˆé™£åˆ— \u003c?php $age = array(\"Peter\"=\u003e'35', \"Ben\"=\u003e'45', \"Ian\"=\u003e'22'); echo $enjson = json_encode($age); var_dump(json_decode($enjson,true)); ?\u003e è¼¸å‡º {\"Peter\":\"35\",\"Ben\":\"45\",\"Ian\":\"22\"} array (size=3) 'Peter' =\u003e string '35' (length=2) 'Ben' =\u003e string '45' (length=2) 'Ian' =\u003e string '22' (length=2) ","date":"2022-02-22","objectID":"/php/:3:2","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"min/max å¯ä»¥ä½¿ç”¨ min()ï¼Œä¾†æ‰¾åˆ°åƒæ•¸åˆ—è¡¨è£¡é¢çš„æœ€å°å€¼ï¼Œä¹Ÿå¯ä»¥ max()ï¼Œä¾†æ‰¾åˆ°åƒæ•¸åˆ—è¡¨è£¡é¢çš„æœ€å¤§å€¼ \u003c?php echo(min(0, 150, 30, 20, -8, -200)); echo '\u003cbr\u003e'; echo(max(0, 150, 30, 20, -8, -200)); ?\u003e è¼¸å‡º -200 150 ","date":"2022-02-22","objectID":"/php/:3:3","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"abs å¯ä»¥ä½¿ç”¨ abs()ï¼Œå°‡åƒæ•¸å€¼è®Šæˆçµ•å°å€¼ \u003c?php echo(abs(-6.7)); ?\u003e è¼¸å‡º 6.7 ","date":"2022-02-22","objectID":"/php/:3:4","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"round å¯ä»¥ä½¿ç”¨ round()ï¼Œå°‡æµ®é»æ•¸å››æ¨äº”å…¥åˆ°æœ€æ¥è¿‘çš„æ•´æ•¸ \u003c?php echo(round(0.60)); echo '\u003cbr\u003e'; echo(round(0.49)); ?\u003e è¼¸å‡º 1 0 ","date":"2022-02-22","objectID":"/php/:3:5","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"rand å¯ä»¥ä½¿ç”¨ rand()ï¼Œæœƒéš¨æ©Ÿç”¢ç”Ÿä¸€å€‹äº‚æ•¸ï¼Œä¹Ÿå¯ä»¥è¨­å®šæœ€å¤§å€¼èˆ‡æœ€å°å€¼çš„ç¯„åœä¾†éš¨æ©Ÿç”¢ç”Ÿäº‚æ•¸ \u003c?php echo(round(0,100)); ?\u003e è¼¸å‡º 88 ","date":"2022-02-22","objectID":"/php/:3:6","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"4. PHP è¡¨å–® ","date":"2022-02-22","objectID":"/php/:4:0","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"GET vs POST èˆ‰å€‹ä¾‹å­ï¼Œå¦‚æœ HTTP ä»£è¡¨ç¾åœ¨æˆ‘å€‘ç¾å¯¦ç”Ÿæ´»ä¸­å¯„ä¿¡çš„æ©Ÿåˆ¶ï¼Œé‚£éº¼ä¿¡å°çš„æ’°å¯«æ ¼å¼å°±æ˜¯ HTTPã€‚æˆ‘å€‘å¯ä»¥å°‡ä¿¡å°å¤–çš„å…§å®¹ç¨±ç‚º http-headerï¼Œä¿¡å°å…§çš„æ›¸ä¿¡ç¨±ç‚º message-bodyã€‚ å‡è¨­ GET è¡¨ç¤ºä¿¡å°å…§ä¸å¾—è£ä¿¡ä»¶çš„å¯„é€æ–¹å¼ï¼Œåƒæ˜¯æ˜ä¿¡ç‰‡ä¸€æ¨£ï¼Œä½ å¯ä»¥æŠŠè¦å‚³éçš„è³‡è¨Šå¯«åœ¨ä¿¡å°(http-header)ä¸Šã€‚è€Œ POST å°±æ˜¯ä¿¡å°å…§æœ‰è£ä¿¡ä»¶çš„å¯„é€æ–¹å¼ï¼Œä¸ä½†ä¿¡å°å¯ä»¥å¯«æ±è¥¿ï¼Œä¿¡å°å…§ (message-body) é‚„å¯ä»¥æ”¾ä½ æƒ³è¦å¯„é€çš„è³‡æ–™æˆ–æª”æ¡ˆã€‚ å› ç‚ºä½¿ç”¨ GET çš„æ–¹æ³•ä¾†å‚³é€è¡¨å–®è¨Šæ¯å°æ¯å€‹äººéƒ½æ˜¯å¯è¦‹çš„(æ‰€æœ‰çš„è®Šæ•¸åç¨±èˆ‡å€¼éƒ½æœƒé¡¯ç¤ºåœ¨ URL)ï¼Œæ‰€ä»¥çµ•å°ä¸è¦ä½¿ç”¨ GET ä¾†å‚³é€å¯†ç¢¼æˆ–æ˜¯ä¸€äº›æ•æ„Ÿè¨Šæ¯ã€‚ PHP å¯ä»¥ç”¨ $_GET å’Œ $_POST ä¾†æ”¶é›†è¡¨å–®æ•¸æ“š ","date":"2022-02-22","objectID":"/php/:4:1","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"GET æˆ‘å€‘å…ˆæ¨¡æ“¬ $_GET ï¼Œå…ˆå»ºç«‹ä¸€å€‹ index.html çš„æª”æ¡ˆç¨‹å¼ç¢¼å¦‚ä¸‹ HTML è¡¨å–® (GET) \u003chtml\u003e \u003cbody\u003e \u003cform action=\"welcome_get.php\" method=\"get\"\u003e Name: \u003cinput type=\"text\" name=\"name\"\u003e\u003cbr\u003e E-mail: \u003cinput type=\"text\" name=\"email\"\u003e\u003cbr\u003e \u003cinput type=\"submit\"\u003e \u003c/form\u003e \u003c/body\u003e \u003c/html\u003e å†å»ºç«‹ä¸€å€‹ welcome.php çš„æª”æ¡ˆç¨‹å¼ç¢¼å¦‚ä¸‹ PHP ($_GET) \u003chtml\u003e \u003cbody\u003e Welcome \u003c?php echo $_GET[\"name\"]; ?\u003e\u003cbr\u003e Your email address is: \u003c?php echo $_GET[\"email\"]; ?\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2022-02-22","objectID":"/php/:4:2","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"POST æˆ‘å€‘å…ˆæ¨¡æ“¬ $_POST ï¼Œå…ˆå»ºç«‹ä¸€å€‹ index.html çš„æª”æ¡ˆç¨‹å¼ç¢¼å¦‚ä¸‹ HTML è¡¨å–® (POST) \u003chtml\u003e \u003cbody\u003e \u003cform action=\"welcome_get.php\" method=\"post\"\u003e Name: \u003cinput type=\"text\" name=\"name\"\u003e\u003cbr\u003e E-mail: \u003cinput type=\"text\" name=\"email\"\u003e\u003cbr\u003e \u003cinput type=\"submit\"\u003e \u003c/form\u003e \u003c/body\u003e \u003c/html\u003e å†å»ºç«‹ä¸€å€‹ welcome.php çš„æª”æ¡ˆç¨‹å¼ç¢¼å¦‚ä¸‹ PHP ($_POST) \u003chtml\u003e \u003cbody\u003e Welcome \u003c?php echo $_POST[\"name\"]; ?\u003e\u003cbr\u003e Your email address is: \u003c?php echo $_POST[\"email\"]; ?\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2022-02-22","objectID":"/php/:4:3","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"è³‡æ–™é©—è­‰ å¯†ç¢¼ï¼šéœ€ç‚º8ç¢¼è‡³20ç¢¼ï¼Œä¸”ä¸¦åŒ…å«ç‰¹æ®Šç¬¦è™Ÿã€å¤§å°å¯«è‹±æ–‡å­—æ¯ã€æ•¸å­—è‡³å°‘å„1ç¢¼ \u003c?php $password = '@aaaa5aI'; if(preg_match('/(?=.*[@#$%^\u0026+=])(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[@#$%^\u0026+=a-zA-Z0-9]{8,20}$/', $password)){ echo 'å¯†ç¢¼ã€',$password,'ã€æ­£ç¢ºã€‚'; } else{ echo 'å¯†ç¢¼ã€',$password,'ã€ä¸æ­£ç¢º(éœ€ç¬¦åˆ8è‡³20ç¢¼ï¼Œä¸”åŒ…å«ç‰¹æ®Šç¬¦è™Ÿã€å¤§å°å¯«è‹±æ–‡ã€æ•¸å­—å„ä¸€ç¢¼)ã€‚'; } ?\u003e è¼¸å‡º å¯†ç¢¼ã€@aaaa5aiã€ä¸æ­£ç¢º(éœ€ç¬¦åˆ8è‡³20ç¢¼ï¼Œä¸”åŒ…å«ç‰¹æ®Šç¬¦è™Ÿã€å¤§å°å¯«è‹±æ–‡ã€æ•¸å­—å„ä¸€ç¢¼)ã€‚ å¯†ç¢¼ã€@aaaa5aIã€æ­£ç¢ºã€‚ æ‰‹æ©Ÿé›»è©±ï¼šéœ€ç‚º10ç¢¼ï¼Œä¸”é–‹é ­ç‚º09æ¥å¾Œ8ç¢¼çš„æ•¸å­— \u003c?php $phone = '0912345678'; if(preg_match('/^09[0-9]{8}$/', $password)){ echo 'æ‰‹æ©Ÿé›»è©±ã€',$phone,'ã€æ­£ç¢ºã€‚'; } else{ echo 'æ‰‹æ©Ÿé›»è©±ã€',$phone,'ã€ä¸æ­£ç¢º(éœ€ç‚º10ç¢¼ï¼Œä¸”ç¬¦åˆé–‹é ­ç‚º09å¾Œæ¥8ç¢¼çš„æ•¸å­—)ã€‚'; } ?\u003e è¼¸å‡º æ‰‹æ©Ÿé›»è©±ã€0212345678ã€ä¸æ­£ç¢º(éœ€ç‚º10ç¢¼ï¼Œä¸”ç¬¦åˆé–‹é ­ç‚º09å¾Œæ¥8ç¢¼çš„æ•¸å­—)ã€‚ æ‰‹æ©Ÿé›»è©±ã€0912345678ã€æ­£ç¢ºã€‚ ä¿¡ç®± \u003c?php $email = '123@gmail.com'; if(filter_var(\"$email\", FILTER_VALIDATE_EMAIL)) { echo 'ä¿¡ç®±ã€',$email,'ã€æ­£ç¢ºã€‚'; } else{ echo 'ä¿¡ç®±ã€',$email,'ã€ä¸æ­£ç¢ºã€‚'; } ?\u003e è¼¸å‡º ä¿¡ç®±ã€123@gmailcomã€ä¸æ­£ç¢ºã€‚ ä¿¡ç®±ã€123@gmail.comã€æ­£ç¢ºã€‚ ","date":"2022-02-22","objectID":"/php/:4:4","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"5. PHP RESTful REST ï¼ŒæŒ‡å¾—æ˜¯ä¸€çµ„æ¶æ§‹ç´„æŸæ¢ä»¶å’ŒåŸå‰‡ï¼Œç¬¦åˆ REST è¨­è¨ˆé¢¨æ ¼çš„Web API ç¨±ç‚º RESTful APIï¼Œä¸»è¦ä»¥ä¸‹é¢ä¸‰é»ç‚ºå®šç¾© ç›´è§€ç°¡å–®çš„è³‡æºç¶²å€URL æ¯”å¦‚ï¼šhttp://example.com/resources å‚³è¼¸çš„è³‡æºï¼šWeb æœå‹™æ¥å—èˆ‡è¿”å›çš„é¡å‹ï¼Œæ¯”å¦‚ï¼šJSONã€XML å°è³‡æºçš„æ“ä½œï¼šWeb æœå‹™åœ¨è©²è³‡æºä¸Šæ‰€æ”¯æŒçš„è«‹æ±‚æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šPOSTã€GETã€PUTã€PATCHã€DELETE åŠ æ²¹ é‚„æœ‰ä¸€ç¯‡å¯ä»¥ä¸€èµ·å­¸ç¿’ è©³ç´°å¯ä»¥åƒè€ƒå¦ä¸€ç¯‡æ–‡ç«  å¦‚ä½•åœ¨ Nginx ä¸‹å¯¦ä½œç¬¬ä¸€å€‹ PHP ç•™è¨€æ¿ RESTful API è£¡é¢æœ‰æ›´è©³ç´°çš„ä»‹ç´¹ ","date":"2022-02-22","objectID":"/php/:5:0","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["codenotes"],"content":"6. è³‡æ–™ä¾†æº PHP æ˜¯ä»€éº¼ï¼Œæ¶è¨­ç¶²ç«™æœ€é©åˆçš„ç¨‹å¼èªè¨€ PHP æ–°æ‰‹æŒ‡å—ï¼š3åˆ†é˜å¿«é€Ÿèªè­˜PHP PHP æ•™ç¨‹ PHPåŸºç¤èªæ³•(ä¸€)ï¼šHello worldèˆ‡åŸºæœ¬è³‡æ–™å‹æ…‹ PHP-ç‰©ä»¶å°å‘(OOP)ä»‹ç´¹ ç§’æ‡‚PHPçš„FastCGIè·ŸPHP-FPMæœ‰ä»€éº¼é—œä¿‚ ","date":"2022-02-22","objectID":"/php/:6:0","tags":["PHP","PHP åŸºç¤èªæ³•","PHP å¸¸ç”¨å‡½å¼","PHP è¡¨å–®","ä»‹ç´¹"],"title":"PHP ä»‹ç´¹","uri":"/php/"},{"categories":["youtube"],"content":"åœ¨éå¹´è¦æº–å‚™æ”¶å‡å‰ï¼Œä¾†ä¸€è¶Ÿé«˜ç´šçš„éœ²ç‡Ÿï¼Œèˆ‡å¾ˆä¹…ä¸è¦‹çš„å¥½å‹ï¼Œä¸€èµ·æ³¡æº«æ³‰ã€å–é…’ã€åƒçƒ¤è‚‰ã€èŠå¤©ï¼Œ é‚„æœ‰ç”šéº¼äº‹æƒ…ï¼Œæ¯”é€™ä»¶äº‹é‚„æ›´å¿«æ¨‚çš„å‘¢ ! ç›¸é—œé€£çµ éå¹´è‡ªè£½MV(å› ç‰ˆæ¬Šï¼Œç„¡æ³•ä¸Šå‚³YT)ï¼šInstagram è¨­å‚™/å‰ªè¼¯/BGM è¨­å‚™ï¼š ä¸»æ”å½±ï¼šGoPro 8 ç©ºæ‹ï¼šDJI mini 1ä»£ æ‹ç…§ï¼šIphone 12 Pro å‰ªè¼¯ï¼š Final Cut Pro ç…§ç‰‡å¾Œè£½ï¼š Canva BGMï¼š Eternal Sunshine by LiQWYD \u0026 Luke Bergs https://soundcloud.com/liqwyd https://soundcloud.com/bergscloud Creative Commons â€” Attribution-ShareAlike 3.0 Unported â€” CC BY-SA 3.0 Free Download / Stream: https://bit.ly/3opx8U6 Music promoted by Audio Library https://youtu.be/Uzdp8rV2Nmc ç›¸é—œé€£çµ å½±ç‰‡ğŸ¬ï¼šä¸‹æ–¹è«‹æ”¶çœ‹ ğŸ‘‡ ","date":"2022-02-20","objectID":"/lofi-land/:0:0","tags":["éœ²ç‡Ÿ","æœ‹å‹","æ—…éŠ","YouTube"],"title":"ã€è‡ªç„¶åœˆè±ªè¯éœ²ç‡ŸLo fi Landã€‘èŠ±å¥½æœˆåœ“äººåœ˜åœ“VLOG","uri":"/lofi-land/"},{"categories":["codenotes"],"content":"PWA å…¨åæ˜¯ Progressive Web Appï¼Œä¹Ÿå°±æ˜¯æ¼¸é€²å¼çš„ç¶²ç«™æ‡‰ç”¨ç¨‹å¼ï¼Œé€æ­¥çš„å°‡ç¶²ç«™æ¼¸é€²å„ªåŒ–ç‚ºå…·å‚™ APP çš„å„ªé»ï¼Œå…¶æœ‰ä»¥ä¸‹å¹¾é»ç‰¹æ€§ã€‚ ","date":"2022-02-19","objectID":"/pwa/:0:0","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"ä»‹ç´¹ PWA å…¨åæ˜¯ Progressive Web Appï¼Œä¹Ÿå°±æ˜¯æ¼¸é€²å¼çš„ç¶²ç«™æ‡‰ç”¨ç¨‹å¼ï¼Œé€æ­¥çš„å°‡ç¶²ç«™æ¼¸é€²å„ªåŒ–ç‚ºå…·å‚™ APP çš„å„ªé»ï¼Œå…¶æœ‰ä»¥ä¸‹å¹¾é»ç‰¹æ€§ã€‚ Progressive æ¼¸é€²å¼ï¼Œæä¾›æ¯ä¸€ä½ç”¨æˆ¶åšåŸºæœ¬çš„ç€è¦½ã€‚ Responsive éŸ¿æ‡‰å¼çš„ç”¨æˆ¶ä»‹é¢ï¼Œå¯ä»¥åœ¨ä¸åŒè£ç½®ä¸‹ä½œæœ€ä½³åŒ–çš„é¡¯ç¤ºã€‚ Connectivity independent ä¸ä¾è³´ç¶²è·¯é€£æ¥ï¼Œé€é service workers å¯ä»¥åœ¨ä½é »å¯¬ç”šè‡³æ˜¯é›¢ç·šçš„ç’°å¢ƒä¸‹ç€è¦½ç¶²ç«™ã€‚ App-like è®“ç¶²ç«™å¯ä»¥å…·æœ‰åƒ APP èˆ¬çš„ç€è¦½é€Ÿåº¦ç­‰å„ªé»ï¼Œæä¾›æ›´ä½³çš„ç”¨æˆ¶é«”é©—ã€‚ Fresh è—‰ç”± service worker è‡ªå‹•æ›´æ–°ç¶²ç«™å…§å®¹ã€‚ Installable å¯ä»¥è—‰ç”± Add To Homeï¼Œå¦‚åŒ Appï¼Œæœƒæ–°å¢ä¸€å€‹ iconï¼Œå¯ä»¥ç›´æ¥å°‡ç¶²ç«™åŠ åˆ°æ‰‹æ©Ÿæ¡Œé¢ä¸Šåšåˆ‡æ›ä½¿ç”¨ï¼Œä¸éœ€è¦å†é€é App Store ä¸‹è¼‰å®‰è£ã€‚ è©³ç´°å¯åƒè€ƒå®˜æ–¹ç¶²ç«™ ","date":"2022-02-19","objectID":"/pwa/:1:0","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"å¯¦éš›å®‰è£ ç¯„ä¾‹ä¸‹è¼‰ä½ç½® å…ˆä¸‹è¼‰ https://nas.pin-yi.me/sharing/nElXqbqyt (æ”¾ç½®å°å¼ŸNASé›²ç«¯ä¸Š) å…§æœ‰å…©å€‹æª”æ¡ˆï¼Œåˆ†åˆ¥æ˜¯manifest.jsonã€service-worker.jsï¼Œä»¥ä¸‹å„åˆ¥åšä»‹ç´¹ ","date":"2022-02-19","objectID":"/pwa/:2:0","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"manifest.json (ç°¡æ˜“ä»‹ç´¹ï¼Œè©³ç´°å¯åƒè€ƒå®˜æ–¹æ–‡ä»¶) { \"background_color\": \"#fff\", \"display\": \"standalone\", \"orientation\":\"portrait\", \"theme_color\": \"#fff\", \"short_name\": \"ç¸®çŸ­åç¨±\", \"name\": \"åç¨±\", \"description\": \"èªªæ˜\", \"lang\": \"zh-TW\", \"icons\": [ { \"src\": \"images/logo/logo180.ico\", \"sizes\": \"180x180\", \"type\": \"image/png\" }, { \"src\": \"images/logo/logo48.ico\", \"sizes\": \"48x48\", \"type\": \"image/png\" } ], \"start_url\": \"./index.php\" } background_color èƒŒæ™¯é¡è‰² å®šç¾© Web æ‡‰ç”¨ç¨‹å¼é æœŸçš„èƒŒæ™¯é¡è‰²ï¼Œé€™èƒ½åœ¨ Web æ‡‰ç”¨ç¨‹å¼çš„å•Ÿå‹•å’Œè¼‰å…¥å…§å®¹ä¹‹é–“å‰µå»ºå¹³é †çš„éå ´ã€‚ \"background_color\": \"#fff\" display èƒŒæ™¯é¡è‰² å®šç¾©é–‹ç™¼è€…å–œå¥½çš„ Web æ‡‰ç”¨ç¨‹å¼é¡¯ç¤ºæ¨¡å¼ã€‚ \"display\": \"standalone\" é¡¯ç¤ºæ¨¡å¼ æè¿° fullscreen æ‰€æœ‰å¯ç”¨çš„é¡¯ç¤ºå€åŸŸéƒ½è¢«å¡«å……ä¸¦ä¸”ä¸é¡¯ç¤ºä½¿ç”¨è€…ä»£ç† chrome ã€‚ standalone é€™çœ‹èµ·ä¾†å’Œæ„Ÿè¦ºä¸Šå°±åƒæ˜¯ç¨ç«‹æ‡‰ç”¨ç¨‹å¼ä¸€æ¨£ï¼ŒåŒ…æ‹¬æœ‰ä¸åŒçš„åŸ·è¡Œè¦–çª—ã€æœ‰åœ–ç¤ºçš„æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•å™¨ â€¦ ç­‰ç­‰ã€‚ åœ¨é€™æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨è€…ä»£ç†å°‡ä¸åŒ…å«æ§åˆ¶å°è¦½åˆ—ï¼Œä½†èƒ½åŒ…å«å…¶ä»–çš„ UI å…ƒç´ ï¼Œåƒæ˜¯ç‹€æ…‹åˆ—ã€‚ minimal-ui é€™çœ‹èµ·ä¾†å’Œæ„Ÿè¦ºä¸Šå°±åƒæ˜¯ç¨ç«‹æ‡‰ç”¨ç¨‹å¼ä¸€æ¨£ï¼Œä½†å°‡æœ‰æ§åˆ¶å°è¦½åˆ— UI å…ƒç´ çš„æœ€å°è¨­ç½®ï¼Œå…ƒç´ æœƒå› ç€è¦½å™¨è€Œä¸åŒã€‚ browser é è¨­å€¼ã€‚ æ‡‰ç”¨ç¨‹å¼å¦‚å¸¸è¦èˆ¬åœ°è¢«é–‹å•Ÿæ–¼ç€è¦½å™¨åˆ†é æˆ–æ–°è¦–çª—ï¼Œä¾ç€è¦½å™¨èˆ‡å¹³å°è€Œä¸åŒã€‚ orientation è¢å¹•é¡¯ç¤ºæ–¹å‘ å®šç¾©é è¨­çš„é¡¯ç¤ºæ–¹å‘ï¼Œé€šå¸¸æ‡‰ç”¨åœ¨ GAME è£¡ï¼Œå¯èƒ½æœƒéœ€è¦å¼·åˆ¶è¨­å®šæ–¹å‘ã€‚ \"orientation\": \"portrait\" theme_color ç¶²ç«™ä½ˆæ™¯é¡è‰² è¨­å®šç¶²ç«™æ¯å€‹é é¢çš„ä¸»é¡Œé¡è‰²ï¼Œä¾‹å¦‚æ”¹è®Š URL çš„é¡è‰²ã€‚ \"theme_color\": \"#fff\" short_name ç¸®çŸ­åç¨± å®šç¾© Web æ‡‰ç”¨ç¨‹å¼çš„ç¸®çŸ­åç¨±ã€‚ \"short_name\": \"ç¸®çŸ­åç¨±\" name åç¨± å®šç¾© Web æ‡‰ç”¨ç¨‹å¼çš„åç¨±ã€‚ \"name\": \"åç¨±\" name åç¨± å®šç¾© Web æ‡‰ç”¨ç¨‹å¼çš„åç¨±ã€‚ \"name\": \"åç¨±\" description èªªæ˜ æä¾›ä¸€æ®µæè¿°ä¾†å½¢å®¹é€™å€‹ Web æ‡‰ç”¨ç¨‹å¼çš„ä½œç”¨æ˜¯ä»€éº¼ã€‚ \"description\": \"èªªæ˜\" lang èªè¨€ å®šç¾© Web æ‡‰ç”¨ç¨‹å¼çš„èªè¨€ã€‚ \"lang\": \"zh-TW\" icons åœ–ç¤º æ‡‰ç”¨ç¨‹å¼åœ–ç¤ºçš„ç‰©ä»¶ã€‚ \"icons\": [ { \"src\": \"images/logo/logo180.ico\", \"sizes\": \"180x180\", \"type\": \"image/png\" }, { \"src\": \"images/logo/logo48.ico\", \"sizes\": \"48x48\", \"type\": \"image/png\" } ] start_url é–‹å§‹ç¶²å€ å®šç¾© Web æ‡‰ç”¨ç¨‹å¼çš„é–‹å§‹ä½ç½®ã€‚ \"start_url\": \"./index.php\" service-worker.js // ç•¶service workeråœ¨ã€Œå®‰è£éšæ®µã€æ™‚æœƒè§¸ç™¼æ­¤äº‹ä»¶ self.addEventListener('install', function(event) { console.log('[Service Worker] Installing Service Worker ...', event); }); // ç•¶service workeråœ¨ã€Œæ¿€æ´»éšæ®µã€æ™‚æœƒè§¸ç™¼æ­¤äº‹ä»¶ self.addEventListener('activate', function(event) { console.log('[Service Worker] Activating Service Worker ...', event); return self.clients.claim(); // åŠ ä¸Šé€™è¡Œæ˜¯ç‚ºäº†ç¢ºä¿service workerè¢«æ­£ç¢ºè¼‰å…¥å’Œæ¿€æ´»ï¼Œä¸åŠ ä¹Ÿè¡Œ }); self.addEventListener('fetch', function(event) { console.log('[Service Worker] Fetch something ...', event); event.respondWith(fetch(event.request)); }); let deferredPrompt; self.addEventListener('beforeinstallprompt', function(event) { console.log('beforeinstallprompt fired'); event.preventDefault(); // å–æ¶ˆé è¨­çš„ç›´æ¥è·³å‡ºé€šçŸ¥è¨­å®š deferredPrompt = event; // å°‡ç›£è½åˆ°çš„install banneräº‹ä»¶å‚³åˆ°deferredPromptè®Šæ•¸ return false; }); if(deferredPrompt) { // ç¢ºå®šæˆ‘å€‘æœ‰ã€Œæ””æˆªã€åˆ°chromeæ‰€ç™¼å‡ºçš„install banneräº‹ä»¶ deferredPrompt.prompt(); // æ±ºå®šè¦è·³å‡ºé€šçŸ¥ // æ ¹æ“šç”¨æˆ¶çš„é¸æ“‡é€²è¡Œä¸åŒè™•ç†ï¼Œé€™é‚Šæˆ‘æŒ‡å°å‡ºlogçµæœ deferredPrompt.userChoice.then(function(choiceResult) { console.log(choiceResult.outcome); if(choiceResult.outcome === 'dismissed'){ console.log('User cancelled installation'); }else{ console.log('User added to home screen'); } }); deferredPrompt = null; // ä¸€æ—¦ç”¨æˆ¶å…è¨±åŠ å…¥å¾Œï¼Œä¹‹å¾Œå°±ä¸æœƒå†å‡ºç¾é€šçŸ¥ } ","date":"2022-02-19","objectID":"/pwa/:2:1","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"ä½¿ç”¨æ–¹å¼ å…ˆå°‡ manifest.json ä¸Šè¿°è³‡æ–™æ”¹ç‚ºè‡ªå·±æƒ³è¦çš„è¨­å®šï¼Œå°‡manifest.jsonã€service-worker.js æ”¾ç½®ç¶²é æ ¹ç›®éŒ„ï¼Œä¸¦é–‹å•Ÿæƒ³è¦æ”¯æ´çš„ç¶²é ï¼Œä»¥ä¸‹ä½¿ç”¨å°å¼Ÿæˆ‘å€‹äººé é¢ä¾†åšç¤ºç¯„ã€‚ å…ˆè‡³ç·¨è¼¯å™¨å…§å°‡manifest.jsonæ”¾åˆ°headå…§ \u003clink rel=\"manifest\" href=\"./manifest.json\"\u003e ç¯„ä¾‹é é¢\" ç¯„ä¾‹é é¢ æ–¼ç¨‹å¼æœ€å¾Œæ–°å¢ä»¥ä¸‹ \u003cscript\u003e if ('serviceWorker' in navigator) { window.addEventListener('load', function() { navigator.serviceWorker.register('./service-worker.js') .then(function() { console.log(\"Service Worker Registered, Cheers to PWA Fire!\"); }); } ); } \u003c/script\u003e ç¯„ä¾‹é é¢\" ç¯„ä¾‹é é¢ æé†’ manifest.jsonã€service-worker.jsã€€ä¾æ“šè‡ªå·±æ”¾ç½®ä½ç½®åšæ›´æ”¹ğŸ˜€ ","date":"2022-02-19","objectID":"/pwa/:3:0","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"å¦‚ä½•ä½¿ç”¨ ","date":"2022-02-19","objectID":"/pwa/:4:0","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"IOS æ‰‹æ©Ÿï¼šIphone 12 Pro (IOS 14.5) ç€è¦½å™¨ï¼šSafari å…ˆç€è¦½ç¯„ä¾‹ç¶²ç«™å°å¼Ÿå€‹äººé é¢ã€‚ é»é¸ä¸‹æ–¹ä¸­é–“åˆ†äº«åœ–ç¤ºï¼Œé¸æ“‡åŠ å…¥ä¸»ç•«é¢ï¼ŒæŒ‰ä¸‹æ–°å¢ï¼Œå°±æœƒå‡ºç¾åœ¨æ‰‹æ©Ÿä¸»ç•«é¢ï¼Œæ‰“é–‹å¾Œï¼Œå°±æœƒç™¼ç¾æ“ä½œè·ŸAPPç›¸åŒã€‚ ç¯„ä¾‹é é¢\" ç¯„ä¾‹é é¢ ","date":"2022-02-19","objectID":"/pwa/:4:1","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"ANDROID æ‰‹æ©Ÿï¼šOnePlus 8T (ANDROID 11) ç€è¦½å™¨ï¼šChrome å…ˆç€è¦½ç¯„ä¾‹ç¶²ç«™å°å¼Ÿå€‹äººé é¢ã€‚ å®‰è£æ‡‰ç”¨ç¨‹å¼è‡³æ‰‹æ©Ÿï¼Œç¶“éä¸‹è¼‰ï¼Œå°±æœƒå‡ºç¾åœ¨æ‰‹æ©Ÿä¸»ç•«é¢ï¼Œæ‰“é–‹å¾Œï¼Œå°±æœƒç™¼ç¾æ“ä½œè·ŸAPPç›¸åŒã€‚ ç¯„ä¾‹é é¢\" ç¯„ä¾‹é é¢ ","date":"2022-02-19","objectID":"/pwa/:4:2","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"æˆåŠŸç•«é¢ ç¯„ä¾‹é é¢\" ç¯„ä¾‹é é¢ ","date":"2022-02-19","objectID":"/pwa/:5:0","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["codenotes"],"content":"å…¶ä»–èªªæ˜ ä»¥ä¸Šç‚ºå‚™ä»½ç­†è¨˜ è³‡æ–™ä¾†æº: https://ithelp.ithome.com.tw/articles/10186584 https://ithelp.ithome.com.tw/articles/10188514 ","date":"2022-02-19","objectID":"/pwa/:5:1","tags":["PWA","è¨­å®šæ•™å­¸"],"title":"PWA(Progressive Web App) ä»‹ç´¹èˆ‡å¯¦éš›å®‰è£","uri":"/pwa/"},{"categories":["Network"],"content":"TCP èˆ‡ UDP éƒ½æ˜¯å¸¸è¦‹çš„ç¶²è·¯é€šè¨Šå”å®šï¼Œé€™å…©ç¨®å”å®šèƒ½ç¢ºä¿ç¶²éš›ç¶²è·¯è³‡æ–™å‚³è¼¸çš„å¿«é€Ÿä»¥åŠå®Œæ•´æ€§ï¼Œå®ƒå€‘çš„é‹ä½œæ–¹å¼ä¸å¤ªä¸€æ¨£ï¼ŒTCP è¼ƒç‚ºå¯é ï¼ŒUDP è¼ƒç‚ºå¿«é€Ÿã€‚ æˆ‘å€‘ä¾†æ…¢æ…¢åˆ†æå…©ç¨®ä¸åŒçš„ç¶²è·¯é€šè¨Šå”å®šï¼Œæœ‰ä»€éº¼ç‰¹åˆ¥ä¹‹è™•!? ","date":"2022-02-18","objectID":"/tcp-udp-difference/:0:0","tags":["TCP","UDP","ç¶²è·¯"],"title":"TCPå’ŒUDPçš„å·®ç•°","uri":"/tcp-udp-difference/"},{"categories":["Network"],"content":"TCP æ˜¯ä»€éº¼ TCP æ˜¯ (é€šè¨Šæ§åˆ¶å”å®š) ä¹Ÿæ˜¯ç¶²éš›ç¶²è·¯ä¸Šæœ€å¸¸ç”¨çš„å”å®šï¼Œé€™ç¨®å”å®šè¼ƒç‚ºå¯é ï¼Œå…¶é‹ä½œæ–¹æ³•å¦‚ä¸‹ï¼š TCPç‚ºæ¯å€‹å°åŒ…åˆ†é…ä¸€å€‹å”¯ä¸€è¾¨è­˜ç¢¼å’Œä¸€å€‹åºè™Ÿï¼Œé€™äº›è™Ÿç¢¼å¯ä»¥è®“æ¥æ”¶ç«¯è­˜åˆ¥å°åŒ…çš„å®Œæ•´æ€§ä»¥åŠå°åŒ…é †åºã€‚ ç•¶æ¥æ”¶ç«¯æ”¶åˆ°å°åŒ…å¾Œã€‚å¦‚æœé †åºæ­£ç¢ºï¼Œæœƒå‘ç™¼é€ç«¯å‚³é€ä¸€å€‹ç¢ºèªä¿¡è™Ÿï¼Œä»¥ç¢ºå®šæ¥æ”¶ç«¯æœ‰æ”¶åˆ°å°åŒ…ã€‚ ç™¼é€ç«¯æ”¶åˆ°ç¢ºèªä¿¡è™Ÿå¾Œæ‰æœƒå‚³è¼¸ä¸‹ä¸€å€‹å°åŒ…ã€‚ å¦‚æœå°åŒ…éºå¤±æˆ–æ˜¯ç™¼é€é †åºéŒ¯èª¤ï¼Œæ¥æ”¶ç«¯ä¸æœƒå‚³è¼¸ä»»ä½•è³‡è¨Šï¼Œé€™ä»£è¡¨ç™¼é€ç«¯éœ€è¦é‡æ–°ç™¼é€å°åŒ…ã€‚ ","date":"2022-02-18","objectID":"/tcp-udp-difference/:1:0","tags":["TCP","UDP","ç¶²è·¯"],"title":"TCPå’ŒUDPçš„å·®ç•°","uri":"/tcp-udp-difference/"},{"categories":["Network"],"content":"UDP æ˜¯ä»€éº¼ UDP ä¸éœ€è¦å”¯ä¸€è­˜åˆ¥ç¢¼å’Œåºè™Ÿå°±å¯ä»¥å®Œæˆç›¸åŒå·¥ä½œï¼Œé€™ç¨®å”å®šå·²ä¸²æµæ–¹å¼å‚³è¼¸è³‡æ–™ï¼Œä¹Ÿå› ç‚ºç™¼é€ç«¯ä¸æœƒå›å‚³ç¢ºèªä¿¡è™Ÿï¼Œæœƒä¸æ–·ç™¼é€å°åŒ…çµ¦æ¥æ”¶ç«¯ã€‚UDPå› ç‚ºæ²’æœ‰ç¢ºèªï¼Œä¹Ÿä¸åœ¨ä¹å°åŒ…æ˜¯å¦éºå¤±ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å‡ºéŒ¯ï¼Œä½†å› ç‚ºä¸æœƒæª¢æŸ¥ï¼Œæ‰€ä»¥å‚³è¼¸é€Ÿåº¦æ¯”TCPæ›´å¿«ã€‚ä¸²æµè»Ÿé«”ã€ç¶²è·¯éŠæˆ²ç­‰éƒ½æ˜¯ä½¿ç”¨æ­¤å”å®šã€‚ ","date":"2022-02-18","objectID":"/tcp-udp-difference/:2:0","tags":["TCP","UDP","ç¶²è·¯"],"title":"TCPå’ŒUDPçš„å·®ç•°","uri":"/tcp-udp-difference/"},{"categories":["Network"],"content":"TCP vs. UDP æ¯”è¼ƒè¡¨ æ¯”è¼ƒ TCP UDP å¯é æ€§ å¯é  ä¸å¯é  é€Ÿåº¦ æ…¢ å¿« å‚³è¼¸æ–¹å¼ å°åŒ…ä¾ç…§é †åºå‚³è¼¸ å°åŒ…ä»¥ä¸²æµæ–¹å¼å‚³è¼¸ æ˜¯å¦æª¢æŸ¥éŒ¯èª¤èˆ‡ä¿®æ­£ æœ‰ ç„¡ é©ç”¨æœå‹™å…§å®¹ ç¶²ç«™ç€è¦½ã€é›»å­éƒµä»¶ã€æª”æ¡ˆç€è¦½ã€è¦æ±‚å¯é çš„å‚³è¼¸æœå‹™ å³æ™‚æœå‹™ã€ç·šä¸ŠéŠæˆ²ã€ç·šä¸Šç›´æ’­ ","date":"2022-02-18","objectID":"/tcp-udp-difference/:3:0","tags":["TCP","UDP","ç¶²è·¯"],"title":"TCPå’ŒUDPçš„å·®ç•°","uri":"/tcp-udp-difference/"},{"categories":["youtube"],"content":"ç¶²è·¯ä¸Šæµå‚³è‘—ä¸€å€‹èªªæ³•ï¼Œèªªå°ç£äººä¸€ç”Ÿå¿…åšçš„3å¤§äº‹æƒ… ç™»ç‰å±± æ³³æ¸¡æ—¥æœˆæ½­ å–®è»Šç’°å³¶ å…§æ–‡ é›–ç„¶æˆ‘é€™è¼©å­æ‡‰è©²ä¸æœƒæƒ³å–®è»Šç’°å³¶ ä½†æ©Ÿè»Šç’°å³¶æ˜¯æˆ‘å¥½ä¹…ä»¥å‰çš„ä¸€å€‹å¤¢æƒ³ å¤§ä¸€æ™‚ï¼Œå‰›å­¸æœƒé¨è»Šï¼Œå¾ˆå–œæ­¡åˆ°è™•è·‘ï¼Œ æ›¾ç´„äº†ä¸€ç¾¤æœ‹å‹è¦åœ¨å¤§äºŒæ™‚å»ç’°å³¶ï¼Œ å¯æƒœç•¶æ™‚æ²’æœ‰æ™‚é–“å»å®Œæˆï¼Œ é€™æ¬¡åœ¨é€€ä¼å¾Œå·¥ä½œå‰çš„ç©ºé–’æ™‚é–“å‡ºç™¼ï¼Œ é€”ä¸­æœ‰è—å¤©ç™½é›²ï¼Œä¹Ÿæœ‰ç‹‚é¢¨æš´é›¨ï¼Œè€Œä¸”å¾Œè€…å±…å¤šğŸ¥² è®“æˆ‘çœ‹åˆ°å°ç£ä¸ä¸€æ¨£çš„æ™¯è‰² ä¹Ÿç®—æ˜¯é€çµ¦æˆ‘å·¥ä½œå‰çš„ä¸€ä»½å¤§ç¦®ğŸ æ—…éŠå„æ™¯é» æ™¯é»ä»£è£œä¸Š è¨­å‚™/å‰ªè¼¯/BGM è¨­å‚™ï¼š ä¸»æ”å½±ï¼šï¼šGoPro 7 and GoPro 8 and GoPro 9 ç©ºæ‹ï¼šDJI mini 1ä»£ æ‹ç…§ï¼šIphone 12 Pro å‰ªè¼¯ï¼š Final Cut Pro ç…§ç‰‡å¾Œè£½ï¼š Canva BGMï¼š Be Myself by Nettson https://soundcloud.com/nettson Creative Commons â€” Attribution 3.0 Unported â€” CC BY 3.0 Free Download / Stream: https://bit.ly/nettson-be-myself Music promoted by Audio Library https://youtu.be/bP17he7J85E Pineapple by Roa https://soundcloud.com/roa_music1031 Creative Commons â€” Attribution 3.0 Unported â€” CC BY 3.0 Free Download / Stream: https://bit.ly/2Xn3lAL Music promoted by Audio Library https://youtu.be/YxnWhkiLuHo Hold On by Spiring https://soundcloud.com/user-57630131 Creative Commons â€” Attribution 3.0 Unported â€” CC BY 3.0 Free Download / Stream: https://bit.ly/2VnhRHG Music promoted by Audio Library https://youtu.be/6UhZbct8UFs Our Time by Roa https://soundcloud.com/roa_music1031 Creative Commons â€” Attribution 3.0 Unported â€” CC BY 3.0 Free Download / Stream: https://bit.ly/3ybRL96 Music promoted by Audio Library https://youtu.be/ASnMczLNZtg Santa Monica by Roa https://soundcloud.com/roa_music1031 Creative Commons â€” Attribution 3.0 Unported â€” CC BY 3.0 Free Download / Stream: https://bit.ly/3AeTLOp Music promoted by Audio Library https://youtu.be/gzsiVYVH5hQ ç›¸é—œé€£çµ ç’°å³¶è¡Œç¨‹ğŸï¼šGoogle Map ç’°å³¶å½±ç‰‡ğŸ¬ï¼šä¸‹æ–¹è«‹æ”¶çœ‹ ğŸ‘‡ ","date":"2022-01-31","objectID":"/surround-island/:0:0","tags":["ç’°å³¶","æ©Ÿè»Š","æ—…éŠ","YouTube"],"title":"ã€ å››æ¥µé»æ©Ÿè»Šç’°å³¶ã€‘å°ç£äººä¸€å®šè¦å»ä¸€æ¬¡çš„æ—…è¡Œï¼Œå·§é‡ä¿è‚²é¡å‹•ç‰©ç©¿å±±ç”²","uri":"/surround-island/"},{"categories":["youtube"],"content":"æ—…éŠå„æ™¯é» 0:10 å±±å§†å…ˆç”Ÿå’–å•¡é¤¨ 0:30 é¦¬å¤ªéæ¿•åœ°ç”Ÿæ…‹åœ’å€ 1:16 ç´…ç“¦å±‹ 1:48 å…‰å¾©ç³–å»  2:08 ç«‹å·æ¼å ´ 2:50 æ—ç”°å±±æ—æ¥­æ–‡åŒ–åœ’å€ 3:20 ç‰é‡Œéºµ 3:43 å…­åçŸ³å±± 4:57 é‡‘å‰›å¤§é“ 5:44 ä¸ƒæ˜Ÿæ½­ 6:09 ä¸ƒæ˜ŸæŸ´é­šåšç‰©é¤¨ 6:34 å»Ÿå£ç´…èŒ¶ 7:09 å°é–‹å¿ƒè¾²å ´ 7:43 æ±å¤§é–€å¤œå¸‚ 8:25 å¤ªé­¯é–£ç‰Œæ¨“ 8:49 ç‡•å­å£æ­¥é“ 9:38 æ¸…æ°´æ–·å´– 10:21 æ¸…æ°´æ–·å´–ç¨æœ¨èˆŸ 12:18 é‡äººç«é‹ 12:38 å¸ƒæ´›ç£å±±æœˆåŠæ©‹ 13:45 ç™½æ¥Šæ­¥é“æ°´æ¿‚æ´ è¨­å‚™/å‰ªè¼¯/BGM è¨­å‚™ï¼š ä¸»æ”å½±ï¼šï¼šGoPro 7 and GoPro 9 ç©ºæ‹ï¼šDJI mini 1ä»£ æ‹ç…§ï¼šIphone 12 Pro å‰ªè¼¯ï¼š Final Cut Pro ç…§ç‰‡å¾Œè£½ï¼š Canva BGMï¼š Scandinavianz - Love Me Jay Someday - Mind Travel Never A Goodbye ç›¸é—œé€£çµ å½±ç‰‡ğŸ¬ï¼šä¸‹æ–¹è«‹æ”¶çœ‹ ğŸ‘‡ ","date":"2022-01-19","objectID":"/hualien-part3/:0:0","tags":["LongStay","æ—…éŠ","YouTube"],"title":"å¥½æƒ³å†æ»‘ä¸€æ¬¡ç¨æœ¨èˆŸ ã€Part 3ã€‘ èŠ±è“®è¦æ€éº¼ç©ï¼Ÿç©ä¸€å€‹æœˆå¸¶ä½ èªè­˜ä½ ä¸çŸ¥é“çš„èŠ±è“®","uri":"/hualien-part3/"},{"categories":["youtube"],"content":"æˆ‘å€‘çš„è¦–é‡éƒ½æ˜¯å‘å‰å¹³è¦–ï¼Œä½•ä¸è©¦è©¦ç”¨ä¸Šå¸è¦–è§’ä¾†çœ‹èŠ±è“®æµ·å²¸çš„ç¾ æ—…éŠå„æ™¯é» 0:12 é›²å±±æ°´å¤¢å¹»æ¹– 2:07 055é¾è¦æµ·é®®é¤å»³ 2:45 èŠ±è“®è·¯ä¸Š 2:59 æ’’å›ºå…’æ­¥é“ 3:52 å®¶å’–å“©ç¸½åº— 4:23 æµ·å´–è°·éœ²ç‡Ÿä¼‘é–’ç‡Ÿå€ 6:01 æµ·é‚Šæ—¥å‡º 7:14 è¦ªä¸çŸ¥å­æ–·å´– 8:27 å£ç¦æµ·é®®é¤å»³ 8:43 åŒ—å›æ­¸ç·š 9:15 çŸ³æ¢¯åªéŠæ†©é¢¨æ™¯å€ 10:17 çŸ³é–€æ´ è¨­å‚™/å‰ªè¼¯/BGM è¨­å‚™ï¼š ä¸»æ”å½±ï¼šï¼šGoPro 7 and GoPro 9 ç©ºæ‹ï¼šDJI mini 1ä»£ æ‹ç…§ï¼šIphone 12 Pro å‰ªè¼¯ï¼š Final Cut Pro ç…§ç‰‡å¾Œè£½ï¼š Canva BGMï¼š Poolside â€” LiQWYD [Audio Library Release] Never A Goodbye ç›¸é—œé€£çµ å½±ç‰‡ğŸ¬ï¼šä¸‹æ–¹è«‹æ”¶çœ‹ ğŸ‘‡ ","date":"2022-01-16","objectID":"/hualien-part2/:0:0","tags":["LongStay","æ—…éŠ","YouTube"],"title":"ç©ºæ‹å¸¶ä½ çœ‹èŠ±è“® ã€Part 2ã€‘ èŠ±è“®è¦æ€éº¼ç©ï¼Ÿç©ä¸€å€‹æœˆå¸¶ä½ èªè­˜ä½ ä¸çŸ¥é“çš„èŠ±è“®","uri":"/hualien-part2/"},{"categories":["experience"],"content":"ç‚ºä»€éº¼æ¯æ¬¡éƒ½æœƒç·Šå¼µåˆ°èªªä¸å‡ºè©±ä¾†?å¸¸è¢«å•çš„7å€‹å•é¡Œ","date":"2022-01-14","objectID":"/interview/","tags":["é¢è©¦","æ±‚è·"],"title":"é¢è©¦è©²æ€éº¼æº–å‚™?","uri":"/interview/"},{"categories":["experience"],"content":"è‡ªæˆ‘ä»‹ç´¹å…ˆæ”¾ç·šé ­ï¼Œå¯ä»¥å¹«åŠ©é¢è©¦å®˜æ‰¾åˆ°è©±é¡Œï¼Œä»¥æŒçºŒå¾Œé¢çš„é¢è©¦ å°å¾µæ‰æ–¹çš„å…¬å¸éœ€è¦äº†è§£ï¼Œä¸”çŸ¥é“é¢è©¦çš„è·ç¼ºå…§å®¹ ä¸è¦åªåœ¨ä¹è‡ªå·±èƒ½å¤ æ‹¿åˆ°ç”šéº¼ï¼Œè€Œæ˜¯è¦èªªå‡ºè‡ªå·±å°æ–¼é€™ä»½å·¥ä½œå¯ä»¥ä»˜å‡ºå¤šå°‘çš„åƒ¹å€¼ ","date":"2022-01-14","objectID":"/interview/:0:0","tags":["é¢è©¦","æ±‚è·"],"title":"é¢è©¦è©²æ€éº¼æº–å‚™?","uri":"/interview/"},{"categories":["experience"],"content":"å±¥æ­·çš„åŸºæœ¬æŠ€å·§ é¢è©¦å¾Œï¼Œå¿…é ˆè‡ªå·±æå‡ºå•é¡Œï¼Œä¸åƒ…åƒ…åªæ˜¯å–®ä¸€æ–¹å‘çš„å›ç­”å•é¡Œï¼Œä¹Ÿå¯ä»¥å°å•é¡Œæå‡ºè¨è«–æˆ–æ˜¯æ„Ÿèˆˆè¶£çš„äº‹(è‡³å°‘æº–å‚™3å€‹å•é¡Œä»¥ä¸Šï¼Œä¸”ä¸è¦è¢«å•çš„å•é¡Œæ¡†æ¶çµ¦é™åˆ¶ä½äº†ï¼Œå¯ä»¥å…ˆè©¢å•å•é¡Œçš„é‚Šç•Œåœ¨å“ª) é€™å€‹è·ä½ç‚ºç”šéº¼è€Œé–‹ï¼Œå‰ä¸€ä½åŒäº‹æ˜¯å› ç‚ºç”šéº¼åŸå› è€Œé›¢é–‹çš„ï¼Œæƒ³è¦çŸ¥é“è‡ªå·±é©ä¸é©åˆï¼Œåˆ‡è¨˜è¦ä½¿ç”¨ç¦®è²Œæ€§çš„å•æ³• è‡ªæˆ‘ä»‹ç´¹ç›®çš„æ˜¯ : 1. ä½ èƒ½æ›¿å…¬å¸è§£æ±ºç”šéº¼å•é¡Œ 2. ä½ èƒ½æ›¿å…¬å¸å¸¶ä¾†ç”šéº¼åƒ¹å€¼ æˆåŠŸ æˆ‘éå»æ€éº¼æ¨£ æ“…é•·çš„äº‹æƒ… å¼·é … æˆ‘çš„æœ€å¤§å¼·é …æ˜¯ ä»¤æˆ‘æ„Ÿåˆ°è‡ªè±ªçš„ å½¢å¼ è¦æ€éº¼æŠŠä½ çš„æŠ€èƒ½ï¼Œæ‡‰ç”¨åœ¨ä½ æ‡‰å¾µçš„è·ä½ä¸Š æˆ‘åœ¨æ‰¾çš„æ˜¯ èƒŒä¸‹ä¾†ï¼Œä¸¦é‡è¤‡ç·´ç¿’ï¼Œå°±æœƒè¶Šä¾†è¶Šç¿’æ…£è·Ÿç†Ÿç·´ ","date":"2022-01-14","objectID":"/interview/:1:0","tags":["é¢è©¦","æ±‚è·"],"title":"é¢è©¦è©²æ€éº¼æº–å‚™?","uri":"/interview/"},{"categories":["experience"],"content":"å¸¸è¦‹å•é¡Œ é¢è©¦è€…å‰å¾€å…¬å¸é¢è©¦å‰ï¼Œæ‡‰äº‹å…ˆæº–å‚™ä»¥ä¸‹å¹¾é»å¸¸è¦‹å•é¡Œ ç­”æ¡ˆç›¡é‡çœŸå¯¦ã€åˆ‡è¨˜èªªè¬Šï¼Œé¿å…æ—¥å¾Œç”¢ç”Ÿæ›´å¤§çš„çˆ­è­°ã€‚ è«‹ç°¡å–®è‡ªæˆ‘ä»‹ç´¹ ä¸ç®¡é¢è©¦å®˜æ˜¯å¦èªçœŸçœ‹éå±¥æ­·ï¼Œéƒ½æ²’æœ‰ç›´æ¥é¢å°é¢çš„èªªæ˜é‚„ä¾†çš„ç›´æ¥ï¼Œè‡ªæˆ‘ä»‹ç´¹é€šå¸¸æ˜¯é¢è©¦æ™‚ï¼Œé‡åˆ°çš„ç¬¬ä¸€å€‹å•é¡Œã€‚ä»‹ç´¹æ™‚éœ€ç°¡çŸ­ä¸”ç€é‡è‡ªèº«å°ˆé•·ä»¥åŠå·¥ä½œç¶“æ­·çš„æè¿°ä¸Šï¼Œä¸€èˆ¬è€Œè¨€ï¼Œå…¬å¸ä¸æœƒæƒ³çŸ¥é“ä½ å®¶åº­èƒŒæ™¯ï¼Œå®¶è£¡æœ‰èª°ï¼Œåªè¦æåŠè‡ªå·±æ˜¯ç”šéº¼å­¸æ ¡æˆ–ç§‘ç³»ï¼Œä»¥åŠæœ‰ç”šéº¼ç‰¹æ®Šè¡¨ç¾å³å¯ã€‚ ç°¡å–®èªªæ˜å‰ä¸€ä»½å·¥ä½œæ˜¯åšç”šéº¼çš„ã€éš¸å±¬æ–¼ç”šéº¼éƒ¨å€‘ã€ç”šéº¼è·ç¨±ï¼Œä¸»è¦è² è²¬å·¥ä½œæœ‰é‚£äº›ã€èˆ‰é«”è¡¨ç¾ä»¥åŠç›¸é—œæˆå°±å¦‚ä½•ï¼Œä¸”ä½¿ç”¨æ•¸å­—åŒ–å»é‡åŒ–å®ƒï¼Œä¸è¦åªæ‰“åŸ·è¡Œä¸»ç®¡äº¤è¾¦ä»»å‹™ä¹‹é¡çš„ç­”æ¡ˆã€‚ å¦‚æœæ˜¯ç¤¾æœƒæ–°é®®äººï¼Œæ²’æœ‰å·¥ä½œç¶“é©—ï¼Œå¯ä»¥æ”¾ä¸Šåœ¨å­¸æ ¡çš„å°ˆé¡Œæˆå°±æˆ–æ˜¯åƒèˆ‡ç¤¾åœ˜ç¶“é©—æœ‰ç”šéº¼è®“ä½ æ¯”è¼ƒå°è±¡æ·±åˆ»ï¼Œä¸”èˆ‡è©²å·¥ä½œå…§å®¹æ€§è³ªæœ‰é—œã€‚ è‡ªæˆ‘ä»‹ç´¹é™¤äº†èªªæ˜ä½ è‡ªå·±çš„ç¶“æ­·å¤–ï¼Œä¹Ÿæ˜¯ä¸€å€‹æœ€å¥½è¡ŒéŠ·è‡ªå·±çš„æ–¹å¼ï¼Œé¢è©¦å®˜å¯ä»¥å¾ä½ è‡ªæˆ‘ä»‹ç´¹ä¸­æ›´äº†è§£ä½ ï¼Œå½¢æˆå°ä½ çš„ç¬¬ä¸€å°è±¡ï¼Œå¦‚æœç¬¬ä¸€å°è±¡æ‰“å£äº†å°±å¾ˆé›£æ•‘äº†ï¼Œä¹Ÿä¸è¦è¬›çš„æ¼æ´ç™¾å‡ºï¼Œæˆ–æ˜¯èª‡å¤§å…¶è¾­ã€‚ ä¹Ÿå»ºè­°å¤§å®¶è¦æº–å‚™ä¸åŒæ™‚é–“ç‰ˆæœ¬çš„è‡ªæˆ‘ä»‹ç´¹ï¼Œä¸€åˆ†é˜ã€ä¸‰åˆ†é˜ã€äº”åˆ†é˜ï¼Œå…ˆå°é¡å­ç·´ç¿’ï¼Œæˆ–æ‰¾æœ‹å‹å”åŠ©ï¼Œè®“ä½ ç¿’æ…£çš„é€™æ¨£çš„æ„Ÿè¦ºï¼Œåœ¨é¢è©¦æ™‚ï¼Œèƒ½å¤ ç™¼æ®ç™¾åˆ†ä¹‹ç™¾çš„ä½ è‡ªå·±ã€‚ ä½ çš„é›¢è·åŸå› ï¼Ÿ ç‚ºä½•æƒ³ä¾†æˆ‘å€‘å…¬å¸ï¼Ÿ ä½ çš„æœŸæœ›å¾…é‡æ˜¯å¤šå°‘ï¼Ÿ ä½ çš„å„ªé»æ˜¯ç”šéº¼ ä½ çš„å¼±é»æ˜¯ç”šéº¼ äº”å¹´å¾Œçš„ä½ åœ¨åšç”šéº¼ åœ¨æ‰€æœ‰å€™é¸äººè£¡ï¼Œæˆ‘å€‘ç‚ºç”šéº¼è¦åƒ±ç”¨ä½  æ€æ¨£çš„ç‹€æ³ä¸‹ä½ æœƒé¸æ“‡æŠ•å…¥ä¸€å®¶å…¬å¸ï¼Ÿæ€æ¨£çš„ç‹€æ³ä¸‹ä½ æœƒé¸æ“‡é›¢é–‹ï¼Ÿ ä½ é‚„æœ‰ä»€éº¼å•é¡Œè¦å•çš„ï¼Ÿ å¯ä»¥è©¢å•é€™ä»½å±¥æ­·æœ‰æ²’æœ‰ç”šéº¼è³‡è¨Šä¸è¶³ï¼Œæˆ–æ˜¯å¯ä»¥æ›´å¥½çš„åœ°æ–¹ ","date":"2022-01-14","objectID":"/interview/:2:0","tags":["é¢è©¦","æ±‚è·"],"title":"é¢è©¦è©²æ€éº¼æº–å‚™?","uri":"/interview/"},{"categories":["experience"],"content":"é¢è©¦ç·Šå¼µææ‡¼è¦æ€éº¼å…‹æœ é¢è©¦æ™‚ä¸€å®šæœƒé‡åˆ°ææ‡¼ï¼Œå…¶ä¸­ä»¥å››ç¨®ææ‡¼ç‚ºä¸» å€‹äººå½¢è±¡çš„å›°æ“¾ï¼šæˆ‘å€‘å¤§å¤šæ•¸äººæœƒä¸å–œæ­¡è‡ªå·±çš„è²éŸ³ï¼Œä¸å–œæ­¡è‡ªå·±çš„èº«æï¼Œç¸½æœƒæœ‰äº›äº‹æƒ…ï¼Œè®“æˆ‘å€‘ä¸å¤ æœ‰è‡ªä¿¡ï¼Œæœ‰æ™‚å€™ï¼Œé€™å°±æ˜¯æˆ‘å€‘å…§å¿ƒçš„å°åŠ‡å ´ï¼Œæˆ‘å€‘è¦å¦‚ä½•é¢å°é€™ç¨®ææ‡¼å‘¢ï¼Ÿ å¯ä»¥å…ˆå¾è¡£è‘—ä¸Šæå‡ï¼Œä¸ç®¡æ˜¯è¦–è¨Šé¢è©¦ï¼Œé‚„æ˜¯ç¾å ´é¢è©¦ï¼Œç©¿è‘—é«”é¢çš„è¡£æœï¼Œä¸è¦ä¸ŠåŠèº«æ­£è£ï¼Œä¸‹åŠèº«ç©¿é‹å‹•è¤²ï¼Œç•¶ä½ æŠŠæ¯ä»¶äº‹æƒ…éƒ½åšåˆ°100%ï¼Œå°±å¯ä»¥æŠ•å°„å‡ºä½ çš„è‡ªä¿¡ï¼Œä¿®å‰ªä½ çš„é ­é«®ã€æ“¦äº®ä½ çš„çš®é‹ã€ç¢ºä¿ä½ çš„å€‹äººè¡›ç”Ÿã€‚ å®³æ€•èªªéŒ¯è©±ï¼šä¸»ç®¡å•ä½ äº‹æƒ…ï¼Œä½ å»æ”¯æ”¯å¾å¾çš„ï¼Œä¸çŸ¥é“è©²èªªç”šéº¼ï¼ŒèªªéŒ¯è©±å°±æœƒåœ¨å¿ƒè£¡æƒ³ï¼šã€Œæˆ‘çš„å¤©ï¼Œæˆ‘ä¸æ‡‰è©²é€™æ¨£èªªçš„ã€ï¼Œæˆ‘å€‘è¦å¦‚ä½•é¢å°é€™ç¨®ææ‡¼å‘¢ï¼Ÿ å¤šç·´ç¿’ï¼Œå› ç‚ºå¤§éƒ¨åˆ†çš„å•é¡Œéƒ½æ˜¯ä¸€æ¨£çš„ï¼Œç•¶ä½ çŸ¥é“å•é¡Œï¼Œå°±æ‡‰è©²è¦åšå¥½æº–å‚™ï¼Œå¯ä»¥è®“è¦ªæœ‹å¥½å‹ä¾†å”åŠ©ä½ ï¼Œè®“ä»–å€‘å¤šå•å¹¾æ¬¡é€™äº›å•é¡Œï¼Œå¾ä¸åŒçš„è§’åº¦ï¼Œä¸ç®¡æ˜¯é¢è©¦çš„ä¸€é–‹å§‹ï¼Œæˆ–æ˜¯é¢è©¦ä¸­å’Œé¢è©¦å¾Œï¼Œç›´åˆ°ä½ å¯ä»¥ä¸ç”¨æ€è€ƒå°±å¯ä»¥å›ç­”é€™äº›å•é¡Œã€‚è…¦ä¸­å·²ç¶“æœ‰å€‹å°è…³æœ¬äº†ï¼Œè¨˜å¾—è¦æŠŠé€™äº›éƒ½å¯«å‡ºä¾†ï¼Œä¹Ÿä¸éœ€è¦æ€•æœƒä¸è‡ªç„¶ï¼Œå°±åƒæ˜¯èˆå°ä¸Šçš„è¡¨æ¼”è€…ã€æˆ–æ˜¯åœ¨åœ¨æ¼”è¬›çš„æ¼”è¬›è€…ï¼Œä¸¦ä¸æ˜¯ä»–å€‘éƒ½ä¸éœ€è¦æ’æ¼”ã€‚ å®³æ€•å¾—ä¸åˆ°é€™ä»½å·¥ä½œï¼šå®³æ€•è‡ªå·±å¤±å»é€™æ¬¡æ©Ÿæœƒï¼Œæˆ‘å€‘è¦å¦‚ä½•é¢å°é€™ç¨®ææ‡¼å‘¢ï¼Ÿ åœ¨å»é¢è©¦å‰ï¼Œå…ˆéœä¸‹ä¾†ï¼Œé–‰ä¸Šçœ¼ç›ï¼Œæƒ³åƒä¸€ä¸‹ï¼Œä½ èµ°é€²å»é¢è©¦å ´åœ°æˆ–æ˜¯åŠ å…¥ç·šä¸ŠèŠå¤©å®¤ä¸­ï¼Œå¤§å®¶é¢å°ä½ çš„å¾®ç¬‘ï¼Œè©¦è‘—æƒ³åƒæˆåŠŸï¼Œå› ç‚ºæ­£é¢çš„æœŸæœ›ï¼Œæœƒå¸¶ä¾†æ­£é¢çš„æ•ˆæœã€‚åœ¨è…¦ä¸­å¹»æƒ³çš„é‚£äº›è² é¢æƒ…ç·’ï¼Œå°ä½ çš„è¡¨ç¾æ²’æœ‰ä»»ä½•çš„å¹«åŠ©ã€‚ å®³æ€•åˆ¥äººçš„çœ‹æ³•ï¼šä½œç‚ºä¸€å€‹äººé¡ï¼Œæœƒå¾ˆåœ¨ä¹å¤§å¤šæ•¸äººæˆ–åˆ¥äººæ˜¯æ€éº¼çœ‹å¾…æˆ‘çš„ï¼Œé€™æ˜¯å¾ˆæ­£å¸¸çš„äº‹æƒ…ï¼Œæˆ‘å€‘è¦å¦‚ä½•é¢å°é€™ç¨®ææ‡¼å‘¢ï¼Ÿ ä½ è¦æŠŠäº‹æƒ…éƒ½å…ˆå®‰æ’å¥½ï¼Œä»¥é˜²è¬ä¸€ç™¼ç”Ÿï¼Œä½ å¯ä»¥æœ‰ä¸€å€‹Plan Bï¼Œä½†å¦‚æœé€™æ˜¯ä½ çš„ä¸€åˆ‡ï¼Œä½ å¾ˆé›£ä¸ç·Šå¼µã€‚å¯ä»¥å…ˆå¤šæ‰¾å¹¾é–“è¦é¢è©¦çš„å…¬å¸ï¼Œé›–ç„¶é‚£ä¸¦ä¸ä¸€å®šæ˜¯ä½ æœ€æƒ³è¦çš„ï¼Œä½†ä½ çŸ¥é“ï¼Œå¦‚æœçœŸçš„ä¸å¹¸æç ¸äº†ä½ æœ€æƒ³è¦å»çš„é‚£ä¸€é–“ï¼Œé‚„æœ‰å…¶ä»–å‚™æ¡ˆï¼Œå°‡é€™ç¨®è‡ªä¿¡è¡¨ç¾å‡ºä¾†ï¼Œä½ å°±å¯ä»¥å¾ˆå†·éœï¼Œè¡¨ç¾å‡ºæœ€çœŸå¯¦çš„ä½ è‡ªå·±ã€‚ ","date":"2022-01-14","objectID":"/interview/:3:0","tags":["é¢è©¦","æ±‚è·"],"title":"é¢è©¦è©²æ€éº¼æº–å‚™?","uri":"/interview/"},{"categories":["experience"],"content":"è³‡æ–™ä¾†æº å¦‚ä½•åœ¨é¢è©¦ä¸­å……æ»¿è‡ªä¿¡ é€™æ¨£å›ç­”ä¿è­‰éŒ„å–ï¼ç ´è§£é¢è©¦å®˜æœ€æ„›å•çš„ 7 å€‹å•é¡Œ ","date":"2022-01-14","objectID":"/interview/:4:0","tags":["é¢è©¦","æ±‚è·"],"title":"é¢è©¦è©²æ€éº¼æº–å‚™?","uri":"/interview/"},{"categories":["experience"],"content":"å‘Šè¨´ä½ å±¥æ­·è£½ä½œçš„å°æŠ€å·§ï¼Œä»¥åŠä»€éº¼æ˜¯åƒè¬åˆ¥åšçš„åœ°é›·","date":"2022-01-14","objectID":"/resume/","tags":["å±¥æ­·","æ±‚è·"],"title":"å±¥æ­·åˆ°åº•è¦æ€éº¼å¯«æ¯”è¼ƒå¥½?","uri":"/resume/"},{"categories":["experience"],"content":"åœ¨å¯«å±¥æ­·ä¹‹å‰ï¼Œæˆ‘å€‘å…ˆè¨­æƒ³ä¸€ä¸‹ï¼Œä½ é€™ä»½å±¥æ­·æ˜¯è¦çµ¦èª°çœ‹çš„å‘¢? åƒæ˜¯HRã€çµé ­å…¬å¸ã€è·¨éƒ¨é–€åŒéƒ¨é–€çš„åŒäº‹å—? æ‰€ä»¥å±¥æ­·çš„å‘ˆç¾æ–¹å¼ï¼Œä»¥åŠèƒ½ä¸èƒ½è®“ä»–è®€å¾—æ‡‚å¾ˆé‡è¦ï¼Œä½ è¦æŠŠè‡ªå·±æƒ³æˆæ˜¯å€‹é¢è©¦å®˜ï¼Œå¾é¢è©¦å®˜çš„è§’åº¦å»æƒ³ï¼Œä½ å¸Œæœ›çœ‹åˆ°é‚£äº›å…§å®¹ ","date":"2022-01-14","objectID":"/resume/:0:0","tags":["å±¥æ­·","æ±‚è·"],"title":"å±¥æ­·åˆ°åº•è¦æ€éº¼å¯«æ¯”è¼ƒå¥½?","uri":"/resume/"},{"categories":["experience"],"content":"å±¥æ­·çš„åŸºæœ¬æŠ€å·§ åŸºæœ¬è³‡æ–™ä¸ç”¨å¯«å¤ªå¤šï¼Œä¸éœ€è¦æŠŠå¾å“ªè£¡å‡ºç”Ÿï¼Œå®¶è£¡æœ‰å¹¾å€‹äººé€šé€šå¯«å‡ºä¾†ï¼Œåªéœ€è¦ç°¡å–®çš„åå­—ã€é›»è©±ã€åœ°å€ç­‰åŸºæœ¬è³‡æ–™ã€‚ éœ€è¦æœ‰æ˜é¡¯çš„å…§å®¹åˆ†é¡ï¼Œä¸»è¦ä»¥å››å¤§ç‚ºä¸»ï¼ŒåŸºæœ¬è³‡æ–™ã€å·¥ä½œç¶“é©—ã€æœ€é«˜å­¸æ­·ã€ç›¸é—œæŠ€èƒ½ã€‚ å±¥æ­·æœ€å¥½æ˜¯ä¸è¦è¶…éä¸€é ï¼Œé™¤éæ˜¯éœ€è¦æ”¾ä½œå“é›†æˆ–æ˜¯ä¸€äº›è£œå……è³‡è¨Šï¼Œä¸ç®¡æ˜¯æœ‰å¤šå°‘å¹´çš„å·¥ä½œç¶“é©—ï¼Œè¦æƒ³è¾¦æ³•æŠŠç²¾è¯æ¿ƒç¸®åœ¨é€™ä¸€é ä¸­ï¼ˆå°‡æœ€é‡è¦ä»¥åŠæœ€è¿‘æœŸçš„å·¥ä½œç¶“é©—æ”¾åˆ°é€™ä¸€é ä¸­ï¼Œå…¶ä»–çš„ç›¸é—œç¶“é©—å¯ä»¥åœ¨é¢è©¦æ™‚è£œå……ï¼‰æœ€æœ€æœ€ä¸»è¦æ˜¯è¦å‹¾èµ·é¢è©¦å®˜å°ä½ çš„å¥½å¥‡å¿ƒã€‚ å¦‚æœæ˜¯å­¸ç”Ÿï¼Œå‰›å‡ºç¤¾æœƒæ²’æœ‰ä»»ä½•çš„å·¥ä½œç¶“é©—ï¼Œå¯ä»¥å°‡å­¸ç”Ÿæ™‚æœŸæ‰€åšçš„å°ˆæ¡ˆæˆ–æ˜¯ç›¸é—œçš„èª²ç¨‹æ”¾é€²å±¥æ­·ä¸­ã€‚å…¶ä¸­å­¸ç”Ÿæ™‚æœŸå¦‚æœæœ‰å¯¦ç¿’ç¶“é©—ï¼Œæ›´ç‚ºé‡è¦ï¼Œå› ç‚ºå¾ˆå¤šäººå°±æ˜¯æ²’æœ‰å·¥ä½œç¶“é©—ï¼Œæ‰€ä»¥å¿…é ˆé å¯¦ç¿’çš„ç¶“é©—ä¾†åŠ å¼·ä½ çš„å±¥æ­·ï¼ˆçœŸçš„æ²’æœ‰ä»»ä½•ç›¸é—œçš„å·¥ä½œç¶“é©—ï¼Œå¯ä»¥å°‡ç¤¾åœ˜ç•¶ä»»çš„é‚£äº›è·ä½ï¼Œåšäº†å“ªäº›äº‹æƒ…ï¼Œåœ¨å…¶ä¸­é”åˆ°äº†é‚£äº›ç›®æ¨™ï¼‰ã€‚ è¦å®¢åˆ¶åŒ–è‡ªå·±çš„å±¥æ­·ï¼Œæœ‰æ™‚å€™æœƒåŒæ™‚ç”³è«‹ä¸åŒå…¬å¸æˆ–æ˜¯ä¸åŒéƒ¨é–€ï¼Œè¦é‡å°è©²å…¬å¸è©²è·ä½å»å®¢åˆ¶åŒ–å±¥æ­·ã€‚ ä¾‹å¦‚é¢è©¦çš„å…¬å¸Aæ˜¯å¼·èª¿è¦ç¨ç«‹æ€è€ƒçš„ï¼Œé‚£åœ¨å±¥æ­·ä¸­å°±å¯ä»¥å¯«è‡ªå·±æ‰€åšçš„æ¡ˆå­ï¼ŒBå…¬å¸è¦çš„æ˜¯åœ˜éšŠåˆä½œèƒ½åŠ›ï¼Œé‚£å°±å¯ä»¥åœ¨å±¥æ­·ä¸­å¯«è‡ªå·±åœ¨åœ˜éšŠä¸­æ‰®æ¼”ç”šéº¼è…³è‰²ï¼Œä¸€èµ·é”åˆ°é‚£äº›ç›®æ¨™ã€‚ ä¸è¦åœ¨å±¥æ­·ä¸Šå¯«åˆ°ä½ çš„å¼±é»ï¼Œé›–ç„¶é¢è©¦æ™‚ä¸èƒ½å¤ èªªè¬Šå»ä¸æ‰¿èªä½ ä¸æœƒçš„æ±è¥¿ï¼Œä½†æ˜¯å±¥æ­·å°±æ˜¯ä¸€å€‹åŒ…è£ï¼Œå±¥æ­·æ˜¯çµ¦é¢è©¦å®˜çš„ç¬¬ä¸€å°è±¡ï¼Œä½ è¦æŠŠæœ€å®Œç¾çš„è‡ªå·±å‘ˆç¾å‡ºä¾†ã€‚ åœ¨å±¥æ­·è¡¨ä¸Šï¼Œä¸è¦åªèªªè‡ªå·±å¾ˆæœƒæ€éº¼æ¨£æˆ–æ˜¯åšéå“ªå€‹æ¡ˆå­ï¼Œè¦æŠŠä½ åšé€™å€‹æ¡ˆå­ä¸­ï¼Œä½ åšäº†é‚£äº›æ”¹è®Šï¼Œç‚ºå…¬å¸æˆ–é€™éº¼æ¡ˆå­å¸¶ä¾†å“ªäº›å¥½çš„å½±éŸ¿ï¼Œæœ€å¥½ç”¨æ•¸æ“šåŒ–ä¾†é‡åŒ–ä½ çš„æˆæ•ˆï¼ˆæå‡äº†å¤šå°‘çš„æ•ˆç‡ã€å¹«å…¬å¸çœä¸‹å¤šå°‘éŒ¢ï¼‰ï¼Œé€šå¸¸æ¡ˆå­éƒ½æ˜¯ä¸€å€‹åœ˜é«”ä¸€èµ·åšï¼Œä½†æ˜¯ä½ åªè¦å¼·èª¿ä½ åšå‡ºçš„è²¢ç»ã€‚ è¦ç”¨å¯¦é«”çš„ä¾‹å­ä¾†è­‰æ˜è‡ªå·±çš„é•·è™• å¯èƒ½æœƒè² è²¬é‚£äº›äº‹æƒ… æœƒé‡åˆ°é‚£äº›å›°é›£ éœ€è¦æä¾›é‚£äº›èƒ½åŠ› é€™ä»½å·¥ä½œéœ€è¦çš„åƒ¹å€¼è§€ä»¥åŠç›®æ¨™ ","date":"2022-01-14","objectID":"/resume/:1:0","tags":["å±¥æ­·","æ±‚è·"],"title":"å±¥æ­·åˆ°åº•è¦æ€éº¼å¯«æ¯”è¼ƒå¥½?","uri":"/resume/"},{"categories":["experience"],"content":"å±¥æ­·çš„åœ°é›· ä¸è¦æ”¾ä»»ä½•èˆ‡è·ç¼ºéœ€è¦çš„å°ˆæ¥­èƒ½åŠ›ç„¡é—œçš„å…§å®¹ å¦‚æœæ˜¯æ–°é®®äººï¼Œæ²’ä»»ä½•çš„å·¥ä½œç¶“æ­·ï¼Œä¹Ÿä¸è¦æŠŠåƒåŠ æ´»å‹•çš„é ­éŠœç•¶ä½œæ“æœ‰çš„å·¥ä½œèƒ½åŠ› è¦è¨˜å¾— è¦è¡¨ç¾å¿ƒç›®ä¸­é‚£å€‹å¥½çš„è‡ªå·±ï¼Œè€Œä¸”æ˜¯æœ€çœŸå¯¦çš„è‡ªå·± ! ","date":"2022-01-14","objectID":"/resume/:2:0","tags":["å±¥æ­·","æ±‚è·"],"title":"å±¥æ­·åˆ°åº•è¦æ€éº¼å¯«æ¯”è¼ƒå¥½?","uri":"/resume/"},{"categories":["codenotes"],"content":".Net Core æ˜¯å¾®è»Ÿæ–°ä¸–ä»£é–‹ç™¼æŠ€è¡“ï¼Œä¸ä½†å¯¦æ–½äº†.NETè·¨å¹³å°é–‹ç™¼èˆ‡åŸ·è¡Œï¼ŒåŒæ™‚ä¹Ÿå°‡æ¡†æ¶å¤§æ”¹é€ ã€‚ ","date":"2022-01-03","objectID":"/asp.net-core/:0:0","tags":["ASP.NET Core","ä»‹ç´¹"],"title":"ASP.NET Coreä»‹ç´¹","uri":"/asp.net-core/"},{"categories":["codenotes"],"content":"ä»‹ç´¹ .Net Core æ˜¯å¾®è»Ÿæ–°ä¸–ä»£é–‹ç™¼æŠ€è¡“ï¼Œä¸ä½†å¯¦æ–½äº†.NETè·¨å¹³å°é–‹ç™¼èˆ‡åŸ·è¡Œï¼ŒåŒæ™‚ä¹Ÿå°‡æ¡†æ¶å¤§æ”¹é€ ã€‚ å„ªå‹¢ è·¨å¹³å° (å¯é‹è¡Œæ–¼Windowsã€Mac OSXã€Ubuntu Liunx ) æ˜¯ç¬¬ä¸€æ¬¾Microsoftæœ‰è·¨å¹³å°èƒ½åŠ›çš„ï¼·eb é–‹ç™¼æ¡†æ¶ï¼Œä¸¦æ”¯æ´é›²ç«¯ã€‚ è·¨æ¶æ§‹ä¸€è‡´æ€§ï¼ˆåœ¨x64ã€x86ã€ARMã€ARM64ä¸åŒè™•ç†å™¨æ¶æ§‹åŸ·è¡Œï¼Œä»ç„¶ä¿æŒç›¸åŒï¼‰ å½ˆæ€§éƒ¨ç½²ï¼ˆä¸»æ©Ÿå¯ç”¨IISã€Apacheã€Dockerï¼‰ã€‚ ä¸€ç¨®ç”¨æ–¼MVCå’ŒWeb APIçš„çµ±ä¸€ç·¨ç¨‹æ¨¡å‹ã€‚ é–‹æ”¾åŸå§‹ç¢¼ï¼ˆä½¿ç”¨MISå’ŒApache2æˆæ¬Šçš„é–‹æ”¾åŸå§‹ç¢¼ï¼‰ã€‚ å–®å…ƒæ¸¬è©¦ï¼ˆå¯æ¸¬è©¦æ€§ï¼‰ï¼Œä¸¦å¯æ¨¡çµ„åŒ–ã€‚ ","date":"2022-01-03","objectID":"/asp.net-core/:1:0","tags":["ASP.NET Core","ä»‹ç´¹"],"title":"ASP.NET Coreä»‹ç´¹","uri":"/asp.net-core/"},{"categories":["codenotes"],"content":"æ¯”è¼ƒ.NET Core / ASP.NET Code / ASP.NET Core MVC æ¯”è¼ƒ .NET Core ASP.NET Code ASP.NET Core MVC ä»£è¡¨ .NET Framework ASP.NET ASP.NET MVC èªªæ˜ å¹³å°æ¡†æ¶ï¼Œæœ€å»£æ³›çš„æŠ€è¡“æ„ç¾© ç¶²é æŠ€è¡“ ASP.NET Core ç¶²é æŠ€è¡“ä¸­çš„MVCé–‹ç™¼æ¡†æ¶ ","date":"2022-01-03","objectID":"/asp.net-core/:2:0","tags":["ASP.NET Core","ä»‹ç´¹"],"title":"ASP.NET Coreä»‹ç´¹","uri":"/asp.net-core/"},{"categories":["codenotes"],"content":"MVC æ˜¯ä¸€ç¨®è¨­è¨ˆçš„æ¨£å¼ï¼Œä»£è¡¨Modelã€Viewã€Controller ä¸‰å€‹éƒ¨åˆ† Model è² è²¬è™•ç†é‚è¼¯åŠè³‡æ–™é¢ (è³‡æ–™åº«å­˜å–) Viewè² è²¬è™•ç†UIä»‹é¢ï¼ˆHTMLã€Javescriptã€CSSï¼‰ Controllerè² è²¬æ¥æ”¶Requestè«‹æ±‚ã€å”èª¿Modelã€Viewã€å°‡å›æ‡‰çµæœçµ¦ä½¿ç”¨è€… è©²åˆ†å·¥å¥½è™•æ˜¯å¯ä»¥é”åˆ°é—œæ³¨é»åˆ†é›¢ï¼ˆSoCï¼‰ã€è¼ƒå¥½çš„åˆ†å±¤æ¶æ§‹ã€é™ä½è¤‡é›œåº¦ï¼Œå¾€å¾Œæ–¹ä¾¿å°ç¨‹å¼é€²è¡Œç¶­è­·ã€‚ ","date":"2022-01-03","objectID":"/asp.net-core/:3:0","tags":["ASP.NET Core","ä»‹ç´¹"],"title":"ASP.NET Coreä»‹ç´¹","uri":"/asp.net-core/"},{"categories":["codenotes"],"content":"ASP.NET Core MVC? æ˜¯æ”¯æ´MVCè¨­è¨ˆçš„æ¡†æ¶ã€‚ ","date":"2022-01-03","objectID":"/asp.net-core/:4:0","tags":["ASP.NET Core","ä»‹ç´¹"],"title":"ASP.NET Coreä»‹ç´¹","uri":"/asp.net-core/"},{"categories":["codenotes"],"content":"MVC åŸ·è¡Œæµç¨‹ ä½¿ç”¨è€…åœ¨ç€è¦½å™¨è¼¸å…¥URLç¶²å€å¾Œï¼Œæœƒç™¼å‡ºRequest è«‹æ±‚è‡³ä¼ºæœå™¨ ä¸­é–“æœƒå…ˆç¶“éRoutingè·¯ç”±æ©Ÿåˆ¶ï¼Œæ‰¾åˆ°å°æ‡‰çš„ControlleråŠAction Method Action æœƒå‘¼å«Modelï¼Œä»¥è®€å–æˆ–æ˜¯æ›´æ–°è³‡æ–™ Modelæœƒå…ˆé€²è¡Œé‚è¼¯è¨ˆç®—åŠè³‡æ–™åº«å­˜å–ï¼Œå†å›å‚³çµ¦Action Actionæœƒå°‡Modelè³‡æ–™ä¸Ÿçµ¦Viewä½œç¶²é å‘ˆç¾ View Engine å°‡æœ€çµ‚HTML çµæœå¯«å…¥Reponse è¼¸å‡ºè³‡æ–™æµï¼Œå›æ‡‰çµ¦ä½¿ç”¨è€…ç€è¦½å™¨ã€‚ ","date":"2022-01-03","objectID":"/asp.net-core/:5:0","tags":["ASP.NET Core","ä»‹ç´¹"],"title":"ASP.NET Coreä»‹ç´¹","uri":"/asp.net-core/"},{"categories":["codenotes"],"content":"MVC å°ˆæ¡ˆè³‡æ–™å¤¾åŠŸèƒ½èªªæ˜ Properties\u003elaunchSettings.json (æœ¬æ©Ÿé–‹ç™¼é›»è…¦çš„ç’°å¢ƒçµ„æ…‹æª”) wwwroot è³‡æ–™å¤¾ (å…¬é–‹çš„éœæ…‹è³‡æºæª”ç›®éŒ„ï¼Œå¦‚cssã€jsã€imagesç­‰ç­‰) Controller è³‡æ–™å¤¾ (Controller æ§åˆ¶é …é¡åˆ¥æ‰€åœ¨ç›®éŒ„) Model è³‡æ–™å¤¾ (Model æ¨¡å‹é¡åˆ¥æ‰€åœ¨ç›®éŒ„) View è³‡æ–™å¤¾ (æœ‰Homeã€Sharedã€_ViewImports.cshtmlã€_ViewStart.cshtml) Home ç›®éŒ„å…§æœ‰Indexã€Provacyå…©å€‹cshtml Shared ç›®éŒ„å…§æœ‰_Layout.cshtmlã€_ValidationScriptsPartial.cshtmlã€Error.cshtml appsettings.json (ä¾›æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨çš„çµ„æ…‹è¨­å®š) Program.cs (ç¨‹å¼é€²å…¥é»ï¼Œä¸»è¦è² è²¬å‰µå»ºHostã€ç’°å¢ƒåŠçµ„æ…‹è¨­å®š) Startup.cs (è² è²¬DI ContaineråŠMiddleware å…ƒä»¶è¨­å®š) ","date":"2022-01-03","objectID":"/asp.net-core/:6:0","tags":["ASP.NET Core","ä»‹ç´¹"],"title":"ASP.NET Coreä»‹ç´¹","uri":"/asp.net-core/"},{"categories":["youtube"],"content":"èŠ±è“®LongStay å°±å¾å‰å®‰é„‰é–‹å§‹ï¼Œå’Œå®¶äººåˆ°èŠ±è“®é•·é”ä¸€å€‹æœˆçš„ç”Ÿæ´»æ­£å¼é–‹å§‹å›‰ï¼ æ—…éŠå„æ™¯é» 1:35 ä½³èˆˆæª¸æª¬æ± 1:46 ç‚¸å½ˆè”¥æ²¹é¤… 3:45 è²¨æ«ƒæ˜Ÿå·´å…‹ 4:18 ç‰é‡Œè‡­è±†è…(è²¨æ«ƒæ˜Ÿå·´å…‹æ—) 4:57 å°ç£æµ·ç¤¦é¤¨ 7:07 48é«˜åœ°æˆ°å‚™å‘é“ 8:26 å–®ä¸€é›æ¹¯å°å·ç±³ç²‰ 8:59 æ¾åœ’åˆ¥é¤¨ 9:36 ä¸€å¿ƒæ³¡æ³¡å†° 10:25 å¥½å®¢è—è¡“æ‘ 11:14 æ…¶ä¿®é™¢ 11:50 æ…¶è±éºµåº— è¨­å‚™/å‰ªè¼¯/BGM è¨­å‚™ï¼š ä¸»æ”å½±ï¼šï¼šGoPro 7 and GoPro 9 ç©ºæ‹ï¼šDJI mini 1ä»£ æ‹ç…§ï¼šIphone 12 Pro å‰ªè¼¯ï¼š Final Cut Pro ç…§ç‰‡å¾Œè£½ï¼š Canva BGMï¼š Travel Lovers Chasing Stars â€“ Lesion X (No Copyright Music) Le Gang - I Donâ€™t Need U 2 Say Anything ALâ€™sic - Paradise éŸ³æ¨‚ç‰ˆæ¬Šè²æ˜ Chasing Stars - Lesion X https://soundcloud.com/lesionxbeats Creative Commons â€” Attribution 3.0 Unported â€” CC BY 3.0 Free Download / Stream: https://bit.ly/3yeSVkb Music promoted by Audio Library https://youtu.be/WvXJm9seiJM ç›¸é—œé€£çµ å½±ç‰‡ğŸ¬ï¼šä¸‹æ–¹è«‹æ”¶çœ‹ ğŸ‘‡ ","date":"2021-08-16","objectID":"/hualien-part1/:0:0","tags":["LongStay","æ—…éŠ","YouTube"],"title":"èŠ±è“®å‰å®‰é„‰åœ¨åœ°æ—…éŠ ã€Part 1ã€‘ èŠ±è“®è¦æ€éº¼ç©ï¼Ÿç©ä¸€å€‹æœˆå¸¶ä½ èªè­˜ä½ ä¸çŸ¥é“çš„èŠ±è“®","uri":"/hualien-part1/"},{"categories":["youtube"],"content":"æƒ³è¦çŸ¥é“èŠ±è“®è©²æ€éº¼ç©å—ï¼Ÿé‚„ä¸è¶•å¿«è¨‚é–±åŠ åˆ†äº«ï¼Œä¸‹ä¸€é›†å°‡åœ¨èŠ±è“®ç©ä¸€å€‹æœˆçµ¦ä½ çœ‹ å¾2021.08.01 åˆ° 2021.08.31 ä¸€å€‹æœˆçš„æ™‚é–“ä¾†ç©éæ•´å€‹èŠ±è“® æƒ³è¦çœ‹å“ªå€‹èŠ±è“®çš„æ™¯é»ï¼Œå¯ä»¥åˆ°ä¸‹é¢ç•™è¨€å–”ğŸ¥° è¨­å‚™/å‰ªè¼¯/BGM è¨­å‚™ï¼š ä¸»æ”å½±ï¼šGoPro 7 and GoPro 9 ç©ºæ‹ï¼šDJI mini 1ä»£ æ‹ç…§ï¼šIphone 12 Pro å‰ªè¼¯ï¼š Final Cut Pro ç…§ç‰‡å¾Œè£½ï¼š Canva BGMï¼š BGMï¼šLAKEY INSPIRED - Chill Day ç›¸é—œé€£çµ å½±ç‰‡ğŸ¬ï¼šä¸‹æ–¹è«‹æ”¶çœ‹ ğŸ‘‡ ","date":"2021-08-09","objectID":"/painting/:0:0","tags":["æ²¹ç•«","æ—…éŠ","YouTube"],"title":"ã€æ•¸å­—æ²¹ç•« - å·çœ‹è²“ ã€ç•ªå¤–ç¯‡ã€‘èŠ±è“®è¦æ€éº¼ç©ï¼Ÿç©ä¸€å€‹æœˆå¸¶ä½ èªè­˜ä½ ä¸çŸ¥é“çš„èŠ±è“®","uri":"/painting/"},{"categories":["youtube"],"content":"è·Ÿè€çˆ¸è€å¼Ÿé¨æ©Ÿè»Šå»å·¨äººä¹‹æ‰‹ğŸ’– è¨­å‚™/å‰ªè¼¯/BGM è¨­å‚™ï¼š ä¸»æ”å½±ï¼šGoPro 7 ç©ºæ‹ï¼šDJI mini 1ä»£ æ‹ç…§ï¼šIphone 12 Pro å‰ªè¼¯ï¼š Adobe Premiere Pro ç…§ç‰‡å¾Œè£½ï¼š Canva BGMï¼š Jarico Island Vlog No Copyright Music Markvard Desire Vlog No Copyright Music ç›¸é—œé€£çµ å½±ç‰‡ğŸ¬ï¼šä¸‹æ–¹è«‹æ”¶çœ‹ ğŸ‘‡ ","date":"2021-02-05","objectID":"/giant-hand/:0:0","tags":["æ©Ÿè»Š","æ—…éŠ","YouTube"],"title":"ã€å·¨äººä¹‹æ‰‹ã€‘ å®¶åº­æ©Ÿè»Šå‡ºéŠVLOG","uri":"/giant-hand/"},{"categories":["documentation"],"content":"FeelIt ä¸»é¡Œåœ¨ Hugo å…§ç½®çš„ shortcode çš„åŸºç¤ä¸Šæä¾›å¤šå€‹æ“´å±•çš„ shortcode.","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"FeelIt ä¸»é¡Œåœ¨ Hugo å…§ç½®çš„ shortcode çš„åŸºç¤ä¸Šæä¾›å¤šå€‹æ“´å±•çš„ shortcode. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:0:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"1 style æ³¨æ„ Hugo extended ç‰ˆæœ¬å°æ–¼ style shortcode æ˜¯å¿…éœ€çš„. style shortcode ç”¨ä¾†åœ¨ä½ çš„æ–‡ç« ä¸­æ’å…¥è‡ªå®šç¾©æ¨£å¼. style shortcode æœ‰å…©å€‹ä½ç½®åƒæ•¸. ç¬¬ä¸€å€‹åƒæ•¸æ˜¯è‡ªå®šç¾©æ¨£å¼çš„å…§å®¹. å®ƒæ”¯æŒ Â SASS ä¸­çš„åµŒå¥—èªæ³•, ä¸¦ä¸” \u0026 æŒ‡ä»£é€™å€‹çˆ¶å…ƒç´ . ç¬¬äºŒå€‹åƒæ•¸æ˜¯åŒ…è£¹ä½ è¦æ›´æ”¹æ¨£å¼çš„å…§å®¹çš„ HTML æ¨™ç°½, é»˜èªå€¼æ˜¯ div. ä¸€å€‹ style ç¤ºä¾‹: {{\u003c style \"text-align:right; strong{color:#00b1ff;}\" \u003e}} This is a **right-aligned** paragraph. {{\u003c /style \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: This is a right-aligned paragraph. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:1:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"2 link link shortcode æ˜¯ Markdown éˆæ¥èªæ³• çš„æ›¿ä»£. link shortcode å¯ä»¥æä¾›ä¸€äº›å…¶å®ƒçš„åŠŸèƒ½ä¸¦ä¸”å¯ä»¥åœ¨ä»£ç¢¼å¡Šä¸­ä½¿ç”¨. æ”¯æŒæœ¬åœ°è³‡æºå¼•ç”¨çš„å®Œæ•´ç”¨æ³•. link shortcode æœ‰ä»¥ä¸‹å‘½ååƒæ•¸: href [å¿…éœ€] (ç¬¬ä¸€å€‹ä½ç½®åƒæ•¸) éˆæ¥çš„ç›®æ¨™. content [å¯é¸] (ç¬¬äºŒå€‹ä½ç½®åƒæ•¸) éˆæ¥çš„å…§å®¹, é»˜èªå€¼æ˜¯ href åƒæ•¸çš„å€¼. æ”¯æŒ Markdown æˆ–è€… HTML æ ¼å¼. title [å¯é¸] (ç¬¬ä¸‰å€‹ä½ç½®åƒæ•¸) HTML a æ¨™ç°½ çš„ title å±¬æ€§, ç•¶æ‡¸åœåœ¨éˆæ¥ä¸Šæœƒé¡¯ç¤ºçš„æç¤º. rel [å¯é¸] HTML a æ¨™ç°½ çš„ rel è£œå……å±¬æ€§. class [å¯é¸] HTML a æ¨™ç°½ çš„ class å±¬æ€§. ä¸€å€‹ link ç¤ºä¾‹: {{\u003c link \"https://assemble.io\" \u003e}} æˆ–è€… {{\u003c link href=\"https://assemble.io\" \u003e}} {{\u003c link \"mailto:contact@revolunet.com\" \u003e}} æˆ–è€… {{\u003c link href=\"mailto:contact@revolunet.com\" \u003e}} {{\u003c link \"https://assemble.io\" Assemble \u003e}} æˆ–è€… {{\u003c link href=\"https://assemble.io\" content=Assemble \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: https://assemble.io mailto:contact@revolunet.com Assemble ä¸€å€‹å¸¶æœ‰æ¨™é¡Œçš„ link ç¤ºä¾‹: {{\u003c link \"https://github.com/upstage/\" Upstage \"Visit Upstage!\" \u003e}} æˆ–è€… {{\u003c link href=\"https://github.com/upstage/\" content=Upstage title=\"Visit Upstage!\" \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹ (å°‡é¼ æ¨™æ‡¸åœåœ¨éˆæ¥ä¸Šï¼Œæœƒæœ‰ä¸€è¡Œæç¤º): Upstage ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:2:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"3 image image shortcode æ˜¯ figure shortcode çš„æ›¿ä»£. image shortcode å¯ä»¥å……åˆ†åˆ©ç”¨ lazysizes å’Œ lightgallery.js å…©å€‹ä¾è³´åº«. æ”¯æŒæœ¬åœ°è³‡æºå¼•ç”¨çš„å®Œæ•´ç”¨æ³•. image shortcode æœ‰ä»¥ä¸‹å‘½ååƒæ•¸: src [å¿…éœ€] (ç¬¬ä¸€å€‹ä½ç½®åƒæ•¸) åœ–ç‰‡çš„ URL. alt [å¯é¸] (ç¬¬äºŒå€‹ä½ç½®åƒæ•¸) åœ–ç‰‡ç„¡æ³•é¡¯ç¤ºæ™‚çš„æ›¿ä»£æ–‡æœ¬, é»˜èªå€¼æ˜¯ src åƒæ•¸çš„å€¼. æ”¯æŒ Markdown æˆ–è€… HTML æ ¼å¼. caption [å¯é¸] (ç¬¬ä¸‰å€‹ä½ç½®åƒæ•¸) åœ–ç‰‡æ¨™é¡Œ. æ”¯æŒ Markdown æˆ–è€… HTML æ ¼å¼. title [å¯é¸] ç•¶æ‡¸åœåœ¨åœ–ç‰‡ä¸Šæœƒé¡¯ç¤ºçš„æç¤º. class [å¯é¸] HTML figure æ¨™ç°½çš„ class å±¬æ€§. src_s [å¯é¸] åœ–ç‰‡ç¸®ç•¥åœ–çš„ URL, ç”¨åœ¨ç•«å»Šæ¨¡å¼ä¸­, é»˜èªå€¼æ˜¯ src åƒæ•¸çš„å€¼. src_l [å¯é¸] é«˜æ¸…åœ–ç‰‡çš„ URL, ç”¨åœ¨ç•«å»Šæ¨¡å¼ä¸­, é»˜èªå€¼æ˜¯ src åƒæ•¸çš„å€¼. height [å¯é¸] åœ–ç‰‡çš„ height å±¬æ€§. width [å¯é¸] åœ–ç‰‡çš„ width å±¬æ€§. linked [å¯é¸] åœ–ç‰‡æ˜¯å¦éœ€è¦è¢«éˆæ¥, é»˜èªå€¼æ˜¯ true. rel [å¯é¸] HTML a æ¨™ç°½ çš„ rel è£œå……å±¬æ€§, åƒ…åœ¨ linked å±¬æ€§è¨­ç½®æˆ true æ™‚æœ‰æ•ˆ. ä¸€å€‹ image ç¤ºä¾‹: {{\u003c image src=\"/images/lighthouse.jpg\" caption=\"Lighthouse (`image`)\" src_s=\"/images/lighthouse-small.jpg\" src_l=\"/images/lighthouse-large.jpg\" \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Lighthouse (image)\" Lighthouse (image) ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:3:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"4 admonition admonition shortcode æ”¯æŒ 12 ç¨® å¹«åŠ©ä½ åœ¨é é¢ä¸­æ’å…¥æç¤ºçš„æ©«å¹…. æ”¯æŒ Markdown æˆ–è€… HTML æ ¼å¼. æ³¨æ„ ä¸€å€‹ æ³¨æ„ æ©«å¹… æ‘˜è¦ ä¸€å€‹ æ‘˜è¦ æ©«å¹… ä¿¡æ¯ ä¸€å€‹ ä¿¡æ¯ æ©«å¹… æŠ€å·§ ä¸€å€‹ æŠ€å·§ æ©«å¹… æˆåŠŸ ä¸€å€‹ æˆåŠŸ æ©«å¹… å•é¡Œ ä¸€å€‹ å•é¡Œ æ©«å¹… è­¦å‘Š ä¸€å€‹ è­¦å‘Š æ©«å¹… å¤±æ•— ä¸€å€‹ å¤±æ•— æ©«å¹… å±éšª ä¸€å€‹ å±éšª æ©«å¹… Bug ä¸€å€‹ Bug æ©«å¹… ç¤ºä¾‹ ä¸€å€‹ ç¤ºä¾‹ æ©«å¹… å¼•ç”¨ ä¸€å€‹ å¼•ç”¨ æ©«å¹… admonition shortcode æœ‰ä»¥ä¸‹å‘½ååƒæ•¸: type [å¿…éœ€] (ç¬¬ä¸€å€‹ä½ç½®åƒæ•¸) admonition æ©«å¹…çš„é¡å‹, é»˜èªå€¼æ˜¯ note. title [å¯é¸] (ç¬¬äºŒå€‹ä½ç½®åƒæ•¸) admonition æ©«å¹…çš„æ¨™é¡Œ, é»˜èªå€¼æ˜¯ type åƒæ•¸çš„å€¼. open [å¯é¸] (ç¬¬ä¸‰å€‹ä½ç½®åƒæ•¸) æ©«å¹…å…§å®¹æ˜¯å¦é»˜èªå±•é–‹, é»˜èªå€¼æ˜¯ true. ä¸€å€‹ admonition ç¤ºä¾‹: {{\u003c admonition type=tip title=\"This is a tip\" open=false \u003e}} ä¸€å€‹ **æŠ€å·§** æ©«å¹… {{\u003c /admonition \u003e}} æˆ–è€… {{\u003c admonition tip \"This is a tip\" false \u003e}} ä¸€å€‹ **æŠ€å·§** æ©«å¹… {{\u003c /admonition \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: This is a tip ä¸€å€‹ æŠ€å·§ æ©«å¹… ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:4:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5 mermaid mermaid æ˜¯ä¸€å€‹å¯ä»¥å¹«åŠ©ä½ åœ¨æ–‡ç« ä¸­ç”Ÿæˆåœ–è¡¨å’Œæµç¨‹åœ–çš„åº«, é¡ä¼¼ Markdown çš„èªæ³•. åªéœ€å°‡ä½ çš„ mermaid ä»£ç¢¼æ’å…¥ mermaid shortcode ä¸­å³å¯. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.1 æµç¨‹åœ– ä¸€å€‹ æµç¨‹åœ– mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} graph LR; A[Hard edge] --\u003e|Link text| B(Round edge) B --\u003e C{Decision} C --\u003e|One| D[Result one] C --\u003e|Two| E[Result two] {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:1","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.2 æ™‚åºåœ– ä¸€å€‹ æ™‚åºåœ– mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} sequenceDiagram participant Alice participant Bob Alice-\u003e\u003eJohn: Hello John, how are you? loop Healthcheck John-\u003eJohn: Fight against hypochondria end Note right of John: Rational thoughts \u003cbr/\u003eprevail... John--\u003eAlice: Great! John-\u003eBob: How about you? Bob--\u003eJohn: Jolly good! {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:2","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.3 ç”˜ç‰¹åœ– ä¸€å€‹ ç”˜ç‰¹åœ– mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} gantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section A section Completed task :done, des1, 2014-01-06,2014-01-08 Active task :active, des2, 2014-01-09, 3d Future task : des3, after des2, 5d Future task2 : des4, after des3, 5d section Critical tasks Completed task in the critical line :crit, done, 2014-01-06,24h Implement parser and jison :crit, done, after des1, 2d Create tests for parser :crit, active, 3d Future task in critical line :crit, 5d Create tests for renderer :2d Add to mermaid :1d {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:3","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.4 é¡åœ– ä¸€å€‹ é¡åœ– mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} classDiagram Class01 \u003c|-- AveryLongClass : Cool Class03 *-- Class04 Class05 o-- Class06 Class07 .. Class08 Class09 --\u003e C2 : Where am i? Class09 --* C3 Class09 --|\u003e Class07 Class07 : equals() Class07 : Object[] elementData Class01 : size() Class01 : int chimp Class01 : int gorilla Class08 \u003c--\u003e C2: Cool label {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:4","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.5 ç‹€æ…‹åœ– ä¸€å€‹ ç‹€æ…‹åœ– mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} stateDiagram [*] --\u003e Still Still --\u003e [*] Still --\u003e Moving Moving --\u003e Still Moving --\u003e Crash Crash --\u003e [*] {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:5","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.6 Git åœ– ä¸€å€‹ Git åœ– mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} gitGraph: options { \"nodeSpacing\": 100, \"nodeRadius\": 10 } end commit branch newbranch checkout newbranch commit commit checkout master commit commit merge newbranch {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:6","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.7 å¯¦é«”é—œç³»åœ– ä¸€å€‹ erDiagram mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} erDiagram CUSTOMER ||--o{ ORDER : places ORDER ||--|{ LINE-ITEM : contains CUSTOMER }|..|{ DELIVERY-ADDRESS : uses {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:7","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.8 ç”¨æˆ¶æ—…ç¨‹åœ– ä¸€å€‹ æ—…è¡Œ mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} journey title My working day section Go to work Make tea: 5: Me Go upstairs: 3: Me Do work: 1: Me, Cat section Go home Go downstairs: 5: Me Sit down: 5: Me {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:8","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"5.9 é¤…åœ– ä¸€å€‹ é¤…åœ– mermaid ç¤ºä¾‹: {{\u003c mermaid \u003e}} pie \"Dogs\" : 386 \"Cats\" : 85 \"Rats\" : 15 {{\u003c /mermaid \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:5:9","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"6 echarts ECharts æ˜¯ä¸€å€‹å¹«åŠ©ä½ ç”Ÿæˆäº¤äº’å¼æ•¸æ“šå¯è¦–åŒ–çš„åº«. ECharts æä¾›äº†å¸¸è¦çš„ æŠ˜ç·šåœ–, æŸ±ç‹€åœ–, æ•£é»åœ–, é¤…åœ–, Kç·šåœ–, ç”¨æ–¼çµ±è¨ˆçš„ ç›’å½¢åœ–, ç”¨æ–¼åœ°ç†æ•¸æ“šå¯è¦–åŒ–çš„ åœ°åœ–, ç†±åŠ›åœ–, ç·šåœ–, ç”¨æ–¼é—œç³»æ•¸æ“šå¯è¦–åŒ–çš„ é—œç³»åœ–, treemap, æ—­æ—¥åœ–, å¤šç¶­æ•¸æ“šå¯è¦–åŒ–çš„ å¹³è¡Œåæ¨™, é‚„æœ‰ç”¨æ–¼ BI çš„ æ¼é¬¥åœ–, å„€è¡¨ç›¤, ä¸¦ä¸”æ”¯æŒåœ–èˆ‡åœ–ä¹‹é–“çš„æ··æ­. åªéœ€åœ¨ echarts shortcode ä¸­ä»¥ JSON/YAML/TOMLæ ¼å¼æ’å…¥ ECharts é¸é …å³å¯. ä¸€å€‹ JSON æ ¼å¼çš„ echarts ç¤ºä¾‹: {{\u003c echarts \u003e}} { \"title\": { \"text\": \"æŠ˜ç·šçµ±è¨ˆåœ–\", \"top\": \"2%\", \"left\": \"center\" }, \"tooltip\": { \"trigger\": \"axis\" }, \"legend\": { \"data\": [\"éƒµä»¶ç‡ŸéŠ·\", \"è¯ç›Ÿå»£å‘Š\", \"è¦–é »å»£å‘Š\", \"ç›´æ¥è¨ªå•\", \"æœç´¢å¼•æ“\"], \"top\": \"10%\" }, \"grid\": { \"left\": \"5%\", \"right\": \"5%\", \"bottom\": \"5%\", \"top\": \"20%\", \"containLabel\": true }, \"toolbox\": { \"feature\": { \"saveAsImage\": { \"title\": \"ä¿å­˜ç‚ºåœ–ç‰‡\" } } }, \"xAxis\": { \"type\": \"category\", \"boundaryGap\": false, \"data\": [\"å‘¨ä¸€\", \"å‘¨äºŒ\", \"å‘¨ä¸‰\", \"å‘¨å››\", \"å‘¨äº”\", \"å‘¨å…­\", \"å‘¨æ—¥\"] }, \"yAxis\": { \"type\": \"value\" }, \"series\": [ { \"name\": \"éƒµä»¶ç‡ŸéŠ·\", \"type\": \"line\", \"stack\": \"ç¸½é‡\", \"data\": [120, 132, 101, 134, 90, 230, 210] }, { \"name\": \"è¯ç›Ÿå»£å‘Š\", \"type\": \"line\", \"stack\": \"ç¸½é‡\", \"data\": [220, 182, 191, 234, 290, 330, 310] }, { \"name\": \"è¦–é »å»£å‘Š\", \"type\": \"line\", \"stack\": \"ç¸½é‡\", \"data\": [150, 232, 201, 154, 190, 330, 410] }, { \"name\": \"ç›´æ¥è¨ªå•\", \"type\": \"line\", \"stack\": \"ç¸½é‡\", \"data\": [320, 332, 301, 334, 390, 330, 320] }, { \"name\": \"æœç´¢å¼•æ“\", \"type\": \"line\", \"stack\": \"ç¸½é‡\", \"data\": [820, 932, 901, 934, 1290, 1330, 1320] } ] } {{\u003c /echarts \u003e}} ä¸€å€‹ YAML æ ¼å¼çš„ echarts ç¤ºä¾‹: {{\u003c echarts \u003e}}title:text:æŠ˜ç·šçµ±è¨ˆåœ–top:2%left:centertooltip:trigger:axislegend:data:- éƒµä»¶ç‡ŸéŠ·- è¯ç›Ÿå»£å‘Š- è¦–é »å»£å‘Š- ç›´æ¥è¨ªå•- æœç´¢å¼•æ“top:10%grid:left:5%right:5%bottom:5%top:20%containLabel:truetoolbox:feature:saveAsImage:title:ä¿å­˜ç‚ºåœ–ç‰‡xAxis:type:categoryboundaryGap:falsedata:- å‘¨ä¸€- å‘¨äºŒ- å‘¨ä¸‰- å‘¨å››- å‘¨äº”- å‘¨å…­- å‘¨æ—¥yAxis:type:valueseries:- name:éƒµä»¶ç‡ŸéŠ·type:linestack:ç¸½é‡data:- 120- 132- 101- 134- 90- 230- 210- name:è¯ç›Ÿå»£å‘Štype:linestack:ç¸½é‡data:- 220- 182- 191- 234- 290- 330- 310- name:è¦–é »å»£å‘Štype:linestack:ç¸½é‡data:- 150- 232- 201- 154- 190- 330- 410- name:ç›´æ¥è¨ªå•type:linestack:ç¸½é‡data:- 320- 332- 301- 334- 390- 330- 320- name:æœç´¢å¼•æ“type:linestack:ç¸½é‡data:- 820- 932- 901- 934- 1290- 1330- 1320{{\u003c /echarts \u003e}} ä¸€å€‹ TOML æ ¼å¼çš„ echarts ç¤ºä¾‹: {{\u003c echarts \u003e}} [title] text = \"æŠ˜ç·šçµ±è¨ˆåœ–\" top = \"2%\" left = \"center\" [tooltip] trigger = \"axis\" [legend] data = [ \"éƒµä»¶ç‡ŸéŠ·\", \"è¯ç›Ÿå»£å‘Š\", \"è¦–é »å»£å‘Š\", \"ç›´æ¥è¨ªå•\", \"æœç´¢å¼•æ“\" ] top = \"10%\" [grid] left = \"5%\" right = \"5%\" bottom = \"5%\" top = \"20%\" containLabel = true [toolbox] [toolbox.feature] [toolbox.feature.saveAsImage] title = \"ä¿å­˜ç‚ºåœ–ç‰‡\" [xAxis] type = \"category\" boundaryGap = false data = [ \"å‘¨ä¸€\", \"å‘¨äºŒ\", \"å‘¨ä¸‰\", \"å‘¨å››\", \"å‘¨äº”\", \"å‘¨å…­\", \"å‘¨æ—¥\" ] [yAxis] type = \"value\" [[series]] name = \"éƒµä»¶ç‡ŸéŠ·\" type = \"line\" stack = \"ç¸½é‡\" data = [ 120.0, 132.0, 101.0, 134.0, 90.0, 230.0, 210.0 ] [[series]] name = \"è¯ç›Ÿå»£å‘Š\" type = \"line\" stack = \"ç¸½é‡\" data = [ 220.0, 182.0, 191.0, 234.0, 290.0, 330.0, 310.0 ] [[series]] name = \"è¦–é »å»£å‘Š\" type = \"line\" stack = \"ç¸½é‡\" data = [ 150.0, 232.0, 201.0, 154.0, 190.0, 330.0, 410.0 ] [[series]] name = \"ç›´æ¥è¨ªå•\" type = \"line\" stack = \"ç¸½é‡\" data = [ 320.0, 332.0, 301.0, 334.0, 390.0, 330.0, 320.0 ] [[series]] name = \"æœç´¢å¼•æ“\" type = \"line\" stack = \"ç¸½é‡\" data = [ 820.0, 932.0, 901.0, 934.0, 1290.0, 1330.0, 1320.0 ] {{\u003c /echarts \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: echarts shortcode é‚„æœ‰ä»¥ä¸‹å‘½ååƒæ•¸: width [å¯é¸] (ç¬¬ä¸€å€‹ä½ç½®åƒæ•¸) æ•¸æ“šå¯è¦–åŒ–çš„å¯¬åº¦, é»˜èªå€¼æ˜¯ 100%. height [å¯é¸] (ç¬¬äºŒå€‹ä½ç½®åƒæ•¸) æ•¸æ“šå¯è¦–åŒ–çš„é«˜åº¦, é»˜èªå€¼æ˜¯ 30rem. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:6:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"7 mapbox Mapbox GL JS æ˜¯ä¸€å€‹ JavaScript åº«ï¼Œå®ƒä½¿ç”¨ WebGL, ä»¥ vector tiles å’Œ Mapbox styles ç‚ºä¾†æº, å°‡å®ƒå€‘æ¸²æŸ“æˆäº’å‹•å¼åœ°åœ–. mapbox shortcode æœ‰ä»¥ä¸‹å‘½ååƒæ•¸ä¾†ä½¿ç”¨ Mapbox GL JS: lng [å¿…éœ€] (ç¬¬ä¸€å€‹ä½ç½®åƒæ•¸) åœ°åœ–åˆå§‹ä¸­å¿ƒé»çš„ç¶“åº¦, ä»¥åº¦ç‚ºå–®ä½. lat [å¿…éœ€] (ç¬¬äºŒå€‹ä½ç½®åƒæ•¸) åœ°åœ–åˆå§‹ä¸­å¿ƒé»çš„ç·¯åº¦, ä»¥åº¦ç‚ºå–®ä½. zoom [å¯é¸] (ç¬¬ä¸‰å€‹ä½ç½®åƒæ•¸) åœ°åœ–çš„åˆå§‹ç¸®æ”¾ç´šåˆ¥, é»˜èªå€¼æ˜¯ 10. marked [å¯é¸] (ç¬¬å››å€‹ä½ç½®åƒæ•¸) æ˜¯å¦åœ¨åœ°åœ–çš„åˆå§‹ä¸­å¿ƒé»æ·»åŠ åœ–é‡˜, é»˜èªå€¼æ˜¯ true. light-style [å¯é¸] (ç¬¬äº”å€‹ä½ç½®åƒæ•¸) æ·ºè‰²ä¸»é¡Œçš„åœ°åœ–æ¨£å¼, é»˜èªå€¼æ˜¯å‰ç½®åƒæ•¸æˆ–è€…ç¶²ç«™é…ç½®ä¸­è¨­ç½®çš„å€¼. dark-style [å¯é¸] (ç¬¬å…­å€‹ä½ç½®åƒæ•¸) æ·±è‰²ä¸»é¡Œçš„åœ°åœ–æ¨£å¼, é»˜èªå€¼æ˜¯å‰ç½®åƒæ•¸æˆ–è€…ç¶²ç«™é…ç½®ä¸­è¨­ç½®çš„å€¼. navigation [å¯é¸] æ˜¯å¦æ·»åŠ  NavigationControl, é»˜èªå€¼æ˜¯å‰ç½®åƒæ•¸æˆ–è€…ç¶²ç«™é…ç½®ä¸­è¨­ç½®çš„å€¼. geolocate [å¯é¸] æ˜¯å¦æ·»åŠ  GeolocateControl, é»˜èªå€¼æ˜¯å‰ç½®åƒæ•¸æˆ–è€…ç¶²ç«™é…ç½®ä¸­è¨­ç½®çš„å€¼. scale [å¯é¸] æ˜¯å¦æ·»åŠ  ScaleControl, é»˜èªå€¼æ˜¯å‰ç½®åƒæ•¸æˆ–è€…ç¶²ç«™é…ç½®ä¸­è¨­ç½®çš„å€¼. fullscreen [å¯é¸] æ˜¯å¦æ·»åŠ  FullscreenControl, é»˜èªå€¼æ˜¯å‰ç½®åƒæ•¸æˆ–è€…ç¶²ç«™é…ç½®ä¸­è¨­ç½®çš„å€¼. width [å¯é¸] åœ°åœ–çš„å¯¬åº¦, é»˜èªå€¼æ˜¯ 100%. height [å¯é¸] åœ°åœ–çš„é«˜åº¦, é»˜èªå€¼æ˜¯ 20rem. ä¸€å€‹ç°¡å–®çš„ mapbox ç¤ºä¾‹: {{\u003c mapbox 121.485 31.233 12 \u003e}} æˆ–è€… {{\u003c mapbox lng=121.485 lat=31.233 zoom=12 \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ä¸€å€‹å¸¶æœ‰è‡ªå®šç¾©æ¨£å¼çš„ mapbox ç¤ºä¾‹: {{\u003c mapbox -122.252 37.453 10 false \"mapbox://styles/mapbox/streets-zh-v1\" \u003e}} æˆ–è€… {{\u003c mapbox lng=-122.252 lat=37.453 zoom=10 marked=false light-style=\"mapbox://styles/mapbox/streets-zh-v1\" \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:7:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"8 music music shortcode åŸºæ–¼ APlayer å’Œ MetingJS æä¾›äº†ä¸€å€‹å…§åµŒçš„éŸ¿æ‡‰å¼éŸ³æ¨‚æ’­æ”¾å™¨. æœ‰ä¸‰ç¨®æ–¹å¼ä½¿ç”¨ music shortcode. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:8:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"8.1 è‡ªå®šç¾©éŸ³æ¨‚ URL æ”¯æŒæœ¬åœ°è³‡æºå¼•ç”¨çš„å®Œæ•´ç”¨æ³•. music shortcode æœ‰ä»¥ä¸‹å‘½ååƒæ•¸ä¾†ä½¿ç”¨è‡ªå®šç¾©éŸ³æ¨‚ URL: server [å¿…éœ€] éŸ³æ¨‚çš„éˆæ¥. type [å¯é¸] éŸ³æ¨‚çš„åç¨±. artist [å¯é¸] éŸ³æ¨‚çš„å‰µä½œè€…. cover [å¯é¸] éŸ³æ¨‚çš„å°é¢éˆæ¥. ä¸€å€‹ä½¿ç”¨è‡ªå®šç¾©éŸ³æ¨‚ URL çš„ music ç¤ºä¾‹: {{\u003c music url=\"/music/Wavelength.mp3\" name=Wavelength artist=oldmanyoung cover=\"/images/Wavelength.jpg\" \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:8:1","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"8.2 éŸ³æ¨‚å¹³å° URL çš„è‡ªå‹•è­˜åˆ¥ music shortcode æœ‰ä¸€å€‹å‘½ååƒæ•¸ä¾†ä½¿ç”¨éŸ³æ¨‚å¹³å° URL çš„è‡ªå‹•è­˜åˆ¥: auto [å¿…éœ€]] (ç¬¬ä¸€å€‹ä½ç½®åƒæ•¸) ç”¨ä¾†è‡ªå‹•è­˜åˆ¥çš„éŸ³æ¨‚å¹³å° URL, æ”¯æŒ netease, tencent å’Œ xiami å¹³å°. ä¸€å€‹ä½¿ç”¨éŸ³æ¨‚å¹³å° URL çš„è‡ªå‹•è­˜åˆ¥çš„ music ç¤ºä¾‹: {{\u003c music auto=\"https://music.163.com/#/playlist?id=60198\" \u003e}} æˆ–è€… {{\u003c music \"https://music.163.com/#/playlist?id=60198\" \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:8:2","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"8.3 è‡ªå®šç¾©éŸ³æ¨‚å¹³å°, é¡å‹å’Œ ID music shortcode æœ‰ä»¥ä¸‹å‘½ååƒæ•¸ä¾†ä½¿ç”¨è‡ªå®šç¾©éŸ³æ¨‚å¹³å°: server [å¿…éœ€] (ç¬¬ä¸€å€‹ä½ç½®åƒæ•¸) [netease, tencent, kugou, xiami, baidu] éŸ³æ¨‚å¹³å°. type [å¿…éœ€] (ç¬¬äºŒå€‹ä½ç½®åƒæ•¸) [song, playlist, album, search, artist] éŸ³æ¨‚é¡å‹. id [å¿…éœ€] (ç¬¬ä¸‰å€‹ä½ç½®åƒæ•¸) æ­Œæ›² ID, æˆ–è€…æ’­æ”¾åˆ—è¡¨ ID, æˆ–è€…å°ˆè¼¯ ID, æˆ–è€…æœç´¢é—œéµè©, æˆ–è€…å‰µä½œè€… ID. ä¸€å€‹ä½¿ç”¨è‡ªå®šç¾©éŸ³æ¨‚å¹³å°çš„ music ç¤ºä¾‹: {{\u003c music server=\"netease\" type=\"song\" id=\"1868553\" \u003e}} æˆ–è€… {{\u003c music netease song 1868553 \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:8:3","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"8.4 å…¶å®ƒåƒæ•¸ music shortcode æœ‰ä¸€äº›å¯ä»¥æ‡‰ç”¨æ–¼ä»¥ä¸Šä¸‰ç¨®æ–¹å¼çš„å…¶å®ƒå‘½ååƒæ•¸: theme [å¯é¸] éŸ³æ¨‚æ’­æ”¾å™¨çš„ä¸»é¡Œè‰², é»˜èªå€¼æ˜¯ #448aff. fixed [å¯é¸] æ˜¯å¦é–‹å•Ÿå›ºå®šæ¨¡å¼, é»˜èªå€¼æ˜¯ false. mini [å¯é¸] æ˜¯å¦é–‹å•Ÿè¿·ä½ æ¨¡å¼, é»˜èªå€¼æ˜¯ false. autoplay [å¯é¸] æ˜¯å¦è‡ªå‹•æ’­æ”¾éŸ³æ¨‚, é»˜èªå€¼æ˜¯ false. volume [å¯é¸] ç¬¬ä¸€æ¬¡æ‰“é–‹æ’­æ”¾å™¨æ™‚çš„é»˜èªéŸ³é‡, æœƒè¢«ä¿å­˜åœ¨ç€è¦½å™¨ç·©å­˜ä¸­, é»˜èªå€¼æ˜¯ 0.7. mutex [å¯é¸] æ˜¯å¦è‡ªå‹•æš«åœå…¶å®ƒæ’­æ”¾å™¨, é»˜èªå€¼æ˜¯ true. music shortcode é‚„æœ‰ä¸€äº›åªé©ç”¨æ–¼éŸ³æ¨‚åˆ—è¡¨æ–¹å¼çš„å…¶å®ƒå‘½ååƒæ•¸: loop [å¯é¸] [all, one, none] éŸ³æ¨‚åˆ—è¡¨çš„å¾ªç’°æ¨¡å¼, é»˜èªå€¼æ˜¯ none. order [å¯é¸] [list, random] éŸ³æ¨‚åˆ—è¡¨çš„æ’­æ”¾é †åº, é»˜èªå€¼æ˜¯ list. list-folded [å¯é¸] åˆæ¬¡æ‰“é–‹çš„æ™‚å€™éŸ³æ¨‚åˆ—è¡¨æ˜¯å¦æŠ˜ç–Š, é»˜èªå€¼æ˜¯ false. list-max-height [å¯é¸] éŸ³æ¨‚åˆ—è¡¨çš„æœ€å¤§é«˜åº¦, é»˜èªå€¼æ˜¯ 340px. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:8:4","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"9 bilibili bilibili shortcode æä¾›äº†ä¸€å€‹å…§åµŒçš„ç”¨ä¾†æ’­æ”¾ bilibili è¦–é »çš„éŸ¿æ‡‰å¼æ’­æ”¾å™¨. å¦‚æœè¦–é »åªæœ‰ä¸€å€‹éƒ¨åˆ†, å‰‡åƒ…éœ€è¦è¦–é »çš„ BV id, ä¾‹å¦‚: https://www.bilibili.com/video/BV1Sx411T7QQ ä¸€å€‹ bilibili ç¤ºä¾‹: {{\u003c bilibili BV1Sx411T7QQ \u003e}} æˆ–è€… {{\u003c bilibili id=BV1Sx411T7QQ \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: å¦‚æœè¦–é »åŒ…å«å¤šå€‹éƒ¨åˆ†, å‰‡é™¤äº†è¦–é »çš„ BV id ä¹‹å¤–, é‚„éœ€è¦ p, é»˜èªå€¼ç‚º 1, ä¾‹å¦‚: https://www.bilibili.com/video/BV1TJ411C7An?p=3 ä¸€å€‹å¸¶æœ‰ p åƒæ•¸çš„ bilibili ç¤ºä¾‹: {{\u003c bilibili BV1TJ411C7An 3 \u003e}} æˆ–è€… {{\u003c bilibili id=BV1TJ411C7An p=3 \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:9:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"10 typeit typeit shortcode åŸºæ–¼ TypeIt æä¾›äº†æ‰“å­—å‹•ç•«. åªéœ€å°‡ä½ éœ€è¦æ‰“å­—å‹•ç•«çš„å…§å®¹æ’å…¥ typeit shortcode ä¸­å³å¯. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:10:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"10.1 ç°¡å–®å…§å®¹ å…è¨±ä½¿ç”¨ Markdown æ ¼å¼çš„ç°¡å–®å…§å®¹, ä¸¦ä¸” ä¸åŒ…å« å¯Œæ–‡æœ¬çš„å¡Šå…§å®¹, ä¾‹å¦‚åœ–åƒç­‰ç­‰â€¦ ä¸€å€‹ typeit ç¤ºä¾‹: {{\u003c typeit \u003e}} é€™ä¸€å€‹å¸¶æœ‰åŸºæ–¼ [TypeIt](https://typeitjs.com/) çš„ **æ‰“å­—å‹•ç•«** çš„ *æ®µè½*... {{\u003c /typeit \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: å¦å¤–, ä½ ä¹Ÿå¯ä»¥è‡ªå®šç¾© HTML æ¨™ç°½. ä¸€å€‹å¸¶æœ‰ h4 æ¨™ç°½çš„ typeit ç¤ºä¾‹: {{\u003c typeit tag=h4 \u003e}} é€™ä¸€å€‹å¸¶æœ‰åŸºæ–¼ [TypeIt](https://typeitjs.com/) çš„ **æ‰“å­—å‹•ç•«** çš„ *æ®µè½*... {{\u003c /typeit \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:10:1","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"10.2 ä»£ç¢¼å…§å®¹ ä»£ç¢¼å…§å®¹ä¹Ÿæ˜¯å…è¨±çš„, ä¸¦ä¸”é€šéä½¿ç”¨åƒæ•¸ code æŒ‡å®šèªè¨€é¡å‹å¯ä»¥å¯¦ç¿’èªæ³•é«˜äº®. ä¸€å€‹å¸¶æœ‰ code åƒæ•¸çš„ typeit ç¤ºä¾‹: {{\u003c typeit code=java \u003e}} public class HelloWorld { public static void main(String []args) { System.out.println(\"Hello World\"); } } {{\u003c /typeit \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:10:2","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"10.3 åˆ†çµ„å…§å®¹ é»˜èªæƒ…æ³ä¸‹, æ‰€æœ‰æ‰“å­—å‹•ç•«éƒ½æ˜¯åŒæ™‚é–‹å§‹çš„. ä½†æ˜¯æœ‰æ™‚ä½ å¯èƒ½éœ€è¦æŒ‰é †åºé–‹å§‹ä¸€çµ„ typeit å…§å®¹çš„æ‰“å­—å‹•ç•«. ä¸€çµ„å…·æœ‰ç›¸åŒ group åƒæ•¸å€¼çš„ typeit å…§å®¹å°‡æŒ‰é †åºé–‹å§‹æ‰“å­—å‹•ç•«. ä¸€å€‹å¸¶æœ‰ group åƒæ•¸çš„ typeit ç¤ºä¾‹: {{\u003c typeit group=paragraph \u003e}} **é¦–å…ˆ**, é€™å€‹æ®µè½é–‹å§‹ {{\u003c /typeit \u003e}} {{\u003c typeit group=paragraph \u003e}} **ç„¶å¾Œ**, é€™å€‹æ®µè½é–‹å§‹ {{\u003c /typeit \u003e}} å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:10:3","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"11 script script shortcode ç”¨ä¾†åœ¨ä½ çš„æ–‡ç« ä¸­æ’å…¥ Â Javascript è…³æœ¬. æ³¨æ„ è…³æœ¬å…§å®¹å¯ä»¥ä¿è­‰åœ¨æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹åº«åŠ è¼‰ä¹‹å¾ŒæŒ‰é †åºåŸ·è¡Œ. æ‰€ä»¥ä½ å¯ä»¥è‡ªç”±åœ°ä½¿ç”¨ç¬¬ä¸‰æ–¹åº«. ä¸€å€‹ script ç¤ºä¾‹: {{\u003c script \u003e}} console.log('Hello FeelIt!'); {{\u003c /script \u003e}} ä½ å¯ä»¥åœ¨é–‹ç™¼è€…å·¥å…·çš„æ§åˆ¶å°ä¸­çœ‹åˆ°è¼¸å‡º. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:11:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"12 oEmbed oEmbed endpoints allow you to get embed HTML and basic metadata for pages, posts, and videos in order to display them in another website or app. The oEmbed endpoints require either an App Access Token or Client Access Token. ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:12:0","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"12.1 oEmbed Facebook a. oEmbed Facebook Pages Sample input of Facebook Pages {{\u003c oembed \"fb\" \"page\" \"https://www.facebook.com/FacebookforDevelopers\" \u003e}} Sample output of Facebook Pages URL Formats https://www.facebook.com/{page-name} https://www.facebook.com/{page-id} b. oEmbed Facebook Posts Sample input of Facebook Posts {{\u003c oembed \"fb\" \"post\" \"https://www.facebook.com/FacebookforDevelopers/photos/a.441861428552/10151617410093553\" \u003e}} Sample output of Facebook Posts URL Formats https://www.facebook.com/{page-name}/posts/{post-id} https://www.facebook.com/{username}/posts/{post-id} https://www.facebook.com/{username}/activity/{activity-id} https://www.facebook.com/photo.php?fbid={photo-id} https://www.facebook.com/photos/{photo-id} https://www.facebook.com/permalink.php?story_fbid={post-id}\u0026id={page-or-user-id} https://www.facebook.com/media/set?set={set-id} https://www.facebook.com/questions/{question-id} https://www.facebook.com/notes/{username}/{note-url}/{note-id} c. oEmbed Facebook Videos Sample input of Facebook Videos {{\u003c oembed \"fb\" \"video\" \"https://www.facebook.com/FacebookforDevelopers/videos/2201055573317594\" \u003e}} Sample output of Facebook Videos URL Formats https://www.facebook.com/{page-name}/videos/{video-id}/ https://www.facebook.com/{username}/videos/{video-id}/ https://www.facebook.com/video.php?id={video-id} https://www.facebook.com/video.php?v={video-id} ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:12:1","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"12.2 oEmbed Instagram a. oEmbed Instagram Post Sample input of Instagram Post {{\u003c oembed \"ig\" \"p\" \"BWNjjyYFxVx\" \"hidecaption\" \u003e}} Sample output of Instagram Post b. oEmbed Instagram TV Sample input of Instagram TV {{\u003c oembed \"ig\" \"tv\" \"BkQUbR8h1sp\" \"hidecaption\" \u003e}} Sample output of Instagram TV ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:12:2","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"12.3 oEmbed Twitter Sample input of â€˜oembed tweetâ€™ {{\u003c oembed \"tweet\" \"https://twitter.com/GoHugoIO/status/877500564405444608\" \u003e}} Sample output of â€˜oembed tweetâ€™ Hugo 0.24 Released: Big archetype update + @Netlify _redirects etc. file supporthttps://t.co/X94FmYDEZJ #gohugo #golang @spf13 @bepsays â€” GoHugo.io (@GoHugoIO) June 21, 2017 ","date":"2020-03-03","objectID":"/theme-documentation-extended-shortcodes/:12:3","tags":["shortcodes"],"title":"ä¸»é¡Œæ–‡æª” - æ“´å±• Shortcodes","uri":"/theme-documentation-extended-shortcodes/"},{"categories":["documentation"],"content":"é€™ç¯‡æ–‡ç« å±•ç¤ºäº†åŸºæœ¬çš„ Markdown èªæ³•å’Œæ ¼å¼.","date":"2019-12-01","objectID":"/basic-markdown-syntax/","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"é€™ç¯‡æ–‡ç« æä¾›äº†å¯ä»¥åœ¨ Hugo çš„æ–‡ç« ä¸­ä½¿ç”¨çš„åŸºæœ¬ Markdown èªæ³•ç¤ºä¾‹. æ³¨æ„ é€™ç¯‡æ–‡ç« å€Ÿé‘’äº†ä¸€ç¯‡å¾ˆæ£’çš„ä¾†è‡ª Grav çš„æ–‡ç« . å¦‚æœä½ æƒ³äº†è§£ FeelIt ä¸»é¡Œçš„æ“´å±• Markdown èªæ³•, è«‹é–±è®€æ“´å±• Markdown èªæ³•é é¢. äº‹å¯¦ä¸Š, ç·¨å¯« Web å…§å®¹å¾ˆéº»ç…©. WYSIWYGæ‰€è¦‹å³æ‰€å¾— ç·¨è¼¯å™¨å¹«åŠ©æ¸›è¼•äº†é€™ä¸€ä»»å‹™. ä½†é€šå¸¸æœƒå°è‡´ä»£ç¢¼å¤ªç³Ÿ, æˆ–æ›´ç³Ÿç³•çš„æ˜¯, ç¶²é ä¹Ÿæœƒå¾ˆé†œ. æ²’æœ‰é€šå¸¸ä¼´éš¨çš„æ‰€æœ‰è¦†é›œå’Œé†œé™‹çš„å•é¡Œ, Markdown æ˜¯ä¸€ç¨®æ›´å¥½çš„ç”Ÿæˆ HTML å…§å®¹çš„æ–¹å¼. ä¸€äº›ä¸»è¦å¥½è™•æ˜¯: Markdown ç°¡å–®æ˜“å­¸, å¹¾ä¹æ²’æœ‰å¤šä½™çš„å­—ç¬¦, å› æ­¤ç·¨å¯«å…§å®¹ä¹Ÿæ›´å¿«. ç”¨ Markdown æ›¸å¯«æ™‚å‡ºéŒ¯çš„æ©Ÿæœƒæ›´å°‘. å¯ä»¥ç”¢ç”Ÿæœ‰æ•ˆçš„ XHTML è¼¸å‡º. å°‡å…§å®¹å’Œè¦–è¦ºé¡¯ç¤ºä¿æŒåˆ†é–‹, é€™æ¨£å°±ä¸æœƒæ‰“äº‚ç¶²ç«™çš„å¤–è§€. å¯ä»¥åœ¨ä½ å–œæ­¡çš„ä»»ä½•æ–‡æœ¬ç·¨è¼¯å™¨æˆ– Markdown æ‡‰ç”¨ç¨‹åºä¸­ç·¨å¯«å…§å®¹. Markdown ä½¿ç”¨èµ·ä¾†å¾ˆæœ‰è¶£! John Gruber, Markdown çš„ä½œè€…å¦‚æ˜¯èªª: Markdown æ ¼å¼çš„é¦–è¦è¨­è¨ˆç›®æ¨™æ˜¯æ›´å…·å¯è®€æ€§. æœ€åˆçš„æƒ³æ³•æ˜¯ Markdown æ ¼å¼çš„æ–‡æª”æ‡‰ç•¶ä»¥ç´”æ–‡æœ¬å½¢å¼ç™¼å¸ƒ, è€Œä¸æœƒçœ‹èµ·ä¾†åƒè¢«æ¨™ç°½æˆ–æ ¼å¼èªªæ˜æ‰€æ¨™è¨˜. é›–ç„¶ Markdown çš„èªæ³•å—åˆ°å¹¾ç¨®ç¾æœ‰çš„æ–‡æœ¬åˆ° HTML è½‰æ›å·¥å…·çš„å½±éŸ¿, ä½† Markdown èªæ³•çš„æœ€å¤§éˆæ„Ÿä¾†æºæ˜¯ç´”æ–‡æœ¬é›»å­éƒµä»¶çš„æ ¼å¼. â€“ John Gruber è©±ä¸å¤šèªª, æˆ‘å€‘ä¾†å›é¡§ä¸€ä¸‹ Markdown çš„ä¸»è¦èªæ³•ä»¥åŠç”Ÿæˆçš„ HTML æ¨£å¼! æŠ€å·§ Â å°‡æ­¤é ä¿å­˜ç‚ºæ›¸ç°½ï¼Œä»¥å‚™å°‡ä¾†åƒè€ƒ! ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:0:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"1 æ¨™é¡Œ å¾ h2 åˆ° h6 çš„æ¨™é¡Œåœ¨æ¯å€‹ç´šåˆ¥ä¸Šéƒ½åŠ ä¸Šä¸€å€‹ ï¼ƒ: ## h2 æ¨™é¡Œ ### h3 æ¨™é¡Œ #### h4 æ¨™é¡Œ ##### h5 æ¨™é¡Œ ###### h6 æ¨™é¡Œ è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003ch2\u003eh2 æ¨™é¡Œ\u003c/h2\u003e \u003ch3\u003eh3 æ¨™é¡Œ\u003c/h3\u003e \u003ch4\u003eh4 æ¨™é¡Œ\u003c/h4\u003e \u003ch5\u003eh5 æ¨™é¡Œ\u003c/h5\u003e \u003ch6\u003eh6 æ¨™é¡Œ\u003c/h6\u003e æ¨™é¡Œ ID è¦æ·»åŠ è‡ªå®šç¾©æ¨™é¡Œ ID, è«‹åœ¨èˆ‡æ¨™é¡Œç›¸åŒçš„è¡Œä¸­å°‡è‡ªå®šç¾© ID æ”¾åœ¨èŠ±æ‹¬è™Ÿä¸­: ### ä¸€å€‹å¾ˆæ£’çš„æ¨™é¡Œ {#custom-id} è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003ch3 id=\"custom-id\"\u003eä¸€å€‹å¾ˆæ£’çš„æ¨™é¡Œ\u003c/h3\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:1:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"2 æ³¨é‡‹ æ³¨é‡‹æ˜¯å’Œ HTML å…¼å®¹çš„ï¼š \u003c!-- é€™æ˜¯ä¸€æ®µæ³¨é‡‹ --\u003e ä¸èƒ½çœ‹åˆ°ä»¥ä¸‹çš„æ³¨é‡‹: ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:2:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"3 æ°´å¹³ç·š HTML ä¸­çš„ \u003chr\u003e æ¨™ç°½æ˜¯ç”¨ä¾†åœ¨æ®µè½å…ƒç´ ä¹‹é–“å‰µå»ºä¸€å€‹ â€œå°ˆé¡Œé–“éš”â€ çš„. ä½¿ç”¨ Markdown, ä½ å¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼å‰µå»ºä¸€å€‹ \u003chr\u003e æ¨™ç°½: ___: ä¸‰å€‹é€£çºŒçš„ä¸‹åŠƒç·š ---: ä¸‰å€‹é€£çºŒçš„ç ´æŠ˜è™Ÿ ***: ä¸‰å€‹é€£çºŒçš„æ˜Ÿè™Ÿ å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:3:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"4 æ®µè½ æŒ‰ç…§ç´”æ–‡æœ¬çš„æ–¹å¼æ›¸å¯«æ®µè½, ç´”æ–‡æœ¬åœ¨å‘ˆç¾çš„ HTML ä¸­å°‡ç”¨ \u003cp\u003e/\u003c/p\u003e æ¨™ç°½åŒ…è£¹. å¦‚ä¸‹æ®µè½: Lorem ipsum dolor sit amet, graecis denique ei vel, at duo primis mandamus. Et legere ocurreret pri, animal tacimates complectitur ad cum. Cu eum inermis inimicus efficiendi. Labore officiis his ex, soluta officiis concludaturque ei qui, vide sensibus vim ad. è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cp\u003eLorem ipsum dolor sit amet, graecis denique ei vel, at duo primis mandamus. Et legere ocurreret pri, animal tacimates complectitur ad cum. Cu eum inermis inimicus efficiendi. Labore officiis his ex, soluta officiis concludaturque ei qui, vide sensibus vim ad.\u003c/p\u003e å¯ä»¥ä½¿ç”¨ä¸€å€‹ç©ºç™½è¡Œé€²è¡Œæ›è¡Œ. ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:4:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"5 å…§è¯ HTML å…ƒç´  å¦‚æœä½ éœ€è¦æŸå€‹ HTML æ¨™ç°½ (å¸¶æœ‰ä¸€å€‹é¡), å‰‡å¯ä»¥ç°¡å–®åœ°åƒé€™æ¨£ä½¿ç”¨: Markdown æ ¼å¼çš„æ®µè½. \u003cdiv class=\"class\"\u003e é€™æ˜¯ \u003cb\u003eHTML\u003c/b\u003e \u003c/div\u003e Markdown æ ¼å¼çš„æ®µè½. ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:5:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"6 å¼·èª¿ ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:6:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"åŠ ç²— ç”¨æ–¼å¼·èª¿å¸¶æœ‰è¼ƒç²—å­—é«”çš„æ–‡æœ¬ç‰‡æ®µ. ä»¥ä¸‹æ–‡æœ¬ç‰‡æ®µæœƒè¢« æ¸²æŸ“ç‚ºç²—é«”. **æ¸²æŸ“ç‚ºç²—é«”** __æ¸²æŸ“ç‚ºç²—é«”__ è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cstrong\u003eæ¸²æŸ“ç‚ºç²—é«”\u003c/strong\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:6:1","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"æ–œé«” ç”¨æ–¼å¼·èª¿å¸¶æœ‰æ–œé«”çš„æ–‡æœ¬ç‰‡æ®µ. ä»¥ä¸‹æ–‡æœ¬ç‰‡æ®µè¢« æ¸²æŸ“ç‚ºæ–œé«”. *æ¸²æŸ“ç‚ºæ–œé«”* _æ¸²æŸ“ç‚ºæ–œé«”_ è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cem\u003eæ¸²æŸ“ç‚ºæ–œé«”\u003c/em\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:6:2","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"åˆªé™¤ç·š æŒ‰ç…§ GFMGitHub flavored Markdown ä½ å¯ä»¥ä½¿ç”¨åˆªé™¤ç·š. ~~é€™æ®µæ–‡æœ¬å¸¶æœ‰åˆªé™¤ç·š.~~ å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: é€™æ®µæ–‡æœ¬å¸¶æœ‰åˆªé™¤ç·š. è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cdel\u003eé€™æ®µæ–‡æœ¬å¸¶æœ‰åˆªé™¤ç·š.\u003c/del\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:6:3","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"çµ„åˆ åŠ ç²—, æ–œé«”, å’Œåˆªé™¤ç·šå¯ä»¥ çµ„åˆä½¿ç”¨. ***åŠ ç²—å’Œæ–œé«”*** ~~**åˆªé™¤ç·šå’ŒåŠ ç²—**~~ ~~*åˆªé™¤ç·šå’Œæ–œé«”*~~ ~~***åŠ ç²—, æ–œé«”å’Œåˆªé™¤ç·š***~~ å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: åŠ ç²—å’Œæ–œé«” åˆªé™¤ç·šå’ŒåŠ ç²— åˆªé™¤ç·šå’Œæ–œé«” åŠ ç²—, æ–œé«”å’Œåˆªé™¤ç·š è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cem\u003e\u003cstrong\u003eåŠ ç²—å’Œæ–œé«”\u003c/strong\u003e\u003c/em\u003e \u003cdel\u003e\u003cstrong\u003eåˆªé™¤ç·šå’ŒåŠ ç²—\u003c/strong\u003e\u003c/del\u003e \u003cdel\u003e\u003cem\u003eåˆªé™¤ç·šå’Œæ–œé«”\u003c/em\u003e\u003c/del\u003e \u003cdel\u003e\u003cem\u003e\u003cstrong\u003eåŠ ç²—, æ–œé«”å’Œåˆªé™¤ç·š\u003c/strong\u003e\u003c/em\u003e\u003c/del\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:6:4","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"7 å¼•ç”¨ ç”¨æ–¼åœ¨æ–‡æª”ä¸­å¼•ç”¨å…¶ä»–ä¾†æºçš„å…§å®¹å¡Š. åœ¨è¦å¼•ç”¨çš„ä»»ä½•æ–‡æœ¬ä¹‹å‰æ·»åŠ  \u003e: \u003e **Fusion Drive** combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined. å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Fusion Drive combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined. è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cblockquote\u003e \u003cp\u003e \u003cstrong\u003eFusion Drive\u003c/strong\u003e combines a hard drive with a flash storage (solid-state drive) and presents it as a single logical volume with the space of both drives combined. \u003c/p\u003e \u003c/blockquote\u003e å¼•ç”¨ä¹Ÿå¯ä»¥åµŒå¥—: \u003e Donec massa lacus, ultricies a ullamcorper in, fermentum sed augue. Nunc augue augue, aliquam non hendrerit ac, commodo vel nisi. \u003e\u003e Sed adipiscing elit vitae augue consectetur a gravida nunc vehicula. Donec auctor odio non est accumsan facilisis. Aliquam id turpis in dolor tincidunt mollis ac eu diam. å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Donec massa lacus, ultricies a ullamcorper in, fermentum sed augue. Nunc augue augue, aliquam non hendrerit ac, commodo vel nisi. Sed adipiscing elit vitae augue consectetur a gravida nunc vehicula. Donec auctor odio non est accumsan facilisis. Aliquam id turpis in dolor tincidunt mollis ac eu diam. ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:7:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"8 åˆ—è¡¨ ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:8:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"ç„¡åºåˆ—è¡¨ ä¸€ç³»åˆ—é …çš„åˆ—è¡¨, å…¶ä¸­é …çš„é †åºæ²’æœ‰æ˜é¡¯é—œç³». ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»»ä½•ç¬¦è™Ÿä¾†è¡¨ç¤ºç„¡åºåˆ—è¡¨ä¸­çš„é …: * ä¸€é …å…§å®¹ - ä¸€é …å…§å®¹ + ä¸€é …å…§å®¹ ä¾‹å¦‚: * Lorem ipsum dolor sit amet * Consectetur adipiscing elit * Integer molestie lorem at massa * Facilisis in pretium nisl aliquet * Nulla volutpat aliquam velit * Phasellus iaculis neque * Purus sodales ultricies * Vestibulum laoreet porttitor sem * Ac tristique libero volutpat at * Faucibus porta lacus fringilla vel * Aenean sit amet erat nunc * Eget porttitor lorem å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit Phasellus iaculis neque Purus sodales ultricies Vestibulum laoreet porttitor sem Ac tristique libero volutpat at Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cul\u003e \u003cli\u003eLorem ipsum dolor sit amet\u003c/li\u003e \u003cli\u003eConsectetur adipiscing elit\u003c/li\u003e \u003cli\u003eInteger molestie lorem at massa\u003c/li\u003e \u003cli\u003eFacilisis in pretium nisl aliquet\u003c/li\u003e \u003cli\u003eNulla volutpat aliquam velit \u003cul\u003e \u003cli\u003ePhasellus iaculis neque\u003c/li\u003e \u003cli\u003ePurus sodales ultricies\u003c/li\u003e \u003cli\u003eVestibulum laoreet porttitor sem\u003c/li\u003e \u003cli\u003eAc tristique libero volutpat at\u003c/li\u003e \u003c/ul\u003e \u003c/li\u003e \u003cli\u003eFaucibus porta lacus fringilla vel\u003c/li\u003e \u003cli\u003eAenean sit amet erat nunc\u003c/li\u003e \u003cli\u003eEget porttitor lorem\u003c/li\u003e \u003c/ul\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:8:1","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"æœ‰åºåˆ—è¡¨ ä¸€ç³»åˆ—é …çš„åˆ—è¡¨, å…¶ä¸­é …çš„é †åºç¢ºå¯¦å¾ˆé‡è¦. 1. Lorem ipsum dolor sit amet 2. Consectetur adipiscing elit 3. Integer molestie lorem at massa 4. Facilisis in pretium nisl aliquet 5. Nulla volutpat aliquam velit 6. Faucibus porta lacus fringilla vel 7. Aenean sit amet erat nunc 8. Eget porttitor lorem å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003col\u003e \u003cli\u003eLorem ipsum dolor sit amet\u003c/li\u003e \u003cli\u003eConsectetur adipiscing elit\u003c/li\u003e \u003cli\u003eInteger molestie lorem at massa\u003c/li\u003e \u003cli\u003eFacilisis in pretium nisl aliquet\u003c/li\u003e \u003cli\u003eNulla volutpat aliquam velit\u003c/li\u003e \u003cli\u003eFaucibus porta lacus fringilla vel\u003c/li\u003e \u003cli\u003eAenean sit amet erat nunc\u003c/li\u003e \u003cli\u003eEget porttitor lorem\u003c/li\u003e \u003c/ol\u003e æŠ€å·§ å¦‚æœä½ å°æ¯ä¸€é …ä½¿ç”¨ 1., Markdown å°‡è‡ªå‹•ç‚ºæ¯ä¸€é …ç·¨è™Ÿ. ä¾‹å¦‚: 1. Lorem ipsum dolor sit amet 1. Consectetur adipiscing elit 1. Integer molestie lorem at massa 1. Facilisis in pretium nisl aliquet 1. Nulla volutpat aliquam velit 1. Faucibus porta lacus fringilla vel 1. Aenean sit amet erat nunc 1. Eget porttitor lorem å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Lorem ipsum dolor sit amet Consectetur adipiscing elit Integer molestie lorem at massa Facilisis in pretium nisl aliquet Nulla volutpat aliquam velit Faucibus porta lacus fringilla vel Aenean sit amet erat nunc Eget porttitor lorem ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:8:2","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"ä»»å‹™åˆ—è¡¨ ä»»å‹™åˆ—è¡¨ä½¿ä½ å¯ä»¥å‰µå»ºå¸¶æœ‰è¦†é¸æ¡†çš„åˆ—è¡¨. è¦å‰µå»ºä»»å‹™åˆ—è¡¨, è«‹åœ¨ä»»å‹™åˆ—è¡¨é …ä¹‹å‰æ·»åŠ ç ´æŠ˜è™Ÿ (-) å’Œå¸¶æœ‰ç©ºæ ¼çš„æ–¹æ‹¬è™Ÿ ([ ]). è¦é¸æ“‡ä¸€å€‹è¦†é¸æ¡†ï¼Œè«‹åœ¨æ–¹æ‹¬è™Ÿä¹‹é–“æ·»åŠ  x ([x]). - [x] Write the press release - [ ] Update the website - [ ] Contact the media å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Write the press release Update the website Contact the media ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:8:3","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"9 ä»£ç¢¼ ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:9:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"è¡Œå…§ä»£ç¢¼ ç”¨ ` åŒ…è£è¡Œå…§ä»£ç¢¼æ®µ. åœ¨é€™å€‹ä¾‹å­ä¸­, `\u003csection\u003e\u003c/section\u003e` æœƒè¢«åŒ…è£¹æˆ **ä»£ç¢¼**. å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: åœ¨é€™å€‹ä¾‹å­ä¸­, \u003csection\u003e\u003c/section\u003e æœƒè¢«åŒ…è£¹æˆ ä»£ç¢¼. è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cp\u003e åœ¨é€™å€‹ä¾‹å­ä¸­, \u003ccode\u003e\u0026lt;section\u0026gt;\u0026lt;/section\u0026gt;\u003c/code\u003e æœƒè¢«åŒ…è£¹æˆ \u003cstrong\u003eä»£ç¢¼\u003c/strong\u003e. \u003c/p\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:9:1","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"ç¸®é€²ä»£ç¢¼ å°‡å¹¾è¡Œä»£ç¢¼ç¸®é€²è‡³å°‘å››å€‹ç©ºæ ¼ï¼Œä¾‹å¦‚: // Some comments line 1 of code line 2 of code line 3 of code å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: // Some comments line 1 of code line 2 of code line 3 of code è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cpre\u003e \u003ccode\u003e // Some comments line 1 of code line 2 of code line 3 of code \u003c/code\u003e \u003c/pre\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:9:2","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"åœæ¬„ä»£ç¢¼å¡Š ä½¿ç”¨ â€œåœæ¬„â€ ``` ä¾†ç”Ÿæˆä¸€æ®µå¸¶æœ‰èªè¨€å±¬æ€§çš„ä»£ç¢¼å¡Š. ```markdown Sample text here... ``` è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003cpre language-html\u003e \u003ccode\u003eSample text here...\u003c/code\u003e \u003c/pre\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:9:3","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"èªæ³•é«˜äº® GFMGitHub Flavored Markdown ä¹Ÿæ”¯æŒèªæ³•é«˜äº®. è¦æ¿€æ´»å®ƒï¼Œåªéœ€åœ¨ç¬¬ä¸€å€‹ä»£ç¢¼ â€œåœæ¬„â€ ä¹‹å¾Œç›´æ¥æ·»åŠ ä½ è¦ä½¿ç”¨çš„èªè¨€çš„æ–‡ä»¶æ“´å±•å, ```js, èªæ³•é«˜äº®é¡¯ç¤ºå°‡è‡ªå‹•æ‡‰ç”¨æ–¼æ¸²æŸ“çš„ HTML ä¸­. ä¾‹å¦‚, åœ¨ä»¥ä¸‹ JavaScript ä»£ç¢¼ä¸­æ‡‰ç”¨èªæ³•é«˜äº®: ```js grunt.initConfig({ assemble: { options: { assets: 'docs/assets', data: 'src/data/*.{json,yml}', helpers: 'src/custom-helpers.js', partials: ['src/partials/**/*.{hbs,md}'] }, pages: { options: { layout: 'default.hbs' }, files: { './': ['src/templates/pages/index.hbs'] } } } }; ``` å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: grunt.initConfig({ assemble: { options: { assets: 'docs/assets', data: 'src/data/*.{json,yml}', helpers: 'src/custom-helpers.js', partials: ['src/partials/**/*.{hbs,md}'] }, pages: { options: { layout: 'default.hbs' }, files: { './': ['src/templates/pages/index.hbs'] } } } }; æ³¨æ„ Hugo æ–‡æª”ä¸­çš„ èªæ³•é«˜äº®é é¢ ä»‹ç´¹äº†æœ‰é—œèªæ³•é«˜äº®çš„æ›´å¤šä¿¡æ¯, åŒ…æ‹¬èªæ³•é«˜äº®çš„ shortcode. ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:9:4","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"10 è¡¨æ ¼ é€šéåœ¨æ¯å€‹å–®å…ƒæ ¼ä¹‹é–“æ·»åŠ è±ç·šä½œç‚ºåˆ†éš”ç·š, ä¸¦åœ¨æ¨™é¡Œä¸‹æ·»åŠ ä¸€è¡Œç ´æŠ˜è™Ÿ (ä¹Ÿç”±è±ç·šåˆ†éš”) ä¾†å‰µå»ºè¡¨æ ¼. æ³¨æ„, è±ç·šä¸éœ€è¦å‚ç›´å°é½Š. | Option | Description | | ------ | ----------- | | data | path to data files to supply the data that will be passed into templates. | | engine | engine to be used for processing templates. Handlebars is the default. | | ext | extension to be used for dest files. | å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Option Description data path to data files to supply the data that will be passed into templates. engine engine to be used for processing templates. Handlebars is the default. ext extension to be used for dest files. è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003ctable\u003e \u003cthead\u003e \u003ctr\u003e \u003cth\u003eOption\u003c/th\u003e \u003cth\u003eDescription\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e \u003ctr\u003e \u003ctd\u003edata\u003c/td\u003e \u003ctd\u003epath to data files to supply the data that will be passed into templates.\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003eengine\u003c/td\u003e \u003ctd\u003eengine to be used for processing templates. Handlebars is the default.\u003c/td\u003e \u003c/tr\u003e \u003ctr\u003e \u003ctd\u003eext\u003c/td\u003e \u003ctd\u003eextension to be used for dest files.\u003c/td\u003e \u003c/tr\u003e \u003c/tbody\u003e \u003c/table\u003e æ–‡æœ¬å³å°é½Šæˆ–å±…ä¸­å°é½Š åœ¨ä»»ä½•æ¨™é¡Œä¸‹æ–¹çš„ç ´æŠ˜è™Ÿå³å´æ·»åŠ å†’è™Ÿå°‡ä½¿è©²åˆ—çš„æ–‡æœ¬å³å°é½Š. åœ¨ä»»ä½•æ¨™é¡Œä¸‹æ–¹çš„ç ´æŠ˜è™Ÿå…©é‚Šæ·»åŠ å†’è™Ÿå°‡ä½¿è©²åˆ—çš„å°é½Šæ–‡æœ¬å±…ä¸­. | Option | Description | |:------:| -----------:| | data | path to data files to supply the data that will be passed into templates. | | engine | engine to be used for processing templates. Handlebars is the default. | | ext | extension to be used for dest files. | å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: Option Description data path to data files to supply the data that will be passed into templates. engine engine to be used for processing templates. Handlebars is the default. ext extension to be used for dest files. ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:10:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"11 éˆæ¥ ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:11:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"åŸºæœ¬éˆæ¥ \u003chttps://assemble.io\u003e \u003ccontact@revolunet.com\u003e [Assemble](https://assemble.io) å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹ (å°‡é¼ æ¨™æ‡¸åœåœ¨éˆæ¥ä¸Šï¼Œæ²’æœ‰æç¤º): https://assemble.io contact@revolunet.com Assemble è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003ca href=\"https://assemble.io\"\u003ehttps://assemble.io\u003c/a\u003e \u003ca href=\"mailto:contact@revolunet.com\"\u003econtact@revolunet.com\u003c/a\u003e \u003ca href=\"https://assemble.io\"\u003eAssemble\u003c/a\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:11:1","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"æ·»åŠ ä¸€å€‹æ¨™é¡Œ [Upstage](https://github.com/upstage/ \"Visit Upstage!\") å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹ (å°‡é¼ æ¨™æ‡¸åœåœ¨éˆæ¥ä¸Šï¼Œæœƒæœ‰ä¸€è¡Œæç¤º): Upstage è¼¸å‡ºçš„ HTML çœ‹èµ·ä¾†åƒé€™æ¨£: \u003ca href=\"https://github.com/upstage/\" title=\"Visit Upstage!\"\u003eUpstage\u003c/a\u003e ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:11:2","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"å®šä½æ¨™è¨˜ å®šä½æ¨™è¨˜ä½¿ä½ å¯ä»¥è·³è‡³åŒä¸€é é¢ä¸Šçš„æŒ‡å®šéŒ¨é». ä¾‹å¦‚, æ¯å€‹ç« ç¯€: ## Table of Contents * [Chapter 1](#chapter-1) * [Chapter 2](#chapter-2) * [Chapter 3](#chapter-3) å°‡è·³è½‰åˆ°é€™äº›éƒ¨åˆ†: ## Chapter 1 \u003ca id=\"chapter-1\"\u003e\u003c/a\u003e Content for chapter one. ## Chapter 2 \u003ca id=\"chapter-2\"\u003e\u003c/a\u003e Content for chapter one. ## Chapter 3 \u003ca id=\"chapter-3\"\u003e\u003c/a\u003e Content for chapter one. æ³¨æ„ å®šä½æ¨™è¨˜çš„ä½ç½®å¹¾ä¹æ˜¯ä»»æ„çš„. å› ç‚ºå®ƒå€‘ä¸¦ä¸å¼•äººæ³¨ç›®, æ‰€ä»¥å®ƒå€‘é€šå¸¸è¢«æ”¾åœ¨åŒä¸€è¡Œäº†. ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:11:3","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"12 è…³æ³¨ è…³æ³¨ä½¿ä½ å¯ä»¥æ·»åŠ æ³¨é‡‹å’Œåƒè€ƒ, è€Œä¸æœƒä½¿æ–‡æª”æ­£æ–‡æ··äº‚. ç•¶ä½ å‰µå»ºè…³æ³¨æ™‚, æœƒåœ¨æ·»åŠ è…³æ³¨å¼•ç”¨çš„ä½ç½®å‡ºç¾å¸¶æœ‰éˆæ¥çš„ä¸Šæ¨™ç·¨è™Ÿ. è®€è€…å¯ä»¥å–®æ“Šéˆæ¥ä»¥è·³è‡³é é¢åº•éƒ¨çš„è…³æ³¨å…§å®¹. è¦å‰µå»ºè…³æ³¨å¼•ç”¨, è«‹åœ¨æ–¹æ‹¬è™Ÿä¸­æ·»åŠ æ’å…¥ç¬¦è™Ÿå’Œæ¨™è­˜ç¬¦ ([^1]). æ¨™è­˜ç¬¦å¯ä»¥æ˜¯æ•¸å­—æˆ–å–®è©, ä½†ä¸èƒ½åŒ…å«ç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦. æ¨™è­˜ç¬¦åƒ…å°‡è…³æ³¨å¼•ç”¨èˆ‡è…³æ³¨æœ¬èº«ç›¸é—œè¯ - åœ¨è…³æ³¨è¼¸å‡ºä¸­, è…³æ³¨æŒ‰é †åºç·¨è™Ÿ. åœ¨ä¸­æ‹¬è™Ÿå…§ä½¿ç”¨æ’å…¥ç¬¦è™Ÿå’Œæ•¸å­—ä»¥åŠç”¨å†’è™Ÿå’Œæ–‡æœ¬ä¾†æ·»åŠ è…³æ³¨å…§å®¹ ([^1]ï¼šé€™æ˜¯ä¸€æ®µè…³æ³¨). ä½ ä¸ä¸€å®šè¦åœ¨æ–‡æª”æœ«å°¾æ·»åŠ è…³æ³¨. å¯ä»¥å°‡å®ƒå€‘æ”¾åœ¨é™¤åˆ—è¡¨, å¼•ç”¨å’Œè¡¨æ ¼ç­‰å…ƒç´ ä¹‹å¤–çš„ä»»ä½•ä½ç½®. é€™æ˜¯ä¸€å€‹æ•¸å­—è…³æ³¨[^1]. é€™æ˜¯ä¸€å€‹å¸¶æ¨™ç°½çš„è…³æ³¨[^label] [^1]: é€™æ˜¯ä¸€å€‹æ•¸å­—è…³æ³¨ [^label]: é€™æ˜¯ä¸€å€‹å¸¶æ¨™ç°½çš„è…³æ³¨ é€™æ˜¯ä¸€å€‹æ•¸å­—è…³æ³¨1. é€™æ˜¯ä¸€å€‹å¸¶æ¨™ç°½çš„è…³æ³¨2 ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:12:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"13 åœ–ç‰‡ åœ–ç‰‡çš„èªæ³•èˆ‡éˆæ¥ç›¸ä¼¼, ä½†åŒ…å«ä¸€å€‹åœ¨å‰é¢çš„æ„Ÿå˜†è™Ÿ. ![Minion](https://octodex.github.com/images/minion.png) æˆ–è€…: ![Alt text](https://octodex.github.com/images/stormtroopocat.jpg \"The Stormtroopocat\") The StormtroopocatAlt text \" The Stormtroopocat åƒéˆæ¥ä¸€æ¨£, åœ–ç‰‡ä¹Ÿå…·æœ‰è…³æ³¨æ¨£å¼çš„èªæ³•: ![Alt text][id] The DojocatAlt text \" The Dojocat ç¨å¾Œåœ¨æ–‡æª”ä¸­æä¾›åƒè€ƒå…§å®¹, ç”¨ä¾†å®šç¾© URL çš„ä½ç½®: [id]: https://octodex.github.com/images/dojocat.jpg \"The Dojocat\" æŠ€å·§ FeelIt ä¸»é¡Œæä¾›äº†ä¸€å€‹åŒ…å«æ›´å¤šåŠŸèƒ½çš„ åœ–ç‰‡çš„ shortcode. é€™æ˜¯ä¸€å€‹æ•¸å­—è…³æ³¨Â â†©ï¸ é€™æ˜¯ä¸€å€‹å¸¶æ¨™ç°½çš„è…³æ³¨Â â†©ï¸ ","date":"2019-12-01","objectID":"/basic-markdown-syntax/:13:0","tags":["Markdown","HTML"],"title":"Markdown åŸºæœ¬èªæ³•","uri":"/basic-markdown-syntax/"},{"categories":["documentation"],"content":"Hugo å’Œ FeelIt ä¸­çš„ Emoji çš„ç”¨æ³•æŒ‡å—.","date":"2019-10-01","objectID":"/emoji-support/","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"Emoji å¯ä»¥é€šéå¤šç¨®æ–¹å¼åœ¨ Hugo é …ç›®ä¸­å•Ÿç”¨. emojify æ–¹æ³•å¯ä»¥ç›´æ¥åœ¨æ¨¡æ¿ä¸­èª¿ç”¨, æˆ–è€…ä½¿ç”¨è¡Œå…§ Shortcodes. è¦å…¨å±€ä½¿ç”¨ emoji, éœ€è¦åœ¨ä½ çš„ç¶²ç«™é…ç½®ä¸­è¨­ç½® enableEmoji ç‚º true, ç„¶å¾Œä½ å°±å¯ä»¥ç›´æ¥åœ¨æ–‡ç« ä¸­è¼¸å…¥ emoji çš„ä»£ç¢¼. å®ƒå€‘ä»¥å†’è™Ÿé–‹é ­å’Œçµå°¾ï¼Œä¸¦ä¸”åŒ…å« emoji çš„ ä»£ç¢¼: å»éœ²ç‡Ÿå•¦! :tent: å¾ˆå¿«å°±å›ä¾†. çœŸé–‹å¿ƒ! :joy: å‘ˆç¾çš„è¼¸å‡ºæ•ˆæœå¦‚ä¸‹: å»éœ²ç‡Ÿå•¦! â›º å¾ˆå¿«å°±å›ä¾†. çœŸé–‹å¿ƒ! ğŸ˜‚ ä»¥ä¸‹ç¬¦è™Ÿæ¸…å–®æ˜¯ emoji ä»£ç¢¼çš„éå¸¸æœ‰ç”¨çš„åƒè€ƒ. ","date":"2019-10-01","objectID":"/emoji-support/:0:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"è¡¨æƒ…èˆ‡æƒ…æ„Ÿ ","date":"2019-10-01","objectID":"/emoji-support/:1:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç¬‘è‡‰è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜€ grinning ğŸ˜ƒ smiley ğŸ˜„ smile ğŸ˜ grin ğŸ˜† laughing satisfied ğŸ˜… sweat_smile ğŸ¤£ rofl ğŸ˜‚ joy ğŸ™‚ slightly_smiling_face ğŸ™ƒ upside_down_face ğŸ˜‰ wink ğŸ˜Š blush ğŸ˜‡ innocent ","date":"2019-10-01","objectID":"/emoji-support/:1:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ„›æ„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜ heart_eyes ğŸ˜˜ kissing_heart ğŸ˜— kissing â˜ºï¸ relaxed ğŸ˜š kissing_closed_eyes ğŸ˜™ kissing_smiling_eyes ","date":"2019-10-01","objectID":"/emoji-support/:1:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"åèˆŒé ­è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜‹ yum ğŸ˜› stuck_out_tongue ğŸ˜œ stuck_out_tongue_winking_eye ğŸ˜ stuck_out_tongue_closed_eyes ğŸ¤‘ money_mouth_face ","date":"2019-10-01","objectID":"/emoji-support/:1:3","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å¸¶æ‰‹çš„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¤— hugs ğŸ¤” thinking ","date":"2019-10-01","objectID":"/emoji-support/:1:4","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ä¸­æ€§è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¤ zipper_mouth_face ğŸ˜ neutral_face ğŸ˜‘ expressionless ğŸ˜¶ no_mouth ğŸ˜ smirk ğŸ˜’ unamused ğŸ™„ roll_eyes ğŸ˜¬ grimacing ğŸ¤¥ lying_face ","date":"2019-10-01","objectID":"/emoji-support/:1:5","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å›°å€¦çš„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜Œ relieved ğŸ˜” pensive ğŸ˜ª sleepy ğŸ¤¤ drooling_face ğŸ˜´ sleeping ","date":"2019-10-01","objectID":"/emoji-support/:1:6","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ä¸é©çš„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜· mask ğŸ¤’ face_with_thermometer ğŸ¤• face_with_head_bandage ğŸ¤¢ nauseated_face ğŸ¤§ sneezing_face ğŸ˜µ dizzy_face ","date":"2019-10-01","objectID":"/emoji-support/:1:7","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æˆ´å¸½å­çš„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¤  cowboy_hat_face ","date":"2019-10-01","objectID":"/emoji-support/:1:8","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æˆ´çœ¼é¡çš„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜ sunglasses ğŸ¤“ nerd_face ","date":"2019-10-01","objectID":"/emoji-support/:1:9","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ“”å¿ƒçš„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜• confused ğŸ˜Ÿ worried ğŸ™ slightly_frowning_face â˜¹ frowning_face ğŸ˜® open_mouth ğŸ˜¯ hushed ğŸ˜² astonished ğŸ˜³ flushed ğŸ˜¦ frowning ğŸ˜§ anguished ğŸ˜¨ fearful ğŸ˜° cold_sweat ğŸ˜¥ disappointed_relieved ğŸ˜¢ cry ğŸ˜­ sob ğŸ˜± scream ğŸ˜– confounded ğŸ˜£ persevere ğŸ˜ disappointed ğŸ˜“ sweat ğŸ˜© weary ğŸ˜« tired_face ","date":"2019-10-01","objectID":"/emoji-support/:1:10","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å¦å®šçš„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜¤ triumph ğŸ˜¡ pout rage ğŸ˜  angry ğŸ˜ˆ smiling_imp ğŸ‘¿ imp ğŸ’€ skull â˜ ï¸ skull_and_crossbones ","date":"2019-10-01","objectID":"/emoji-support/:1:11","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç‰¹æ®Šæ‰“æ‰®çš„è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’© hankey poop shit ğŸ¤¡ clown_face ğŸ‘¹ japanese_ogre ğŸ‘º japanese_goblin ğŸ‘» ghost ğŸ‘½ alien ğŸ‘¾ space_invader ğŸ¤– robot ","date":"2019-10-01","objectID":"/emoji-support/:1:12","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"è²“è‡‰è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ˜º smiley_cat ğŸ˜¸ smile_cat ğŸ˜¹ joy_cat ğŸ˜» heart_eyes_cat ğŸ˜¼ smirk_cat ğŸ˜½ kissing_cat ğŸ™€ scream_cat ğŸ˜¿ crying_cat_face ğŸ˜¾ pouting_cat ","date":"2019-10-01","objectID":"/emoji-support/:1:13","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"çŒ´è‡‰è¡¨æƒ… åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ™ˆ see_no_evil ğŸ™‰ hear_no_evil ğŸ™Š speak_no_evil ","date":"2019-10-01","objectID":"/emoji-support/:1:14","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æƒ…æ„Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’‹ kiss ğŸ’Œ love_letter ğŸ’˜ cupid ğŸ’ gift_heart ğŸ’– sparkling_heart ğŸ’— heartpulse ğŸ’“ heartbeat ğŸ’ revolving_hearts ğŸ’• two_hearts ğŸ’Ÿ heart_decoration â£ï¸ heavy_heart_exclamation ğŸ’” broken_heart â¤ï¸ heart ğŸ’› yellow_heart ğŸ’š green_heart ğŸ’™ blue_heart ğŸ’œ purple_heart ğŸ–¤ black_heart ğŸ’¯ 100 ğŸ’¢ anger ğŸ’¥ boom collision ğŸ’« dizzy ğŸ’¦ sweat_drops ğŸ’¨ dash ğŸ•³ï¸ hole ğŸ’£ bomb ğŸ’¬ speech_balloon ğŸ‘ï¸â€ğŸ—¨ï¸ eye_speech_bubble ğŸ—¯ï¸ right_anger_bubble ğŸ’­ thought_balloon ğŸ’¤ zzz ","date":"2019-10-01","objectID":"/emoji-support/:1:15","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"äººèˆ‡èº«é«” ","date":"2019-10-01","objectID":"/emoji-support/:2:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å¼µé–‹æ‰‹æŒçš„æ‰‹å‹¢ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘‹ wave ğŸ¤š raised_back_of_hand ğŸ–ï¸ raised_hand_with_fingers_splayed âœ‹ hand raised_hand ğŸ–– vulcan_salute ","date":"2019-10-01","objectID":"/emoji-support/:2:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"éƒ¨åˆ†æ‰‹æŒ‡çš„æ‰‹å‹¢ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘Œ ok_hand âœŒï¸ v ğŸ¤ crossed_fingers ğŸ¤˜ metal ğŸ¤™ call_me_hand ","date":"2019-10-01","objectID":"/emoji-support/:2:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ä¸€æ ¹æ‰‹æŒ‡çš„æ‰‹å‹¢ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘ˆ point_left ğŸ‘‰ point_right ğŸ‘† point_up_2 ğŸ–• fu middle_finger ğŸ‘‡ point_down â˜ï¸ point_up ","date":"2019-10-01","objectID":"/emoji-support/:2:3","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ¡ç·Šçš„æ‰‹å‹¢ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘ +1 thumbsup ğŸ‘ -1 thumbsdown âœŠ fist fist_raised ğŸ‘Š facepunch fist_oncoming punch ğŸ¤› fist_left ğŸ¤œ fist_right ","date":"2019-10-01","objectID":"/emoji-support/:2:4","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å…©åªæ‰‹ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘ clap ğŸ™Œ raised_hands ğŸ‘ open_hands ğŸ¤ handshake ğŸ™ pray ","date":"2019-10-01","objectID":"/emoji-support/:2:5","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ¡ä½æ±è¥¿çš„æ‰‹å‹¢ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âœï¸ writing_hand ğŸ’… nail_care ğŸ¤³ selfie ","date":"2019-10-01","objectID":"/emoji-support/:2:6","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"èº«é«”éƒ¨ä½ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’ª muscle ğŸ‘‚ ear ğŸ‘ƒ nose ğŸ‘€ eyes ğŸ‘ï¸ eye ğŸ‘… tongue ğŸ‘„ lips ","date":"2019-10-01","objectID":"/emoji-support/:2:7","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"äºº åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘¶ baby ğŸ‘¦ boy ğŸ‘§ girl :blonde_man: blonde_man person_with_blond_hair ğŸ‘¨ man ğŸ‘© woman ğŸ‘±â€â™€ï¸ blonde_woman ğŸ‘´ older_man ğŸ‘µ older_woman ","date":"2019-10-01","objectID":"/emoji-support/:2:8","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"èº«é«”å‹•ä½œ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ™â€â™€ï¸ frowning_woman person_frowning ğŸ™â€â™‚ï¸ frowning_man ğŸ™â€â™€ï¸ person_with_pouting_face pouting_woman ğŸ™â€â™‚ï¸ pouting_man ğŸ™…â€â™€ï¸ ng_woman no_good no_good_woman ğŸ™…â€â™‚ï¸ ng_man no_good_man ğŸ™†â€â™€ï¸ ok_woman ğŸ™†â€â™‚ï¸ ok_man ğŸ’â€â™€ï¸ information_desk_person sassy_woman tipping_hand_woman ğŸ’â€â™‚ï¸ sassy_man tipping_hand_man ğŸ™‹â€â™€ï¸ raising_hand raising_hand_woman ğŸ™‹â€â™‚ï¸ raising_hand_man ğŸ™‡â€â™‚ï¸ bow bowing_man ğŸ™‡â€â™€ï¸ bowing_woman ğŸ¤¦â€â™‚ï¸ man_facepalming ğŸ¤¦â€â™€ï¸ woman_facepalming ğŸ¤·â€â™‚ï¸ man_shrugging ğŸ¤·â€â™€ï¸ woman_shrugging ","date":"2019-10-01","objectID":"/emoji-support/:2:9","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"äººç‰©è§’è‰² åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘¨â€âš•ï¸ man_health_worker ğŸ‘©â€âš•ï¸ woman_health_worker ğŸ‘¨â€ğŸ“ man_student ğŸ‘©â€ğŸ“ woman_student ğŸ‘¨â€ğŸ« man_teacher ğŸ‘©â€ğŸ« woman_teacher ğŸ‘¨â€âš–ï¸ man_judge ğŸ‘©â€âš–ï¸ woman_judge ğŸ‘¨â€ğŸŒ¾ man_farmer ğŸ‘©â€ğŸŒ¾ woman_farmer ğŸ‘¨â€ğŸ³ man_cook ğŸ‘©â€ğŸ³ woman_cook ğŸ‘¨â€ğŸ”§ man_mechanic ğŸ‘©â€ğŸ”§ woman_mechanic ğŸ‘¨â€ğŸ­ man_factory_worker ğŸ‘©â€ğŸ­ woman_factory_worker ğŸ‘¨â€ğŸ’¼ man_office_worker ğŸ‘©â€ğŸ’¼ woman_office_worker ğŸ‘¨â€ğŸ”¬ man_scientist ğŸ‘©â€ğŸ”¬ woman_scientist ğŸ‘¨â€ğŸ’» man_technologist ğŸ‘©â€ğŸ’» woman_technologist ğŸ‘¨â€ğŸ¤ man_singer ğŸ‘©â€ğŸ¤ woman_singer ğŸ‘¨â€ğŸ¨ man_artist ğŸ‘©â€ğŸ¨ woman_artist ğŸ‘¨â€âœˆï¸ man_pilot ğŸ‘©â€âœˆï¸ woman_pilot ğŸ‘¨â€ğŸš€ man_astronaut ğŸ‘©â€ğŸš€ woman_astronaut ğŸ‘¨â€ğŸš’ man_firefighter ğŸ‘©â€ğŸš’ woman_firefighter ğŸ‘®â€â™‚ï¸ cop policeman ğŸ‘®â€â™€ï¸ policewoman ğŸ•µ detective male_detective ğŸ•µï¸â€â™€ï¸ female_detective ğŸ’‚â€â™‚ï¸ guardsman ğŸ’‚â€â™€ï¸ guardswoman ğŸ‘·â€â™‚ï¸ construction_worker construction_worker_man ğŸ‘·â€â™€ï¸ construction_worker_woman ğŸ¤´ prince ğŸ‘¸ princess ğŸ‘³â€â™‚ï¸ man_with_turban ğŸ‘³â€â™€ï¸ woman_with_turban ğŸ‘² man_with_gua_pi_mao ğŸ¤µâ€â™‚ï¸ man_in_tuxedo ğŸ‘° bride_with_veil ğŸ¤° pregnant_woman ","date":"2019-10-01","objectID":"/emoji-support/:2:10","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å¹»æƒ³çš„äººç‰© åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘¼ angel ğŸ… santa ğŸ¤¶ mrs_claus ","date":"2019-10-01","objectID":"/emoji-support/:2:11","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"äººç‰©æ´»å‹• åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’†â€â™€ï¸ massage massage_woman ğŸ’†â€â™‚ï¸ massage_man ğŸ’‡â€â™€ï¸ haircut haircut_woman ğŸ’‡â€â™‚ï¸ haircut_man ğŸš¶â€â™‚ï¸ walking walking_man ğŸš¶â€â™€ï¸ walking_woman ğŸƒâ€â™‚ï¸ runner running running_man ğŸƒâ€â™€ï¸ running_woman ğŸ’ƒ dancer ğŸ•º man_dancing ğŸ•´ï¸ business_suit_levitating ğŸ‘¯â€â™€ï¸ dancers dancing_women ğŸ‘¯â€â™‚ï¸ dancing_men ","date":"2019-10-01","objectID":"/emoji-support/:2:12","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é«”è‚² åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¤º person_fencing ğŸ‡ horse_racing â›·ï¸ skier ğŸ‚ snowboarder ğŸŒï¸â€â™‚ï¸ golfing_man ğŸŒï¸â€â™€ï¸ golfing_woman ğŸ„â€â™‚ï¸ surfer surfing_man ğŸ„â€â™€ï¸ surfing_woman ğŸš£â€â™‚ï¸ rowboat rowing_man ğŸš£â€â™€ï¸ rowing_woman ğŸŠâ€â™‚ï¸ swimmer swimming_man ğŸŠâ€â™€ï¸ swimming_woman â›¹ï¸â€â™‚ï¸ basketball_man â›¹ï¸â€â™€ï¸ basketball_woman ğŸ‹ï¸â€â™‚ï¸ weight_lifting_man ğŸ‹ï¸â€â™€ï¸ weight_lifting_woman ğŸš´â€â™‚ï¸ bicyclist biking_man ğŸš´â€â™€ï¸ biking_woman ğŸšµâ€â™‚ï¸ mountain_bicyclist mountain_biking_man ğŸšµâ€â™€ï¸ mountain_biking_woman ğŸ¤¸â€â™‚ï¸ man_cartwheeling ğŸ¤¸â€â™€ï¸ woman_cartwheeling ğŸ¤¼â€â™‚ï¸ men_wrestling ğŸ¤¼â€â™€ï¸ women_wrestling ğŸ¤½â€â™‚ï¸ man_playing_water_polo ğŸ¤½â€â™€ï¸ woman_playing_water_polo ğŸ¤¾â€â™‚ï¸ man_playing_handball ğŸ¤¾â€â™€ï¸ woman_playing_handball ğŸ¤¹â€â™‚ï¸ man_juggling ğŸ¤¹â€â™€ï¸ woman_juggling ","date":"2019-10-01","objectID":"/emoji-support/:2:13","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ä¼‘æ¯ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ›€ bath ğŸ›Œ sleeping_bed ","date":"2019-10-01","objectID":"/emoji-support/:2:14","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å®¶åº­ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘­ two_women_holding_hands ğŸ‘« couple ğŸ‘¬ two_men_holding_hands ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ couplekiss_man_woman ğŸ‘¨â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ couplekiss_man_man ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘© couplekiss_woman_woman ğŸ’‘ couple_with_heart couple_with_heart_woman_man ğŸ‘¨â€â¤ï¸â€ğŸ‘¨ couple_with_heart_man_man ğŸ‘©â€â¤ï¸â€ğŸ‘© couple_with_heart_woman_woman ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ family family_man_woman_boy ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ family_man_woman_girl ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ family_man_woman_girl_boy ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ family_man_woman_boy_boy ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ family_man_woman_girl_girl ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦ family_man_man_boy ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§ family_man_man_girl ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ family_man_man_girl_boy ğŸ‘¨â€ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ family_man_man_boy_boy ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ family_man_man_girl_girl ğŸ‘©â€ğŸ‘©â€ğŸ‘¦ family_woman_woman_boy ğŸ‘©â€ğŸ‘©â€ğŸ‘§ family_woman_woman_girl ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ family_woman_woman_girl_boy ğŸ‘©â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ family_woman_woman_boy_boy ğŸ‘©â€ğŸ‘©â€ğŸ‘§â€ğŸ‘§ family_woman_woman_girl_girl ğŸ‘¨â€ğŸ‘¦ family_man_boy ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦ family_man_boy_boy ğŸ‘¨â€ğŸ‘§ family_man_girl ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦ family_man_girl_boy ğŸ‘¨â€ğŸ‘§â€ğŸ‘§ family_man_girl_girl ğŸ‘©â€ğŸ‘¦ family_woman_boy ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ family_woman_boy_boy ğŸ‘©â€ğŸ‘§ family_woman_girl ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ family_woman_girl_boy ğŸ‘©â€ğŸ‘§â€ğŸ‘§ family_woman_girl_girl ","date":"2019-10-01","objectID":"/emoji-support/:2:15","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"äººç‰©ç¬¦è™Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ—£ speaking_head ğŸ‘¤ bust_in_silhouette ğŸ‘¥ busts_in_silhouette ğŸ‘£ footprints ","date":"2019-10-01","objectID":"/emoji-support/:2:16","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å‹•ç‰©èˆ‡è‡ªç„¶ ","date":"2019-10-01","objectID":"/emoji-support/:3:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å“ºä¹³å‹•ç‰© åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸµ monkey_face ğŸ’ monkey ğŸ¦ gorilla ğŸ¶ dog ğŸ• dog2 ğŸ© poodle ğŸº wolf ğŸ¦Š fox_face ğŸ± cat ğŸˆ cat2 ğŸ¦ lion ğŸ¯ tiger ğŸ… tiger2 ğŸ† leopard ğŸ´ horse ğŸ racehorse ğŸ¦„ unicorn ğŸ¦Œ deer ğŸ® cow ğŸ‚ ox ğŸƒ water_buffalo ğŸ„ cow2 ğŸ· pig ğŸ– pig2 ğŸ— boar ğŸ½ pig_nose ğŸ ram ğŸ‘ sheep ğŸ goat ğŸª dromedary_camel ğŸ« camel ğŸ˜ elephant ğŸ¦ rhinoceros ğŸ­ mouse ğŸ mouse2 ğŸ€ rat ğŸ¹ hamster ğŸ° rabbit ğŸ‡ rabbit2 ğŸ¿ï¸ chipmunk ğŸ¦‡ bat ğŸ» bear ğŸ¨ koala ğŸ¼ panda_face ğŸ¾ feet paw_prints ","date":"2019-10-01","objectID":"/emoji-support/:3:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é³¥é¡ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¦ƒ turkey ğŸ” chicken ğŸ“ rooster ğŸ£ hatching_chick ğŸ¤ baby_chick ğŸ¥ hatched_chick ğŸ¦ bird ğŸ§ penguin ğŸ•Š dove ğŸ¦… eagle ğŸ¦† duck ğŸ¦‰ owl ","date":"2019-10-01","objectID":"/emoji-support/:3:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å…©æ£²å‹•ç‰© icon code icon code ğŸ¸ frog ","date":"2019-10-01","objectID":"/emoji-support/:3:3","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"çˆ¬èŸ²é¡ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸŠ crocodile ğŸ¢ turtle ğŸ¦ lizard ğŸ snake ğŸ² dragon_face ğŸ‰ dragon ","date":"2019-10-01","objectID":"/emoji-support/:3:4","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æµ·æ´‹å‹•ç‰© åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ³ whale ğŸ‹ whale2 ğŸ¬ dolphin flipper ğŸŸ fish ğŸ  tropical_fish ğŸ¡ blowfish ğŸ¦ˆ shark ğŸ™ octopus ğŸš shell ","date":"2019-10-01","objectID":"/emoji-support/:3:5","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"èŸ²é¡ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸŒ snail ğŸ¦‹ butterfly ğŸ› bug ğŸœ ant ğŸ bee honeybee ğŸª² beetle ğŸ•·ï¸ spider ğŸ•¸ï¸ spider_web ğŸ¦‚ scorpion ","date":"2019-10-01","objectID":"/emoji-support/:3:6","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"èŠ±é¡æ¤ç‰© åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’ bouquet ğŸŒ¸ cherry_blossom ğŸ’® white_flower ğŸµï¸ rosette ğŸŒ¹ rose ğŸ¥€ wilted_flower ğŸŒº hibiscus ğŸŒ» sunflower ğŸŒ¼ blossom ğŸŒ· tulip ","date":"2019-10-01","objectID":"/emoji-support/:3:7","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å…¶å®ƒæ¤ç‰© åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸŒ± seedling ğŸŒ² evergreen_tree ğŸŒ³ deciduous_tree ğŸŒ´ palm_tree ğŸŒµ cactus ğŸŒ¾ ear_of_rice ğŸŒ¿ herb â˜˜ï¸ shamrock ğŸ€ four_leaf_clover ğŸ maple_leaf ğŸ‚ fallen_leaf ğŸƒ leaves ","date":"2019-10-01","objectID":"/emoji-support/:3:8","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é£Ÿç‰©èˆ‡é£²æ–™ ","date":"2019-10-01","objectID":"/emoji-support/:4:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ°´æœ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‡ grapes ğŸˆ melon ğŸ‰ watermelon ğŸŠ mandarin orange tangerine ğŸ‹ lemon ğŸŒ banana ğŸ pineapple ğŸ apple ğŸ green_apple ğŸ pear ğŸ‘ peach ğŸ’ cherries ğŸ“ strawberry ğŸ¥ kiwi_fruit ğŸ… tomato ","date":"2019-10-01","objectID":"/emoji-support/:4:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"è”¬èœ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¥‘ avocado ğŸ† eggplant ğŸ¥” potato ğŸ¥• carrot ğŸŒ½ corn ğŸŒ¶ï¸ hot_pepper ğŸ¥’ cucumber ğŸ„ mushroom ğŸ¥œ peanuts ğŸŒ° chestnut ","date":"2019-10-01","objectID":"/emoji-support/:4:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å¿«é¤ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ bread ğŸ¥ croissant ğŸ¥– baguette_bread ğŸ¥ pancakes ğŸ§€ cheese ğŸ– meat_on_bone ğŸ— poultry_leg ğŸ¥“ bacon ğŸ” hamburger ğŸŸ fries ğŸ• pizza ğŸŒ­ hotdog ğŸŒ® taco ğŸŒ¯ burrito ğŸ¥™ stuffed_flatbread ğŸ¥š egg ğŸ³ fried_egg ğŸ¥˜ shallow_pan_of_food ğŸ² stew ğŸ¥— green_salad ğŸ¿ popcorn ","date":"2019-10-01","objectID":"/emoji-support/:4:3","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"äºæ´²é£Ÿç‰© åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ± bento ğŸ˜ rice_cracker ğŸ™ rice_ball ğŸš rice ğŸ› curry ğŸœ ramen ğŸ spaghetti ğŸ  sweet_potato ğŸ¢ oden ğŸ£ sushi ğŸ¤ fried_shrimp ğŸ¥ fish_cake ğŸ¡ dango ","date":"2019-10-01","objectID":"/emoji-support/:4:4","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æµ·é®® åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¦€ crab ğŸ¦ shrimp ğŸ¦‘ squid ","date":"2019-10-01","objectID":"/emoji-support/:4:5","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç”œé» åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¦ icecream ğŸ§ shaved_ice ğŸ¨ ice_cream ğŸ© doughnut ğŸª cookie ğŸ‚ birthday ğŸ° cake ğŸ« chocolate_bar ğŸ¬ candy ğŸ­ lollipop ğŸ® custard ğŸ¯ honey_pot ","date":"2019-10-01","objectID":"/emoji-support/:4:6","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é£²æ–™ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¼ baby_bottle ğŸ¥› milk_glass â˜• coffee ğŸµ tea ğŸ¶ sake ğŸ¾ champagne ğŸ· wine_glass ğŸ¸ cocktail ğŸ¹ tropical_drink ğŸº beer ğŸ» beers ğŸ¥‚ clinking_glasses ğŸ¥ƒ tumbler_glass ","date":"2019-10-01","objectID":"/emoji-support/:4:7","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é¤å…· åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ½ï¸ plate_with_cutlery ğŸ´ fork_and_knife ğŸ¥„ spoon ğŸ”ª hocho knife ğŸº amphora ","date":"2019-10-01","objectID":"/emoji-support/:4:8","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ—…éŠèˆ‡åœ°ç† ","date":"2019-10-01","objectID":"/emoji-support/:5:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"åœ°åœ– åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸŒ earth_africa ğŸŒ earth_americas ğŸŒ earth_asia ğŸŒ globe_with_meridians ğŸ—ºï¸ world_map ğŸ—¾ japan ","date":"2019-10-01","objectID":"/emoji-support/:5:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"åœ°ç†ç¾è±¡ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ” mountain_snow â›°ï¸ mountain ğŸŒ‹ volcano ğŸ—» mount_fuji ğŸ•ï¸ camping â›± beach_umbrella ğŸœï¸ desert ğŸï¸ desert_island ğŸï¸ national_park ","date":"2019-10-01","objectID":"/emoji-support/:5:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å»ºç¯‰ç‰© åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸŸï¸ stadium ğŸ›ï¸ classical_building ğŸ—ï¸ building_construction ğŸ˜ houses ğŸš derelict_house ğŸ  house ğŸ¡ house_with_garden ğŸ¢ office ğŸ£ post_office ğŸ¤ european_post_office ğŸ¥ hospital ğŸ¦ bank ğŸ¨ hotel ğŸ© love_hotel ğŸª convenience_store ğŸ« school ğŸ¬ department_store ğŸ­ factory ğŸ¯ japanese_castle ğŸ° european_castle ğŸ’’ wedding ğŸ—¼ tokyo_tower ğŸ—½ statue_of_liberty ","date":"2019-10-01","objectID":"/emoji-support/:5:3","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å®—æ•™å»ºç¯‰ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ â›ª church ğŸ•Œ mosque ğŸ• synagogue â›©ï¸ shinto_shrine ğŸ•‹ kaaba ","date":"2019-10-01","objectID":"/emoji-support/:5:4","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å…¶å®ƒåœ°é» åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ â›² fountain â›º tent ğŸŒ foggy ğŸŒƒ night_with_stars ğŸ™ï¸ cityscape ğŸŒ„ sunrise_over_mountains ğŸŒ… sunrise ğŸŒ† city_sunset ğŸŒ‡ city_sunrise ğŸŒ‰ bridge_at_night â™¨ï¸ hotsprings ğŸ  carousel_horse ğŸ¡ ferris_wheel ğŸ¢ roller_coaster ğŸ’ˆ barber ğŸª circus_tent ","date":"2019-10-01","objectID":"/emoji-support/:5:5","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é™¸è·¯é‹è¼¸ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸš‚ steam_locomotive ğŸšƒ railway_car ğŸš„ bullettrain_side ğŸš… bullettrain_front ğŸš† train2 ğŸš‡ metro ğŸšˆ light_rail ğŸš‰ station ğŸšŠ tram ğŸš monorail ğŸš mountain_railway ğŸš‹ train ğŸšŒ bus ğŸš oncoming_bus ğŸš trolleybus ğŸš minibus ğŸš‘ ambulance ğŸš’ fire_engine ğŸš“ police_car ğŸš” oncoming_police_car ğŸš• taxi ğŸš– oncoming_taxi ğŸš— car red_car ğŸš˜ oncoming_automobile ğŸš™ blue_car ğŸšš truck ğŸš› articulated_lorry ğŸšœ tractor ğŸï¸ racing_car ğŸ motorcycle ğŸ›µ motor_scooter ğŸš² bike ğŸ›´ kick_scooter ğŸš busstop ğŸ›£ï¸ motorway ğŸ›¤ï¸ railway_track ğŸ›¢ï¸ oil_drum â›½ fuelpump ğŸš¨ rotating_light ğŸš¥ traffic_light ğŸš¦ vertical_traffic_light ğŸ›‘ stop_sign ğŸš§ construction ","date":"2019-10-01","objectID":"/emoji-support/:5:6","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ°´è·¯é‹è¼¸ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âš“ anchor â›µ boat sailboat ğŸ›¶ canoe ğŸš¤ speedboat ğŸ›³ï¸ passenger_ship â›´ï¸ ferry ğŸ›¥ï¸ motor_boat ğŸš¢ ship ","date":"2019-10-01","objectID":"/emoji-support/:5:7","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç©ºä¸­é‹è¼¸ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âœˆï¸ airplane ğŸ›©ï¸ small_airplane ğŸ›« flight_departure ğŸ›¬ flight_arrival ğŸ’º seat ğŸš helicopter ğŸšŸ suspension_railway ğŸš  mountain_cableway ğŸš¡ aerial_tramway ğŸ›°ï¸ artificial_satellite ğŸš€ rocket ","date":"2019-10-01","objectID":"/emoji-support/:5:8","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ—…é¤¨ icon code icon code ğŸ›ï¸ bellhop_bell ","date":"2019-10-01","objectID":"/emoji-support/:5:9","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ™‚é–“ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âŒ› hourglass â³ hourglass_flowing_sand âŒš watch â° alarm_clock â±ï¸ stopwatch â²ï¸ timer_clock ğŸ•°ï¸ mantelpiece_clock ğŸ•› clock12 ğŸ•§ clock1230 ğŸ• clock1 ğŸ•œ clock130 ğŸ•‘ clock2 ğŸ• clock230 ğŸ•’ clock3 ğŸ• clock330 ğŸ•“ clock4 ğŸ•Ÿ clock430 ğŸ•” clock5 ğŸ•  clock530 ğŸ•• clock6 ğŸ•¡ clock630 ğŸ•– clock7 ğŸ•¢ clock730 ğŸ•— clock8 ğŸ•£ clock830 ğŸ•˜ clock9 ğŸ•¤ clock930 ğŸ•™ clock10 ğŸ•¥ clock1030 ğŸ•š clock11 ğŸ•¦ clock1130 ","date":"2019-10-01","objectID":"/emoji-support/:5:10","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å¤©ç©ºèˆ‡å¤©æ°£ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸŒ‘ new_moon ğŸŒ’ waxing_crescent_moon ğŸŒ“ first_quarter_moon ğŸŒ” moon waxing_gibbous_moon ğŸŒ• full_moon ğŸŒ– waning_gibbous_moon ğŸŒ— last_quarter_moon ğŸŒ˜ waning_crescent_moon ğŸŒ™ crescent_moon ğŸŒš new_moon_with_face ğŸŒ› first_quarter_moon_with_face ğŸŒœ last_quarter_moon_with_face ğŸŒ¡ï¸ thermometer â˜€ï¸ sunny ğŸŒ full_moon_with_face ğŸŒ sun_with_face â­ star ğŸŒŸ star2 ğŸŒ  stars ğŸŒŒ milky_way â˜ï¸ cloud â›… partly_sunny â›ˆ cloud_with_lightning_and_rain ğŸŒ¤ sun_behind_small_cloud ğŸŒ¥ sun_behind_large_cloud ğŸŒ¦ sun_behind_rain_cloud ğŸŒ§ cloud_with_rain ğŸŒ¨ cloud_with_snow ğŸŒ© cloud_with_lightning ğŸŒªï¸ tornado ğŸŒ«ï¸ fog ğŸŒ¬ wind_face ğŸŒ€ cyclone ğŸŒˆ rainbow ğŸŒ‚ closed_umbrella â˜‚ï¸ open_umbrella â˜‚ï¸ umbrella â›±ï¸ parasol_on_ground âš¡ zap â„ï¸ snowflake â˜ƒï¸ snowman_with_snow â˜ƒï¸ snowman â˜„ï¸ comet ğŸ”¥ fire ğŸ’§ droplet ğŸŒŠ ocean ","date":"2019-10-01","objectID":"/emoji-support/:5:11","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ´»å‹• ","date":"2019-10-01","objectID":"/emoji-support/:6:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"äº‹ä»¶ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸƒ jack_o_lantern ğŸ„ christmas_tree ğŸ† fireworks ğŸ‡ sparkler âœ¨ sparkles ğŸˆ balloon ğŸ‰ tada ğŸŠ confetti_ball ğŸ‹ tanabata_tree ğŸ bamboo ğŸ dolls ğŸ flags ğŸ wind_chime ğŸ‘ rice_scene ğŸ€ ribbon ğŸ gift ğŸ—ï¸ reminder_ribbon ğŸŸ tickets ğŸ« ticket ","date":"2019-10-01","objectID":"/emoji-support/:6:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"çæ¯èˆ‡çç‰Œ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ–ï¸ medal_military ğŸ† trophy ğŸ… medal_sports ğŸ¥‡ 1st_place_medal ğŸ¥ˆ 2nd_place_medal ğŸ¥‰ 3rd_place_medal ","date":"2019-10-01","objectID":"/emoji-support/:6:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é«”è‚²é‹å‹• åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âš½ soccer âš¾ baseball ğŸ€ basketball ğŸ volleyball ğŸˆ football ğŸ‰ rugby_football ğŸ¾ tennis ğŸ³ bowling ğŸ¦— cricket ğŸ‘ field_hockey ğŸ’ ice_hockey ğŸ“ ping_pong ğŸ¸ badminton ğŸ¥Š boxing_glove ğŸ¥‹ martial_arts_uniform ğŸ¥… goal_net â›³ golf â›¸ï¸ ice_skate ğŸ£ fishing_pole_and_fish ğŸ½ running_shirt_with_sash ğŸ¿ ski ","date":"2019-10-01","objectID":"/emoji-support/:6:3","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"éŠæˆ² åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¯ dart ğŸ± 8ball ğŸ”® crystal_ball ğŸ® video_game ğŸ•¹ï¸ joystick ğŸ° slot_machine ğŸ² game_die â™ ï¸ spades â™¥ï¸ hearts â™¦ï¸ diamonds â™£ï¸ clubs ğŸƒ black_joker ğŸ€„ mahjong ğŸ´ flower_playing_cards ","date":"2019-10-01","objectID":"/emoji-support/:6:4","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"è—è¡“èˆ‡å·¥è— åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ­ performing_arts ğŸ–¼ framed_picture ğŸ¨ art ","date":"2019-10-01","objectID":"/emoji-support/:6:5","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç‰©å“ ","date":"2019-10-01","objectID":"/emoji-support/:7:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æœè£ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‘“ eyeglasses ğŸ•¶ï¸ dark_sunglasses ğŸ‘” necktie ğŸ‘• shirt tshirt ğŸ‘– jeans ğŸ‘— dress ğŸ‘˜ kimono ğŸ‘™ bikini ğŸ‘š womans_clothes ğŸ‘› purse ğŸ‘œ handbag ğŸ‘ pouch ğŸ›ï¸ shopping ğŸ’ school_satchel ğŸ‘ mans_shoe shoe ğŸ‘Ÿ athletic_shoe ğŸ‘  high_heel ğŸ‘¡ sandal ğŸ‘¢ boot ğŸ‘‘ crown ğŸ‘’ womans_hat ğŸ© tophat ğŸ“ mortar_board â›‘ï¸ rescue_worker_helmet ğŸ“¿ prayer_beads ğŸ’„ lipstick ğŸ’ ring ğŸ’ gem ","date":"2019-10-01","objectID":"/emoji-support/:7:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"è²éŸ³ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ”‡ mute ğŸ”ˆ speaker ğŸ”‰ sound ğŸ”Š loud_sound ğŸ“¢ loudspeaker ğŸ“£ mega ğŸ“¯ postal_horn ğŸ”” bell ğŸ”• no_bell ","date":"2019-10-01","objectID":"/emoji-support/:7:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"éŸ³æ¨‚ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¼ musical_score ğŸµ musical_note ğŸ¶ notes ğŸ™ï¸ studio_microphone ğŸšï¸ level_slider ğŸ›ï¸ control_knobs ğŸ¤ microphone ğŸ§ headphones ğŸ“» radio ","date":"2019-10-01","objectID":"/emoji-support/:7:3","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ¨‚å™¨ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ· saxophone ğŸ¸ guitar ğŸ¹ musical_keyboard ğŸº trumpet ğŸ» violin ğŸ¥ drum ","date":"2019-10-01","objectID":"/emoji-support/:7:4","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é›»è©± åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ“± iphone ğŸ“² calling â˜ï¸ phone telephone ğŸ“ telephone_receiver ğŸ“Ÿ pager ğŸ“  fax ","date":"2019-10-01","objectID":"/emoji-support/:7:5","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é›»è…¦ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ”‹ battery ğŸ”Œ electric_plug ğŸ’» computer ğŸ–¥ï¸ desktop_computer ğŸ–¨ï¸ printer âŒ¨ï¸ keyboard ğŸ–± computer_mouse ğŸ–²ï¸ trackball ğŸ’½ minidisc ğŸ’¾ floppy_disk ğŸ’¿ cd ğŸ“€ dvd ","date":"2019-10-01","objectID":"/emoji-support/:7:6","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç‡ˆå…‰èˆ‡å½±åƒ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ¥ movie_camera ğŸï¸ film_strip ğŸ“½ï¸ film_projector ğŸ¬ clapper ğŸ“º tv ğŸ“· camera ğŸ“¸ camera_flash ğŸ“¹ video_camera ğŸ“¼ vhs ğŸ” mag ğŸ” mag_right ğŸ•¯ï¸ candle ğŸ’¡ bulb ğŸ”¦ flashlight ğŸ® izakaya_lantern lantern ","date":"2019-10-01","objectID":"/emoji-support/:7:7","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ›¸èˆ‡ç´™å¼µ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ“” notebook_with_decorative_cover ğŸ“• closed_book ğŸ“– book open_book ğŸ“— green_book ğŸ“˜ blue_book ğŸ“™ orange_book ğŸ“š books ğŸ““ notebook ğŸ“’ ledger ğŸ“ƒ page_with_curl ğŸ“œ scroll ğŸ“„ page_facing_up ğŸ“° newspaper ğŸ—ï¸ newspaper_roll ğŸ“‘ bookmark_tabs ğŸ”– bookmark ğŸ·ï¸ label ","date":"2019-10-01","objectID":"/emoji-support/:7:8","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"éŒ¢ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’° moneybag ğŸ’´ yen ğŸ’µ dollar ğŸ’¶ euro ğŸ’· pound ğŸ’¸ money_with_wings ğŸ’³ credit_card ğŸ’¹ chart ","date":"2019-10-01","objectID":"/emoji-support/:7:9","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"éƒµä»¶ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âœ‰ï¸ email envelope ğŸ“§ ğŸ“§ ğŸ“¨ incoming_envelope ğŸ“© envelope_with_arrow ğŸ“¤ outbox_tray ğŸ“¥ inbox_tray ğŸ“¦ package ğŸ“« mailbox ğŸ“ª mailbox_closed ğŸ“¬ mailbox_with_mail ğŸ“­ mailbox_with_no_mail ğŸ“® postbox ğŸ—³ ballot_box ","date":"2019-10-01","objectID":"/emoji-support/:7:10","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ›¸å¯« åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âœï¸ pencil2 âœ’ï¸ black_nib ğŸ–‹ fountain_pen ğŸ–Š pen ğŸ–Œ paintbrush ğŸ– crayon ğŸ“ memo pencil ","date":"2019-10-01","objectID":"/emoji-support/:7:11","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"è¾¦å…¬ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’¼ briefcase ğŸ“ file_folder ğŸ“‚ open_file_folder ğŸ—‚ï¸ card_index_dividers ğŸ“… date ğŸ“† calendar ğŸ—’ spiral_notepad ğŸ—“ spiral_calendar ğŸ“‡ card_index ğŸ“ˆ chart_with_upwards_trend ğŸ“‰ chart_with_downwards_trend ğŸ“Š bar_chart ğŸ“‹ clipboard ğŸ“Œ pushpin ğŸ“ round_pushpin ğŸ“ paperclip ğŸ–‡ paperclips ğŸ“ straight_ruler ğŸ“ triangular_ruler âœ‚ï¸ scissors ğŸ—ƒï¸ card_file_box ğŸ—„ï¸ file_cabinet ğŸ—‘ï¸ wastebasket ","date":"2019-10-01","objectID":"/emoji-support/:7:12","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é– åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ”’ lock ğŸ”“ unlock ğŸ” lock_with_ink_pen ğŸ” closed_lock_with_key ğŸ”‘ key ğŸ—ï¸ old_key ","date":"2019-10-01","objectID":"/emoji-support/:7:13","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å·¥å…· åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ”¨ hammer â›ï¸ pick âš’ï¸ hammer_and_pick ğŸ› ï¸ hammer_and_wrench ğŸ—¡ dagger âš”ï¸ crossed_swords ğŸ”« gun ğŸ¹ bow_and_arrow ğŸ›¡ï¸ shield ğŸ”§ wrench ğŸ”© nut_and_bolt âš™ï¸ gear ğŸ—œ clamp âš– balance_scale ğŸ”— link â›“ï¸ chains ","date":"2019-10-01","objectID":"/emoji-support/:7:14","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç§‘å­¸ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âš—ï¸ alembic ğŸ”¬ microscope ğŸ”­ telescope ğŸ›°ï¸ satellite ","date":"2019-10-01","objectID":"/emoji-support/:7:15","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"é†«ç™‚ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’‰ syringe ğŸ’Š pill ","date":"2019-10-01","objectID":"/emoji-support/:7:16","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç”Ÿæ´»ç”¨å“ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸšª door ğŸ›ï¸ bed ğŸ›‹ï¸ couch_and_lamp ğŸš½ toilet ğŸš¿ shower ğŸ› bathtub ğŸ›’ shopping_cart ","date":"2019-10-01","objectID":"/emoji-support/:7:17","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å…¶å®ƒç‰©å“ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸš¬ smoking âš°ï¸ coffin âš±ï¸ funeral_urn ğŸ—¿ moyai ","date":"2019-10-01","objectID":"/emoji-support/:7:18","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç¬¦è™Ÿ ","date":"2019-10-01","objectID":"/emoji-support/:8:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"äº¤é€šæ¨™è­˜ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ§ atm ğŸš® put_litter_in_its_place ğŸš° potable_water â™¿ wheelchair ğŸš¹ mens ğŸšº womens ğŸš» restroom ğŸš¼ baby_symbol ğŸš¾ wc ğŸ›‚ passport_control ğŸ›ƒ customs ğŸ›„ baggage_claim ğŸ›… left_luggage ","date":"2019-10-01","objectID":"/emoji-support/:8:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"è­¦å‘Š åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âš ï¸ warning ğŸš¸ children_crossing â›” no_entry ğŸš« no_entry_sign ğŸš³ no_bicycles ğŸš­ no_smoking ğŸš¯ do_not_litter ğŸš± ğŸš± ğŸš· no_pedestrians ğŸ“µ no_mobile_phones ğŸ” underage â˜¢ radioactive â˜£ biohazard ","date":"2019-10-01","objectID":"/emoji-support/:8:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç®­é ­ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ â¬†ï¸ arrow_up â†—ï¸ arrow_upper_right â¡ï¸ arrow_right â†˜ï¸ arrow_lower_right â¬‡ï¸ arrow_down â†™ï¸ arrow_lower_left â¬…ï¸ arrow_left â†–ï¸ arrow_upper_left â†•ï¸ arrow_up_down â†”ï¸ left_right_arrow â†©ï¸ leftwards_arrow_with_hook â†ªï¸ arrow_right_hook â¤´ï¸ arrow_heading_up â¤µï¸ arrow_heading_down ğŸ”ƒ arrows_clockwise ğŸ”„ arrows_counterclockwise ğŸ”™ back ğŸ”š end ğŸ”› on ğŸ”œ soon ğŸ” top ","date":"2019-10-01","objectID":"/emoji-support/:8:3","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å®—æ•™ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ› place_of_worship âš›ï¸ atom_symbol ğŸ•‰ om âœ¡ï¸ star_of_david â˜¸ï¸ wheel_of_dharma â˜¯ï¸ yin_yang âœï¸ latin_cross â˜¦ï¸ orthodox_cross â˜ªï¸ star_and_crescent â˜®ï¸ peace_symbol ğŸ• menorah ğŸ”¯ six_pointed_star ","date":"2019-10-01","objectID":"/emoji-support/:8:4","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"ç”Ÿè‚– åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ â™ˆ aries â™‰ taurus â™Š gemini â™‹ cancer â™Œ leo â™ virgo â™ libra â™ scorpius â™ sagittarius â™‘ capricorn â™’ aquarius â™“ pisces â› ophiuchus ","date":"2019-10-01","objectID":"/emoji-support/:8:5","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å½±åƒç¬¦è™Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ”€ twisted_rightwards_arrows ğŸ” repeat ğŸ”‚ repeat_one â–¶ï¸ arrow_forward â© fast_forward â­ next_track_button â¯ play_or_pause_button â—€ï¸ arrow_backward âª rewind â®ï¸ previous_track_button ğŸ”¼ arrow_up_small â« arrow_double_up ğŸ”½ arrow_down_small â¬ arrow_double_down â¸ pause_button â¹ stop_button âº record_button ğŸ¦ cinema ğŸ”… low_brightness ğŸ”† high_brightness ğŸ“¶ signal_strength ğŸ“³ vibration_mode ğŸ“´ mobile_phone_off ","date":"2019-10-01","objectID":"/emoji-support/:8:6","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ•¸å­¸ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ âœ–ï¸ heavy_multiplication_x â• heavy_plus_sign â– heavy_minus_sign â— heavy_division_sign ","date":"2019-10-01","objectID":"/emoji-support/:8:7","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ¨™é»ç¬¦è™Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ â€¼ï¸ bangbang â‰ï¸ interrobang â“ question â” grey_question â• grey_exclamation â— exclamation heavy_exclamation_mark ã€°ï¸ wavy_dash ","date":"2019-10-01","objectID":"/emoji-support/:8:8","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"è²¨å¹£ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ’± currency_exchange ğŸ’² heavy_dollar_sign ","date":"2019-10-01","objectID":"/emoji-support/:8:9","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æŒ‰éµç¬¦è™Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ #ï¸âƒ£ hash *ï¸âƒ£ asterisk 0ï¸âƒ£ zero 1ï¸âƒ£ one 2ï¸âƒ£ two 3ï¸âƒ£ three 4ï¸âƒ£ four 5ï¸âƒ£ five 6ï¸âƒ£ six 7ï¸âƒ£ seven 8ï¸âƒ£ eight 9ï¸âƒ£ nine ğŸ”Ÿ keycap_ten ","date":"2019-10-01","objectID":"/emoji-support/:8:10","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å­—æ¯ç¬¦è™Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ”  capital_abcd ğŸ”¡ abcd ğŸ”¢ 1234 ğŸ”£ symbols ğŸ”¤ abc ğŸ…°ï¸ a ğŸ† ab ğŸ…±ï¸ b ğŸ†‘ cl ğŸ†’ cool ğŸ†“ free â„¹ï¸ information_source ğŸ†” id â“œï¸ m ğŸ†• new ğŸ†– ng ğŸ…¾ï¸ o2 ğŸ†— ok ğŸ…¿ï¸ parking ğŸ†˜ sos ğŸ†™ up ğŸ†š vs ğŸˆ koko ğŸˆ‚ï¸ sa ğŸˆ·ï¸ u6708 ğŸˆ¶ u6709 ğŸˆ¯ u6307 ğŸ‰ ideograph_advantage ğŸˆ¹ u5272 ğŸˆš u7121 ğŸˆ² u7981 ğŸ‰‘ accept ğŸˆ¸ u7533 ğŸˆ´ u5408 ğŸˆ³ u7a7a ãŠ—ï¸ congratulations ãŠ™ï¸ secret ğŸˆº u55b6 ğŸˆµ u6e80 ","date":"2019-10-01","objectID":"/emoji-support/:8:11","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å¹¾ä½•ç¬¦è™Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ”´ red_circle ğŸ”µ large_blue_circle âš« black_circle âšª white_circle â¬› black_large_square â¬œ white_large_square â—¼ï¸ black_medium_square â—»ï¸ white_medium_square â—¾ black_medium_small_square â—½ white_medium_small_square â–ªï¸ black_small_square â–«ï¸ white_small_square ğŸ”¶ large_orange_diamond ğŸ”· large_blue_diamond ğŸ”¸ small_orange_diamond ğŸ”¹ small_blue_diamond ğŸ”º small_red_triangle ğŸ”» small_red_triangle_down ğŸ’  diamond_shape_with_a_dot_inside ğŸ”˜ radio_button ğŸ”³ white_square_button ğŸ”² black_square_button ","date":"2019-10-01","objectID":"/emoji-support/:8:12","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å…¶å®ƒç¬¦åˆ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ â™»ï¸ recycle âšœï¸ fleur_de_lis ğŸ”± trident ğŸ“› name_badge ğŸ”° beginner â­• o âœ… white_check_mark â˜‘ï¸ ballot_box_with_check âœ”ï¸ heavy_check_mark âŒ x â negative_squared_cross_mark â° curly_loop â¿ loop ã€½ï¸ part_alternation_mark âœ³ï¸ eight_spoked_asterisk âœ´ï¸ eight_pointed_black_star â‡ï¸ sparkle Â©ï¸ copyright Â®ï¸ registered â„¢ï¸ tm ","date":"2019-10-01","objectID":"/emoji-support/:8:13","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"æ——å¹Ÿ ","date":"2019-10-01","objectID":"/emoji-support/:9:0","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"å¸¸ç”¨æ——å¹Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ checkered_flag ğŸš© triangular_flag_on_post ğŸŒ crossed_flags ğŸ´ black_flag ğŸ³ white_flag ğŸ³ï¸â€ğŸŒˆ rainbow_flag ","date":"2019-10-01","objectID":"/emoji-support/:9:1","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":["documentation"],"content":"åœ‹å®¶å’Œåœ°å€æ——å¹Ÿ åœ–æ¨™ ä»£ç¢¼ åœ–æ¨™ ä»£ç¢¼ ğŸ‡¦ğŸ‡© andorra ğŸ‡¦ğŸ‡ª united_arab_emirates ğŸ‡¦ğŸ‡« afghanistan ğŸ‡¦ğŸ‡¬ antigua_barbuda ğŸ‡¦ğŸ‡® anguilla ğŸ‡¦ğŸ‡± albania ğŸ‡¦ğŸ‡² armenia ğŸ‡¦ğŸ‡´ angola ğŸ‡¦ğŸ‡¶ antarctica ğŸ‡¦ğŸ‡· argentina ğŸ‡¦ğŸ‡¸ american_samoa ğŸ‡¦ğŸ‡¹ austria ğŸ‡¦ğŸ‡º australia ğŸ‡¦ğŸ‡¼ aruba ğŸ‡¦ğŸ‡½ aland_islands ğŸ‡¦ğŸ‡¿ azerbaijan ğŸ‡§ğŸ‡¦ bosnia_herzegovina ğŸ‡§ğŸ‡§ barbados ğŸ‡§ğŸ‡© bangladesh ğŸ‡§ğŸ‡ª belgium ğŸ‡§ğŸ‡« burkina_faso ğŸ‡§ğŸ‡¬ bulgaria ğŸ‡§ğŸ‡­ bahrain ğŸ‡§ğŸ‡® burundi ğŸ‡§ğŸ‡¯ benin ğŸ‡§ğŸ‡± st_barthelemy ğŸ‡§ğŸ‡² bermuda ğŸ‡§ğŸ‡³ brunei ğŸ‡§ğŸ‡´ bolivia ğŸ‡§ğŸ‡¶ caribbean_netherlands ğŸ‡§ğŸ‡· brazil ğŸ‡§ğŸ‡¸ bahamas ğŸ‡§ğŸ‡¹ bhutan ğŸ‡§ğŸ‡¼ botswana ğŸ‡§ğŸ‡¾ belarus ğŸ‡§ğŸ‡¿ belize ğŸ‡¨ğŸ‡¦ canada ğŸ‡¨ğŸ‡¨ cocos_islands ğŸ‡¨ğŸ‡© congo_kinshasa ğŸ‡¨ğŸ‡« central_african_republic ğŸ‡¨ğŸ‡¬ congo_brazzaville ğŸ‡¨ğŸ‡­ switzerland ğŸ‡¨ğŸ‡® cote_divoire ğŸ‡¨ğŸ‡° cook_islands ğŸ‡¨ğŸ‡± chile ğŸ‡¨ğŸ‡² cameroon ğŸ‡¨ğŸ‡³ cn ğŸ‡¨ğŸ‡´ colombia ğŸ‡¨ğŸ‡· costa_rica ğŸ‡¨ğŸ‡º cuba ğŸ‡¨ğŸ‡» cape_verde ğŸ‡¨ğŸ‡¼ curacao ğŸ‡¨ğŸ‡½ christmas_island ğŸ‡¨ğŸ‡¾ cyprus ğŸ‡¨ğŸ‡¿ czech_republic ğŸ‡©ğŸ‡ª de ğŸ‡©ğŸ‡¯ djibouti ğŸ‡©ğŸ‡° denmark ğŸ‡©ğŸ‡² dominica ğŸ‡©ğŸ‡´ dominican_republic ğŸ‡©ğŸ‡¿ algeria ğŸ‡ªğŸ‡¨ ecuador ğŸ‡ªğŸ‡ª estonia ğŸ‡ªğŸ‡¬ egypt ğŸ‡ªğŸ‡­ western_sahara ğŸ‡ªğŸ‡· eritrea ğŸ‡ªğŸ‡¸ es ğŸ‡ªğŸ‡¹ ethiopia ğŸ‡ªğŸ‡º eu european_union ğŸ‡«ğŸ‡® finland ğŸ‡«ğŸ‡¯ fiji ğŸ‡«ğŸ‡° falkland_islands ğŸ‡«ğŸ‡² micronesia ğŸ‡«ğŸ‡´ faroe_islands ğŸ‡«ğŸ‡· fr ğŸ‡¬ğŸ‡¦ gabon ğŸ‡¬ğŸ‡§ gb uk ğŸ‡¬ğŸ‡© grenada ğŸ‡¬ğŸ‡ª georgia ğŸ‡¬ğŸ‡« french_guiana ğŸ‡¬ğŸ‡¬ guernsey ğŸ‡¬ğŸ‡­ ghana ğŸ‡¬ğŸ‡® gibraltar ğŸ‡¬ğŸ‡± greenland ğŸ‡¬ğŸ‡² gambia ğŸ‡¬ğŸ‡³ guinea ğŸ‡¬ğŸ‡µ guadeloupe ğŸ‡¬ğŸ‡¶ equatorial_guinea ğŸ‡¬ğŸ‡· greece ğŸ‡¬ğŸ‡¸ south_georgia_south_sandwich_islands ğŸ‡¬ğŸ‡¹ guatemala ğŸ‡¬ğŸ‡º guam ğŸ‡¬ğŸ‡¼ guinea_bissau ğŸ‡¬ğŸ‡¾ guyana ğŸ‡­ğŸ‡° hong_kong ğŸ‡­ğŸ‡³ honduras ğŸ‡­ğŸ‡· croatia ğŸ‡­ğŸ‡¹ haiti ğŸ‡­ğŸ‡º hungary ğŸ‡®ğŸ‡¨ canary_islands ğŸ‡®ğŸ‡© indonesia ğŸ‡®ğŸ‡ª ireland ğŸ‡®ğŸ‡± israel ğŸ‡®ğŸ‡² isle_of_man ğŸ‡®ğŸ‡³ india ğŸ‡®ğŸ‡´ british_indian_ocean_territory ğŸ‡®ğŸ‡¶ iraq ğŸ‡®ğŸ‡· iran ğŸ‡®ğŸ‡¸ iceland ğŸ‡®ğŸ‡¹ it ğŸ‡¯ğŸ‡ª jersey ğŸ‡¯ğŸ‡² jamaica ğŸ‡¯ğŸ‡´ jordan ğŸ‡¯ğŸ‡µ jp ğŸ‡°ğŸ‡ª kenya ğŸ‡°ğŸ‡¬ kyrgyzstan ğŸ‡°ğŸ‡­ cambodia ğŸ‡°ğŸ‡® kiribati ğŸ‡°ğŸ‡² comoros ğŸ‡°ğŸ‡³ st_kitts_nevis ğŸ‡°ğŸ‡µ north_korea ğŸ‡°ğŸ‡· kr ğŸ‡°ğŸ‡¼ kuwait ğŸ‡°ğŸ‡¾ cayman_islands ğŸ‡°ğŸ‡¿ kazakhstan ğŸ‡±ğŸ‡¦ laos ğŸ‡±ğŸ‡§ lebanon ğŸ‡±ğŸ‡¨ st_lucia ğŸ‡±ğŸ‡® liechtenstein ğŸ‡±ğŸ‡° sri_lanka ğŸ‡±ğŸ‡· liberia ğŸ‡±ğŸ‡¸ lesotho ğŸ‡±ğŸ‡¹ lithuania ğŸ‡±ğŸ‡º luxembourg ğŸ‡±ğŸ‡» latvia ğŸ‡±ğŸ‡¾ libya ğŸ‡²ğŸ‡¦ morocco ğŸ‡²ğŸ‡¨ monaco ğŸ‡²ğŸ‡© moldova ğŸ‡²ğŸ‡ª montenegro ğŸ‡²ğŸ‡¬ madagascar ğŸ‡²ğŸ‡­ marshall_islands ğŸ‡²ğŸ‡° macedonia ğŸ‡²ğŸ‡± mali ğŸ‡²ğŸ‡² myanmar ğŸ‡²ğŸ‡³ mongolia ğŸ‡²ğŸ‡´ macau ğŸ‡²ğŸ‡µ northern_mariana_islands ğŸ‡²ğŸ‡¶ martinique ğŸ‡²ğŸ‡· mauritania ğŸ‡²ğŸ‡¸ montserrat ğŸ‡²ğŸ‡¹ malta ğŸ‡²ğŸ‡º mauritius ğŸ‡²ğŸ‡» maldives ğŸ‡²ğŸ‡¼ malawi ğŸ‡²ğŸ‡½ mexico ğŸ‡²ğŸ‡¾ malaysia ğŸ‡²ğŸ‡¿ mozambique ğŸ‡³ğŸ‡¦ namibia ğŸ‡³ğŸ‡¨ new_caledonia ğŸ‡³ğŸ‡ª niger ğŸ‡³ğŸ‡« norfolk_island ğŸ‡³ğŸ‡¬ nigeria ğŸ‡³ğŸ‡® nicaragua ğŸ‡³ğŸ‡± netherlands ğŸ‡³ğŸ‡´ norway ğŸ‡³ğŸ‡µ nepal ğŸ‡³ğŸ‡· nauru ğŸ‡³ğŸ‡º niue ğŸ‡³ğŸ‡¿ new_zealand ğŸ‡´ğŸ‡² oman ğŸ‡µğŸ‡¦ panama ğŸ‡µğŸ‡ª peru ğŸ‡µğŸ‡« french_polynesia ğŸ‡µğŸ‡¬ papua_new_guinea ğŸ‡µğŸ‡­ philippines ğŸ‡µğŸ‡° pakistan ğŸ‡µğŸ‡± poland ğŸ‡µğŸ‡² st_pierre_miquelon ğŸ‡µğŸ‡³ pitcairn_islands ğŸ‡µğŸ‡· puerto_rico ğŸ‡µğŸ‡¸ palestinian_territories ğŸ‡µğŸ‡¹ portugal ğŸ‡µğŸ‡¼ palau ğŸ‡µğŸ‡¾ paraguay ğŸ‡¶ğŸ‡¦ qatar ğŸ‡·ğŸ‡ª reunion ğŸ‡·ğŸ‡´ romania ğŸ‡·ğŸ‡¸ serbia ğŸ‡·ğŸ‡º ru ğŸ‡·ğŸ‡¼ rwanda ğŸ‡¸ğŸ‡¦ saudi_arabia ğŸ‡¸ğŸ‡§ solomon_islands ğŸ‡¸ğŸ‡¨ seychelles ğŸ‡¸ğŸ‡© sudan ğŸ‡¸ğŸ‡ª sweden ğŸ‡¸ğŸ‡¬ singapore ğŸ‡¸ğŸ‡­ st_helena ğŸ‡¸ğŸ‡® slovenia ğŸ‡¸ğŸ‡° slovakia ğŸ‡¸ğŸ‡± sierra_leone ğŸ‡¸ğŸ‡² san_marino ğŸ‡¸ğŸ‡³ senegal ğŸ‡¸ğŸ‡´ somalia ğŸ‡¸ğŸ‡· suriname ğŸ‡¸ğŸ‡¸ south_sudan ğŸ‡¸ğŸ‡¹ sao_tome_principe ğŸ‡¸ğŸ‡» el_salvador ğŸ‡¸ğŸ‡½ sint_maarten ğŸ‡¸ğŸ‡¾ syria ğŸ‡¸ğŸ‡¿ swaziland ğŸ‡¹ğŸ‡¨ turks_caicos_islands ğŸ‡¹ğŸ‡© chad ğŸ‡¹ğŸ‡« french_southern_territories ğŸ‡¹ğŸ‡¬ togo ğŸ‡¹ğŸ‡­ thailand ğŸ‡¹ğŸ‡¯ tajikistan ğŸ‡¹ğŸ‡° tokelau ğŸ‡¹ğŸ‡± timor_leste ğŸ‡¹ğŸ‡² turkmenistan ğŸ‡¹ğŸ‡³ tunisia ğŸ‡¹ğŸ‡´ tonga ğŸ‡¹ğŸ‡· tr ğŸ‡¹ğŸ‡¹ trinidad_tobago ğŸ‡¹ğŸ‡» tuvalu ğŸ‡¹ğŸ‡¼ taiwan ğŸ‡¹ğŸ‡¿ tanzania ğŸ‡ºğŸ‡¦ ukraine ğŸ‡ºğŸ‡¬ uganda ğŸ‡ºğŸ‡¸ us ğŸ‡ºğŸ‡¾ uruguay ğŸ‡ºğŸ‡¿ uzbekistan ğŸ‡»ğŸ‡¦ vatican_city ğŸ‡»ğŸ‡¨ st_vincent_grenadines ğŸ‡»ğŸ‡ª venezuela ğŸ‡»ğŸ‡¬ british_virgin_islands ğŸ‡»ğŸ‡® us_virgin_islands ğŸ‡»ğŸ‡³ vietnam ğŸ‡»ğŸ‡º vanuatu ğŸ‡¼ğŸ‡« wallis_futuna ğŸ‡¼ğŸ‡¸ samoa ğŸ‡½ğŸ‡° kosovo ğŸ‡¾ğŸ‡ª yemen ğŸ‡¾ğŸ‡¹ mayotte ğŸ‡¿ğŸ‡¦ south_africa ğŸ‡¿ğŸ‡² zambia ğŸ‡¿ğŸ‡¼ zimbabwe ","date":"2019-10-01","objectID":"/emoji-support/:9:2","tags":["emoji"],"title":"Emoji æ”¯æŒ","uri":"/emoji-support/"},{"categories":null,"content":"ç¶“é©— ","date":"2022-02-19","objectID":"/about/:1:0","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"},{"categories":null,"content":"ç°¡ç–«èŠå¤©å®¤ åƒèˆ‡GDSCè¯åˆé»‘å®¢æ¾æ¯”è³½ 2021/05/14 - 2021/05/16 Â åˆ©ç”¨PWAæ”¯æ´å„å¼è£ç½®çš„ç‰¹æ€§ä»¥åŠGPSå®šä½åŠŸèƒ½æ‰“é€ å±¬æ–¼ç–«æƒ…æœŸé–“çš„å°ˆå±¬èŠå¤©å®¤ã€‚ èƒŒæ™¯ä»‹ç´¹ åœ¨ç–«æƒ…åš´å³»ä¸‹ï¼Œç‚ºäº†ä¿è­·åœ‹æ°‘å¥åº·ï¼Œå¯¦æ–½å±…å®¶éš”é›¢ï¼Œä¸€å€‹äººå±…å®¶éš”é›¢14å¤©ï¼Œé›£å…æœƒæ„Ÿåˆ°å¯‚å¯èˆ‡ç„¡èŠï¼Œ å› æ­¤é€éé»‘å®¢æ¾æ¯”è³½ï¼Œèˆ‡åœ˜éšŠå…±åŒé–‹ç™¼ç¶²é èŠå¤©å®¤ï¼Œä¸éœ€è¦ä¸‹è¼‰å°±å¯ä»¥ä½¿ç”¨ï¼Œ ä¸¦ä¸”ä½¿ç”¨PWAæ”¯æ´å„å¼è£ç½®ï¼Œé…åˆGPSå®šä½åŠŸèƒ½ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥èˆ‡é™„è¿‘çš„å±…å®¶éš”é›¢è€…èŠå¤©ï¼Œ ç•¶ç³»çµ±åµæ¸¬åˆ°ä½¿ç”¨è€…é›¢é–‹å®šä½å€æˆ–æ˜¯14å¤©å±…å®¶éš”é›¢åˆ°æœŸï¼Œå¸³è™Ÿå°‡æœƒè¢«è¨»éŠ·ï¼Œè®“è¨˜æ†¶æ°¸é ç•™åœ¨é€™è£¡ã€‚ Â å¾16çµ„ Google å­¸ç”Ÿé–‹ç™¼è€…ç¤¾ç¾¤ä¸­æ¦®ç² ç¬¬äºŒå æˆç¸¾ã€‚ Â åªèŠ±äº† ä¸‰å¤© çš„æ™‚é–“å¾é›¶åˆ°é–‹ç™¼èŠå¤©å®¤å‰å¾Œç«¯ä»¥åŠå®£å‚³å½±ç‰‡ã€‚ ç°¡ç–«èŠå¤©å®¤é¦–é \" ç°¡ç–«èŠå¤©å®¤é¦–é  ","date":"2022-02-19","objectID":"/about/:1:1","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"},{"categories":null,"content":"æ´»å‹•ç”³è«‹ç³»çµ± æ‰¿åŒ…å­¸æ ¡å°ˆæ¡ˆ 2020/08 - è‡³ä»Š Â åˆ©ç”¨PHP+Mysql+jQuery é–‹ç™¼ç·šä¸Šå¡«å–®ç³»çµ±ï¼Œä¸¦ä¸”çµåˆç·šä¸Šå¯©æ ¸åŠŸèƒ½ï¼Œä¸²æ¥Googleæ—¥æ›†APIã€ç·šä¸Šé›»å­ç« ç”¢ç”Ÿã€‚ èƒŒæ™¯ä»‹ç´¹ å”åŠ©å­¸æ ¡é–‹ç™¼æ´»å‹•ç”³è«‹ç³»çµ±ï¼Œå°‡ä»¥å¾€çš„ç´™æœ¬é€å–®ï¼Œæ”¹æˆç·šä¸Šé›»å­åŒ–ï¼Œå¯ä»¥å…ˆæ–¼ç·šä¸Šé€²è¡Œå¯©æ ¸ï¼Œæ¸›å°‘ç´™å¼µæµªè²»ï¼Œä¸¦ä¸”å¯ä»¥å¦¥å–„ä¿å­˜æ­·å±†æ´»å‹•ç´€éŒ„ï¼Œä¸æœƒäº¤æ¥å®Œè³‡æ–™éºå¤±ã€‚ Â  Google Analytics ç•¶â½‰æœ€é«˜æ´»èºä½¿ç”¨è€…æ•¸é‡ï¼š967Â ç€è¦½é‡ï¼š40671ã€‚ Â  åŸå…ˆç´™æœ¬ç”³è«‹çš„ 5å¤© å·¥ä½œæµç¨‹ï¼Œå› æ´»å‹•ç”³è«‹ç³»çµ±é›»å­åŒ–å¾Œæ¸›å°‘åˆ° 1å¤©ï¼Œç¸®çŸ­äº†80% çš„æ´»å‹•ç”³è«‹æµç¨‹æ™‚é–“ã€‚ æ´»å‹•ç”³è«‹ç³»çµ±ç®¡ç†å“¡ä»‹é¢\" æ´»å‹•ç”³è«‹ç³»çµ±ç®¡ç†å“¡ä»‹é¢ ","date":"2022-02-19","objectID":"/about/:1:2","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"},{"categories":null,"content":"è­‰ç…§ ","date":"2022-02-19","objectID":"/about/:2:0","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"},{"categories":null,"content":"RED HAT CERTIFIED ENGINEER (RHCE) ç´…å¸½èªè­‰å·¥ç¨‹å¸« 2019/07/05 Â ç†Ÿæ‚‰è¨­å®šNFS-Server/Clientã€Samba-Server/Clientã€ISCSI-Server/Clientã€Apache-Serverã€Databaseã€‚ Â å®¢è£½åŒ–bashåƒæ•¸ã€FireWall-SSH/Port Forwardingã€å•Ÿç”¨IPv6ã€Link aggrigationã€Mail-Serverã€YUM Repoã€‚ RHCEä»‹ç´¹ RHCEå³æ˜¯Red Hat èªè­‰ç³»çµ±å·¥ç¨‹å¸«ï¼Œé€éåš´è¬¹çš„ã€ŒPerformance Baseã€å¯¦æ©Ÿæ“ä½œè€ƒè©¦æ–¹å¼ï¼Œå¯ä»¥è­‰æ˜å–å¾—èªè­‰è€…æ“æœ‰çœŸæ­£çš„å°ˆæ¥­æŠ€è¡“å¯¦åŠ›ã€‚ RHCEè­‰ç…§\" RHCEè­‰ç…§ ","date":"2022-02-19","objectID":"/about/:2:1","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"},{"categories":null,"content":"RED HAT CERTIFIED SYSTEM ADMINISTRATOR (RHCSA) ç´…å¸½åˆç´šèªè­‰ 2019/01/11 Â ç†Ÿæ‚‰é‡è¨­Rootå¯†ç¢¼ã€è¨­å®šç¶²è·¯ã€è¨­å®šSELinuxã€è¨­å®šæ™‚å€ã€YUM Repositoryã€‚ Â LVMã€æ¬Šé™ç®¡ç†ã€Crontabã€å»ºç«‹ç›®éŒ„åŠæ¬Šé™ã€æ›´æ–°Kernelã€LDAPã€æ–‡ä»¶è™•ç†ã€‚ RHCSAä»‹ç´¹ æ“æœ‰RHCSAèªè­‰è€…èƒ½å¤ æ‰®æ¼”è‘—ä¼æ¥­å…§å„å¼å„æ¨£çš„è§’è‰²ï¼Œèˆ‰å‡¡è³‡æ–™åº«ç®¡ç†å“¡ï¼Œé–‹ç™¼äººå“¡å’ŒæŠ€è¡“æ”¯æŒäººå“¡â€¦ç­‰è·å‹™ï¼Œèƒ½é‡å»ºèˆ‡éƒ¨ç½²ä¼æ¥­æ ¸å¿ƒLinuxç’°å¢ƒï¼Œæ›´èƒ½ä»£è¡¨æ‚¨å…·å‚™ç®¡ç†æŠ€è¡“èˆ‡é§•é¦­ç³»çµ±çš„èƒ½åŠ›ã€‚ RHCSAè­‰ç…§\" RHCSAè­‰ç…§ ","date":"2022-02-19","objectID":"/about/:2:2","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"},{"categories":null,"content":"æ•™è‚² ","date":"2022-02-19","objectID":"/about/:3:0","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"},{"categories":null,"content":"æœé™½ç§‘æŠ€å¤§å­¸ è³‡è¨Šå·¥ç¨‹ç³»(CSIE) 2017 - 2021 Â ç³»æ’ç¬¬ä¸€ç•¢æ¥­ã€‚ Â è¢«å­¸æ ¡é‚€è«‹æ“”ä»»éç³»çµ±è¬›å¸«ã€‚ Â ç™¼ç¾å­¸æ ¡DNSå®‰å…¨æ¼æ´ï¼Œä¸¦é–‹ç™¼è…³æœ¬æ‰¾å‡ºæ¼æ´ã€‚ ","date":"2022-02-19","objectID":"/about/:3:1","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"},{"categories":null,"content":"æ–°æ°‘é«˜ç´šä¸­å­¸ è³‡è¨Šç§‘ 2014 - 2017 ","date":"2022-02-19","objectID":"/about/:3:2","tags":null,"title":"é—œæ–¼æˆ‘","uri":"/about/"}]