<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>PWA(Progressive Web App) Introduction and actual installation - PinYi</title><meta name="description" content="Here&#39;s a little world about a rookie engineer and Youtuber"><meta property="og:title" content="PWA(Progressive Web App) Introduction and actual installation" />
<meta property="og:description" content="The full name of PWA is Progressive Web App, which is a progressive website application. It gradually optimizes the website to have the advantages of an APP. It has the following characteristics." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pin-yi.me/en/pwa/" /><meta property="og:image" content="https://pin-yi.me/en/pwa/featured-image.webp"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-19T19:34:11+08:00" />
<meta property="article:modified_time" content="2022-02-20T19:06:45+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://pin-yi.me/en/pwa/featured-image.webp"/>
<meta name="twitter:title" content="PWA(Progressive Web App) Introduction and actual installation"/>
<meta name="twitter:description" content="The full name of PWA is Progressive Web App, which is a progressive website application. It gradually optimizes the website to have the advantages of an APP. It has the following characteristics."/>
<meta name="application-name" content="PinYi">
<meta name="apple-mobile-web-app-title" content="PinYi"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/images/avatar.webp"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://pin-yi.me/en/pwa/" /><link rel="prev" href="https://pin-yi.me/en/tcp-udp-difference/" /><link rel="next" href="https://pin-yi.me/en/lofi-land/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css">
        <link href="https://www.googletagmanager.com" rel="preconnect" crossorigin>
        <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "PWA(Progressive Web App) Introduction and actual installation",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/pin-yi.me\/en\/pwa\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/pin-yi.me\/en\/pwa\/featured-image.webp",
                            "width":  1400 ,
                            "height":  425 
                        }],"genre": "posts","keywords": "PWA, 設定教學","wordcount":  1102 ,
        "url": "https:\/\/pin-yi.me\/en\/pwa\/","datePublished": "2022-02-19T19:34:11+08:00","dateModified": "2022-02-20T19:06:45+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Zhuang,Pin-Yi","logo": "https:\/\/pin-yi.me\/images\/avatar.webp"},"author": {
                "@type": "Person",
                "name": "PinYi"
            },"description": ""
    }
    </script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EK8X0P9SDS"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-EK8X0P9SDS', { 'anonymize_ip': false });
}
</script>
</head><body data-header-desktop="fixed" data-header-mobile="fixed"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/en/" title="PinYi">PinYi 小天地</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/en/posts/"> All Posts </a><a class="menu-item" href="/en/categories/"> Categories </a><a class="menu-item" href="/en/tags/"> Tags </a><a class="menu-item" href="/en/sideproject/"> Side Project </a><a class="menu-item" href="/en/categories/youtube/"> YouTube Video </a><a class="menu-item" href="/en/about/"> About Me </a><span class="menu-item delimiter"></span><span class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/en/pwa/" selected>English</option><option value="/pwa/">繁體中文</option></select>
                    </span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Please enter the title or content to search" id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a class="menu-item" href="/index.xml" title="RSS"><i class="fas fa-rss fa-fw" title="RSS"></i> </a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/en/" title="PinYi">PinYi 小天地</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Please enter the title or content to search" id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/en/posts/" title="">All Posts</a><a class="menu-item" href="/en/categories/" title="">Categories</a><a class="menu-item" href="/en/tags/" title="">Tags</a><a class="menu-item" href="/en/sideproject/" title="">Side Project</a><a class="menu-item" href="/en/categories/youtube/" title="">YouTube Video</a><a class="menu-item" href="/en/about/" title="">About Me</a><div class="menu-item"><a href="/index.xml" title="RSS"><i class="fas fa-rss fa-fw" title="RSS"></i> </a>
                <span>&nbsp;|&nbsp;</span><a href="javascript:void(0);" class="theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div><span class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/en/pwa/" selected>English</option><option value="/pwa/">繁體中文</option></select>
                </span></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single" data-toc="enable"><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/en/pwa/featured-image.webp"
        data-srcset="/en/pwa/featured-image.webp, /en/pwa/featured-image.webp 1.5x, /en/pwa/featured-image.webp 2x"
        data-sizes="auto"
        alt="/en/pwa/featured-image.webp"
        title="/en/pwa/featured-image.webp" /></div><div class="single-card" data-image="true"><h2 class="single-title animated flipInX">PWA(Progressive Web App) Introduction and actual installation</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="https://pin-yi.me" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>PinYi</a></span>&nbsp;<span class="post-category">published in <a href="/en/categories/codenotes/"><i class="far fa-folder fa-fw"></i>Code Notes</a></span></div>
                <div class="post-meta-line"><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-02-19">2022-02-19</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1102 words</span>&nbsp;
                    <span><i class="far fa-clock fa-fw"></i>&nbsp;6 minutes</span>&nbsp;</div>
            </div>
            
            <hr><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>Contents</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#introduce">Introduce</a></li>
    <li><a href="#actual-installation">Actual installation</a>
      <ul>
        <li><a href="#manifestjson-for-a-brief-introduction-please-refer-to-official-documenthttpsdevelopermozillaorgzh-twdocsmozillaadd-onswebextensionsmanifestjson">manifest.json (for a brief introduction, please refer to <a href="https://developer.mozilla.org/zh-TW/docs/Mozilla/Add-ons/WebExtensions/manifest.json">official document</a>)</a></li>
      </ul>
    </li>
    <li><a href="#how-to-use">How to use</a></li>
    <li><a href="#how-to-use-1">how to use</a>
      <ul>
        <li><a href="#ios">IOS</a></li>
        <li><a href="#android">ANDROID</a></li>
      </ul>
    </li>
    <li><a href="#success-screen">Success screen</a>
      <ul>
        <li><a href="#other-instructions">other instructions</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><p>The full name of PWA is Progressive Web App, which is a progressive website application. It gradually optimizes the website to have the advantages of an APP. It has the following characteristics.</p>
<h2 id="introduce">Introduce</h2>
<p>The full name of PWA is Progressive Web App, which is a progressive website application. It gradually optimizes the website to have the advantages of an APP. It has the following characteristics.</p>
<ul>
<li>Progressive</li>
<li>Progressive, providing every user to do basic browsing.</li>
<li>Responsive</li>
<li>Responsive user interface that can be optimized for different devices.</li>
<li>Connectivity independent</li>
<li>Does not depend on the network connection, through service workers, you can browse the website in a low bandwidth or even offline environment.
*App-like</li>
<li>Let the website have the advantages of browsing speed like an APP, and provide a better user experience.
*Fresh</li>
<li>Automatically update website content by service worker.</li>
<li>Installable</li>
<li>You can use Add To Home, just like an App, an icon will be added, you can directly add the website to the mobile phone desktop for switching use, no need to download and install through the App Store.</li>
</ul>
<p>For details, please refer to <a href="https://developer.mozilla.org/zh-TW/docs/Web/Progressive_web_apps" target="_blank" rel="noopener noreffer">Official Website</a></p>
<h2 id="actual-installation">Actual installation</h2>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Interviewers should prepare the following frequently asked questions before going to the company for an interview<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">First download <a href="https://nas.pin-yi.com/sharing/nElXqbqyt" target="_blank" rel="noopener noreffer">https://nas.pin-yi.com/sharing/nElXqbqyt</a> (Place it on the NAS cloud)
There are two files in it, manifest.json and service-worker.js, which are introduced below.</div>
        </div>
    </div>
<h3 id="manifestjson-for-a-brief-introduction-please-refer-to-official-documenthttpsdevelopermozillaorgzh-twdocsmozillaadd-onswebextensionsmanifestjson">manifest.json (for a brief introduction, please refer to <a href="https://developer.mozilla.org/zh-TW/docs/Mozilla/Add-ons/WebExtensions/manifest.json" target="_blank" rel="noopener noreffer">official document</a>)</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
          <span class="nt">&#34;background_color&#34;</span><span class="p">:</span> <span class="s2">&#34;#fff&#34;</span><span class="p">,</span>
          <span class="nt">&#34;display&#34;</span><span class="p">:</span> <span class="s2">&#34;standalone&#34;</span><span class="p">,</span>
          <span class="nt">&#34;orientation&#34;</span><span class="p">:</span><span class="s2">&#34;portrait&#34;</span><span class="p">,</span>
          <span class="nt">&#34;theme_color&#34;</span><span class="p">:</span> <span class="s2">&#34;#fff&#34;</span><span class="p">,</span>
          <span class="nt">&#34;short_name&#34;</span><span class="p">:</span> <span class="s2">&#34;Short Name&#34;</span><span class="p">,</span>
          <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;name&#34;</span><span class="p">,</span>
          <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;Description&#34;</span><span class="p">,</span>
          <span class="nt">&#34;lang&#34;</span><span class="p">:</span> <span class="s2">&#34;zh-TW&#34;</span><span class="p">,</span>
          <span class="nt">&#34;icons&#34;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nt">&#34;src&#34;</span><span class="p">:</span> <span class="s2">&#34;images/logo/logo180.ico&#34;</span><span class="p">,</span>
            <span class="nt">&#34;sizes&#34;</span><span class="p">:</span> <span class="s2">&#34;180x180&#34;</span><span class="p">,</span>
            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/png&#34;</span>
          <span class="p">},</span>
          <span class="p">{</span>
            <span class="nt">&#34;src&#34;</span><span class="p">:</span> <span class="s2">&#34;images/logo/logo48.ico&#34;</span><span class="p">,</span>
            <span class="nt">&#34;sizes&#34;</span><span class="p">:</span> <span class="s2">&#34;48x48&#34;</span><span class="p">,</span>
            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/png&#34;</span>
          <span class="p">}</span>
          <span class="p">],</span>
          <span class="nt">&#34;start_url&#34;</span><span class="p">:</span> <span class="s2">&#34;./index.php&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>background_color background color</li>
<li>Define the expected background color of the web application, which can create a smooth transition between the launch of the web application and the loading of content.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json">	<span class="s2">&#34;background_color&#34;</span><span class="err">:</span> <span class="s2">&#34;#fff&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>display background color</li>
<li>Define the developer&rsquo;s preferred web application display mode.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;display&#34;</span><span class="err">:</span> <span class="s2">&#34;standalone&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>Be</p>
<table>
<thead>
<tr>
<th>Display Mode</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>fullscreen</td>
<td>All available display area is filled and user agent chrome is not displayed.</td>
</tr>
<tr>
<td>standalone</td>
<td>This looks and feels like a standalone application, with different execution windows, icon application launchers&hellip;etc. In this mode, the user agent will not contain the control navigation bar, but can contain other UI elements such as the status bar.</td>
</tr>
<tr>
<td>minimal-ui</td>
<td>This looks and feels like a standalone app, but will have minimal settings to control the navigation bar UI elements, which will vary by browser.</td>
</tr>
<tr>
<td>browser</td>
<td>Default value. Applications are normally opened in a browser tab or in a new window, depending on the browser and platform.</td>
</tr>
</tbody>
</table>
<ul>
<li>orientation screen display orientation</li>
<li>Define the default display direction, usually used in GAME, you may need to force the direction.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;orientation&#34;</span><span class="err">:</span> <span class="s2">&#34;portrait&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>theme_color website background color</li>
<li>Set the theme color of each page of the website, such as changing the color of the URL.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;theme_color&#34;</span><span class="err">:</span> <span class="s2">&#34;#fff&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>short_name shortens the name</li>
<li>Define the shortened name of the web application.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;short_name&#34;</span><span class="err">:</span> <span class="s2">&#34;Short Name&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>name name</li>
<li>Define the name of the web application.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;name&#34;</span><span class="err">:</span> <span class="s2">&#34;name&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>name name</li>
<li>Define the name of the web application.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;name&#34;</span><span class="err">:</span> <span class="s2">&#34;name&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>description description</li>
<li>Provide a description to describe what this web application does.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;description&#34;</span><span class="err">:</span> <span class="s2">&#34;Description&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>lang language</li>
<li>Define the language of the web application.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;lang&#34;</span><span class="err">:</span> <span class="s2">&#34;zh-TW&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>icons icon</li>
<li>The object of the application icon.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json">  <span class="s2">&#34;icons&#34;</span><span class="err">:</span> <span class="p">[</span>
           <span class="p">{</span>
             <span class="nt">&#34;src&#34;</span><span class="p">:</span> <span class="s2">&#34;images/logo/logo180.ico&#34;</span><span class="p">,</span>
             <span class="nt">&#34;sizes&#34;</span><span class="p">:</span> <span class="s2">&#34;180x180&#34;</span><span class="p">,</span>
             <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/png&#34;</span>
           <span class="p">},</span>
           <span class="p">{</span>
             <span class="nt">&#34;src&#34;</span><span class="p">:</span> <span class="s2">&#34;images/logo/logo48.ico&#34;</span><span class="p">,</span>
             <span class="nt">&#34;sizes&#34;</span><span class="p">:</span> <span class="s2">&#34;48x48&#34;</span><span class="p">,</span>
             <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;image/png&#34;</span>
           <span class="p">}</span>
           <span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>start_url start URL</li>
<li>Define where the web application starts.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json">  <span class="s2">&#34;start_url&#34;</span><span class="err">:</span> <span class="s2">&#34;./index.php&#34;</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>service-worker.js</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// This event is fired when the service worker is in the &#34;installation phase&#34;
</span><span class="c1"></span><span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;install&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;[Service Worker] Installing Service Worker ...&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// This event is fired when the service worker is in the &#34;activation phase&#34;
</span><span class="c1"></span><span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;activate&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;[Service Worker] Activating Service Worker ...&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">clients</span><span class="p">.</span><span class="nx">claim</span><span class="p">();</span> <span class="c1">// This line is added to ensure that the service worker is loaded and activated correctly, or not
</span><span class="c1"></span><span class="p">});</span>
<span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;fetch&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;[Service Worker] Fetch something ...&#39;</span><span class="p">,</span> <span class="nx">event</span><span class="p">);</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">respondWith</span><span class="p">(</span><span class="nx">fetch</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">));</span>
<span class="p">});</span>
<span class="kd">let</span> <span class="nx">deferredPrompt</span><span class="p">;</span>

<span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;beforeinstallprompt&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;beforeinstallprompt fired&#39;</span><span class="p">);</span>
    <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span> <span class="c1">// Cancel the default direct jump notification setting
</span><span class="c1"></span>    <span class="nx">deferredPrompt</span> <span class="o">=</span> <span class="nx">event</span><span class="p">;</span> <span class="c1">// Pass the monitored install banner event to the deferredPrompt variable
</span><span class="c1"></span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">});</span>
<span class="k">if</span><span class="p">(</span><span class="nx">deferredPrompt</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Make sure we have &#34;intercepted&#34; the install banner event from chrome
</span><span class="c1"></span>    <span class="nx">deferredPrompt</span><span class="p">.</span><span class="nx">prompt</span><span class="p">();</span> <span class="c1">// decide to jump out of the notification
</span><span class="c1"></span>
    <span class="c1">// Different processing is performed according to the user&#39;s choice, here I will print out the log results
</span><span class="c1"></span>    <span class="nx">deferredPrompt</span><span class="p">.</span><span class="nx">userChoice</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">choiceResult</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">choiceResult</span><span class="p">.</span><span class="nx">outcome</span><span class="p">);</span>

      <span class="k">if</span><span class="p">(</span><span class="nx">choiceResult</span><span class="p">.</span><span class="nx">outcome</span> <span class="o">===</span> <span class="s1">&#39;dismissed&#39;</span><span class="p">){</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;User cancelled installation&#39;</span><span class="p">);</span>
      <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;User added to home screen&#39;</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="nx">deferredPrompt</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span> <span class="c1">// Once the user allows to join, no further notifications will appear
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="how-to-use">How to use</h2>
<p>First, change the above information in manifest.json to the settings you want, put manifest.json and service-worker.js in the root directory of the webpage, and open the webpage you want to support. The following uses my [personal page](https:/ /pin-yi.com
) as an example.</p>
<ol>
<li>Go to the editor and put manifest.json in the head</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;manifest&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;./manifest.json&#34;</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><br>
<figure><a class="lightgallery" href="/images/pwa/1GveueD.png" title="/images/pwa/1GveueD.png" data-thumbnail="/images/pwa/1GveueD.png" data-sub-html="<h2>Example page</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/pwa/1GveueD.png"
            data-srcset="/images/pwa/1GveueD.png, /images/pwa/1GveueD.png 1.5x, /images/pwa/1GveueD.png 2x"
            data-sizes="auto"
            alt="/images/pwa/1GveueD.png" width="700" />
    </a><figcaption class="image-caption">Example page</figcaption>
    </figure>
<ol start="2">
<li>Add the following at the end of the program</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"> <span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>
          <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;serviceWorker&#39;</span> <span class="k">in</span> <span class="nx">navigator</span><span class="p">)</span>
          <span class="p">{</span>
          <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">navigator</span><span class="p">.</span><span class="nx">serviceWorker</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s1">&#39;./service-worker.js&#39;</span><span class="p">)</span>
            <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Service Worker Registered, Cheers to PWA Fire!&#34;</span><span class="p">);</span> <span class="p">});</span>
          <span class="p">}</span>
          <span class="p">);</span>
        <span class="p">}</span>
    <span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></td></tr></table>
</div>
</div><br>
<figure><a class="lightgallery" href="/images/pwa/U4gQDWr.png" title="/images/pwa/U4gQDWr.png" data-thumbnail="/images/pwa/U4gQDWr.png" data-sub-html="<h2>Example page</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/pwa/U4gQDWr.png"
            data-srcset="/images/pwa/U4gQDWr.png, /images/pwa/U4gQDWr.png 1.5x, /images/pwa/U4gQDWr.png 2x"
            data-sizes="auto"
            alt="/images/pwa/U4gQDWr.png" width="700" />
    </a><figcaption class="image-caption">Example page</figcaption>
    </figure>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>Alert<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">Manifest.json, service-worker.js Make changes according to your own placement 😀</div>
        </div>
    </div>
<h2 id="how-to-use-1">how to use</h2>
<h3 id="ios">IOS</h3>
<ul>
<li>Mobile: Iphone 12 Pro (IOS 14.5)</li>
<li>Browser: Safari</li>
</ul>
<ol>
<li>First browse the personal page of the example website.</li>
<li>Click the share icon in the middle of the bottom, choose to add to the main screen, press Add, it will appear on the main screen of the mobile phone, after opening, you will find that the operation is the same as the APP.</li>
</ol>
<br>
<figure><a class="lightgallery" href="/images/pwa/1CnD18Q.jpg" title="/images/pwa/1CnD18Q.jpg" data-thumbnail="/images/pwa/1CnD18Q.jpg" data-sub-html="<h2>Sample page</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/pwa/1CnD18Q.jpg"
            data-srcset="/images/pwa/1CnD18Q.jpg, /images/pwa/1CnD18Q.jpg 1.5x, /images/pwa/1CnD18Q.jpg 2x"
            data-sizes="auto"
            alt="/images/pwa/1CnD18Q.jpg" width="700" />
    </a><figcaption class="image-caption">Sample page</figcaption>
    </figure>
<h3 id="android">ANDROID</h3>
<ul>
<li>Mobile: OnePlus 8T (ANDROID 11)</li>
<li>Browser: Chrome</li>
</ul>
<ol>
<li>First browse the personal page of the example website.</li>
<li>Install the APP to the mobile phone. After downloading, it will appear on the main screen of the mobile phone. After opening, you will find that the operation is the same as the APP.</li>
</ol>
<br>
<figure><a class="lightgallery" href="/images/pwa/8rSTs1q.png" title="/images/pwa/8rSTs1q.png" data-thumbnail="/images/pwa/8rSTs1q.png" data-sub-html="<h2>Example page</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/pwa/8rSTs1q.png"
            data-srcset="/images/pwa/8rSTs1q.png, /images/pwa/8rSTs1q.png 1.5x, /images/pwa/8rSTs1q.png 2x"
            data-sizes="auto"
            alt="/images/pwa/8rSTs1q.png" width="700" />
    </a><figcaption class="image-caption">Example page</figcaption>
    </figure>
<br>
<h2 id="success-screen">Success screen</h2>
<figure><a class="lightgallery" href="/images/pwa/GcboFGA.png" title="/images/pwa/GcboFGA.png" data-thumbnail="/images/pwa/GcboFGA.png" data-sub-html="<h2>Sample page</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/pwa/GcboFGA.png"
            data-srcset="/images/pwa/GcboFGA.png, /images/pwa/GcboFGA.png 1.5x, /images/pwa/GcboFGA.png 2x"
            data-sizes="auto"
            alt="/images/pwa/GcboFGA.png" width="700" />
    </a><figcaption class="image-caption">Sample page</figcaption>
    </figure>
<h3 id="other-instructions">other instructions</h3>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>Above are backup notes<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>source:</p>
<p><a href="https://ithelp.ithome.com.tw/articles/10186584" target="_blank" rel="noopener noreffer">https://ithelp.ithome.com.tw/articles/10186584</a></p>
<p><a href="https://ithelp.ithome.com.tw/articles/10188514" target="_blank" rel="noopener noreffer">https://ithelp.ithome.com.tw/articles/10188514</a></p>
</div>
        </div>
    </div></div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/en/tags/pwa/">PWA</a>
                </span><span><a href="/en/tags/%E8%A8%AD%E5%AE%9A%E6%95%99%E5%AD%B8/">設定教學</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>Updated on 2022-02-20&nbsp;<a class="git-hash" href="https://github.com/880831ian/blog/commit/06e664a5cc04e2c6e96c272cfaa60a30ed2de145" target="_blank" title="committed&nbsp;by&nbsp;PinYi(880831ian@gmail.com)&nbsp;06e664a:&nbsp;Initial commit">
                            <i class="fas fa-hashtag fa-fw"></i>06e664a</a></span>
            </div><div class="post-info-mod"><span>
                            <a class="link-to-markdown" href="/en/pwa/index.md" target="_blank">Read Markdown</a>
                        </span><span>
                        &nbsp;|&nbsp;
                        <a class="link-to-markdown" href="https://github.com/880831ian/blog/tree/main/content/posts/pwa/index.en.md" target="_blank">Improve Article</a>
                    </span></div>
        </div><div class="post-info-share">
            <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://pin-yi.me/en/pwa/" data-title="PWA(Progressive Web App) Introduction and actual installation" data-hashtags="PWA,設定教學"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://pin-yi.me/en/pwa/" data-hashtag="PWA"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="https://pin-yi.me/en/pwa/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="https://pin-yi.me/en/pwa/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://pin-yi.me/en/pwa/" data-title="PWA(Progressive Web App) Introduction and actual installation"><i class="fab fa-line fa-fw"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://pin-yi.me/en/pwa/" data-title="PWA(Progressive Web App) Introduction and actual installation"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="Share on Skype" data-sharer="skype" data-url="https://pin-yi.me/en/pwa/" data-title="PWA(Progressive Web App) Introduction and actual installation"><i class="fab fa-skype fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/en/tcp-udp-difference/" class="prev" rel="prev" title="Differences between TCP and UDP"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/en/lofi-land/" class="next" rel="next" title="【自然圈豪華露營Lo fi Land】花好月圓人團圓VLOG">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div><div id="comments" class="single-card"><div id="disqus_thread"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://pin-yi.me">PinYi</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
</div>
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker
        .register('/sw.min.js?version=1.0.1', { scope: '/' })
        .then(() => {
            console.info('PinYi\u00A0Service Worker Registered');
        }, err => console.error('PinYi\u00A0Service Worker registration failed: ', err));

    navigator.serviceWorker
        .ready
        .then(() => {
            console.info('PinYi\u00A0Service Worker Ready');
        });
}
</script>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/css/lightgallery.min.css"><script src="https://pin-yi.disqus.com/embed.js" defer></script><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.0/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.1/sharer.min.js"></script><script>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":40},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"highlightTag":"em","lunrIndexURL":"/en/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body></html>
