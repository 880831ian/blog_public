<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Kubernetes (K8s) 介紹 - 基本 - PinYi</title><meta name="description" content="此文章是介紹 Kubernetes 以及如何建立第一個 Pod，文章內容大多參考其他網路大神，並加入自己了解的思路與語氣，文章純屬個人筆記性質，無營利之用途，參考資料也附在文章最後，有興趣的朋友也可以先去了解看看歐 😎"><meta property="og:title" content="Kubernetes (K8s) 介紹 - 基本" />
<meta property="og:description" content="此文章是介紹 Kubernetes 以及如何建立第一個 Pod，文章內容大多參考其他網路大神，並加入自己了解的思路與語氣，文章純屬個人筆記性質，無營利之用途，參考資料也附在文章最後，有興趣的朋友也可以先去了解看看歐 😎" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.pin-yi.me/k8s/" /><meta property="og:image" content="https://blog.pin-yi.me/k8s/featured-image.webp"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-28T18:17:00+08:00" />
<meta property="article:modified_time" content="2022-06-08T17:39:14+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://blog.pin-yi.me/k8s/featured-image.webp"/>
<meta name="twitter:title" content="Kubernetes (K8s) 介紹 - 基本"/>
<meta name="twitter:description" content="此文章是介紹 Kubernetes 以及如何建立第一個 Pod，文章內容大多參考其他網路大神，並加入自己了解的思路與語氣，文章純屬個人筆記性質，無營利之用途，參考資料也附在文章最後，有興趣的朋友也可以先去了解看看歐 😎"/>
<meta name="application-name" content="PinYi 小天地">
<meta name="apple-mobile-web-app-title" content="PinYi 小天地"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="icon" href="/images/avatar.webp"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://blog.pin-yi.me/k8s/" /><link rel="prev" href="https://blog.pin-yi.me/docker-compose-redis-sentinel-haproxy-efk/" /><link rel="next" href="https://blog.pin-yi.me/k8s-advanced/" /><link rel="stylesheet" href="/css/page.min.css"><link rel="stylesheet" href="/css/home.min.css">
        <link href="https://www.googletagmanager.com" rel="preconnect" crossorigin>
        <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Kubernetes (K8s) 介紹 - 基本",
        "inLanguage": "zh-tw",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/blog.pin-yi.me\/k8s\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/blog.pin-yi.me\/k8s\/featured-image.webp",
                            "width":  1280 ,
                            "height":  300 
                        }],"genre": "posts","keywords": "Kubernetes, K8s, Docker, 介紹, 實作","wordcount":  5093 ,
        "url": "https:\/\/blog.pin-yi.me\/k8s\/","datePublished": "2022-04-28T18:17:00+08:00","dateModified": "2022-06-08T17:39:14+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Zhuang,Pin-Yi","logo": "https:\/\/blog.pin-yi.me\/images\/avatar.webp"},"author": {
                "@type": "Person",
                "name": "PinYi"
            },"description": "此文章是介紹 Kubernetes 以及如何建立第一個 Pod，文章內容大多參考其他網路大神，並加入自己了解的思路與語氣，文章純屬個人筆記性質，無營利之用途，參考資料也附在文章最後，有興趣的朋友也可以先去了解看看歐 😎"
    }
    </script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EK8X0P9SDS"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-EK8X0P9SDS', { 'anonymize_ip': false });
}
</script>
</head><body data-header-desktop="fixed" data-header-mobile="fixed"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="PinYi">PinYi 小天地</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/categories/"> 分類 </a><a class="menu-item" href="/tags/"> 標籤 </a><a class="menu-item" href="/sideproject/"> 作品集 </a><a class="menu-item" href="/categories/youtube/"> YouTube 影片 </a><a class="menu-item" href="https://pin-yi.me" rel="noopener noreffer" target="_blank"> 關於我 </a><span class="menu-item delimiter"></span><span class="menu-item language" title="選擇語言">繁體中文<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/k8s/" selected>繁體中文</option></select>
                    </span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="請輸入要搜尋的標題或是內容" id="search-input-desktop">
                        <a href="#" class="search-button search-toggle" id="search-toggle-desktop" title="搜尋">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a class="menu-item" href="/index.xml" title="RSS"><i class="fas fa-rss fa-fw" title="RSS"></i> </a><a href="javascript:void(0);" class="menu-item theme-switch" title="切換主題">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="PinYi">PinYi 小天地</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="請輸入要搜尋的標題或是內容" id="search-input-mobile">
                        <a href="#" class="search-button search-toggle" id="search-toggle-mobile" title="搜尋">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="#" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="#" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/categories/" title="">分類</a><a class="menu-item" href="/tags/" title="">標籤</a><a class="menu-item" href="/sideproject/" title="">作品集</a><a class="menu-item" href="/categories/youtube/" title="">YouTube 影片</a><a class="menu-item" href="https://pin-yi.me" title="" rel="noopener noreffer" target="_blank">關於我</a><div class="menu-item"><a href="/index.xml" title="RSS"><i class="fas fa-rss fa-fw" title="RSS"></i> </a>
                <span>&nbsp;|&nbsp;</span><a href="javascript:void(0);" class="theme-switch" title="切換主題">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div><span class="menu-item language" title="選擇語言">繁體中文<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/k8s/" selected>繁體中文</option></select>
                </span></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目錄</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single" data-toc="enable"><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/k8s/featured-image.webp"
        data-srcset="/k8s/featured-image.webp, /k8s/featured-image.webp 1.5x, /k8s/featured-image.webp 2x"
        data-sizes="auto"
        alt="/k8s/featured-image.webp"
        title="此文章是介紹 Kubernetes 以及如何建立第一個 Pod，文章內容大多參考其他網路大神，並加入自己了解的思路與語氣，文章純屬個人筆記性質，無營利之用途，參考資料也附在文章最後，有興趣的朋友也可以先去了解看看歐 😎" /></div><div class="single-card" data-image="true"><h2 class="single-title animated flipInX">Kubernetes (K8s) 介紹 - 基本</h2><div class="post-meta">
                <div class="post-meta-line"><span class="post-author"><a href="https://pin-yi.me" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>PinYi</a></span>&nbsp;<span class="post-category">出版於  <a href="/categories/codenotes/"><i class="far fa-folder fa-fw"></i>程式筆記</a></span></div>
                <div class="post-meta-line"><span><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-04-28">2022-04-28</time></span>&nbsp;<span><i class="fas fa-pencil-alt fa-fw"></i>&nbsp;約 5093 字</span>&nbsp;
                    <span><i class="far fa-clock fa-fw"></i>&nbsp;預計閱讀 11 分鐘</span>&nbsp;</div>
            </div>
            
            <hr><div class="details toc" id="toc-static"  data-kept="">
                    <div class="details-summary toc-title">
                        <span>目錄</span>
                        <span><i class="details-icon fas fa-angle-right"></i></span>
                    </div>
                    <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#什麼是-kubernetes-k8s">什麼是 Kubernetes (K8s)?</a></li>
    <li><a href="#kubernetes-元件介紹與說明">Kubernetes 元件介紹與說明</a>
      <ul>
        <li><a href="#pod">Pod</a></li>
        <li><a href="#worker-node">Worker Node</a>
          <ul>
            <li><a href="#kubelet">kubelet</a></li>
            <li><a href="#kube-proxy">kube-proxy</a></li>
            <li><a href="#container-runtime">Container Runtime</a></li>
          </ul>
        </li>
        <li><a href="#master-node">Master Node</a>
          <ul>
            <li><a href="#kube-apiserver">kube-apiserver</a></li>
            <li><a href="#etcd">etcd</a></li>
            <li><a href="#kube-scheduler">kube-scheduler</a></li>
            <li><a href="#kube-controller-manager">kube-controller-manager</a></li>
          </ul>
        </li>
        <li><a href="#cluster">Cluster</a></li>
      </ul>
    </li>
    <li><a href="#基本運作">基本運作</a></li>
    <li><a href="#安裝-kubernetes">安裝 Kubernetes</a></li>
    <li><a href="#如何建立一個-pod">如何建立一個 Pod</a>
      <ul>
        <li><a href="#pod-yaml-檔案說明">Pod yaml 檔案說明</a></li>
        <li><a href="#使用-kubectl-建立-pod">使用 kubectl 建立 Pod</a></li>
        <li><a href="#連線到-pod-的服務">連線到 Pod 的服務</a></li>
      </ul>
    </li>
    <li><a href="#什麼是-label-">什麼是 Label ?</a></li>
    <li><a href="#什麼是-annotation-">什麼是 Annotation ?</a></li>
    <li><a href="#參考資料">參考資料</a></li>
  </ul>
</nav></div>
                </div><div class="content" id="content"><h2 id="什麼是-kubernetes-k8s">什麼是 Kubernetes (K8s)?</h2>
<p>Kubernetes 也可以叫 K8s，這個名稱來源希臘語，意思是舵手或是飛行員，所以我們可以看到它的 logo 是一個船舵的標誌，之所以叫 K8s 是因為 Kubernetes 的 k 到 s 中間有 8 的英文字母，為了方便，大家常以這個名稱來稱呼他！</p>
<br>
<figure><a class="lightgallery" href="/images/K8s/logo.jpg" title="/images/K8s/logo.jpg" data-thumbnail="/images/K8s/logo.jpg" data-sub-html="<h2>kubernetes logo</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/K8s/logo.jpg"
            data-srcset="/images/K8s/logo.jpg, /images/K8s/logo.jpg 1.5x, /images/K8s/logo.jpg 2x"
            data-sizes="auto"
            alt="/images/K8s/logo.jpg" width="200" />
    </a><figcaption class="image-caption">kubernetes logo</figcaption>
    </figure>
<br>
<p>Kubernetes 是一種開源可用來自動化部屬、擴展以及管理多個容器的系統，適用於當容器數量增加，需要穩定容器環境，以及管理資源或權限分配的狀況。</p>
<p>我們之前在 <a href="https://pin-yi.me/docker" target="_blank" rel="noopener noreffer">Docker 介紹</a> 文章中，已經有介紹以往傳統虛擬機以及容器化的 Docker 差異以及優點，那當我們在管理容器時，其中一個容器出現故障，則需要啟動另一個容器，如果要用手動，會十分麻煩，所以這時就是 Kubernetes 的厲害的地方了，Kubernetes 提供：</p>
<ul>
<li>服務發現和負載平衡：K8s 可以使用 DNS 名稱或是自己的 IP 位址來公開容器。如果容器流量過高，Kubernetes 能夠使用負載平衡和分配網路流量，能使部署更穩定。</li>
<li>編排儲存：Kubernetes 允許使用自動掛載來選擇儲存系統，例如使用本地儲存，或是公共雲等。</li>
<li>自動部署、刪除：可以使用 Kubernetes 來幫我們自動化部屬新的容器、刪除現有的容器並將其資源用於新容器。</li>
<li>自動打包：當我們為 Kubernetes 提供一個節點叢集，它可以用來運行容器化的任務，告訴 Kubernetes 每個容器需要多少 CPU 和 RAM。Kubernetes 可以將容器安裝到節點上，充分利用資源。</li>
<li>自動修復：Kubernetes 會重新啟動失敗的容器、替換容器、刪除不回應用戶的不健康容器，並且在容器準備好服務之前不會通知客戶端。</li>
<li>機密和配置管理：Kubernetes 允許儲存和管理敏感訊息，例如密碼、OAuth token 和 SSH 金鑰。可以部署和更新機密的應用程序配置。</li>
</ul>
<br>
<figure><a class="lightgallery" href="/images/K8s/flower.jpg" title="/images/K8s/flower.jpg" data-thumbnail="/images/K8s/flower.jpg" data-sub-html="<h2>kubernetes 官網</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/K8s/flower.jpg"
            data-srcset="/images/K8s/flower.jpg, /images/K8s/flower.jpg 1.5x, /images/K8s/flower.jpg 2x"
            data-sizes="auto"
            alt="/images/K8s/flower.jpg" width="600" />
    </a><figcaption class="image-caption"><a href="https://kubernetes.io/" target="_blank" rel="noopener noreffer">kubernetes 官網</a></figcaption>
    </figure>
<br>
<p>Kubernetes 很常被拿來與 Docker Swarm 做比較，兩者不同的是，Docker Swarm 必須建構在 Docker 的架構下，功能侷限、無法跳脫。</p>
<p>Kubernetes 則因為功能較為廣泛，而逐漸取代 Docker Swarm 在市場上的地位。下方有簡易的比較表格：</p>
<table>
<thead>
<tr>
<th style="text-align:center">比較</th>
<th style="text-align:center">Kubernetes</th>
<th style="text-align:center">Docker Swarm</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">說明</td>
<td style="text-align:center">Kubernetes 是一個開源容器的編排平台，Kubernetes 的叢集結構比 Docker Swarm 更為複雜。<br> Kubernetes 通常有建構器和工作節點，還可進一步分為 Pod、命名空間、配置映射等。</td>
<td style="text-align:center">Docker Swarm 是一個由 Docker 構建和維護的開源容器編排平台。<br>一個 Docker Swarm 叢集通常包含三個項目：Nodes、Services and tasks、Load balancers。</td>
</tr>
<tr>
<td style="text-align:center">優點</td>
<td style="text-align:center">它有龐大的開源社群，由 Google 支持。<br>它可以維持和管理大型架構和複雜的工作負載。<br>它是自動化，並支持自動化擴展的自我修護能力。<br>它有內建監控和廣泛的可用集成。</td>
<td style="text-align:center">Docker Swarm 安裝簡單，它輕量化且容易學習使用。<br>Docker Swarm 與 Docker CLI 一起運作，因此不需要多運行或是安裝新的 CLI</td>
</tr>
<tr>
<td style="text-align:center">缺點</td>
<td style="text-align:center">它複雜的安裝過程以及較難學習<br>它需要安裝單獨的 CLI 工具並且學習每一項功能</td>
<td style="text-align:center">它是輕量級且與 Docker API 相關聯，與 Kubernetes 相比，Docker Swarm 被限制很多功能，且自動化也沒有 Kubernetes 強大。</td>
</tr>
</tbody>
</table>
<br>
<h2 id="kubernetes-元件介紹與說明">Kubernetes 元件介紹與說明</h2>
<p>Kubernetes 是如何幫我們管理以及部署 Container ? 要了解 Kubernetes 如何運作，就要先了解它的元件以及架構：</p>
<p>那我們由小的往大的來做介紹：依序是 Pod、Worker Node、Master Node、Cluster</p>
<h3 id="pod">Pod</h3>
<p>Kubernetes 運作中最小的單位，一個 Pod 會對應到一個應用服務 (Application)，舉例來說一個 Pod 可能會對應到一個 NginxServer。</p>
<ul>
<li>每個 Pod 都有一個定義文件，也就是屬於這個 Pod 的 <code>yaml</code> 檔。</li>
<li>一個 Pod 裡面可以有一個或多個 Container，但一般情況一個 Pod 最好只有一個 Container。</li>
<li>同一個 Pod 中的 Containers 共享相同的資源以及網路，彼此透過 local port number 溝通。</li>
</ul>
<br>
<h3 id="worker-node">Worker Node</h3>
<p>Kubernetes 運作的最小硬體單位，一個 Worker Node (簡稱 Node) 對應到一台機器，可以是實體例如你的筆電、或是虛擬機例如 GCP 上的一台 Computer Engine。</p>
<p>每一個 Node 都有三個組件所組成：kubelet、kube-proxy、Container Runtime</p>
<h4 id="kubelet">kubelet</h4>
<p>該 Node 的管理員，負責管理該 Node 上的所有 Pods 的狀態並負責與 Master Node 溝通。</p>
<br>
<h4 id="kube-proxy">kube-proxy</h4>
<p>該 Node 的傳訊員，負責更新 Node 的 iptables，讓 Kubernetes 中不在該 Node 的其他物件可以得知該 Node 上的所有 Pods 的最新狀態。</p>
<br>
<h4 id="container-runtime">Container Runtime</h4>
<p>該 Node 真正負責容器執行的程式，K8s 預設是 <code>Docker</code>，但也支援其他 Runtime Engine，例如 Mirantis Container Runtime、CRI-O、containerd</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>常見誤解<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content">很多人認為 Kubernetes 是 <code>docker container</code> 的管理工具，包含我一開始也是這樣認為，但其實 Kubernetes 是用來管理容器化 (<code>containerized applications</code>) <strong>並不是專屬於 <code>docker</code></strong> 獨享，作為一個 <code>container orchestrator</code> 的角色，Kubernetes 希望<strong>能夠管理所有容器化</strong>的應用程式</div>
        </div>
    </div>
<br>
<h3 id="master-node">Master Node</h3>
<p>Kubernetes 運作的指揮中心，可以簡化看成一個特殊化的 Node 來負責管理所有其他的 Node。</p>
<p>一個 Master Node (簡稱 Master) 中有四個組件組成：kube-apiserver、etcd、kube-scheduler、kube-controller-manager</p>
<h4 id="kube-apiserver">kube-apiserver</h4>
<ul>
<li>管理整個 Kubernetes 所需 API 的接口 (Endpoint)，例如從 Command Line 下 kubectl 指令就會把指令送到這裡。</li>
<li>負責 Node 之間的構通橋樑，每個 Node 彼此不能直接溝通，必須要透過 apiserver 轉介。</li>
<li>負責 Kubernetes 中的請求的身份認證與授權。</li>
</ul>
<br>
<h4 id="etcd">etcd</h4>
<ul>
<li>etcd 是兼具一制性和高可用性的分散式鍵值數據庫，可以保存 Kubernetes 所有 Cluster 的後台數據庫。</li>
</ul>
<br>
<h4 id="kube-scheduler">kube-scheduler</h4>
<ul>
<li>整個 Kubernetes 的 Pods 調度員，scheduler 會監視新建立但還沒有被指定要跑在哪個 Node 上的 Pod ，並根據每個 Node 上面資源規定，硬體限制等條件去協調出一個最適合放置 Node 來讓該 Pod 運行。</li>
</ul>
<br>
<h4 id="kube-controller-manager">kube-controller-manager</h4>
<ul>
<li>負責管理並運行 Kubernetes controller 的組件，簡單來說 controller 就是 Kubernetes 裡一個負責監視 Cluster 狀態的 Process，例如：Node Controller、Replication Controller。</li>
<li>這些 Process 會在 Cluster 與預期狀態 (desire state) 不符時嘗試更新現有狀態 (current state)。例如：現在要多開一台機器以應付突然增加的流量，那我的預期狀態就會更新成 N+1，現有狀態是 N，這時相對應的 controller 就會想辦法多開一台機器。</li>
<li>controller-manager 的監視與嘗試更新也都需要透過訪問 kube-apiserver 達成。</li>
</ul>
<br>
<h3 id="cluster">Cluster</h3>
<p>Cluster 也叫叢集，可以管理眾多機器的存在，在一般的系統架設中我們不會只有一台機器而已，通常都是多個機器一起運行同一種內容，在沒有 Kubernetes 的時候就必須要土法煉鋼的一台一台機器去更新，但有了 Kubernetes 我們就可以透過 Cluster 進行控管，只要更新 Master 旗下的機器，也會一併將更新的內容放上去，十分方便。在 Kubernetes 中多個 Worker Node 與 Master Node 的集合。</p>
<br>
<h2 id="基本運作">基本運作</h2>
<figure><a class="lightgallery" href="/images/K8s/k8s.jpg" title="/images/K8s/k8s.jpg" data-thumbnail="/images/K8s/k8s.jpg" data-sub-html="<h2>kubernetes 組件 Kubernetes 基礎教學（一）原理介紹</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/K8s/k8s.jpg"
            data-srcset="/images/K8s/k8s.jpg, /images/K8s/k8s.jpg 1.5x, /images/K8s/k8s.jpg 2x"
            data-sizes="auto"
            alt="/images/K8s/k8s.jpg" width="600" />
    </a><figcaption class="image-caption">kubernetes 組件 <a href="https://cwhu.medium.com/kubernetes-basic-concept-tutorial-e033e3504ec0" target="_blank" rel="noopener noreffer">Kubernetes 基礎教學（一）原理介紹</a></figcaption>
    </figure>
<p>接下來我們用 「Kuberntes 是如何建立一個 Pod ？」來複習一下整個 Kubernetes 的架構。</p>
<p>(上圖是一個簡易的 Kubernetes Cluster ，通常 Cluster 為了高穩定性都會有多個 Master 作為備援，但為了簡化我們只顯示一個。)</p>
<ol>
<li>當使用者要部署一個新的 Pod 到 Kubernetes Cluster 時，使用者要先透過 User Command (kubectl) 輸入建立 Pod 對應的指令 (後面會說明要如何實際的動手建立一個 Pod)。此時指令會經過一層確認使用者身份後，傳遞到 Master Node 中的 API Server，API Server 會把指令備份到 etcd。</li>
<li>controller-manager 會從 API Server 收到需要創建一個新的 Pod 的訊息，並檢查如果資源許可，就會建立一個新的 Pod。最後 Scheduler 在定期訪問 API Server 時，會詢問 controller-manager 是否有建置新的 Pod，如果發現新建立的 Pod 時，Scheduler 就會負責把 Pod 配送到最適合的 Node 上面。</li>
</ol>
<p>雖然上面基本的運作看起來十分複雜，但其實我們在實際操作時，只是需入一行指令後，剩下的都是 Kubernetes 會自動幫我們完成後續的動作。</p>
<h2 id="安裝-kubernetes">安裝 Kubernetes</h2>
<p>在我們開始操作 Kubernetes 之前，需要先下載 Minikube、Hyperkit、Kubectl 套件：</p>
<ul>
<li><a href="https://minikube.sigs.k8s.io/docs/start/" target="_blank" rel="noopener noreffer">Minikube</a></li>
</ul>
<p>一個 Google 發佈的輕量級工具，讓開發者可以輕鬆體驗一個 Kubernetes Cluster。<font color='red'>(僅限開發測試環境)</font></p>
<br>
<figure><a class="lightgallery" href="/images/K8s/minikube.png" title="/images/K8s/minikube.png" data-thumbnail="/images/K8s/minikube.png" data-sub-html="<h2>安裝 minikube</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/K8s/minikube.png"
            data-srcset="/images/K8s/minikube.png, /images/K8s/minikube.png 1.5x, /images/K8s/minikube.png 2x"
            data-sizes="auto"
            alt="/images/K8s/minikube.png" width="900" />
    </a><figcaption class="image-caption">安裝 minikube</figcaption>
    </figure>
<br>
<ul>
<li>(Mac專用) <a href="https://minikube.sigs.k8s.io/docs/drivers/hyperkit/" target="_blank" rel="noopener noreffer">Hyperkit</a></li>
</ul>
<p>Hyperkit 是 MacOS 系統細部設定的驅動程式。</p>
<br>
<figure><a class="lightgallery" href="/images/K8s/hyperkit.png" title="/images/K8s/hyperkit.png" data-thumbnail="/images/K8s/hyperkit.png" data-sub-html="<h2>安裝 Hyperkit</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/K8s/hyperkit.png"
            data-srcset="/images/K8s/hyperkit.png, /images/K8s/hyperkit.png 1.5x, /images/K8s/hyperkit.png 2x"
            data-sizes="auto"
            alt="/images/K8s/hyperkit.png" width="900" />
    </a><figcaption class="image-caption">安裝 Hyperkit</figcaption>
    </figure>
<br>
<ul>
<li><a href="https://kubernetes.io/docs/tasks/tools/" target="_blank" rel="noopener noreffer">Kubectl</a></li>
</ul>
<p>Kubectl 是 Kubernetes 的 Command Line 工具，我們之後會透過 Kubectl 去操作我們的 Kubernetes Cluster。</p>
<br>
<figure><a class="lightgallery" href="/images/K8s/kubectl.png" title="/images/K8s/kubectl.png" data-thumbnail="/images/K8s/kubectl.png" data-sub-html="<h2>安裝 kubectl</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/K8s/kubectl.png"
            data-srcset="/images/K8s/kubectl.png, /images/K8s/kubectl.png 1.5x, /images/K8s/kubectl.png 2x"
            data-sizes="auto"
            alt="/images/K8s/kubectl.png" width="800" />
    </a><figcaption class="image-caption">安裝 kubectl</figcaption>
    </figure>
<br>
<h2 id="如何建立一個-pod">如何建立一個 Pod</h2>
<p>版本資訊</p>
<ul>
<li>Minikube：v1.25.2</li>
<li>hyperkit：0.20200908</li>
<li>Kubectl：Client Version：v1.22.5、Server Version：v1.23.3</li>
</ul>
<p>下載完 Minikube 後，我們可以先透過 <code>Minikube</code> 來查詢全部的指令，由於我們前面有安裝 Hyperkit 這個驅動程式，啟動 Minikube 預設是使用 Docker，我們這邊要利用 Hyperkit 來啟動，所以使用 <code>Minikube  start --vm-driver=hyperkit</code> 來啟動 Minikube。</p>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Minikube 其他指令介紹<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>顯示 minikube 狀態 <code>minikube status</code></p>
<p>停止 minikube 運行 <code>minikube stop</code></p>
<p>ssh 進入 minikube 中 <code>minikube ssh</code></p>
<p>查詢 minikube 對外的 ip  <code>minikube ip</code></p>
<p>使用 minikube 所提供的瀏覽器 GUI  <code>minikube dashboard </code> (可以加 - - url 看網址歐)</p>
</div>
        </div>
    </div>
<p>我們啟動 minikube 後，我們要打做一個可以在 Pod 運行的小程式。這個小程式是一個 Node.js 的 Web 程式，他會建立一個 Server 來監聽 3000 Port，收到 request 進來後會渲染 <code>index.html</code> 這個檔案，這個檔案裡面會有一隻可愛的小柴犬。</p>
<p>因為本文章是在介紹 kubernetes 所以在程式部分就不多做說明，我把程式碼放在 <a href="https://github.com/880831ian/kubernetes-demo" target="_blank" rel="noopener noreffer">Github</a>，以及附上 <a href="https://hub.docker.com/repository/docker/880831ian/kubernetes-demo" target="_blank" rel="noopener noreffer">Dockerhub 的 Repository</a> 可以直接使用包好的 image 來做測試！</p>
<br>
<h3 id="pod-yaml-檔案說明">Pod yaml 檔案說明</h3>
<p>接下來我們要先撰寫一個 Pod 的定義文件 (.yaml) 檔，這個 <code>.yaml</code> 檔就可以建立出 Pod 了！</p>
<ul>
<li>kubernetes-demo.yaml (程式縮排要正確，不然會無法執行歐！)</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Pod</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">kubernetes-demo-pod</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">demo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">containers</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">kubernetes-demo-container</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">880831ian/kubernetes-demo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="m">3000</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>apiVersion</p>
<p>該元件的版本號，必須依照 Server 上 K8s 版本來做設定 (想要知道k8s 版本，可以使用 <code>kubectl version</code> 指令來查詢，會顯示 client 跟 server 的版本訊息，client 代表 kubectl 版本訊息，server 代表的是 master node 的 k8s 版本訊息)，目前 k8s 都使用 1.23 版本以上，所以 <code>apiVersion</code> 直接寫 <code>v1</code> 即可。</p>
<br>
<p>kind</p>
<p>該元件的屬性，用來決定此設定檔的類型，常見的有 <code>Pod</code>、<code>Node</code>、<code>Service</code>、<code>Namespace</code>、<code>ReplicationController</code> 等等</p>
<br>
<p>metadata</p>
<p>用來擺放描述性資料的地方，像是 Pod 名稱或是標籤等等都會放在此處。</p>
<ul>
<li>name：指定該 Pod 的名稱</li>
<li>labels：指定該 Pod 的標籤</li>
</ul>
<br>
<p>spec</p>
<p>用來描述物件生成的細節，像是 Pod 內其實是跑 Dokcer container，所以在 Pod 的 spec 內就會描述 container 的細節。</p>
<ul>
<li>container.name：指定運行的 Container 的名稱</li>
<li>container.image：指定 Container 要使用哪個 Image，這裡會從 DockerHub 上搜尋</li>
<li>container.ports：指定該 Container 有哪些 Port number 是允許外部存取的</li>
</ul>
<br>
<h3 id="使用-kubectl-建立-pod">使用 kubectl 建立 Pod</h3>
<p>當我們有了定義文件後，我們就可以使用 kubectl 的指令來建立 Pod</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">kubectl create -f kubernetes-demo.yaml
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">kubectl apply -f kubernetes-demo.yaml
</span></span></code></pre></td></tr></table>
</div>
</div><br>
<p>可以使用 <code>create</code> or <code>apply</code> 來建立 Pod ，那這兩個的差異是什麼呢？</p>
<ul>
<li>kubectl create</li>
</ul>
<ol>
<li>
<p><code>kubectl create</code> 是所謂的 &ldquo;命令式管理&rdquo; (<code>Imperative Management</code>)。通過這種方式，可以告訴 Kubernets API 你要建立、更新、刪除的內容。</p>
</li>
<li>
<p><code>kubectl create</code> 命令是先刪除所有現有的東西，重新根據 YAML 文件生成新的 Pod。所以要求 YAML 文件中的配置必須完整。</p>
</li>
<li>
<p><code>kubectl create</code> 命令，使用同一個 YAML 文件重複建立會失敗。</p>
</li>
</ol>
<br>
<ul>
<li>kubectl apply</li>
</ul>
<ol>
<li>
<p><code>kubectl apply</code> 是 &ldquo;聲明式管理&rdquo; (<code>Declarative Management</code>)方法的一部分。在該方法中，即使對目標用了其他更新，也可以保持你對目標應用的更新。</p>
</li>
<li>
<p><code>kubectl apply</code> 命令，根據配置文件裡面出來的內容，生成就有的。所以 YAML 文件的內容可以只寫需要升級的欄位。</p>
</li>
</ol>
<br>
<p>如果看到 <code>pod/kubernetes-demo-pod created</code> 就代表我們成功建立第一個 Pod 了，接下來我們可以使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">kubectl get pods
</span></span></code></pre></td></tr></table>
</div>
</div><p>可以查看我們運行中的 Pod：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">NAME                  READY   STATUS    RESTARTS   AGE
</span></span><span class="line"><span class="cl">kubernetes-demo-pod   1/1     Running   <span class="m">0</span>          3m5s
</span></span></code></pre></td></tr></table>
</div>
</div><br>
<div class="details admonition tip open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-lightbulb fa-fw"></i>Pod 指令介紹<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><p>查詢現有 Pod 狀態 <code>kubectl get po/pod/pods</code></p>
<p>查看該 Pod 詳細資訊 <code>kubectl describe pods &lt;pod-name&gt;</code></p>
<p>刪除 Pod <code>kubectl delete pods</code></p>
<p>查看 Pod log <code>kubectl logs &lt;pod-name&gt;</code></p>
</div>
        </div>
    </div>
<br>
<p>也可以使用 minikube 圖形化頁面來看一下是否成功！</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">minikube dashboard --url
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">🤔  Verifying dashboard health ...
</span></span><span class="line"><span class="cl">🚀  Launching proxy ...
</span></span><span class="line"><span class="cl">🤔  Verifying proxy health ...
</span></span><span class="line"><span class="cl">http://127.0.0.1:55991/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/
</span></span></code></pre></td></tr></table>
</div>
</div><br>
<figure><a class="lightgallery" href="/images/K8s/minikube-k8s.png" title="/images/K8s/minikube-k8s.png" data-thumbnail="/images/K8s/minikube-k8s.png" data-sub-html="<h2>minikube dashboard</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/K8s/minikube-k8s.png"
            data-srcset="/images/K8s/minikube-k8s.png, /images/K8s/minikube-k8s.png 1.5x, /images/K8s/minikube-k8s.png 2x"
            data-sizes="auto"
            alt="/images/K8s/minikube-k8s.png" width="1000" />
    </a><figcaption class="image-caption">minikube dashboard</figcaption>
    </figure>
<br>
<h3 id="連線到-pod-的服務">連線到 Pod 的服務</h3>
<p>當我們建立好 Pod 之後，打開瀏覽器 <code>localhost:3000</code> 會發現，什麼都沒有，是因為我們剛剛在 <code>.yaml</code> 裡面設定的是 Pod 的 Port ，它與本機的 Port 是不相通的，因此我們需要使用 <code>kubectl port-forward &lt;pod&gt; &lt;external-port&gt;:&lt;pod-port&gt;</code> ，來將 Pod 與本機端做 mapping。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">kubectl port-forward kubernetes-demo-pod 3000:3000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Forwarding from 127.0.0.1:3000 -&gt; <span class="m">3000</span>
</span></span><span class="line"><span class="cl">Forwarding from <span class="o">[</span>::1<span class="o">]</span>:3000 -&gt; <span class="m">3000</span>
</span></span><span class="line"><span class="cl">Handling connection <span class="k">for</span> <span class="m">3000</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>我們在此瀏覽 <code>localhost:3000</code>，就會看到可愛的柴犬囉！</p>
<br>
<figure><a class="lightgallery" href="/images/K8s/Shiba-Inu.png" title="/images/K8s/Shiba-Inu.png" data-thumbnail="/images/K8s/Shiba-Inu.png" data-sub-html="<h2>成功顯示柴犬</h2>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/K8s/Shiba-Inu.png"
            data-srcset="/images/K8s/Shiba-Inu.png, /images/K8s/Shiba-Inu.png 1.5x, /images/K8s/Shiba-Inu.png 2x"
            data-sizes="auto"
            alt="/images/K8s/Shiba-Inu.png" width="900" />
    </a><figcaption class="image-caption">成功顯示柴犬</figcaption>
    </figure>
<br>
<p>前面我們已經創建屬於我們第一個 Pod 了，但當我們 Pod 越建越多時，要怎麼快速的得知每個 Pod 在做什麼事情？除了用 Pod 的 metadata name 來命名外，還有另一種方式：</p>
<h2 id="什麼是-label-">什麼是 Label ?</h2>
<p>Label 顧名思義就是標籤，可以為每一個 Pod 貼上標籤，讓 Kubernetes 更方便的管控這些 Pod。</p>
<p>Label 的寫法很簡單，可以自己自訂一對具有辨識度的 key/value，舉我們上面的例子來說：我們可以在 labels 內加入 <code>app: demo</code>，那 Label 有什麼好處呢?</p>
<p>這邊要稍微提一下 <code>Selector</code>，它的功用是選取對應的物件。為了要方便選取到我們設定好的 Pod，這時候 Label 就派上用場了！</p>
<p><code>Selector</code> 的寫法也很簡單，只要把我們在 Label 定義的 key/value 直接完整的貼過來就可以了～</p>
<br>
<p>就像這樣：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">selectors</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">demo</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>那選取後有什麼功用呢！請看 <a href="https://pin-yi.me/k8s-advanced/#%E4%BB%80%E9%BA%BC%E6%98%AF-service-" target="_blank" rel="noopener noreffer">Kubernetes - 進階 - Service</a></p>
<br>
<p>講完 Label 後，順邊提一下跟 Label 有相似的：</p>
<h2 id="什麼是-annotation-">什麼是 Annotation ?</h2>
<p>前面提到的 Label 功用其目的是要讓 Kubernetes 知道可以去更方便管理的，那我們如果想要貼標籤但不想讓 Kubernetes 知道，要怎麼做呢？</p>
<p>這時我們就可以用 <code>Annotation</code>，透過 <code>Annotation</code> 可以將標籤單純給開發人員查看，那聽起來 <code>Annotation</code> 好像沒有什麼實質上的用途，因為 Kubernetes 不會採用這些標籤，但其實 <code>Annotation</code> 還是有用的歐！後續文章會再提到 &gt;&lt;</p>
<br>
<p>那既然 Label 跟 Annotation 有相似，所以寫法想必也是差不多吧：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">annotations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="l">Pin-YI</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">contact</span><span class="p">:</span><span class="w"> </span><span class="l">880831ian@gmail.com</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>一樣也是定義一組具有辨識度的 key/value ，我們這邊就先放 author、contact</p>
<br>
<p>那 Label 與 Annotation 要放在 Pod 的哪一處呢？</p>
<p>還記得我們上面說 <code>metadata</code> 是用來擺描述性資料的地方嗎，所以不管是 Label 或是 Annotation 都是放在 <code>metadata</code> 中歐！</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">kubernetes-demo-pod</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">demo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">annotations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="l">Pin-YI</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">contact</span><span class="p">:</span><span class="w"> </span><span class="l">880831ian@gmail.com</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><br>
<h2 id="參考資料">參考資料</h2>
<p><a href="https://kubernetes.io/" target="_blank" rel="noopener noreffer">kubernetes 官網</a></p>
<p><a href="https://www.sysage.com.tw/news/technology/293" target="_blank" rel="noopener noreffer">Kubernetes（K8s）是什麼？基礎介紹+3大優點解析</a></p>
<p><a href="https://circleci.com/blog/docker-swarm-vs-kubernetes/" target="_blank" rel="noopener noreffer">Docker Swarm vs Kubernetes: how to choose a container orchestration tool</a></p>
<p><a href="https://cwhu.medium.com/kubernetes-basic-concept-tutorial-e033e3504ec0" target="_blank" rel="noopener noreffer">Kubernetes 基礎教學（一）原理介紹</a></p>
<p><a href="https://medium.com/andy-blog/kubernetes%E9%82%A3%E4%BA%9B%E4%BA%8B-%E5%9F%BA%E7%A4%8E%E8%A7%80%E5%BF%B5%E8%88%87%E6%93%8D%E4%BD%9C-97cc203a2660" target="_blank" rel="noopener noreffer">Kubernetes那些事 — 基礎觀念與操作</a></p>
<p><a href="https://medium.com/andy-blog/kubernetes-%E9%82%A3%E4%BA%9B%E4%BA%8B-pod-%E7%AF%87-57475cec22f3" target="_blank" rel="noopener noreffer">Kubernetes 那些事 — Pod 篇</a></p>
<p><a href="https://medium.com/andy-blog/kubernetes-%E9%82%A3%E4%BA%9B%E4%BA%8B-label-%E7%AF%87-4186af2af556" target="_blank" rel="noopener noreffer">Kubernetes 那些事 — Label 篇</a></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info"><div class="post-info-tag"><span><a href="/tags/kubernetes/">Kubernetes</a>
                </span><span><a href="/tags/k8s/">K8s</a>
                </span><span><a href="/tags/docker/">Docker</a>
                </span><span><a href="/tags/%E4%BB%8B%E7%B4%B9/">介紹</a>
                </span><span><a href="/tags/%E5%AF%A6%E4%BD%9C/">實作</a>
                </span></div><div class="post-info-line"><div class="post-info-mod">
                <span>更新於 2022-06-08&nbsp;<a class="git-hash" href="https://github.com/880831ian/blog/commit/3af50b9de7264fb9a974ecf9a815c137c0117a89" target="_blank" title="committed&nbsp;by&nbsp;ian_zhuang(880831ian@gmail.com)&nbsp;3af50b9:&nbsp;# 更新 Kubernetes (K8s) 介紹 - 基本">
                            <i class="fas fa-hashtag fa-fw"></i>3af50b9</a></span>
            </div><div class="post-info-mod"><span>
                            <a class="link-to-markdown" href="/k8s/index.md" target="_blank">閱讀原始文檔</a>
                        </span><span>
                        &nbsp;|&nbsp;
                        <a class="link-to-markdown" href="https://github.com/880831ian/blog/tree/main/content/posts/K8s/index.zh-tw.md" target="_blank">Improve Article</a>
                    </span></div>
        </div><div class="post-info-share">
            <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://blog.pin-yi.me/k8s/" data-title="Kubernetes (K8s) 介紹 - 基本" data-hashtags="Kubernetes,K8s,Docker,介紹,實作"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://blog.pin-yi.me/k8s/" data-hashtag="Kubernetes"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Linkedin" data-sharer="linkedin" data-url="https://blog.pin-yi.me/k8s/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Reddit" data-sharer="reddit" data-url="https://blog.pin-yi.me/k8s/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://blog.pin-yi.me/k8s/" data-title="Kubernetes (K8s) 介紹 - 基本"><i class="fab fa-line fa-fw"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://blog.pin-yi.me/k8s/" data-title="Kubernetes (K8s) 介紹 - 基本"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Skype" data-sharer="skype" data-url="https://blog.pin-yi.me/k8s/" data-title="Kubernetes (K8s) 介紹 - 基本"><i class="fab fa-skype fa-fw"></i></a></span>
        </div></div><div class="post-nav"><a href="/docker-compose-redis-sentinel-haproxy-efk/" class="prev" rel="prev" title="用 EFK 收集容器日誌 (HAProxy、Redis Sentinel、Docker-compose)"><i class="fas fa-angle-left fa-fw"></i>Previous Post</a>
            <a href="/k8s-advanced/" class="next" rel="next" title="Kubernetes (K8s) 介紹 - 進階 (Service、Ingress、StatefulSet、Deployment、ReplicaSet、ConfigMap)">Next Post<i class="fas fa-angle-right fa-fw"></i></a></div></div>
</div><div id="comments" class="single-card"><div id="disqus_thread"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main>
            <footer class="footer"><div class="footer-container"><div class="footer-line">此 Blog 多數程式文章都是參考網路大神，加上自己的見解與實作內容編寫而成的筆記，若有侵權，請聯繫我。</div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://pin-yi.me">PinYi</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
</div>
<script>
if ('serviceWorker' in navigator) {
    navigator.serviceWorker
        .register('/sw.min.js?version=1.0.1', { scope: '/' })
        .then(() => {
            console.info('PinYi\u00A0Service Worker Registered');
        }, err => console.error('PinYi\u00A0Service Worker registration failed: ', err));

    navigator.serviceWorker
        .ready
        .then(() => {
            console.info('PinYi\u00A0Service Worker Ready');
        });
}
</script>
</footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到頂部">
                <i class="fas fa-chevron-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看評論">
                <i class="fas fa-comment-alt fa-fw"></i>
            </a></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/css/lightgallery.min.css"><script src="https://pin-yi.disqus.com/embed.js" defer></script><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.0/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script src="/lib/lunr/lunr.stemmer.support.min.js"></script><script src="/lib/lunr/lunr.zh.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.4.1-beta.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.3.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.1/sharer.min.js"></script><script>window.config={"code":{"copyTitle":"複製到剪貼板","maxShownLines":120},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"找不到你輸入的資料🥲","snippetLength":50,"type":"lunr"}};</script><script src="/js/theme.min.js"></script></body></html>
